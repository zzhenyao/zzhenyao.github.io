<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</title>
    <url>/2024/04/24/12-18-34/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2024/04/23/11-01-00/" title="00-æ·±åº¦å­¦ä¹ é¢„å‘Š">00-é¢„å‘Š</a></li>
<li><a href="/2024/04/23/11-01-01/" title="01-æ·±åº¦å­¦ä¹ è¯¾ç¨‹å®‰æ’">01-è¯¾ç¨‹å®‰æ’</a></li>
<li><a href="/2024/04/23/11-01-02/" title="02-æ·±åº¦å­¦ä¹ ä»‹ç»">02-æ·±åº¦å­¦ä¹ ä»‹ç»</a></li>
<li><a href="/2024/04/23/11-01-03/" title="03-æ·±åº¦å­¦ä¹ å®‰è£…">03-å®‰è£…</a></li>
<li><a href="/2024/04/23/11-01-04/" title="04-æ•°æ®è¯»å–å’Œæ“ä½œ">04-æ•°æ®è¯»å–å’Œæ“ä½œ</a></li>
<li><a href="/2024/04/23/11-01-05/" title="05-çº¿æ€§ä»£æ•°">05-çº¿æ€§ä»£æ•°</a></li>
<li><a href="/2024/04/23/11-01-06/" title="06-çŸ©é˜µè®¡ç®—">06-çŸ©é˜µè®¡ç®—</a></li>
<li><a href="/2024/04/23/11-01-07/" title="07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼">07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼</a></li>
<li><a href="/2024/04/23/11-01-08/" title="08-çº¿æ€§å›å½’+åŸºç¡€ä¼˜åŒ–ç®—æ³•">08-çº¿æ€§å›å½’+åŸºç¡€ä¼˜åŒ–ç®—æ³•</a></li>
<li><a href="/2024/04/23/11-01-09/" title="09-softmaxå›å½’">09-softmaxå›å½’</a></li>
<li><a href="/2024/04/23/11-01-10/" title="10-å¤šå±‚æ„ŸçŸ¥æœº">10-å¤šå±‚æ„ŸçŸ¥æœº</a></li>
<li><a href="/2024/04/23/11-01-11/" title="11-æ¨¡å‹é€‰æ‹©+è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ">11-æ¨¡å‹é€‰æ‹©+è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ</a></li>
<li><a href="/2024/04/23/11-01-12/" title="12 æƒé‡è¡°é€€ Weight Decay">12-æƒé‡è¡°é€€</a></li>
<li><a href="/2024/04/23/11-01-13/" title="13-ä¸¢å¼ƒæ³•">13-ä¸¢å¼ƒæ³•</a></li>
<li><a href="/2024/04/23/11-01-14/" title="14-æ•°å€¼ç¨³å®šæ€§+æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°">14-æ•°å€¼ç¨³å®šæ€§</a></li>
<li><a href="/2024/04/23/11-01-15/" title="15-å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·">15-å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·</a>
</li>
</ul>
<blockquote>
<p>æš‚åœï¼Œå¼€å§‹è¯»è®ºæ–‡</p>
</blockquote>
<h1 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h1><p><strong>d2lå®˜ç½‘</strong>ï¼š<a href="https://zh-v2.d2l.ai/index.html">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </a><br><strong>ç¬”è®°æ¥æº</strong>ï¼š<a href="https://github.com/MLNLP-World/DeepLearning-MuLi-Notes/tree/main">DeepLearning-MuLi-Notes</a><br><strong>å°åœŸå †ç¬”è®°</strong>ï¼š<a href="https://github.com/AccumulateMore/CV/tree/main">å«è¯¾ç¨‹ä»£ç æ³¨é‡Š</a></p>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul>
<li><code>!pip install git+https://github.com/d2l-ai/d2l-zh@release  # installing d2l</code>ä¸‹è½½è¾ƒæ…¢ï¼Œä½¿ç”¨<code>!pip install d2l==1.0.3</code>ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œ-ResNet</title>
    <url>/2024/10/08/15-15-24/</url>
    <content><![CDATA[<h1 id="å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œ"></a>å·ç§¯ç¥ç»ç½‘ç»œ</h1><h2 id="å·ç§¯å±‚å‰å‘ä¼ æ’­"><a href="#å·ç§¯å±‚å‰å‘ä¼ æ’­" class="headerlink" title="å·ç§¯å±‚å‰å‘ä¼ æ’­"></a>å·ç§¯å±‚å‰å‘ä¼ æ’­</h2><p><img src="/2024/10/08/15-15-24/convolution-mlp-mapping.png" alt></p>
<h3 id="æ¢¯åº¦åå‘ä¼ æ’­çš„å·ç§¯"><a href="#æ¢¯åº¦åå‘ä¼ æ’­çš„å·ç§¯" class="headerlink" title="æ¢¯åº¦åå‘ä¼ æ’­çš„å·ç§¯"></a>æ¢¯åº¦åå‘ä¼ æ’­çš„å·ç§¯</h3><p><img src="/2024/10/08/15-15-24/cnn_gradient_finger.png" alt=" "></p>
<p><img src="/2024/10/08/15-15-24/konwolucja.png" alt></p>
<p>åå‘ä¼ æ’­ä½¿ç”¨äº†è¿™ç§å·ç§¯æ“ä½œï¼Œå°†æƒå€¼çŸ©é˜µæ—‹è½¬180åº¦ï¼Œè€Œæ¢¯åº¦çŸ©é˜µä¼šè¿›è¡Œå¡«å……ä¸ºï¼š</p>
<p>$\left.\left[\begin{array}{llll}\mathbf{0}&amp;\mathbf{0}&amp;\mathbf{0}&amp;\mathbf{0}\\\mathbf{0}&amp;\delta_{11}^l&amp;\delta_{12}^l&amp;\mathbf{0}\\\mathbf{0}&amp;\delta_{21}^l&amp;\delta_{22}^l&amp;\mathbf{0}\\\mathbf{0}&amp;\mathbf{0}&amp;\mathbf{0}&amp;\mathbf{0}\end{array}\right.\right]$</p>
<p>ä¸‹å›¾æ˜¯åå‘ä¼ æ’­çš„æ›´æ–°æ¢¯åº¦ï¼Œ(å›¾ç‰‡æ²¡æœ‰å¡«å……)ï¼š</p>
<p><img src="/2024/10/08/15-15-24/screenshot-from-2016-04-17-212043.png" alt></p>
<p>å·ç§¯å°†å·ç§¯æ ¸æ—‹è½¬180åº¦ï¼Œç„¶åè¿›è¡Œäº’ç›¸å…³æ“ä½œã€‚</p>
<h3 id="äºŒç»´å·ç§¯å…¬å¼"><a href="#äºŒç»´å·ç§¯å…¬å¼" class="headerlink" title="äºŒç»´å·ç§¯å…¬å¼"></a>äºŒç»´å·ç§¯å…¬å¼</h3><p>æ·±åº¦å­¦ä¹ ä¸­çš„å·ç§¯æ˜¯å…ˆæ—‹è½¬180åº¦ï¼Œç„¶åäº’ç›¸å…³æ“ä½œã€‚</p>
<p>å‰é¦ˆç¥ç»ç½‘ç»œä¸­ï¼šç¥ç»å…ƒ$j$çš„è¯¯å·®å®šä¹‰ä¸ºï¼š</p>
<p>$\delta_j^l=\frac{\partial C}{\partial z_j^l}$</p>
<p>å…¶ä¸­ï¼š$z_j^l=\sum_kw_{kj}^la_k^{l-1}+b_k^l$</p>
<p>$a_j^l=\sigma(z_j^l)$ï¼Œæ¿€æ´»å‡½æ•°</p>
<p>å…¶ä¸­$w_{kj}^l$:æ˜¯ç¬¬$l-1$ä¸$l$å±‚ä¹‹é—´çš„è¾“å…¥$k$èŠ‚ç‚¹ä¸è¾“å‡º$j$èŠ‚ç‚¹çš„æƒé‡ï¼Œ</p>
<p>å¯¹äºCNNï¼š</p>
<p>å‰å‘ä¼ æ’­å…¬å¼ä¸ºï¼š</p>
<p>$<br>\begin{aligned}<br>z_{x,y}^{l+1} = w^{l+1}*\sigma(z_{x,y}^l)+b_{x,y}^{l+1} = \sum_{a}\sum_{b}w_{a,b}^{l+1}\sigma(z_{x-a,y-b}^l) +b_{x,y}^{l+1}<br>\end{aligned}<br>$</p>
<p>å…¶ä¸­$z_{x-a,y-b}^l$ï¼šç›¸å½“äºå¯¹æ ¸ç¿»è½¬ã€‚</p>
<p>å®šä¹‰è¯¯å·®æ¢¯åº¦ï¼š</p>
<p>$\begin{aligned}\delta_{x,y}^l=\frac{\partial C}{\partial z_{x,y}^l}=\sum_{x^{\prime}}\sum_{y^{\prime}}\frac{\partial C}{\partial z_{x^{\prime},y^{\prime}}^{l+1}}\frac{\partial z_{x^{\prime},y^{\prime}}^{l+1}}{\partial z_{x,y}^l}\end{aligned}$</p>
<blockquote>
<p>å…¶ä¸­$x^{\prime},y^{\prime}$ï¼Œå–å†³äºå‰å‘ä¼ æ’­å·ç§¯çš„ç¤ºæ„å›¾ä¸­ï¼Œ$l$å±‚æ¯ä¸ªèŠ‚ç‚¹$x,y$ï¼Œå½±å“çš„$l+1$å±‚çš„$x^{\prime},y^{\prime}$ä¸åŒã€‚</p>
</blockquote>
<p>å°†å‰å‘ä¼ æ’­å¸¦å…¥å…¬å¼ï¼š</p>
<p>$\begin{aligned}<br>\frac{\partial C}{\partial z_{x,y}^l} &amp; =\sum_{x^{\prime}}\sum_{y^{\prime}}\frac{\partial C}{\partial z_{x^{\prime},y^{\prime}}^{l+1}}\frac{\partial z_{x^{\prime},y^{\prime}}^{l+1}}{\partial z_{x,y}^{l}} \\<br>&amp;=\sum_{x^{\prime} }\sum_{y^{\prime}}\delta_{x^{\prime},y^{\prime} }^{l+1}\frac{\partial(\displaystyle\sum_{a}\displaystyle\sum_{b}w_{a,b}^{l+1}\sigma(z_{x^{\prime}-a,y^{\prime}-b}^{l})+b_{x^{\prime},y^{\prime}}^{l+1}) }{\partial z_{x,y}^{l}}<br>\end{aligned}$</p>
<p>å¯¹å…¬å¼å³è¾¹è¿›è¡Œå±•å¼€ï¼Œåªæœ‰$x = x^{\prime} - a$å’Œ$y = y^{\prime} -b$æ—¶åå¯¼ä¸ä¸º0ï¼Œæ•…é‡æ–°æ•´ç†åå¾—ï¼Œå°†$a = x^{\prime} - x$å’Œ$b = y^{\prime} -y$ä»£å…¥ï¼š</p>
<p>$\begin{aligned}\sum_{xâ€™}\sum_{yâ€™}\delta_{xâ€™,yâ€™}^{l+1}w_{a,b}^{l+1}\sigmaâ€™(z_{x,y}^l)&amp;=\sum_{xâ€™}\sum_{yâ€™}\delta_{xâ€™,yâ€™}^{l+1}w_{xâ€™-x,yâ€™-y}^{l+1}\sigmaâ€™(z_{x,y}^l)\end{aligned}$</p>
<blockquote>
<p>ä¸Šè¿°å¼å­ä¸­ï¼š$xâ€™-x$ä¸ä¼šè¶…å‡ºèŒƒå›´ï¼Œå› ä¸º$xâ€™$ä¸$x$å…·æœ‰å…³è”ï¼Œæ‰€ä»¥ä¸€å®šä¼šåœ¨$w$çš„çŸ©é˜µèŒƒå›´å†…ã€‚</p>
</blockquote>
<p>è€Œå³è¾¹ç¬¬ä¸€é¡¹å°±æ˜¯æ¢¯åº¦åå‘ä¼ æ’­çš„å…¬å¼ï¼š</p>
<p>$\begin{aligned}\delta^{l+1}*w_{-x,-y}^{l+1} = \sum_{xâ€™}\sum_{yâ€™}\delta_{xâ€™,yâ€™}^{l+1}w_{xâ€™-x,yâ€™-y}^{l+1}\end{aligned}$</p>
<p>ç†è§£ä¸Šé¢è¿™ä¸ªå…¬å¼ï¼š</p>
<p><img src="/2024/10/08/15-15-24/QQ_1728452268383.png" alt=" "></p>
<p>$\delta_{1,2}^{l}$ï¼Œåªå½±å“äº†ä¸‹ä¸€å±‚çš„$\delta_{1,1}^{l+1}$$\delta_{1,2}^{l+1}$ï¼Œæ‰€ä»¥$xâ€™,yâ€™$å–å€¼èŒƒå›´åªæœ‰$(1,1),(1,2)$ï¼Œå¾—åˆ°çš„$w$ä¸‹æ ‡${xâ€™-x,yâ€™-y}$ï¼Œå–å€¼ä¸º:$(0,-1),(0,0)$</p>
<p>æ¨å¯¼å…¬å¼ï¼š</p>
<p>æ‰€ä»¥æœ€ç»ˆçš„åå‘ä¼ æ’­è¯¯å·®å…¬å¼ï¼š</p>
<p>$\delta_{x,y}^l=\delta^{l+1}*ROT180(w_{x,y}^{l+1})\sigma^{\prime}(z_{x,y}^l)$</p>
<p>æˆæœ¬å‡½æ•°çš„æ¢¯åº¦ï¼š</p>
<p>$\frac{\partial C}{\partial w_{a,b}^l}=\delta_{a,b}^l*\sigma(ROT180(z_{a,b}^{l-1}))$</p>
<h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><a href="https://grzegorzgwardys.wordpress.com/2016/04/22/8/#unique-identifier2">å·ç§¯ç¥ç»ç½‘ç»œåå‘ä¼ æ’­ï¼šä»ç›´è§‰åˆ°æ¨å¯¼</a></p>
<p><a href="https://pavisj.medium.com/convolutions-and-backpropagations-46026a8f5d2c#6042">å·ç§¯å’Œåå‘ä¼ æ’­</a></p>
<p><a href="https://www.pycodemates.com/2023/07/backward-pass-in-convolutional-neural-network-explained.html">Derivation of Backpropagation in Convolutional Neural Network (CNN)</a></p>
<p><a href="https://zzutk.github.io/docs/reports/2016.10%20-%20Derivation%20of%20Backpropagation%20in%20Convolutional%20Neural%20Network%20(CNN">Derivation of Backpropagation in Convolutional Neural Network zhangzhifei</a>.pdf)</p>
<h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><h2 id="çŸ©é˜µå¾®åˆ†"><a href="#çŸ©é˜µå¾®åˆ†" class="headerlink" title="çŸ©é˜µå¾®åˆ†"></a>çŸ©é˜µå¾®åˆ†</h2><p>çŸ©é˜µï¼š$f(\boldsymbol{X}),\boldsymbol{X}_{m\times n}=(x_{ij})_{i=1,j=1}^{m,n}$</p>
<p>å¤šå…ƒå‡½æ•°è®¾ä¸ºå¯å¾®ï¼š<br>$<br>\begin{aligned}<br>\mathrm{d}f(\boldsymbol{X})&amp; =\frac{\partial f}{\partial x_{11}}\mathrm{d}x_{11}+\frac{\partial f}{\partial x_{12}}\mathrm{d}x_{12}+\cdots+\frac{\partial f}{\partial x_{1n}}\mathrm{d}x_{1n} \\<br>&amp;+\frac{\partial f}{\partial x_{21}}\mathrm{d}x_{21}+\frac{\partial f}{\partial x_{22}}\mathrm{d}x_{22}+\cdots+\frac{\partial f}{\partial x_{2n}}\mathrm{d}x_{2n} \\<br>&amp;+\ldots \\<br>&amp;+\frac{\partial f}{\partial x_{m1}}\mathrm{d}x_{m1}+\frac{\partial f}{\partial x_{m2}}\mathrm{d}x_{m2}+\cdots+\frac{\partial f}{\partial x_{mn}}\mathrm{d}x_{mn}<br>\end{aligned}<br>$</p>
<p>ç›¸å½“äºï¼š</p>
<p>$<br>\begin{aligned}<br>\mathrm{d}f(\boldsymbol{X})=\mathrm{tr}(\begin{bmatrix}\frac{\partial f}{\partial x_{11}}&amp;\frac{\partial f}{\partial x_{21}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{m1}}\\\frac{\partial f}{\partial x_{12}}&amp;\frac{\partial f}{\partial x_{22}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{m2}}\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots\\\frac{\partial f}{\partial x_{1n}}&amp;\frac{\partial f}{\partial x_{2n}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{mn}}\end{bmatrix}_{n\times m}\begin{bmatrix}\mathrm{d}x_{11}&amp;\mathrm{d}x_{12}&amp;\cdots&amp;\mathrm{d}x_{1n}\\\mathrm{d}x_{21}&amp;\mathrm{d}x_{22}&amp;\cdots&amp;\mathrm{d}x_{2n}\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots\\\mathrm{d}x_{m1}&amp;\mathrm{d}x_{m2}&amp;\cdots&amp;\mathrm{d}x_{mn}\end{bmatrix}_{m\times n})<br>\end{aligned}<br>$</p>
<p>JacobiançŸ©é˜µå½¢å¼:<br>å³å…ˆæŠŠçŸ©é˜µå˜å…ƒ$X$è¿›è¡Œè½¬ç½®ï¼Œå†å¯¹è½¬ç½®åçš„æ¯ä¸ªä½ç½®çš„å…ƒç´ é€ä¸ªæ±‚åå¯¼ï¼Œç»“æœå¸ƒå±€å’Œè½¬ç½®å¸ƒå±€ä¸€æ ·<br>$<br>\begin{aligned}<br>\operatorname{D}_\boldsymbol{X}f(\boldsymbol{X})&amp; =\frac{\partial f(\boldsymbol{X})}{\partial\boldsymbol{X}_{\boldsymbol{m}\times\boldsymbol{n}}^T} \\<br>&amp;=\begin{bmatrix}\frac{\partial f}{\partial x_{11}}&amp;\frac{\partial f}{\partial x_{21}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{m1}}\\\frac{\partial f}{\partial x_{12}}&amp;\frac{\partial f}{\partial x_{22}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{m2}}\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots\\\frac{\partial f}{\partial x_{1n}}&amp;\frac{\partial f}{\partial x_{2n}}&amp;\cdots&amp;\frac{\partial f}{\partial x_{mn}}\end{bmatrix}_{n\times m}<br>\end{aligned}<br>$</p>
<p>$\boldsymbol{X}_{m\times n}$çš„çŸ©é˜µå¾®åˆ†ï¼š<br>$<br>\begin{aligned}\mathrm{d}\boldsymbol{X}_{m\times n}=\begin{bmatrix}\mathrm{d}x_{11}&amp;\mathrm{d}x_{12}&amp;\cdots&amp;\mathrm{d}x_{1n}\\\mathrm{d}x_{21}&amp;\mathrm{d}x_{22}&amp;\cdots&amp;\mathrm{d}x_{2n}\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots\\\mathrm{d}x_{m1}&amp;\mathrm{d}x_{m2}&amp;\cdots&amp;\mathrm{d}x_{mn}\end{bmatrix}_{m\times n}\end{aligned}<br>$</p>
<p>äºæ˜¯ï¼ŒçŸ©é˜µå¾®åˆ†å½¢å¼ä¸ºï¼š<br>$<br>\begin{aligned}\mathrm{d}f(\boldsymbol{X})=\mathrm{tr}(\frac{\partial f(\boldsymbol{X})}{\partial\boldsymbol{X}^T}\mathrm{d}\boldsymbol{X})<br>\end{aligned}<br>$</p>
<h3 id="é“¾æ¥-1"><a href="#é“¾æ¥-1" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><a href="https://www.zhihu.com/column/c_1318542724966715392">Iteratorçš„ä¸“æ ã€Œå·¥ç§‘æ•°å­¦ã€</a></p>
]]></content>
      <categories>
        <category>è®ºæ–‡é˜…è¯»</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>pytorchç›¸å…³è¯­æ³•ï¼ŒPythonç‰¹æ€§</title>
    <url>/2024/09/30/09-10-49/</url>
    <content><![CDATA[<h1 id="çˆ±å› æ–¯å¦æ±‚å’Œ-einsum"><a href="#çˆ±å› æ–¯å¦æ±‚å’Œ-einsum" class="headerlink" title="çˆ±å› æ–¯å¦æ±‚å’Œ einsum"></a>çˆ±å› æ–¯å¦æ±‚å’Œ einsum</h1><h2 id="å£è¯€"><a href="#å£è¯€" class="headerlink" title="å£è¯€"></a>å£è¯€</h2><blockquote>
<p>å¤–éƒ¨é‡å¤åšä¹˜ç§¯<br>å†…éƒ¨é‡å¤æŠŠæ•°å–<br>ä»æœ‰åˆ°æ— è¦æ±‚å’Œ<br>é‡å¤é»˜è®¤è¦ä¸¢å¼ƒ(ij, jk-&gt; ), é»˜è®¤ä¸¢æ‰iï¼Œå˜æˆik</p>
</blockquote>
<img src="/2024/09/30/09-10-49/v2-db1d287d5bf82068c30d7cfe76692dd9_r.jpg" class>
<img src="/2024/09/30/09-10-49/v2-7c04ed50c83ed07c0e41ec428b2b3591_r.jpg" class>
<img src="/2024/09/30/09-10-49/v2-02da0f28e1fbd40eb8273209a9e9d6b6_r.jpg" class>
<img src="/2024/09/30/09-10-49/v2-ce4ac6f159fa47935f4e679f5f2c1400_r.jpg" class>
<p>ç”¨å¾ªç¯å®ç°einsumï¼š<br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = torch.randn(<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line">b = torch.randn(<span class="number">11</span>,<span class="number">13</span>,<span class="number">3</span>,<span class="number">17</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># p = 2, q = 3, r = 5, s = 7</span></span><br><span class="line"><span class="comment"># t = 11, u = 13, v = 17, r = 5</span></span><br><span class="line">torch_ein_out = torch.einsum(<span class="string">&#x27;pqrs,tuqvr-&gt;pstuv&#x27;</span>, [a, b]).numpy()</span><br><span class="line">torch_org_out = torch.tensordot(a, b, dims=([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">4</span>])).numpy()</span><br><span class="line"></span><br><span class="line">np_a = a.numpy()</span><br><span class="line">np_b = b.numpy()</span><br><span class="line"><span class="comment"># å¾ªç¯å±•å¼€å®ç°</span></span><br><span class="line">np_out = np.empty((<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>), dtype=np.float32)</span><br><span class="line"><span class="comment"># è‡ªç”±ç´¢å¼•å¤–å¾ªç¯</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå°±æ˜¯ p,s,t,uå’Œv</span></span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">7</span>):</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">11</span>):</span><br><span class="line">            <span class="keyword">for</span> u <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">13</span>):</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">17</span>):</span><br><span class="line">                    <span class="comment"># æ±‚å’Œç´¢å¼•å†…å¾ªç¯</span></span><br><span class="line">                    <span class="comment"># è¿™é‡Œæ˜¯ qå’Œr</span></span><br><span class="line">                    sum_result = <span class="number">0</span></span><br><span class="line">                    <span class="keyword">for</span> q <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>):</span><br><span class="line">                        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line">                            sum_result += np_a[p, q, r, s] * np_b[t, u, q, v, r]</span><br><span class="line">                    np_out[p, s, t, u, v] = sum_result</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;is np_out == torch_ein_out ?&quot;</span>, np.allclose(torch_ein_out, np_out, atol=<span class="number">1e-6</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;is torch_ein_out == torch_org_out ?&quot;</span>, np.allclose(torch_ein_out, torch_org_out, atol=<span class="number">1e-6</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»ˆç«¯æ‰“å°è¾“å‡º</span></span><br><span class="line"><span class="comment"># is np_out == torch_ein_out ? True</span></span><br><span class="line"><span class="comment"># is torch_ein_out == torch_org_out ? True</span></span><br></pre></td></tr></table></figure><br>ä¸‹å›¾è§£é‡Šäº†å¼ é‡ç›¸ä¹˜ï¼Œç±»ä¼¼GCNä¸­çš„ï¼ŒAXï¼Œä½†æ˜¯åº”ç”¨çˆ±å› æ–¯å¦æ±‚å’Œ(X,A)ã€‚<br><img src="/2024/09/30/09-10-49/main-qimg-1cd18200b07e2c0cf462c074c537958c-pjlq.jpeg" class></p>
<p><a href="https://zhuanlan.zhihu.com/p/361209187">ä¸€æ–‡å­¦ä¼š Pytorch ä¸­çš„ einsum</a><br><a href="https://juejin.cn/post/7276345038958166052">æ¡ˆä¾‹. å››ç»´å¼ é‡ä¹˜ä¸‰ç»´å¼ é‡</a><br><a href="https://zhuanlan.zhihu.com/p/672346603">çŸ¥ä¹einsumæ–‡ç« </a><br><a href="https://www.cnblogs.com/qftie/p/16245124.html">ä¼˜é›…åœ°å®ç°å¤šå¤´è‡ªæ³¨æ„åŠ›â€”â€”ä½¿ç”¨einsumï¼ˆçˆ±å› æ–¯å¦æ±‚å’Œï¼‰è¿›è¡ŒçŸ©é˜µè¿ç®—</a><br><a href="https://rockt.github.io/2018/04/30/einsum">einsum</a></p>
<h1 id="ä¸c-åº•å±‚çš„ç»‘å®šæ–¹æ³•"><a href="#ä¸c-åº•å±‚çš„ç»‘å®šæ–¹æ³•" class="headerlink" title="ä¸c++åº•å±‚çš„ç»‘å®šæ–¹æ³•"></a>ä¸c++åº•å±‚çš„ç»‘å®šæ–¹æ³•</h1><h2 id="PYBIND11-MODULE-å®ç»‘å®šå‡½æ•°"><a href="#PYBIND11-MODULE-å®ç»‘å®šå‡½æ•°" class="headerlink" title="PYBIND11_MODULE å®ç»‘å®šå‡½æ•°"></a>PYBIND11_MODULE å®ç»‘å®šå‡½æ•°</h2><p>è¯¥å®ç”¨äºå®šä¹‰ä¸€ä¸ª PyBind11 æ¨¡å—ï¼Œexample æ˜¯pythonæ¨¡å—çš„åç§°ï¼Œm æ˜¯æ¨¡å—å¯¹è±¡ï¼Œå¯ä»¥ç”¨äºç»‘å®šç±»å’Œå‡½æ•°ï¼Œä»¥ä¾¿åœ¨ Python ä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;pybind11/pybind11.h&gt;</span><br><span class="line"></span><br><span class="line">int add(int i, int j) &#123;</span><br><span class="line">    return i + j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PYBIND11_MODULE(example, m) &#123;</span><br><span class="line">    m.def(&quot;add&quot;, &amp;add, &quot;A function which adds two numbers&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="py-class-ç»‘å®šc-ç±»"><a href="#py-class-ç»‘å®šc-ç±»" class="headerlink" title="py::class_ ç»‘å®šc++ç±»"></a>py::class_ ç»‘å®šc++ç±»</h2><p><code>pybind11::class_&lt;MyClass&gt;(m, &quot;MyClass&quot;)</code><br>â€œMyClassâ€: æ˜¯pyä¸­çš„æ–°ç±»å</p>
<p><MyClass>: æŒ‡çš„ç»‘å®šc++çš„ç±»å</MyClass></p>
<pre><code>- m.def æ˜¯ç”¨äºå°†c++å…¨å±€å‡½æ•°ç»‘å®šåˆ° Python æ¨¡å—ä¸Šçš„æ–¹æ³•ã€‚
-    .def æ˜¯ç”¨äºå°†ç±»çš„æ–¹æ³•ç»‘å®šåˆ° Python ä¸Šçš„æ¥å£ã€‚
</code></pre><h2 id="ä½¿ç”¨-PyTorch-çš„-C-æ‰©å±•-TorchScript"><a href="#ä½¿ç”¨-PyTorch-çš„-C-æ‰©å±•-TorchScript" class="headerlink" title="ä½¿ç”¨ PyTorch çš„ C++ æ‰©å±• (TorchScript)"></a>ä½¿ç”¨ PyTorch çš„ C++ æ‰©å±• (TorchScript)</h2>]]></content>
      <categories>
        <category>æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>yoloå­¦ä¹ ç¬”è®°</title>
    <url>/2024/09/20/13-08-34/</url>
    <content><![CDATA[<h1 id="æºç é˜…è¯»"><a href="#æºç é˜…è¯»" class="headerlink" title="æºç é˜…è¯»"></a>æºç é˜…è¯»</h1><h2 id="ä»£ç ç»“æ„"><a href="#ä»£ç ç»“æ„" class="headerlink" title="ä»£ç ç»“æ„"></a>ä»£ç ç»“æ„</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">datasets/                  å­é›†çš„æ•°æ®é›†</span><br><span class="line">data/                      è¶…å‚æ•°çš„é…ç½®æ–‡ä»¶</span><br><span class="line">models/</span><br><span class="line">utils/</span><br><span class="line">README.me                  è¿è¡Œè¯´æ˜</span><br><span class="line">detect.py                  æ£€æµ‹ä»£ç </span><br><span class="line">requirements.txt          ç¯å¢ƒåŒ…</span><br><span class="line">train.py     							è®­ç»ƒä»£ç </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><p>ä¸‹è½½æºç ï¼Œå®‰è£…ç¯å¢ƒï¼Œä¸‹è½½ç¯å¢ƒåŒ…</p>
<h3 id="ä¸‹è½½æ¨¡å‹æƒé‡"><a href="#ä¸‹è½½æ¨¡å‹æƒé‡" class="headerlink" title="ä¸‹è½½æ¨¡å‹æƒé‡"></a>ä¸‹è½½æ¨¡å‹æƒé‡</h3><p>åœ¨README.mdä¸­ï¼Œç‚¹å‡»ä¸‹è½½éœ€è¦çš„æ¨¡å‹æƒé‡ã€‚</p>
<p>å­˜æ”¾åˆ°./æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<h2 id="è¿è¡Œæ£€æµ‹"><a href="#è¿è¡Œæ£€æµ‹" class="headerlink" title="è¿è¡Œæ£€æµ‹"></a>è¿è¡Œæ£€æµ‹</h2><h3 id="è¿è¡Œä»£ç "><a href="#è¿è¡Œä»£ç " class="headerlink" title="è¿è¡Œä»£ç "></a>è¿è¡Œä»£ç </h3><ul>
<li><p>æµ‹è¯•å›¾ç‰‡å­˜æ”¾ä½ç½®ï¼šdata/images/<br>ä¸€å…±æœ‰ä¸¤å¼ å›¾ç‰‡</p>
</li>
<li><p>è¿è¡Œæ ·ä¾‹æ£€æµ‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Terminal</span> </span><br><span class="line">python detect.py --source data/images/ --weights yolov5x6.pt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¾“å‡ºå‚æ•°ã€é…ç½®ç­‰</span></span><br><span class="line">detect: weights=[&#x27;yolov5x6.pt&#x27;], source=data/images/, data=data/coco128.yaml, imgsz=[640, 640], conf_thres=0.25, iou_thres=0.45, max_det=1000, device=, view_img=False, save_txt=False, save_format=0, save_csv=False, save_conf=False, save_crop=False, nosave=False, classes=None, agnostic_nms=False, augment=False, visualize=False, update=False, project=runs/detect, name=exp, exist_ok=False, line_thickness=3, hide_labels=False, hide_conf=False, half=False, dnn=False, vid_stride=1</span><br><span class="line">YOLOv5 ğŸš€ v7.0-366-gf7322921 Python-3.8.20 torch-2.4.1+cu121 CUDA:0 (NVIDIA GeForce RTX 3080, 11938MiB)</span><br><span class="line"></span><br><span class="line">Fusing layers... </span><br><span class="line">YOLOv5x6 summary: 574 layers, 140730220 parameters, 0 gradients, 209.6 GFLOPs</span><br><span class="line">image 1/2 /root/share/HorizontalProject/yolov5/data/images/bus.jpg: 640x512 4 persons, 1 bicycle, 1 bus, 38.1ms</span><br><span class="line">image 2/2 /root/share/HorizontalProject/yolov5/data/images/zidane.jpg: 384x640 3 persons, 3 ties, 35.4ms</span><br><span class="line">Speed: 0.5ms pre-process, 36.8ms inference, 27.1ms NMS per image at shape (1, 3, 640, 640)</span><br><span class="line">Results saved to runs/detect/exp2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="è¿è¡Œè‡ªå·±çš„é¢„æµ‹ä»£ç "><a href="#è¿è¡Œè‡ªå·±çš„é¢„æµ‹ä»£ç " class="headerlink" title="è¿è¡Œè‡ªå·±çš„é¢„æµ‹ä»£ç "></a>è¿è¡Œè‡ªå·±çš„é¢„æµ‹ä»£ç </h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python detect.py --weights ./runs/train/exp6/weights/best.pt --source dading_000000_000023.mp4 --conf-thres 0.85</span><br></pre></td></tr></table></figure>
<h2 id="è¿è¡Œè‡ªå·±çš„æ•°æ®é›†"><a href="#è¿è¡Œè‡ªå·±çš„æ•°æ®é›†" class="headerlink" title="è¿è¡Œè‡ªå·±çš„æ•°æ®é›†"></a>è¿è¡Œè‡ªå·±çš„æ•°æ®é›†</h2><ul>
<li>è®­ç»ƒå‘½ä»¤ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python train.py --batch <span class="number">8</span> --epochs <span class="number">50</span> --data mydata.yaml --weights ./models/yolov5x6.pt</span><br></pre></td></tr></table></figure>
<p>å…ˆå»ºç«‹ä¸€ä¸ªé…ç½®æ–‡ä»¶<code>mydata.yaml</code>ï¼Œæ”¾åˆ°<code>./data</code>æ–‡ä»¶å¤¹å†…<br>è¿™é‡Œå§datasetsæ”¾åˆ°äº†YOLOV5çš„é¡¹ç›®æ–‡ä»¶å¤¹å†…ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">./datasets/mydata</span> <span class="comment"># dataset root dir  ./ç›´æ¥ä»æ ¹ç›®å½•å¼€å§‹</span></span><br><span class="line"><span class="attr">train:</span> <span class="string">images/</span> <span class="comment"># train images (relative to &#x27;path&#x27;) 128 images</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">images/</span> <span class="comment"># val images (relative to &#x27;path&#x27;) 128 images</span></span><br><span class="line"><span class="attr">test:</span> <span class="comment"># test images (optional)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Classes (80 COCO classes)</span></span><br><span class="line"><span class="attr">names:</span></span><br><span class="line">    <span class="attr">0:</span> <span class="string">nail</span></span><br><span class="line">    <span class="attr">1:</span> <span class="string">nail</span> <span class="string">hole</span></span><br></pre></td></tr></table></figure>
<p>æ ‡ç­¾å›¾ç‰‡æ”¾å…¥ <code>./datasets/mydata/images</code>,<code>/datasets/mydata/labels</code>,æ–‡ä»¶å¤¹å†…</p>
<h1 id="æ ‡ç­¾æ ‡å‡†ç±»å‹"><a href="#æ ‡ç­¾æ ‡å‡†ç±»å‹" class="headerlink" title="æ ‡ç­¾æ ‡å‡†ç±»å‹"></a>æ ‡ç­¾æ ‡å‡†ç±»å‹</h1><h2 id="jsonæ–‡ä»¶"><a href="#jsonæ–‡ä»¶" class="headerlink" title="jsonæ–‡ä»¶"></a>jsonæ–‡ä»¶</h2><p>labelmeè½¯ä»¶æ‰“å‡ºçš„æ ‡ç­¾ä¸ºjsonæ–‡ä»¶ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5.4.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;flags&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;shapes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;poppy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;points&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">[</span></span><br><span class="line">          <span class="number">789.6551724137931</span><span class="punctuation">,</span></span><br><span class="line">          <span class="number">1510.3448275862067</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">[</span></span><br><span class="line">          <span class="number">1037.9310344827586</span><span class="punctuation">,</span></span><br><span class="line">          <span class="number">1687.9310344827586</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group_id&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;shape_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rectangle&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;flags&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;mask&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span>  </span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;imagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;..\\JPG\\JPG.1\\DJI_0007.JPG&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;imageData&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJ...........&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;imageHeight&quot;</span><span class="punctuation">:</span> <span class="number">720</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;imageWidth&quot;</span><span class="punctuation">:</span> <span class="number">1280</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>imageData:è¯¥å­—æ®µé€šå¸¸åŒ…å«åŸå§‹å›¾åƒçš„Base64ç¼–ç æ•°æ®</li>
<li><strong>imageHeight</strong> å’Œ <strong>imageWidth</strong>ï¼šè¿™ä¸¤ä¸ªå­—æ®µåˆ†åˆ«è¡¨ç¤ºå›¾åƒçš„åŸå§‹é«˜åº¦å’Œå®½åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰</li>
<li><strong>shapes</strong>ï¼š<ul>
<li>æè¿°ï¼šè¯¥å­—æ®µæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å›¾åƒä¸­æ‰€æœ‰å¯¹è±¡çš„æ ‡æ³¨ä¿¡æ¯</li>
<li>å­å­—æ®µï¼š<ul>
<li>labelï¼šæè¿°ï¼šå¯¹è±¡çš„æ ‡ç­¾åç§°ã€‚</li>
<li>pointsï¼šæè¿°ï¼šä¸€ä¸ªåŒ…å«å¤šä¸ªåæ ‡ç‚¹çš„æ•°ç»„ï¼Œè¿™äº›ç‚¹å®šä¹‰äº†å¯¹è±¡çš„è¾¹ç•Œï¼ˆå¯¹äºå¤šè¾¹å½¢æˆ–ç‚¹é›†ï¼‰ã€‚å¯¹äºçŸ©å½¢æ ‡æ³¨ï¼Œé€šå¸¸ä¼šæœ‰å››ä¸ªç‚¹ï¼Œåˆ†åˆ«è¡¨ç¤ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡ã€‚<br>  ç¤ºä¾‹å€¼ï¼ˆå¯¹äºçŸ©å½¢ï¼‰ï¼š[[x1, y1], [x2, y1], [x2, y2], [x1, y2]]<br>  shape_typeï¼š<br>  æè¿°ï¼šæ ‡æ³¨çš„å½¢çŠ¶ç±»å‹ï¼Œå¦‚â€polygonâ€ï¼ˆå¤šè¾¹å½¢ï¼‰ã€â€rectangleâ€ï¼ˆçŸ©å½¢ï¼‰ç­‰ã€‚<br>  ç¤ºä¾‹å€¼ï¼šâ€polygonâ€</li>
<li>fill_color å’Œ line_colorï¼ˆå¯é€‰ï¼‰ï¼š<br>  æè¿°ï¼šåˆ†åˆ«è¡¨ç¤ºå¡«å……é¢œè‰²å’Œçº¿æ¡é¢œè‰²ã€‚è¿™äº›å­—æ®µå¯èƒ½å¹¶ä¸æ€»æ˜¯å­˜åœ¨ï¼Œå–å†³äºæ ‡æ³¨æ—¶çš„è®¾ç½®ã€‚<br>  ç¤ºä¾‹å€¼ï¼šå¯¹äºfill_colorï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªRGBå€¼å¦‚[255, 0, 0]ï¼ˆçº¢è‰²ï¼‰ï¼›å¯¹äºline_colorï¼ŒåŒæ ·å¯èƒ½æ˜¯ä¸€ä¸ªRGBå€¼ã€‚</li>
</ul>
</li>
<li>flags<ul>
<li>æè¿°ï¼šä¸€ä¸ªåŒ…å«æ ‡è®°ä¿¡æ¯çš„å¯¹è±¡ï¼Œç”¨äºè¡¨ç¤ºå›¾åƒçš„æŸäº›å±æ€§æˆ–çŠ¶æ€ã€‚è¿™äº›å­—æ®µå¯èƒ½å¹¶ä¸æ€»æ˜¯å­˜åœ¨ï¼Œå–å†³äºæ ‡æ³¨æ—¶çš„è®¾ç½®ã€‚</li>
<li>ç¤ºä¾‹å­—æ®µï¼š<code>occluded</code>ï¼ˆæ˜¯å¦è¢«é®æŒ¡ï¼‰ã€<code>truncated</code>ï¼ˆæ˜¯å¦è¢«æˆªæ–­ï¼‰ç­‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="yoloæ ¼å¼æ ‡æ³¨"><a href="#yoloæ ¼å¼æ ‡æ³¨" class="headerlink" title="yoloæ ¼å¼æ ‡æ³¨"></a>yoloæ ¼å¼æ ‡æ³¨</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./</span><br><span class="line">  classes.txt</span><br><span class="line">  name1.png</span><br><span class="line">  name1.txt</span><br><span class="line">  ....</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<ul>
<li><p>classes.txt: å­˜æ”¾äº†æœ¬æ–‡ä»¶å¤¹æ•°æ®é›†å†…çš„æ‰€æœ‰æ ‡ç­¾ï¼Œåºå·ä»0å¼€å§‹</p>
</li>
<li><p>name1.txt: å†…å®¹ â€˜class_id x y w hâ€™</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class_id:ç±»åˆ«çš„idç¼–å·</span><br><span class="line">x:ç›®æ ‡çš„ä¸­å¿ƒç‚¹xåæ ‡ï¼ˆæ¨ªå‘)/å›¾ç‰‡æ€»å®½åº¦</span><br><span class="line">y:ç›®æ ‡çš„ä¸­å¿ƒçš„yåæ ‡(çºµå‘)/å›¾ç‰‡æ€»é«˜åº¦</span><br><span class="line">w:ç›®æ ‡æ¡†çš„å®½åº¦/å›¾ç‰‡æ€»å®½åº¦</span><br><span class="line">h:ç›®æ ‡æ¡†çš„é«˜åº¦/å›¾ç‰‡æ€»é«˜åº¦</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="è‡ªåŠ¨æ ‡ç­¾å·¥å…·-X-AngLabeling"><a href="#è‡ªåŠ¨æ ‡ç­¾å·¥å…·-X-AngLabeling" class="headerlink" title="è‡ªåŠ¨æ ‡ç­¾å·¥å…· X-AngLabeling"></a>è‡ªåŠ¨æ ‡ç­¾å·¥å…· X-AngLabeling</h1><h2 id="å®‰è£…æ–¹å¼"><a href="#å®‰è£…æ–¹å¼" class="headerlink" title="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼</h2><p>å®˜æ–¹æ–‡æ¡£</p>
<p><strong>ä¸€å®šè¦æ³¨æ„ï¼Œæ‰€æœ‰è§†é¢‘å¿…é¡»å•ç‹¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œæ¯æ¬¡æ‰“å®Œæ ‡ç­¾å¯¼å‡ºæ—¶ä¼šå¯¼å…¥labelæ–‡ä»¶å¤¹ä¸­ï¼Œè‡ªåŠ¨è¦†ç›–åŸæ–‡ä»¶å†…å®¹ï¼Œæ‰“å¼€è§†é¢‘ä¹Ÿä¼šè‡ªåŠ¨è¦†ç›–è§†é¢‘æ–‡ä»¶å¤¹ä¸­çš„jsionæ–‡ä»¶</strong></p>
<h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">conda activate x-anylabeling</span><br><span class="line">cd X-AnyLabeling</span><br><span class="line">python anylabeling/app.py</span><br></pre></td></tr></table></figure>
<h2 id="è‡ªåŠ¨æ ‡è®°åŠ è½½æ¨¡å‹"><a href="#è‡ªåŠ¨æ ‡è®°åŠ è½½æ¨¡å‹" class="headerlink" title="è‡ªåŠ¨æ ‡è®°åŠ è½½æ¨¡å‹"></a>è‡ªåŠ¨æ ‡è®°åŠ è½½æ¨¡å‹</h2><p>å°†è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°è½¬æ¢æˆONNXæ–‡ä»¶æ ¼å¼ï¼š</p>
<p>åœ¨yolov5ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python export.py --weights my.pt --include onnx</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹è‡ªå®šä¹‰çš„yamlæ–‡ä»¶</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">yolov5</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">best</span></span><br><span class="line"><span class="attr">display_name:</span> <span class="string">YOLOv5s</span> <span class="string">Ultralytics</span></span><br><span class="line"><span class="attr">model_path:</span> <span class="string">/path/best.onnx</span></span><br><span class="line"><span class="attr">nms_threshold:</span> <span class="number">0.45</span></span><br><span class="line"><span class="attr">confidence_threshold:</span> <span class="number">0.25</span></span><br><span class="line"><span class="attr">classes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">æŠ¹èƒ¶æ¿</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ç”µé’»</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">é’‰å¸½</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">é’‰å­</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">æ¦”å¤´</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure>
<p>ä¹‹åæ‰‹åŠ¨ä¿®æ”¹æ ‡ç­¾</p>
<p>å¯¼å‡ºä¸ºyoloæ ¼å¼æ ‡ç­¾ï¼Œé¦–å…ˆé€‰æ‹©ä¸€ä¸ª.txtæ–‡ä»¶ï¼Œè¯´æ˜æ ‡ç­¾ï¼Œæ ¼å¼ä¸ºï¼ˆæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªé›·å½ªï¼Œç¼–å·ä»0å¼€å§‹ï¼‰ï¼š</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">æŠ¹èƒ¶æ¿</span><br><span class="line">ç”µé’»</span><br><span class="line">é’‰å¸½</span><br><span class="line">é’‰å­</span><br><span class="line">æ¦”å¤´</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥é€‰æ‹©è·³è¿‡ç©ºæ ‡ç­¾ï¼Œä¸ä¿å­˜åŸå›¾ã€‚</p>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p><a href="https://github.com/CVHub520/X-AnyLabeling/blob/main/docs/zh_cn/get_started.md">å®˜æ–¹ä¸­æ–‡å®‰è£…æ–‡æ¡£</a></p>
<p><a href="https://github.com/CVHub520/X-AnyLabeling/blob/main/docs/zh_cn/user_guide.md">å®˜æ–¹ä¸­æ–‡ä½¿ç”¨æ–‡æ¡£</a></p>
<p><a href="https://github.com/CVHub520/X-AnyLabeling/blob/main/docs/zh_cn/custom_model.md">åŠ è½½æ¨¡å‹è‡ªåŠ¨æ ‡æ³¨</a></p>
<h1 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h1><p><a href="https://blog.csdn.net/weixin_43334693/article/details/129312409?spm=1001.2014.3001.5506">ã€YOLOç³»åˆ—ã€‘YOLOv5è¶…è¯¦ç»†è§£è¯»ï¼ˆæºç è¯¦è§£ï¼‹å…¥é—¨å®è·µï¼‹æ”¹è¿›ï¼‰</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/553043506"> [CV - Object Detection - Code]ç›®æ ‡æ£€æµ‹YOLOç³»åˆ— - YOLOv5ç¬¬ä¸€é˜¶æ®µå·¥ä½œï¼ˆ1ï¼‰- æˆåŠŸè¿è¡Œé¢„æµ‹ä»£ç </a></p>
<p><a href="https://zhuanlan.zhihu.com/p/553176141">[CV - Object Detection - Code]ç›®æ ‡æ£€æµ‹YOLOç³»åˆ— - YOLOv5ç¬¬äºŒé˜¶æ®µå·¥ä½œï¼ˆ2ï¼‰- è¿è¡Œè®­ç»ƒä»£ç </a></p>
<p><a href="https://blog.csdn.net/weixin_38252409/article/details/135585593">yolov5æ¨¡å‹Detectionè¾“å‡ºå†…å®¹ä¸æºç è¯¦ç»†è§£è¯»</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/501798155">ä¿å§†å¼yolov5æ•™ç¨‹ï¼Œè®­ç»ƒä½ è‡ªå·±çš„æ•°æ®é›†</a></p>
]]></content>
      <categories>
        <category>yolo</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , æœºå™¨å­¦ä¹ , yolo</tag>
      </tags>
  </entry>
  <entry>
    <title>å¥½ç”¨çš„çš„ç§‘ç ”ç¥å™¨</title>
    <url>/2024/09/15/11-15-05/</url>
    <content><![CDATA[<h1 id="Trello-æ—¶é—´ç®¡ç†"><a href="#Trello-æ—¶é—´ç®¡ç†" class="headerlink" title="Trello æ—¶é—´ç®¡ç†"></a>Trello æ—¶é—´ç®¡ç†</h1><p>ä½ å¯ä»¥é’ˆå¯¹ä¸åŒçš„è®ºæ–‡å»ºç«‹ä¸åŒçš„çœ‹æ¿ï¼Œç„¶ååœ¨è¯¥çœ‹æ¿ä¸‹ä½ å¯ä»¥å»ºç«‹å¤šä¸ªä¸åŒç§ç±»çš„ä»»åŠ¡åˆ—å•ï¼Œæ¯”å¦‚</p>
<ul>
<li>To-do</li>
<li>Doing</li>
<li>Done<br>ä¸‰ä¸ªåˆ—å•ï¼Œç„¶ååœ¨æ¯ä¸ªåˆ—å•ä¸‹å†™ä¸Šå¯¹åº”çš„è¯¥è®ºæ–‡çš„ä»»åŠ¡ï¼Œå¹¶ä¸”ç»™æ¯ä¸ªä»»åŠ¡åˆ†é…ä¸€ä¸ªdue date. è¿™æ ·å°±èƒ½åšåˆ°å…¨é¢ã€å³æ—¶åœ°è·Ÿè¸ªç§‘ç ”å®Œæˆæƒ…å†µã€‚</li>
</ul>
<h1 id="Keep-amp-Share-æ—¶é—´ç®¡ç†è½¯ä»¶"><a href="#Keep-amp-Share-æ—¶é—´ç®¡ç†è½¯ä»¶" class="headerlink" title="Keep&amp;Share æ—¶é—´ç®¡ç†è½¯ä»¶"></a>Keep&amp;Share æ—¶é—´ç®¡ç†è½¯ä»¶</h1><h1 id="Zotero-è®ºæ–‡ç®¡ç†å·¥å…·"><a href="#Zotero-è®ºæ–‡ç®¡ç†å·¥å…·" class="headerlink" title="Zotero è®ºæ–‡ç®¡ç†å·¥å…·"></a>Zotero è®ºæ–‡ç®¡ç†å·¥å…·</h1>]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±åº¦å­¦ä¹ è®­ç»ƒä¸­çš„ç›¸å…³å·¥å…·</title>
    <url>/2024/09/13/14-56-06/</url>
    <content><![CDATA[<h1 id="å‚æ•°ç®¡ç†"><a href="#å‚æ•°ç®¡ç†" class="headerlink" title="å‚æ•°ç®¡ç†"></a>å‚æ•°ç®¡ç†</h1><h2 id="ä½¿ç”¨argparseå’Œyamlæ–‡ä»¶"><a href="#ä½¿ç”¨argparseå’Œyamlæ–‡ä»¶" class="headerlink" title="ä½¿ç”¨argparseå’Œyamlæ–‡ä»¶"></a>ä½¿ç”¨argparseå’Œyamlæ–‡ä»¶</h2><p>1.argparseçš„ä½¿ç”¨ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import argparse</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">  argparse.ArgumentParser()åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">  add_argument()æ·»åŠ å‚æ•°</span><br><span class="line">  parse_args()å°†å‚æ•°å°è£…åœ¨optå†…ï¼Œå„ä¸ªå‚æ•°é€šè¿‡.è¿ç®—ç¬¦è°ƒç”¨</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">def main(opt):</span><br><span class="line">    print(opt.num_batches)</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line"></span><br><span class="line">    parse = argparse.ArgumentParser()</span><br><span class="line">    parse.add_argument(&#x27;--num_batches&#x27;, type=int, default=50, help=&#x27;the num of batch&#x27;)</span><br><span class="line">    parse.add_argument(&#x27;--num_window&#x27;, type=int, default=5, help=&#x27;the num of window&#x27;)</span><br><span class="line">    parse.add_argument(&#x27;--weight&#x27;, type=str, default= &#x27;../pretrain.pth&#x27;, help=&#x27;the path of pretrained model&#x27;)</span><br><span class="line"></span><br><span class="line">    opt = parse.parse_args()</span><br><span class="line">    main(opt)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>2.yamlæ–‡ä»¶çš„ä½¿ç”¨<br>ä¸‹é¢æ˜¯ä¸€ä¸ªyamlæ–‡ä»¶çš„ä¾‹å­ï¼Œå‚æ•°å‘ˆç°å±‚çº§ç»“æ„<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">device: &#x27;cpu&#x27;</span><br><span class="line"></span><br><span class="line">data:</span><br><span class="line">    train_path: &#x27;data/train&#x27;</span><br><span class="line">    test_path: &#x27;test/train&#x27;</span><br><span class="line">    num: 1000</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><strong>ç‰¹åˆ«éœ€è¦æ³¨æ„ç¼©è¿›ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯tabï¼Œå¹¶ä¸”å±‚çº§ä¹‹é—´ä¸€å®šè¦å¯¹é½ã€‚</strong></p>
<p>è¯»å–yamlæ–‡ä»¶<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def read_yaml(path):</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">  read()è¯»å…¥yamlæ–‡ä»¶ä¸­çš„å†…å®¹</span><br><span class="line">  safe_load()åŠ è½½yamlæ ¼å¼çš„å†…å®¹å¹¶è½¬æ¢ä¸ºå­—å…¸</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    file = open(path, &#x27;r&#x27;, encoding=&#x27;utf-8&#x27;)</span><br><span class="line">    string = file.read()</span><br><span class="line">    file.close()</span><br><span class="line">    dict = yaml.safe_load(string)</span><br><span class="line"></span><br><span class="line">    return dict</span><br><span class="line"></span><br><span class="line">path = &#x27;config.yaml&#x27;</span><br><span class="line">Dict = read_yaml(path)</span><br><span class="line">device = Dict[&#x27;device&#x27;]</span><br><span class="line">print(device)</span><br><span class="line">train_path = Dict[&#x27;data&#x27;][&#x27;train_path&#x27;]</span><br><span class="line">print(train_path)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š<br>åœ¨yamlæ–‡ä»¶ä¸­ç»™å…¨éƒ¨å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œä½¿ç”¨argparseåº“è®¾ç½®å¾…è°ƒå‚æ•°çš„å€¼</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , ç¥ç»ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ST-GCN æ—¶ç©ºå›¾å·ç§¯ç¥ç»ç½‘è·¯</title>
    <url>/2024/09/13/10-54-10/</url>
    <content><![CDATA[<p>è®ºæ–‡åç§°ï¼šSpatial Temporal Graph Convolutional Networks for Skeleton-Based Action Recognition</p>
<h1 id="è®ºæ–‡ç¬”è®°"><a href="#è®ºæ–‡ç¬”è®°" class="headerlink" title="è®ºæ–‡ç¬”è®°"></a>è®ºæ–‡ç¬”è®°</h1><img src="/2024/09/13/10-54-10/31983eeeb54690c58ff568866b3d2f13.png" class>
<p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<ul>
<li>å¯¹è§†é¢‘è¿›è¡Œå§¿æ€ä¼°è®¡ï¼Œåœ¨éª¨æ¶åºåˆ—ä¸Šæ„é€ æ—¶ç©ºå›¾ï¼›</li>
<li>åœ¨è¾“å…¥æ•°æ®ä¸Šåº”ç”¨å¤šå±‚æ—¶ç©ºå›¾å·ç§¯(ST-GCN)ï¼Œé€æ­¥åœ¨å›¾ä¸Šç”Ÿæˆæ›´é«˜å±‚æ¬¡çš„ç‰¹å¾å›¾ï¼›</li>
<li>ç„¶åç”±æ ‡å‡† Softmax åˆ†ç±»å™¨å°†å…¶åˆ†ç±»åˆ°ç›¸åº”çš„åŠ¨ä½œç±»åˆ«ã€‚</li>
<li>æ•´ä¸ªæ¨¡å‹é‡‡ç”¨åå‘ä¼ æ’­çš„ç«¯åˆ°ç«¯æ–¹å¼è®­ç»ƒã€‚</li>
</ul>
<h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>ä¼ ç»Ÿçš„éª¨éª¼å»ºæ¨¡æ–¹æ³•ä¾èµ–äºæ‰‹å·¥åˆ¶ä½œçš„éƒ¨ä»¶æˆ–éå†è§„åˆ™ï¼Œè¡¨è¾¾èƒ½åŠ›æœ‰é™å’Œæ³›åŒ–å›°éš¾ï¼Œæ¨¡å‹å¾ˆéš¾æ¨å¹¿åˆ°å…¶ä»–åº”ç”¨ã€‚<br>è¿™é¡¹å·¥ä½œæå‡ºäº†åŠ¨æ€éª¨æ¶æ¨¡å‹ã€‚</p>
<h2 id="ä¸»è¦è´¡çŒ®"><a href="#ä¸»è¦è´¡çŒ®" class="headerlink" title="ä¸»è¦è´¡çŒ®"></a>ä¸»è¦è´¡çŒ®</h2><ul>
<li>æå‡ºäº† ST-GCNï¼Œè¿™æ˜¯ä¸€ç§åŸºäºå›¾çš„åŠ¨æ€éª¨éª¼å»ºæ¨¡é€šç”¨å…¬å¼ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªå°†åŸºäºå›¾çš„ç¥ç»ç½‘ç»œåº”ç”¨äºè¯¥ä»»åŠ¡ã€‚</li>
<li>é’ˆå¯¹éª¨æ¶å»ºæ¨¡çš„å…·ä½“è¦æ±‚ï¼Œæå‡ºäº† ST-GCN ä¸­å·ç§¯æ ¸çš„è®¾è®¡åŸåˆ™ã€‚</li>
<li>åœ¨åŸºäºéª¨éª¼çš„åŠ¨ä½œè¯†åˆ«çš„ä¸¤ä¸ªå¤§è§„æ¨¡æ•°æ®é›†ä¸Šï¼Œä¸ä¹‹å‰ä½¿ç”¨æ‰‹å·¥åˆ¶ä½œéƒ¨ä»¶æˆ–éå†è§„åˆ™çš„æ–¹æ³•ç›¸æ¯”ï¼Œæ‰€æå‡ºçš„æ¨¡å‹è·å¾—äº†æ›´å¥½çš„æ€§èƒ½ï¼Œåœ¨æ‰‹å·¥è®¾è®¡æ–¹é¢çš„å·¥ä½œé‡å¤§å¤§å‡å°‘ã€‚ST-GCN çš„ä»£ç å’Œæ¨¡å‹æ˜¯å…¬å¼€çš„ã€‚</li>
</ul>
<h3 id="ST-GCNï¼šåŸºäºå›¾çš„åŠ¨æ€éª¨éª¼å»ºæ¨¡é€šç”¨å…¬å¼"><a href="#ST-GCNï¼šåŸºäºå›¾çš„åŠ¨æ€éª¨éª¼å»ºæ¨¡é€šç”¨å…¬å¼" class="headerlink" title="ST-GCNï¼šåŸºäºå›¾çš„åŠ¨æ€éª¨éª¼å»ºæ¨¡é€šç”¨å…¬å¼"></a>ST-GCNï¼šåŸºäºå›¾çš„åŠ¨æ€éª¨éª¼å»ºæ¨¡é€šç”¨å…¬å¼</h3><img src="/2024/09/13/10-54-10/c837aa026e5755538d5406dd26bdb6d2.png" class>
<p>åˆ†åˆ«ä¸ºä¸¤ç§è¾¹ï¼šæ—¶é—´è¾¹ï¼Œç©ºé—´è¾¹ã€‚<br>ST-GCN çš„å±‚æ¬¡ç‰¹æ€§æ¶ˆé™¤äº†æ‰‹å·¥åˆ¶ä½œçš„éƒ¨ä»¶åˆ†é…æˆ–éå†è§„åˆ™çš„éœ€è¦ã€‚</p>
<blockquote>
<p>ä¼ ç»Ÿçš„éª¨æ¶æ¨¡å‹æ–¹æ³•ä¸­ï¼Œæ ¹æ®é¢„å®šä¹‰çš„éƒ¨ä»¶åˆ†é…å’Œéå†è§„åˆ™å¯¹éª¨æ¶è¿›è¡Œå»ºæ¨¡ã€‚<br>å…·ä½“è§„åˆ™ï¼š<br>1.äººä½“éª¨æ¶çš„æ„æˆæ–¹å¼å’Œè¿æ¥é¡ºåºã€‚<br>2.èŠ‚ç‚¹å¯¹åº”çš„èº«ä½“éƒ¨ä½ã€ç¼–å·å’Œåç§°ç­‰ä¿¡æ¯ã€‚<br>3.éª¨æ¶èŠ‚ç‚¹çš„æœç´¢é¡ºåºå’Œéå†æ–¹å¼ã€‚</p>
</blockquote>
<p><strong>STGCNå¯ä»¥åŠ¨æ€å­¦ä¹ ç°æœ‰æ•°æ®çš„å…³ç³»è§„åˆ™</strong></p>
<p>ST-GCN åœ¨è¿›è¡Œæ—¶ç©ºå›¾å·ç§¯ä¹‹å‰ï¼Œä»ç„¶éœ€è¦å¯¹éª¨æ¶èŠ‚ç‚¹è¿›è¡Œéƒ¨ä»¶åˆ†é…å’Œéå†è§„åˆ™çš„è®¾è®¡ã€‚å¯ä»¥æ ¹æ®ä¸åŒä»»åŠ¡ï¼Œè®¾å®šä¸åŒè§„åˆ™ã€‚</p>
<h3 id="ST-GCN-æ¨¡å‹ä¸­çš„ç»„ä»¶"><a href="#ST-GCN-æ¨¡å‹ä¸­çš„ç»„ä»¶" class="headerlink" title="ST-GCN æ¨¡å‹ä¸­çš„ç»„ä»¶"></a>ST-GCN æ¨¡å‹ä¸­çš„ç»„ä»¶</h3><p>åœ¨å…·æœ‰ N ä¸ªå…³èŠ‚å’Œ T ä¸ªæ¡†æ¶ï¼ˆå¸§ï¼‰çš„éª¨æ¶åºåˆ—ä¸Šæ„é€ äº†æ— å‘æ—¶ç©ºå›¾ $G=(V,E)$</p>
<ul>
<li>èŠ‚ç‚¹é›†$V=\{v_{ti}\left|t=1, \ldots, T;i=1, \ldots, N\right\}$åŒ…æ‹¬éª¨æ¶åºåˆ—ä¸­çš„æ‰€æœ‰å…³èŠ‚,èŠ‚ç‚¹ $F(v_{ti}\mathrm{~})$ ä¸Šçš„ç‰¹å¾å‘é‡ç”±å¸§ $t$ ä¸Šç¬¬ $i$ ä¸ªå…³èŠ‚çš„åæ ‡å‘é‡å’Œä¼°è®¡ç½®ä¿¡åº¦ç»„æˆã€‚</li>
<li>è¾¹é›† E:<br>éª¨æ¶å†…è¿æ¥ï¼Œè®°ä¸º $E_S=\{v_{ti} v_{tj} |(i,j)\in H\},$ï¼Œå…¶ä¸­ $H$ ä¸ºè‡ªç„¶è¿æ¥çš„äººä½“å…³èŠ‚é›†åˆ<br>å¸§é—´è¾¹ï¼š$E_F=\{v_{ti}v_{(t+1)i}\}$</li>
</ul>
<h3 id="ç©ºé—´å›¾å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#ç©ºé—´å›¾å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="ç©ºé—´å›¾å·ç§¯ç¥ç»ç½‘ç»œ"></a>ç©ºé—´å›¾å·ç§¯ç¥ç»ç½‘ç»œ</h3><h4 id="å•å¸§çš„å›¾CNNæ¨¡å‹"><a href="#å•å¸§çš„å›¾CNNæ¨¡å‹" class="headerlink" title="å•å¸§çš„å›¾CNNæ¨¡å‹"></a>å•å¸§çš„å›¾CNNæ¨¡å‹</h4><p>åœ¨æ—¶é—´ $\tau$ çš„å•ä¸ªå¸§ä¸Šï¼Œå°†æœ‰ $N$ ä¸ªå…³èŠ‚èŠ‚ç‚¹ $V_t$â€‹ï¼Œä»¥åŠéª¨æ¶è¾¹ $E_S\left(\tau\right)=\{v_{ti} v_{tj} |t=\tau , (i,j)\in H\}$ã€‚</p>
<p>ç»™å®šæ ¸å°ºå¯¸ä¸º $KÃ—K$ çš„å·ç§¯ç®—å­ï¼Œä»¥åŠé€šé“æ•°é‡ä¸º $c$ çš„è¾“å…¥ç‰¹å¾æ˜ å°„ $f_{in}$â€‹ã€‚åœ¨ç©ºé—´ä½ç½® $x$ å¤„ï¼Œå•ä¸ªé€šé“çš„è¾“å‡ºå€¼å¯ä»¥å†™æˆï¼š<br>$f_{out}\left(x\right)=\sum_{h=1}^K\sum_{w=1}^Kf_{in}\left(\mathbf{p}(\mathbf{x},h,w)\right)\cdotp\mathbf{w}(h,w)$</p>
<p>æŠ½æ ·å‡½æ•° $\mathbf{p}$ï¼š$Z^2\times Z^2\to Z^2$ åˆ—ä¸¾äº†ç©ºé—´ä½ç½® $x$ çš„é‚»å±…çš„ä½ç½®ã€‚åœ¨å›¾åƒå·ç§¯ï¼Œå®ƒä¹Ÿå¯ä»¥è¡¨ç¤ºä¸º $\mathbf{p}(\mathbf{x},h,w)=\mathbf{x}+\mathbf{p}^{\prime}(h,w)$ã€‚æƒå‡½æ•° $\mathbf{w}$:$Z^2\to\mathbb{R}^c$ æä¾›äº†ä¸€ä¸ª $c$ ç»´å®ç©ºé—´ä¸­çš„æƒå‘é‡ï¼Œç”¨äºè®¡ç®—ä¸é‡‡æ ·çš„ $c$ ç»´è¾“å…¥ç‰¹å¾å‘é‡çš„å†…ç§¯ã€‚æ³¨æ„ï¼Œæƒå‡½æ•°ä¸è¾“å…¥ä½ç½® $x$ æ— å…³ã€‚å› æ­¤ï¼Œåœ¨è¾“å…¥å›¾åƒæ»¤æ³¢å™¨æƒé‡åˆ°å¤„éƒ½æ˜¯å…±äº«çš„ã€‚</p>
<blockquote>
<p>$\mathbf{p}^{\prime}(h,w)$ï¼šæ˜ å°„ä¸€ä¸ªæ–¹å‘è®¿é—®å‡½æ•°ï¼Œç±»ä¼¼è±¡æ£‹ä¸­çš„[0,-1],[1,0];</p>
<p>æŠ½æ ·å‡½æ•° $\mathbf{p}$ï¼š å°±æ˜¯ä¸€ä¸ªç¼–ç çš„å®šä½å‡½æ•°ï¼Œæ˜ å°„$x$ä½ç½®é™„è¿‘çš„å·ç§¯æ ¸å†…å¯¹åº”çš„ä½ç½®ã€‚</p>
</blockquote>
<p>ä»äºŒç»´æŠ½è±¡åˆ°ä¸‰ç»´ï¼š<br>é€šè¿‡å°†ä¸Šè¿°å…¬å¼æ‰©å±•åˆ°è¾“å…¥ç‰¹å¾æ˜ å°„ä½äºç©ºé—´å›¾ $V_t$â€‹ ä¸Šçš„æƒ…å†µï¼Œæ¥å®šä¹‰å›¾ä¸Šçš„å·ç§¯æ“ä½œã€‚å³ç‰¹å¾æ˜ å°„ $f_{in}^t$â€‹ï¼š$V_tâ€‹â†’R^c$ åœ¨å›¾çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªå‘é‡ã€‚æ‰©å±•çš„ä¸‹ä¸€æ­¥æ˜¯é‡æ–°å®šä¹‰æŠ½æ ·å‡½æ•° p å’Œæƒé‡å‡½æ•° wã€‚</p>
<h4 id="é‡‡æ ·å‡½æ•°"><a href="#é‡‡æ ·å‡½æ•°" class="headerlink" title="é‡‡æ ·å‡½æ•°"></a>é‡‡æ ·å‡½æ•°</h4><p>åœ¨å›¾åƒä¸Šï¼Œé‡‡æ ·å‡½æ•° $\mathbf{p}(h,w)$ æ˜¯åœ¨ç›¸é‚»åƒç´ ç‚¹å…³äºä¸­å¿ƒä½ç½® $x$ ä¸Šå®šä¹‰çš„ã€‚åœ¨å›¾ä¸Šï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥åœ¨èŠ‚ç‚¹ $v_{ti}$â€‹ çš„é‚»å±…é›† $B(v_{ti})=\{v_{tj}|d(v_{tj},v_{ti})\leq D\}$ ä¸Šå®šä¹‰é‡‡æ ·å‡½æ•°ã€‚è¿™é‡Œ $d(v_{tj},v_{ti}\mathrm{~})$ è¡¨ç¤ºä» $v_{tj}$â€‹ åˆ° $v_{ti}$â€‹ çš„ä»»ä½•è·¯å¾„çš„æœ€å°é•¿åº¦ã€‚å› æ­¤ï¼ŒæŠ½æ ·å‡½æ•° $\mathbf{p}:B(v_{ti})\to V$ å¯ä»¥å†™æˆï¼š<br>$\mathbf{p}(v_{ti},v_{tj})=v_{tj}$</p>
<blockquote>
<p>æ³¨æ„è¿™é‡Œçš„ $v_{tj}$ æ˜¯èŠ‚ç‚¹ $v_{ti}$ çš„é‚»å±…é›† $B(v_{ti})$ ä¸­çš„èŠ‚ç‚¹ï¼Œå³å½“ $D=1$ æ—¶ï¼Œé‡‡æ ·å‡½æ•° $\mathbf{p}$ å–çš„æ˜¯é‚»æ¥ç‚¹ã€‚</p>
</blockquote>
<h4 id="æƒé‡å‡½æ•°"><a href="#æƒé‡å‡½æ•°" class="headerlink" title="æƒé‡å‡½æ•°"></a>æƒé‡å‡½æ•°</h4><p>ä¸»è¦æ˜¯å¦‚ä½•å®šä¹‰å›¾çš„é¡ºåºï¼Œä¿è¯æƒé‡å¯ä»¥æŒ‰é¡ºåºå¯¹é‚»æ¥ç‚¹ä½œç”¨ã€‚</p>
<p>å°†ä¸€ä¸ªå…³èŠ‚ç‚¹ $v_{ti}$ çš„é‚»å±…é›† $B(v_{ti})$ åˆ’åˆ†ä¸ºå›ºå®šæ•°é‡çš„ $K$ ä¸ªå­é›†ï¼Œå…¶ä¸­æ¯ä¸ªå­é›†éƒ½æœ‰ä¸€ä¸ªæ•°å­—æ ‡ç­¾ï¼Œä» $0$ åˆ° $K-1$ã€‚</p>
<p>æ˜ å°„ $l_{ti}: B(v_{ti} )\to\{0, \ldots, K-1\}$ï¼Œ<br>æƒé‡å‡½æ•° $\mathbf{w}(v_{ti},v_{tj}):B(v_{ti})\to R^c$ å¯ä»¥é€šè¿‡ç´¢å¼•ä¸€ä¸ª $(c,K)$ ç»´å¼ é‡æˆ–<br>$\mathbf{w}(v_{ti},v_{tj})=\mathbf{w}^{\prime}(l_{ti}\left(v_{tj}\right))$<br>æ¥å®ç°ã€‚</p>
<blockquote>
<p>å³ç›¸åŒæ ‡ç­¾ä¼šä½¿ç”¨åŒä¸€ä¸ªæƒé‡ï¼Œä¿æŒæƒé‡å‡½æ•°ä¸å˜ï¼Œæ‹“å±•åˆ°æ¯ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>cï¼šæŒ‡çš„åº”è¯¥æ˜¯é€šé“æ•°</p>
</blockquote>
<h4 id="ç©ºé—´å›¾å·ç§¯"><a href="#ç©ºé—´å›¾å·ç§¯" class="headerlink" title="ç©ºé—´å›¾å·ç§¯"></a>ç©ºé—´å›¾å·ç§¯</h4><p>æœ‰äº†æ”¹è¿›çš„æŠ½æ ·å‡½æ•°å’Œæƒå‡½æ•°ï¼Œæˆ‘ä»¬ç°åœ¨ç”¨å›¾å·ç§¯é‡å†™å…¬å¼(1)å¦‚ä¸‹ï¼š<br>$f_{out}\left(v_{ti}\right)=\sum_{v_{tj}\in B(v_{ti})}\frac1{Z_{ti}\left(v_{tj}\right)}f_{in}\left(\mathbf{p}(v_{ti},v_{tj})\right)\cdotp\mathbf{w}(v_{ti},v_{tj})$å…¶ä¸­å½’ä¸€é¡¹ $Z_{ti}\left(v_{tj}\right.)=\left|v_{tk}\left|l_{ti}\left(v_{tk}\right.\right)=l_{ti}\left(v_{tj}\right.\right)|$ ç­‰äºç›¸åº”å­é›†çš„åŸºæ•°ã€‚ä¸ºäº†å¹³è¡¡ä¸åŒå­é›†å¯¹è¾“å‡ºçš„è´¡çŒ®ã€‚</p>
<p>å¾—åˆ°<br>$f_{out}\left(v_{ti}\right)=\sum_{v_{tj}\in B\left(v_{ti}\right)}\frac1{Z_{ti}\left(v_{tj}\right)}f_{in}\left(v_{tj}\right)\cdotp\mathbf{w}(l_{ti}\left(v_{tj}\right))$</p>
<h4 id="æ—¶ç©ºå»ºæ¨¡"><a href="#æ—¶ç©ºå»ºæ¨¡" class="headerlink" title="æ—¶ç©ºå»ºæ¨¡"></a>æ—¶ç©ºå»ºæ¨¡</h4><p>éœ€è¦é‡æ–°å®šä¹‰ç›¸é‚»ä½ç½®çš„å…³ç³»ï¼Œå¢åŠ æ—¶é—´ç›¸é‚»ç‚¹ã€‚</p>
<blockquote>
<p>å°†2Då›¾åƒå¢åŠ æ—¶é—´ç»´åº¦ï¼Œè½¬æ¢ä¸º3Då›¾åƒï¼Œåº”ç”¨åˆ°å›¾å·ç§¯ç¥ç»ç½‘ç»œã€‚</p>
</blockquote>
<p>$B(v_{ti})=\{v_{qj}\left|d(v_{tj},v_{ti})\leq K,\left|q-t\right|\leq\left\lfloor\Gamma/2\right\rfloor\right\}$<br>è¯¥å…¬å¼å®šä¹‰äº†æ¯ä¸ªèŠ‚ç‚¹çš„é‚»åŸŸ $B(v_{ti})$ åŒ…æ‹¬ç©ºé—´è·ç¦»ä¸è¶…è¿‡ $K $ä¸ªå•ä½çš„æ‰€æœ‰èŠ‚ç‚¹å’Œæ—¶é—´è·ç¦»ä¸è¶…è¿‡ $\lfloor\Gamma/2\rfloor$ ä¸ªå•ä½çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚å…¶ä¸­ï¼Œå‚æ•° $\Gamma$ æ§åˆ¶æ—¶é—´ä¸Šè¦åŒ…å«åœ¨é‚»åŸŸå›¾ä¸­çš„èŒƒå›´ï¼Œå› æ­¤å¯ä»¥ç§°ä¸ºæ—¶é—´å†…æ ¸å¤§å°ã€‚</p>
<p>é‡æ–°ä¿®æ”¹æ˜ å°„æ ‡ç­¾ï¼š$l_{ST}\left(v_{qj}\right)=l_{ti}\left(v_{tj}\right)+\left(q-t+\left\lfloor\Gamma/2\right\rfloor\right)\times K$<br>å…¶ä¸­ $l_{ti}\left(v_{tj}\right)$ æ˜¯åœ¨ä¸€ä¸ªå•å¸§ $t$ ä¸Šå…³èŠ‚ $i$ çš„é‚»æ¥ç‚¹ $j$ çš„æ ‡ç­¾æ˜ å°„ï¼Œè€Œ $(q-t+\lfloor\Gamma/2\rfloor)\times K$ ç”¨äºåœ¨æ—¶é—´ç»´åº¦ä¸Šå¯¹æ ‡ç­¾è¿›è¡Œç¼–ç ã€‚</p>
<blockquote>
<p>å¯¹æ—¶é—´çš„å‰åæ­£è´Ÿï¼Œè½¬ç§»åˆ°æ­£æ•°è½´ä¸Šï¼Œä¹˜$K$ï¼Œå°†æ‰€æœ‰çš„æ•°æ®è½¬ç§»åˆ°ä¸€ç»´æ•°ç»„å†…çš„é¡ºåºã€‚å¯ä»¥é€šè¿‡æ¯ä¸€ä¸ªä¸‹æ ‡ï¼Œå®šä½åˆ°ç¬¬å‡ ä¸ªèŠ‚ç‚¹çš„ç¬¬å‡ ä¸ªæ—¶é—´å¸§å†…ã€‚</p>
<p>æ³¨ï¼šæ—¶é—´é¡ºåº(-1,0,1)ï¼Œå˜æ¢æ˜ å°„åˆ°(0,1,2)çš„ä¸‰ç»„Kç»´æ ‡ç­¾ä¸Šã€‚</p>
</blockquote>
<h3 id="åˆ†åŒºç­–ç•¥"><a href="#åˆ†åŒºç­–ç•¥" class="headerlink" title="åˆ†åŒºç­–ç•¥"></a>åˆ†åŒºç­–ç•¥</h3><p>æ ‡ç­¾æ˜ å°„ï¼šå°†ç›¸é‚»çš„æ¥ç‚¹æ˜ å°„åˆ°æ ‡ç­¾å†…ã€‚<br>æ ‡ç­¾åˆ’åˆ†ï¼šå¦‚ä½•ç¡®å®šæ¥ç‚¹çš„å±äºå“ªä¸ªæ ‡ç­¾ã€‚</p>
<img src="/2024/09/13/10-54-10/2cd7d888fa671be10bd482949b831e2d.png" class>
<p>ä¸Šå›¾æ˜¯æ„é€ å·ç§¯è¿ç®—çš„åˆ’åˆ†ç­–ç•¥ã€‚ä»å·¦åˆ°å³ï¼š</p>
<p>ï¼ˆaï¼‰è¾“å…¥éª¨æ¶ç¤ºä¾‹å¸§ã€‚èº«ä½“å…³èŠ‚ç”¨è“ç‚¹ç»˜åˆ¶ã€‚D=1 çš„è¿‡æ»¤å™¨çš„æ¥å—åŸŸç”¨çº¢è‰²è™šçº¿åœˆç»˜åˆ¶ã€‚</p>
<p>ï¼ˆbï¼‰å•æ ‡ç­¾åˆ†åŒºç­–ç•¥ï¼Œå³ä¸€ä¸ªé‚»åŸŸå†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ç›¸åŒçš„æ ‡ç­¾(ç»¿è‰²)ã€‚</p>
<p>ï¼ˆcï¼‰è·ç¦»åˆ†åŒºç­–ç•¥ï¼Œè¿™ä¸¤ä¸ªå­é›†æ˜¯è·ç¦»ä¸º0çš„æ ¹èŠ‚ç‚¹æœ¬èº«(ç»¿è‰²)å’Œè·ç¦»ä¸º1çš„å…¶ä»–ç›¸é‚»ç‚¹(è“è‰²)ã€‚</p>
<p>ï¼ˆdï¼‰ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥ï¼ŒèŠ‚ç‚¹æ ¹æ®ä¸éª¨æ¶é‡å¿ƒ(é»‘è‰²åå­—)çš„è·ç¦»åˆ†ä¸ºï¼šæ ¹èŠ‚ç‚¹(ç»¿è‰²)çš„è·ç¦»æœ€è¿‘ï¼Œå‘å¿ƒèŠ‚ç‚¹çš„è·ç¦»è¾ƒçŸ­(è“è‰²)ï¼Œè€Œç¦»å¿ƒèŠ‚ç‚¹çš„è·ç¦»è¾ƒé•¿(é»„è‰²)ã€‚</p>
<p>ç›¸åŒæ ‡ç­¾çš„å­é›†ï¼Œä½¿ç”¨ç›¸åŒçš„æƒé‡ã€‚</p>
<h4 id="Uni-labeling-å•æ ‡ç­¾åˆ†åŒºç­–ç•¥"><a href="#Uni-labeling-å•æ ‡ç­¾åˆ†åŒºç­–ç•¥" class="headerlink" title="Uni-labeling å•æ ‡ç­¾åˆ†åŒºç­–ç•¥"></a>Uni-labeling å•æ ‡ç­¾åˆ†åŒºç­–ç•¥</h4><p>æ‰€æœ‰èŠ‚ç‚¹ä¸€ä¸ªæ ‡ç­¾ï¼Œåªæœ‰ä¸€ç§æƒé‡ã€‚</p>
<h4 id="istance-partitioning-è·ç¦»åˆ†åŒºç­–ç•¥"><a href="#istance-partitioning-è·ç¦»åˆ†åŒºç­–ç•¥" class="headerlink" title="istance partitioning è·ç¦»åˆ†åŒºç­–ç•¥"></a>istance partitioning è·ç¦»åˆ†åŒºç­–ç•¥</h4><p>$D$ = 1,çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸¤ç§æƒé‡ï¼Œåˆ†ä¸ºä¸¤ä¸ªå­é›†ã€‚</p>
<h4 id="Spatial-configuration-partitioning-ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥"><a href="#Spatial-configuration-partitioning-ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥" class="headerlink" title="Spatial configuration partitioning ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥"></a>Spatial configuration partitioning ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥</h4><p><strong>å°†èŠ‚ç‚¹é›†åˆ†ä¸ºä¸‰ä¸ªå­é›†ï¼š</strong>  åªæœ‰ä¸€ç§è¿æ¥åˆ’åˆ†ï¼Œæ²¡æœ‰èŠ‚ç‚¹åˆ’åˆ†<br>1)æ ¹èŠ‚ç‚¹ï¼›è·ç¦»ä¸­å¿ƒèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹</p>
<p>2)è¿‘èŠ‚ç‚¹ï¼šè·ç¦»è·Ÿç¬¬äºŒè¿‘çš„èŠ‚ç‚¹</p>
<p>3)å¦åˆ™è¿œè¿æ¥ã€‚å…¶ä»–èŠ‚ç‚¹</p>
<p><strong>å°†èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥åˆ†ä¸ºä¸‰ä¸ªå­é›†ï¼š</strong><br>1)æ ¹è¿æ¥ï¼›å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ä¸ä¸­å¿ƒèŠ‚ç‚¹è·³è·ç›¸åŒï¼Œè§†ä¸ºæ ¹è¿æ¥<br>å…·æœ‰å¯¹ç§°æ€§</p>
<p>2)è¿‘è¿æ¥ï¼šä¸€ä¸ªèŠ‚ç‚¹æ¯”å¦ä¸€ä¸ªèŠ‚ç‚¹è·ç¦»ä¸­å¿ƒèŠ‚ç‚¹æ›´è¿‘<br>j&gt;i,åˆ™$adj[j][i]$å±äºè¿‘è¿æ¥ï¼Œçœ‹ç»ˆç‚¹çš„è·ç¦» </p>
<p>3)å¦åˆ™è¿œè¿æ¥ã€‚</p>
<p>\begin{split}<br>l_{ti}\left(v_{tj}\right)=<br>\begin{cases}<br>0, &amp; r_j=r_i \\<br>1, &amp; r_j &lt; r_i \\<br>2, &amp; r_j &gt; r_i<br>\end{cases}<br>\end{split}</p>
<p>å…¶ä¸­ $r_i$â€‹ æ˜¯è®­ç»ƒé›†ä¸­æ‰€æœ‰å¸§ä¸­ä»é‡å¿ƒåˆ°å…³èŠ‚ $i$ çš„å¹³å‡è·ç¦»ã€‚</p>
<blockquote>
<p>ä¼šä¸ä¼šå‡ºç°ä¸‰ç§æ ‡ç­¾ï¼Œåªæœ‰ä¸¤ç§ï¼šå¦‚ç«¯èŠ‚ç‚¹</p>
</blockquote>
<h3 id="å¯å­¦ä¹ è¾¹ç¼˜é‡è¦æ€§åŠ æƒ"><a href="#å¯å­¦ä¹ è¾¹ç¼˜é‡è¦æ€§åŠ æƒ" class="headerlink" title="å¯å­¦ä¹ è¾¹ç¼˜é‡è¦æ€§åŠ æƒ"></a>å¯å­¦ä¹ è¾¹ç¼˜é‡è¦æ€§åŠ æƒ</h3><p>æˆ‘ä»¬åœ¨æ—¶ç©ºå›¾å·ç§¯çš„æ¯ä¸€å±‚ä¸Šéƒ½åŠ ä¸Šä¸€ä¸ªå¯å­¦ä¹ çš„æ©ç  $M$ã€‚<br>æ©ç å°†æ ¹æ® $E_s$â€‹ ä¸­æ¯ä¸ªç©ºé—´å›¾è¾¹çš„å­¦ä¹ é‡è¦æ€§æƒé‡ï¼Œå°†èŠ‚ç‚¹çš„ç‰¹å¾è´¡çŒ®æ‰©å±•åˆ°å…¶é‚»è¿‘èŠ‚ç‚¹ã€‚</p>
<p><strong>ä½œè€…è®¤ä¸ºæœªæ¥æ”¹è¿›æ–¹å‘</strong></p>
<ul>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¾èµ–äºæ•°æ®çš„æ³¨æ„åŠ›å›¾ï¼Œæ¥æå‡ç©ºé—´ç‰¹å¾çš„è´¡çŒ®æ‰©å±•æ•ˆæœã€‚</li>
</ul>
<h2 id="å®ç°-ST-GCN"><a href="#å®ç°-ST-GCN" class="headerlink" title="å®ç° ST-GCN"></a>å®ç° ST-GCN</h2><p>æˆ‘ä»¬é‡‡ç”¨ç±»ä¼¼äº(Kipfå’ŒWelling 2017)ä¸­çš„å›¾å·ç§¯å®ç°ã€‚å•å¸§å†…å…³èŠ‚çš„ä½“å†…è¿æ¥ç”±è¡¨ç¤ºè‡ªè¿æ¥çš„é‚»æ¥çŸ©é˜µ $A$ å’Œå•ä½çŸ©é˜µ $I$ è¡¨ç¤ºã€‚<br>åœ¨å•å¸§æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ç¬¬ä¸€ä¸ªåˆ†åŒºç­–ç•¥çš„ ST-GCN å¯ä»¥ç”¨ä»¥ä¸‹å…¬å¼å®ç°<br> $\mathbf{f}_{out}=\mathbf{\Lambda}^{ {-\frac{1}{2}} }(\mathbf{A}+\mathbf{I})\mathbf{\Lambda}^{ {-\frac{1}{2}} }\mathbf{f}_{in}\mathbf{W}$<br>è§£é‡Šï¼š</p>
<ul>
<li>$\mathbf{f}_{in}$: è¾“å…¥ç‰¹å¾çŸ©é˜µ,æ¯è¡Œå¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹çš„ç‰¹å¾å‘é‡,æ˜¯ä¸€ä¸ªè¡Œå‘é‡ï¼Œå…·æœ‰å¤šä¸ªç‰¹å¾ã€‚</li>
<li>$\mathbf{\Lambda}$: åº¦çŸ©é˜µ</li>
<li>$\mathbf{\Lambda}^{ {-\frac{1}{2}} }$: å¹³æ–¹æ ¹çš„å€’æ•°ï¼Œç”¨äºå½’ä¸€åŒ–</li>
<li>$\mathbf{A}$: é‚»æ¥çŸ©é˜µ, è¡Œ$i$æ˜¯å‡ºå‘ç‚¹ï¼Œåˆ—$j$æ˜¯è¿æ¥ç‚¹</li>
<li>$\mathbf{I}$: å•ä½çŸ©é˜µï¼Œè¡¨ç¤ºè‡ªç¯</li>
</ul>
<h3 id="å…¬å¼çš„è§£æï¼š-æ­¤å…¬å¼æ¥æºäºGCNä¸­ï¼ŒST-GCNæ²¡æœ‰åšä¿®æ”¹"><a href="#å…¬å¼çš„è§£æï¼š-æ­¤å…¬å¼æ¥æºäºGCNä¸­ï¼ŒST-GCNæ²¡æœ‰åšä¿®æ”¹" class="headerlink" title="å…¬å¼çš„è§£æï¼š(æ­¤å…¬å¼æ¥æºäºGCNä¸­ï¼ŒST-GCNæ²¡æœ‰åšä¿®æ”¹)"></a>å…¬å¼çš„è§£æï¼š(æ­¤å…¬å¼æ¥æºäºGCNä¸­ï¼ŒST-GCNæ²¡æœ‰åšä¿®æ”¹)</h3><p><img src="/2024/09/13/10-54-10/QQ_1727574536215.png" alt=" "></p>
<p><img src="/2024/09/13/10-54-10/QQ_1727574561853.png" alt=" "></p>
<p><img src="/2024/09/13/10-54-10/QQ_1727575199340.png" alt=" "></p>
<p><img src="/2024/09/13/10-54-10/QQ_1727575217843.png" alt=" "></p>
<blockquote>
<p>ç”¨å…¬å¼æ³•å±•å¼€ç®—ä¸€éï¼Œå°±èƒ½ç®—å‡ºä¸Šé¢çš„å…¬å¼ã€‚</p>
</blockquote>
<p><img src="/2024/09/13/10-54-10/QQ_1727575622534.png" alt=" "></p>
<p>\begin{split}<br>\bar{\boldsymbol{x}}_i &amp;= \sum_{j=1}^n \tilde{a}_{i,j} \boldsymbol{x}_j  \\<br>&amp;= \sum_{j \in \text{Neigh}(i)} \tilde{a}_{i,j} \boldsymbol{x}_j  \\<br>&amp;= \sum_{j \in \text{Neigh}(i)} \frac{1}{\sqrt{d_{i,i} d_{j,j} } } \boldsymbol{x}_j<br>\end{split}</p>
<p><img src="/2024/09/13/10-54-10/QQ_1727576201509.png" alt=" "></p>
<p><img src="/2024/09/13/10-54-10/QQ_1727576424168.png" alt=" "></p>
<p>ä¸Šå›¾ä¸­ï¼šåˆå§‹è¾“å…¥$x_i$ï¼Œç»è¿‡çŸ©é˜µ$A$ï¼Œè½¬å˜ä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥å‘é‡ã€‚æ•°å­¦è¡¨ç¤ºä¸ºï¼š</p>
<p>\begin{split}<br>\boldsymbol{H}_1 &amp;:= f_{\boldsymbol{W}_1}(\boldsymbol{X}, \boldsymbol{A}) \\ \boldsymbol{H}_2 &amp;:= f_{\boldsymbol{W}_2}(\boldsymbol{H}_1, \boldsymbol{A}) \\ \boldsymbol{H}_3 &amp;:= f_{\boldsymbol{W}_3}(\boldsymbol{H}_2, \boldsymbol{A})<br>\end{split}</p>
<p><img src="/2024/09/13/10-54-10/QQ_1727578045439.png" alt=" "></p>
<p>å…¬å¼è®¡ç®—è¿‡ç¨‹</p>
<ul>
<li><p>è‡ªç¯çŸ©é˜µï¼š$\tilde{\mathbf{A}}=\mathbf{A}+\mathbf{I}$</p>
</li>
<li><p>å¯¹ç§°å½’ä¸€åŒ–ï¼š$\tilde{\mathbf{A}}_{\mathrm{norm}}=\Lambda^{-\frac12}\tilde{\mathbf{A}}\Lambda^{-\frac12}$</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¸é‡‡å‡å€¼å½’ä¸€åŒ–ï¼Œé«˜åº¦èŠ‚ç‚¹åœ¨èšåˆè¿‡ç¨‹ä¸­ï¼Œä¸ä½åº¦èŠ‚ç‚¹å…·æœ‰ä¸åŒçš„ä½œç”¨ï¼Œå‰Šå¼±é«˜åº¦èŠ‚ç‚¹çš„å½±å“ï¼Œé˜²æ­¢å¤šé‡ä¼ æ’­ä¿¡æ¯çˆ†ç‚¸ã€‚</p>
</blockquote>
<p>ä¿æŒäº†æ•°å€¼çš„ç¨³å®šæ€§ï¼Œé˜²æ­¢ç‰¹å¾ä¿¡æ¯åœ¨ä¼ æ’­ä¸­è¿‡åº¦ç¼©æ”¾ã€‚<br>è¿‡ç¨‹ï¼š</p>
<ol>
<li>å…ˆå³ä¹˜$\Lambda^{-\frac12}$ï¼šå¯¹æ¯ä¸ªè¾¾åˆ°èŠ‚ç‚¹çš„é‚»æ¥èŠ‚ç‚¹è¿›è¡Œç¼©æ”¾,é«˜åº¦èŠ‚ç‚¹ï¼Œå½±å“è¢«ç¼©å°äº†ã€‚</li>
<li>å†å·¦ä¹˜$\Lambda^{-\frac12}$ï¼šå¯¹å‡ºå‘èŠ‚ç‚¹çš„é‚»æ¥èŠ‚ç‚¹è¿›è¡Œç¼©æ”¾ï¼Œä¿æŒä¼ æ’­å¹³è¡¡ï¼Œé¿å…å•å‘å½±å“ã€‚å³æ·»åŠ äº†ä¿¡æ¯å›ä¼ çš„å¹³è¡¡ã€‚</li>
</ol>
</li>
<li><p>è¾“å…¥ç‰¹å¾ä¸é‚»æ¥çŸ©é˜µä¼ æ’­: $\tilde{\mathbf{A}}_{\mathrm{norm}}\mathbf{f}_{\mathrm{in}}$æ¯ä¸ªèŠ‚ç‚¹å°†ä»å®ƒçš„é‚»å±…èŠ‚ç‚¹ä¸­æ¥æ”¶ç‰¹å¾å¹¶è¿›è¡Œèšåˆã€‚<br>è¿‡ç¨‹ï¼š<br>\begin{split}<br>\mathbf{f}_{\mathrm{in}}=\begin{bmatrix}\mathbf{f}_1 \\<br>\mathbf{f}_2 \\<br>\vdots \\<br>\mathbf{f}_N\end{bmatrix}\in\mathbb{R}^{N\times F_{\mathrm{in} } }<br>\end{split}</p>
<ul>
<li>ç‰¹å¾ä¼ æ’­å…¬å¼ï¼š$\mathbf{f}_{\mathrm{prop}}=\mathbf{Af}_{\mathrm{in}}$</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹$i$ï¼Œå®ƒçš„æ–°ç‰¹å¾$\mathbf{f}_{i,\mathrm{prop}}$ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºï¼š$\mathbf{f}_{i,\mathrm{prop}}=\sum_{j\in\mathcal{N}(i)}A_{ij}\mathbf{f}_j$<br>å…¶ä¸­ï¼Œ$\mathcal{N}(i)$: è¡¨ç¤º$i$çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹</li>
<li>èŠ‚ç‚¹$i$çš„æ–°ç‰¹å¾å‘é‡æ˜¯å…¶æ‰€æœ‰é‚»å±…èŠ‚ç‚¹ç‰¹å¾å‘é‡çš„åŠ æƒå’Œ</li>
</ul>
</li>
<li><p>å‡è®¾$N$ä¸ªèŠ‚ç‚¹ï¼Œ$d_{in}$ç»´çš„è¾“å…¥ç‰¹å¾: $\tilde{\mathbf{A}}_{\mathrm{norm}}f_{\mathrm{in}}$<br>è¡¨ç¤ºå°†é‚»å±…èŠ‚ç‚¹çš„ä¿¡æ¯é€šè¿‡å½’ä¸€åŒ–é‚»æ¥çŸ©é˜µä¼ æ’­ç»™æ¯ä¸ªèŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„æ–°ç‰¹å¾æ˜¯æ ¹æ®å…¶ç›¸é‚»èŠ‚ç‚¹çš„ç‰¹å¾è¿›è¡ŒåŠ æƒæ±‚å’Œ</p>
</li>
</ul>
<blockquote>
<p>ä½¿ç”¨è‡ªè¿æ¥çŸ©é˜µï¼Œæ˜¯ä¸ºäº†ç”¨é‚»æ¥çŸ©é˜µç®—åº¦ï¼Ÿ</p>
</blockquote>
<p> å…¶ä¸­$\Lambda^{ii}=\sum_j(A^{ij}+I^{ij})$ï¼Œåº¦çŸ©é˜µã€‚$\mathbf{W}$å¤šä¸ªé€šé“å åŠ çš„æƒé‡ã€‚<br>å®é™…ä¸­åœ¨æ—¶ç©ºçš„æƒ…å†µä¸‹ï¼Œè¾“å…¥ç»´åº¦ä¸º$(C,V,T)$çš„ç‰¹å¾å¼ é‡ã€‚</p>
<p>åœ¨æœ‰å¤šä¸ªå­é›†çš„åˆ†åŒºä¸­ï¼Œå°†é‚»æ¥çŸ©é˜µåˆ†è§£ä¸ºå‡ ä¸ªçŸ©é˜µï¼šä¾‹å¦‚è·ç¦»åˆ’åˆ†ç­–ç•¥ä¸­ï¼Œ$\mathbf{A}_0=\mathbf{I}$$   ï¼Œ\mathbf{A}_1=\mathbf{A}$ è¡¨è¾¾å¼å¸¦å…¥å¾—åˆ°ï¼š<br>$\mathbf{f}_{out}=\sum_j\boldsymbol{\Lambda}_j^{-\frac12}\mathbf{A}_j\boldsymbol{\Lambda}_j^{-\frac12}\mathbf{f}_{in}\mathbf{W}_j$<br>å°†$\Lambda_j^{ii}=\sum_k(A_j^{ik})+\alpha $ï¼Œ$\alpha = 0.001$,é¿å…åº¦çŸ©é˜µå‡ºç°ç©ºè¡Œã€‚</p>
<p>ç§‘å­¦ç³»è¾¹ç¼˜é‡è¦æ€§åŠ æƒçš„å®ç°ï¼šä½¿ç”¨ä¸€ä¸ªå¯å­¦ä¹ æ©ç æƒé‡çŸ©é˜µ$\text{M}$ï¼Œä¸çŸ©é˜µè¿›è¡Œä¸€ä¸ªå¯¹åº”ä½ç½®ç›¸ä¹˜çš„ç®—æ³•ã€‚ç”¨$(\mathbf{A}+\mathbf{I})\otimes\mathbf{M}$ä»£æ›¿$(\mathbf{A}+\mathbf{I})$ï¼Œç”¨$\mathbf{A}_j\otimes\mathbf{M}$ä»£æ›¿$\mathbf{A}_j$ã€‚$\text{M}$è¢«åˆå§‹åŒ–ä¸ºå…¨1çš„çŸ©é˜µã€‚</p>
<h3 id="ç½‘ç»œæ¶æ„ä¸è®­ç»ƒ"><a href="#ç½‘ç»œæ¶æ„ä¸è®­ç»ƒ" class="headerlink" title="ç½‘ç»œæ¶æ„ä¸è®­ç»ƒ"></a>ç½‘ç»œæ¶æ„ä¸è®­ç»ƒ</h3><p>ç”±äº ST-GCN åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šå…±äº«æƒé‡ï¼Œå› æ­¤åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šä¿æŒè¾“å…¥æ•°æ®çš„æ¯”ä¾‹ä¸€è‡´æ˜¯å¾ˆé‡è¦çš„ã€‚é¦–å…ˆå°†è¾“å…¥éª¨æ¶æä¾›ç»™æ‰¹å¤„ç†è§„èŒƒåŒ–å±‚æ¥è§„èŒƒåŒ–æ•°æ®ã€‚</p>
<p>ST-GCN æ¨¡å‹ç”±9å±‚æ—¶ç©ºå›¾å·ç§¯ç®—å­(ST-GCN å•å…ƒ)ç»„æˆã€‚å‰ä¸‰å±‚æœ‰64ä¸ªè¾“å‡ºé€šé“ï¼Œæ¥ç€ä¸‰å±‚æœ‰128ä¸ªè¾“å‡ºé€šé“ï¼Œæœ€åä¸‰å±‚æœ‰256ä¸ªè¾“å‡ºé€šé“ã€‚è¿™äº›å±‚æœ‰9ä¸ªæ—¶é—´å†…æ ¸å¤§å°ã€‚<strong>Resnet æœºåˆ¶åº”ç”¨äºæ¯ä¸ª ST-GCN å•å…ƒ</strong>ã€‚</p>
<p>åœ¨æ¯ä¸ª ST-GCN å•å…ƒåï¼Œæˆ‘ä»¬<strong>ä»¥0.5æ¦‚ç‡éšæœºå‰”é™¤ç‰¹å¾ï¼Œä»¥é¿å…è¿‡æ‹Ÿåˆ</strong>ã€‚ç¬¬4å’Œç¬¬7æ—¶åºå·ç§¯å±‚çš„æ­¥é•¿è®¾ä¸º2ä½œä¸ºæ± åŒ–å±‚ã€‚ç„¶åå¯¹å¾—åˆ°çš„å¼ é‡è¿›è¡Œå…¨å±€æ± åŒ–ï¼Œå¾—åˆ°æ¯ä¸ªåºåˆ—çš„256ç»´ç‰¹å¾å‘é‡ã€‚æœ€åï¼Œæˆ‘ä»¬å°†å®ƒä»¬è¾“å…¥ <strong>SoftMax</strong> åˆ†ç±»å™¨ã€‚ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™å­¦ä¹ æ¨¡å‹ï¼Œå­¦ä¹ ç‡ä¸º0.01ã€‚æˆ‘ä»¬åœ¨æ¯10ä¸ª epoch ä¹‹åå°†å­¦ä¹ ç‡è¡°å‡0.1ã€‚</p>
<p>ä¸ºäº†é¿å…è¿‡æ‹Ÿåˆï¼Œæˆ‘ä»¬åœ¨åŠ¨åŠ›å­¦æ•°æ®é›†ä¸Šè®­ç»ƒæ—¶æ‰§è¡Œ<strong>ä¸¤ç§å¢å¼º</strong>æ¥æ›¿æ¢æ‰å±‚(Kay et al 2017)ã€‚</p>
<p>é¦–å…ˆï¼Œä¸ºäº†æ¨¡æ‹Ÿç›¸æœºè¿åŠ¨ï¼Œæˆ‘ä»¬å¯¹æ‰€æœ‰å¸§çš„éª¨æ¶åºåˆ—æ‰§è¡Œéšæœºä»¿å°„å˜æ¢ã€‚ç‰¹åˆ«æ˜¯ä»ç¬¬ä¸€å¸§åˆ°æœ€åä¸€å¸§ï¼Œæˆ‘ä»¬é€‰å–äº†å‡ ä¸ªå›ºå®šçš„è§’åº¦ã€å¹³ç§»å’Œæ¯”ä¾‹å› å­ä½œä¸ºå€™é€‰å› å­ï¼Œç„¶åéšæœºé‡‡æ ·ä¸‰ä¸ªå› å­çš„ä¸¤ä¸ªç»„åˆæ¥ç”Ÿæˆä»¿å°„å˜æ¢ã€‚è¿™ç§è½¬æ¢è¢«æ’å…¥åˆ°ä¸­é—´å¸§ä¸­ï¼Œä»¥äº§ç”Ÿä¸€ç§æ•ˆæœï¼Œå°±å¥½åƒæˆ‘ä»¬åœ¨å›æ”¾è¿‡ç¨‹ä¸­å¹³æ»‘åœ°ç§»åŠ¨è§†ç‚¹ä¸€æ ·ã€‚æˆ‘ä»¬æŠŠè¿™ç§å¢å¼ºç§°ä¸ºéšæœºç§»åŠ¨ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒä¸­ä»åŸå§‹éª¨æ¶åºåˆ—ä¸­éšæœºæŠ½å–ç‰‡æ®µï¼Œå¹¶åœ¨æµ‹è¯•ä¸­ä½¿ç”¨æ‰€æœ‰å¸§ã€‚ç½‘ç»œé¡¶éƒ¨çš„å…¨å±€æ± ä½¿ç½‘ç»œèƒ½å¤Ÿå¤„ç†ä¸ç¡®å®šé•¿åº¦çš„è¾“å…¥åºåˆ—ã€‚</p>
<blockquote>
<p>ä¸ç¡®å®šé•¿åº¦çš„è¾“å…¥åºåˆ—ï¼Œé•¿è§†é¢‘ï¼Ÿ</p>
</blockquote>
<h3 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h3><p>ä¸¤ä¸ªæ•°æ®é›†ï¼šKinetics äººç±»åŠ¨ä½œæ•°æ®é›†(Kinetics) (Kay et al 2017)ï¼ŒNTURGB+D (Shahroudy et al 2016)ã€‚</p>
<p>é¦–å…ˆå¯¹åŠ¨åŠ›å­¦æ•°æ®é›†è¿›è¡Œè¯¦ç»†çš„<strong>æ¶ˆèç ”ç©¶</strong>ï¼Œä»¥æ£€æŸ¥æ‰€æå‡ºçš„æ¨¡å‹ç»„ä»¶å¯¹è¯†åˆ«æ€§èƒ½çš„è´¡çŒ®ã€‚</p>
<p>ä¸ºäº†éªŒè¯æˆ‘ä»¬åœ¨æ— çº¦æŸè®¾ç½®ä¸­è·å¾—çš„ç»éªŒæ˜¯å¦å…·æœ‰æ™®éæ€§ï¼Œæˆ‘ä»¬å¯¹ NTURGB+D ä¸Šçš„çº¦æŸè®¾ç½®è¿›è¡Œäº†å®éªŒï¼Œå¹¶å°† ST-GCN ä¸å…¶ä»–æœ€å…ˆè¿›çš„æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚æ‰€æœ‰å®éªŒå‡åœ¨ PyTorch æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸Šè¿›è¡Œï¼Œå¹¶é…æœ‰8ä¸ª TITANX å›¾å½¢å¤„ç†å™¨ã€‚</p>
<h3 id="æ•°æ®é›†ä¸è¯„ä¼°æ ‡å‡†"><a href="#æ•°æ®é›†ä¸è¯„ä¼°æ ‡å‡†" class="headerlink" title="æ•°æ®é›†ä¸è¯„ä¼°æ ‡å‡†"></a>æ•°æ®é›†ä¸è¯„ä¼°æ ‡å‡†</h3><p><strong>Kinetics-skeletonæ•°æ®é›†</strong></p>
<p>è¯¥æ•°æ®é›†åŒ…å«ä»YouTubeæ£€ç´¢çš„å¤§çº¦300000ä¸ªè§†é¢‘ç‰‡æ®µã€‚ä¸”åˆ’åˆ†240000ä¸ªè§†é¢‘ç‰‡æ®µä¸ºè®­ç»ƒé›†ã€20000ä¸ªè§†é¢‘ç‰‡æ®µä¸ºéªŒè¯é›†ã€‚è¿™äº›è§†é¢‘æ¶µç›–äº†å¤šè¾¾400ä¸ªäººç±»åŠ¨ä½œç±»ï¼Œä»æ—¥å¸¸æ´»åŠ¨ã€ä½“è‚²åœºæ™¯åˆ°å¤æ‚çš„äº’åŠ¨åŠ¨ä½œã€‚æ¯ä¸ªè§†é¢‘ç‰‡æ®µå¤§çº¦10ç§’ã€‚è¯¥æ•°æ®é›†ä»…æä¾›æ²¡æœ‰éª¨æ¶æ•°æ®çš„åŸå§‹è§†é¢‘ç‰‡æ®µã€‚</p>
<p>ä¸ºäº†è·å¾—éª¨æ¶æ•°æ®ï¼Œä½œè€…é¦–å…ˆå°†æ‰€æœ‰è§†é¢‘çš„åˆ†è¾¨ç‡è°ƒæ•´ä¸º$340Ã—256$ï¼Œå¹¶å°†å¸§é€Ÿç‡è½¬æ¢ä¸º$30 FPS$ã€‚ç„¶åï¼Œä½œè€…ä½¿ç”¨OpenPoseå§¿æ€ä¼°è®¡å·¥å…·æ¥ä¼°è®¡è§†é¢‘ç‰‡æ®µä¸­çš„æ¯ä¸ªå¸§ä¸Šçš„18ä¸ªå…³èŠ‚çš„ä½ç½®ã€‚OpenPoseç»™å‡ºäº†åƒç´ åæ ‡ç³»ä¸­çš„$2D$åæ ‡$(Xï¼ŒY)$å’Œ18ä¸ªäººä½“å…³èŠ‚çš„ç½®ä¿¡åº¦å¾—åˆ†ã€‚å› æ­¤ï¼Œä½œè€…ä½¿ç”¨ä¸€ä¸ªå…ƒç»„($Xï¼ŒYï¼ŒC)$æ¥è¡¨ç¤ºæ¯ä¸ªå…³èŠ‚ï¼Œä¸€ä¸ªéª¨æ¶å¸§è¢«è®°å½•ä¸ºä¸€ä¸ª18å…ƒç»„çš„æ•°ç»„ã€‚å¯¹äºå¤šäººæƒ…å†µï¼Œä½œè€…åœ¨æ¯ä¸ªç‰‡æ®µä¸­é€‰æ‹©å¹³å‡è”åˆç½®ä¿¡åº¦æœ€é«˜çš„2ä¸ªäººã€‚</p>
<h1 id="è®ºæ–‡ç†è§£"><a href="#è®ºæ–‡ç†è§£" class="headerlink" title="è®ºæ–‡ç†è§£"></a>è®ºæ–‡ç†è§£</h1><p>ST-GCN è¿™ç¯‡è®ºæ–‡ç®—æ˜¯ GCN åœ¨éª¨éª¼è¡Œä¸ºè¯†åˆ«é‡Œé¢çš„å¼€å±±ä¹‹ä½œäº†ï¼Œä»–æä¾›äº†ä¸€ç§æ–°çš„æ€è·¯å’Œå®ç°æ–¹å¼ï¼Œè§£å†³äº†ä»¥å‰æ–¹æ³•çš„å±€é™æ€§å¹¶å–å¾—äº†è¾ƒå¥½çš„æ•ˆæœã€‚è™½ç„¶ä»–åªæ˜¯2018å¹´å‘è¡¨çš„ï¼Œä½†æ˜¯è¿™ç¯‡è®ºæ–‡ç»™äº†å¾ˆè¯¦ç»†çš„ä»£ç ï¼Œ2019å¹´å‘è¡¨åœ¨ CVPR ä¸Šçš„ AS-GCN å’Œ 2s-AGCN éƒ½æ˜¯åœ¨è¯¥ä»£ç çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ã€‚</p>
<h2 id="ç©ºé—´ç‰¹å¾çš„æå–"><a href="#ç©ºé—´ç‰¹å¾çš„æå–" class="headerlink" title="ç©ºé—´ç‰¹å¾çš„æå–"></a>ç©ºé—´ç‰¹å¾çš„æå–</h2><h4 id="1-å›¾å·ç§¯"><a href="#1-å›¾å·ç§¯" class="headerlink" title="1. å›¾å·ç§¯"></a>1. å›¾å·ç§¯</h4><p>ç‰¹å¾æå–å™¨ï¼Œè¾“å…¥ç»“ç‚¹ç‰¹å¾å’Œå›¾ç»“æ„ï¼Œè¾“å‡ºç»“ç‚¹æœ€ç»ˆçš„ç‰¹å¾è¡¨è¾¾ã€‚</p>
<p><img src="/2024/09/13/10-54-10/QQ_1726535732803.png" alt></p>
<p>ä¸»è¦çš„æ¡†æ¶å°±æ˜¯è¿™æ ·ï¼Œå›¾å·ç§¯ç›¸æ¯”äºå›¾åƒå·ç§¯ï¼Œåªæ˜¯å¤šå·¦ä¹˜äº†ä¸€ä¸ªé‚»æ¥çŸ©é˜µ <strong>A</strong>ï¼Œåé¢å°±æ˜¯ä¸€äº›ç»†èŠ‚ã€‚</p>
<p><img src="/2024/09/13/10-54-10/QQ_1726535781943.png" alt></p>
<h4 id="2-æ„Ÿå—é‡"><a href="#2-æ„Ÿå—é‡" class="headerlink" title="2. æ„Ÿå—é‡"></a>2. æ„Ÿå—é‡</h4><p>ä¸€èˆ¬å›¾åƒäºŒç»´å·ç§¯æœ€å°çš„å·ç§¯æ ¸å°±æ˜¯ 3Ã—3 çš„å·ç§¯æ ¸ï¼Œæ„Ÿå—é‡å°±æ˜¯ä¸€ä¸ªä¸­å¿ƒç‚¹å’Œå‘¨å›´å…«ä¸ªå…ƒç´ å…±ä¹ä¸ªå…ƒç´ çš„ç»„åˆã€‚</p>
<p>è¿™é‡Œå’ŒCNNç›¸ä¼¼ï¼Œå®šä¹‰ç¦»ä¸­å¿ƒç‚¹è·ç¦» <em>D</em>=1 ï¼Œä¹Ÿå°±æ˜¯<strong>ä¸ä¸­å¿ƒç‚¹ç›´æ¥ç›¸è¿çš„ç‚¹</strong>ä¸ºä¸€ä¸ªå·ç§¯æ ¸çš„<strong>æ„Ÿå—é‡</strong>ã€‚å¦‚å›¾ï¼ˆaï¼‰æ‰€ç¤ºï¼š</p>
<p><img src="/2024/09/13/10-54-10/QQ_1726535863661.png" alt></p>
<h4 id="3-å·ç§¯æ ¸"><a href="#3-å·ç§¯æ ¸" class="headerlink" title="3. å·ç§¯æ ¸"></a>3. å·ç§¯æ ¸</h4><p>å¯¹åº”è®ºæ–‡ä¸­çš„åˆ†åŒºç­–ç•¥ã€‚é€‰æ‹©çš„ç©ºé—´ç»“æ„åˆ†åŒºç­–ç•¥</p>
<p>é€‰æ‹©åˆé€‚çš„æ„Ÿå—é‡å’Œå·ç§¯æ ¸ä¹‹åå°±èƒ½å¤Ÿåƒ CNN é‚£æ ·<strong>ä¸€ä¸ªç‚¹ä¸€ä¸ªç‚¹çš„å·ç§¯è®¡ç®—</strong>äº†ï¼Œ<strong>å·ç§¯çš„è¿‡ç¨‹å°±æ˜¯æå–ç‰¹å¾çš„è¿‡ç¨‹</strong>ã€‚</p>
<h4 id="4-æ³¨æ„åŠ›æœºåˆ¶"><a href="#4-æ³¨æ„åŠ›æœºåˆ¶" class="headerlink" title="4. æ³¨æ„åŠ›æœºåˆ¶"></a>4. æ³¨æ„åŠ›æœºåˆ¶</h4><p>å°±æ˜¯å¢åŠ çš„å¯å­¦ä¹ æƒé‡æ©ç ã€‚</p>
<h2 id="æ—¶é—´ç‰¹å¾çš„æå–"><a href="#æ—¶é—´ç‰¹å¾çš„æå–" class="headerlink" title="æ—¶é—´ç‰¹å¾çš„æå–"></a>æ—¶é—´ç‰¹å¾çš„æå–</h2><p><img src="/2024/09/13/10-54-10/QQ_1726538726736.png" alt=" "></p>
<h2 id="æ•´ä½“ç½‘ç»œæ¶æ„"><a href="#æ•´ä½“ç½‘ç»œæ¶æ„" class="headerlink" title="æ•´ä½“ç½‘ç»œæ¶æ„"></a>æ•´ä½“ç½‘ç»œæ¶æ„</h2><p><img src="/2024/09/13/10-54-10/QQ_1728000528016.png" alt=" "></p>
<p>è¾“å‡ºæ ¼å¼ï¼š</p>
<p><img src="/2024/09/13/10-54-10/QQ_1728000045461.png" alt=" "></p>
<p>æ¯ä¸ªé€šé“çš„æ•°æ®ä¸º(T,V), ä»£è¡¨300å¸§çš„18ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><img src="/2024/09/13/10-54-10/QQ_1728022424193.png" alt=" "></p>
<p>å·ç§¯ï¼š</p>
<p><img src="/2024/09/13/10-54-10/QQ_1728000171486.png" alt=" "></p>
<p>ç©ºé—´å·ç§¯é€šè¿‡1x1å·ç§¯ï¼Œæ—¶é—´å·ç§¯9x1ï¼Œ<code>æŒ‡çš„æ˜¯æ—¶é—´å’Œç©ºé—´ç»´åº¦ï¼Œä¸æ˜¯é€šé“ç»´åº¦</code></p>
<h5 id="ç©ºé—´å·ç§¯ï¼šå¯¹æ‰€æœ‰æ—¶é—´å’Œç©ºé—´åš1x1å·ç§¯ã€‚çŸ©é˜µä¹˜æ³•ä¼šè½¬ç½®ï¼Œå›¾ä¸­æ²¡æœ‰è½¬ç½®"><a href="#ç©ºé—´å·ç§¯ï¼šå¯¹æ‰€æœ‰æ—¶é—´å’Œç©ºé—´åš1x1å·ç§¯ã€‚çŸ©é˜µä¹˜æ³•ä¼šè½¬ç½®ï¼Œå›¾ä¸­æ²¡æœ‰è½¬ç½®" class="headerlink" title="ç©ºé—´å·ç§¯ï¼šå¯¹æ‰€æœ‰æ—¶é—´å’Œç©ºé—´åš1x1å·ç§¯ã€‚çŸ©é˜µä¹˜æ³•ä¼šè½¬ç½®ï¼Œå›¾ä¸­æ²¡æœ‰è½¬ç½®"></a>ç©ºé—´å·ç§¯ï¼šå¯¹æ‰€æœ‰æ—¶é—´å’Œç©ºé—´åš1x1å·ç§¯ã€‚<code>çŸ©é˜µä¹˜æ³•ä¼šè½¬ç½®ï¼Œå›¾ä¸­æ²¡æœ‰è½¬ç½®</code></h5><blockquote>
<p>äºŒç»´å·ç§¯ï¼Œä¸€ä¸ªç»„å·ç§¯æ ¸ï¼Œè¾“å‡ºä¸€ä¸ªå€¼ã€‚</p>
</blockquote>
<p><img src="/2024/09/13/10-54-10/QQ_1728352320911.png" alt=" "></p>
<p>ä¸€å±‚GCNä¸­ï¼Œè¾“å‡ºçš„ç‰¹å¾ç»´åº¦ä¸º$f_{in}*3$ï¼Œ3æ¥æºäºå­é›†åˆ’åˆ†ã€‚ä¸€å…±3ç»„å·ç§¯æ ¸ï¼Œä¸€ç»„å·ç§¯æ ¸æœ‰$C$ä¸ª$(1,1,C)$çš„å·ç§¯æ ¸ã€‚</p>
<blockquote>
<p>æ‰€æœ‰å­é›†ç‰¹å¾å åŠ ï¼Œä¸ä¼šå‡ºé—®é¢˜å—ï¼Ÿ ä¸åº”è¯¥ä¿ç•™ä¸‰ç§å­é›†çš„ç‰¹å¾å—ï¼Ÿ</p>
<p>ä¸ä¼šå‡ºé—®é¢˜ï¼šä¸‰ç»„å·ç§¯æ ¸å¤„ç†ä¸åŒçš„å­é›†ï¼Œæœ€åå åŠ ï¼Œä¸å±äºè¿™ä¸ªå­é›†çš„ï¼Œæ²¡æœ‰è¢«å¤„ç†ã€‚</p>
</blockquote>
<h5 id="æ—¶é—´å·ç§¯ï¼š"><a href="#æ—¶é—´å·ç§¯ï¼š" class="headerlink" title="æ—¶é—´å·ç§¯ï¼š"></a>æ—¶é—´å·ç§¯ï¼š</h5><p><img src="/2024/09/13/10-54-10/QQ_1726539633950.png" alt=" "></p>
<p><img src="/2024/09/13/10-54-10/1_8MwnBuSizz7-eUhrQcri5g.png" alt=" "><br>å·¦è¾¹æ˜¯å‘å‰ä¼ é€’å‡½æ•°ï¼Œå³è¾¹æ˜¯ST-GCNç½‘ç»œã€‚</p>
<ul>
<li>Nï¼šæ‰¹é‡å¤§å°ã€‚</li>
<li>Cï¼šåŸå§‹èŠ‚ç‚¹ç‰¹å¾ï¼Œå³ï¼ˆåæ ‡-X/åæ ‡-Y/ç½®ä¿¡åº¦ï¼‰ä¸‰å…ƒç»„ã€‚</li>
<li>Tï¼šæ—¶é—´æ­¥é•¿ã€‚</li>
<li>Vï¼šå›¾ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li>Mï¼š ä¸€ä¸ªå¸§çš„æ•°æ®è®°å½•ä¸­çš„éª¨éª¼æ•°é‡ã€‚</li>
</ul>
<p>ä»£ç è§£é‡Šï¼š</p>
<p><img src="/2024/09/13/10-54-10/1_ZxJrjNHXUCk0uhzvd5E97w.png" alt=" "></p>
<p>ä»£ç çš„å®ç°æ˜¯ï¼Œå…ˆè¿›è¡Œä¼ é€’åˆ°ä¸‹å±‚ï¼Œå†è¿›è¡Œä¿¡æ¯èšåˆã€‚</p>
<h2 id="çˆ±å› æ–¯å¦æ±‚å’Œ"><a href="#çˆ±å› æ–¯å¦æ±‚å’Œ" class="headerlink" title="çˆ±å› æ–¯å¦æ±‚å’Œ"></a>çˆ±å› æ–¯å¦æ±‚å’Œ</h2><blockquote>
<p>$\text{result}[n,c,t,w]=\sum_{k=1}^K\sum_{v=1}^Vx[n,k,c,t,v]\cdot A[k,v,w]$</p>
<p>å¯¹Aè¿›è¡Œå¹¿æ’­ï¼Œæ‰©å……$n$ç»´ï¼Œå…¬å¼å˜ä¸ºï¼š</p>
<p>$\text{result}[c,t,w]=\sum_{k=1}^K\sum_{v=1}^Vx[k,c,t,v]\cdot A[k,v,w]$</p>
<p>$\text{result}[c,t,w]=\sum_{k=1}^K(\sum_{v=1}^Vx[k,c,t,v]\cdot A[k,v,w])$</p>
<p>å¯¹äºå†…éƒ¨ï¼šå¹¿æ’­Aï¼Œå˜æˆï¼š$(\sum_{v=1}^Vx[k,c,t,v]\cdot A[k,c,v,w])$</p>
<p>å³å˜ä¸ºï¼š$\text{result}^1[k,c,t,w]=(\sum_{v=1}^Vx[k,c,t,v]\cdot A[k,c,v,w])$</p>
<p>è¡¨ç¤ºä¸ºç¬¬kï¼Œcç»´ä¸‹çš„ç¬¬$t$å¸§çš„$w$èŠ‚ç‚¹çš„ç‰¹å¾ï¼Œç­‰äºç¬¬$t$å¸§æ‰€æœ‰èŠ‚ç‚¹ç‰¹å¾ä¹˜é‚»æ¥çŸ©é˜µ$A$çš„ç¬¬$w$åˆ—å‘é‡ã€‚(ç­‰äºèšåˆäº†wèŠ‚ç‚¹çš„å…¶ä»–ç›¸é‚»èŠ‚ç‚¹ç‰¹å¾)</p>
<p>$\text{result}[c,t,w]=\sum_{k=1}^K(\text{result}^1[k,c,t,w])$</p>
<p>è¡¨ç¤ºå¯¹æ–°çš„ç‰¹å¾å‘é‡è¿›è¡Œké‡å åŠ ã€‚ï¼ˆæŠŠGCNä¸­çš„è¾“å‡ºé€šé“æ‹‰é•¿3å€ï¼Œåˆæ¶ˆæ‰äº†ï¼‰</p>
</blockquote>
<p>ä¸è¾“å…¥å¯¹ç¬¬tå¸§å·ç§¯ä¸åŒï¼Œçˆ±å› æ–¯å¦æ±‚å’Œçº¦å®šï¼Œæ˜¯å¯¹ç¬¬cé€šé“çš„ç¬¬tå¸§è¿›è¡Œçš„ã€‚</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´å…¬å¼è®¡ç®—çš„æ˜¯æ­£æ–¹ä½“çš„ä¸Šæˆªé¢ï¼Œè€Œä»£ç è®¡ç®—çš„æ˜¯å‰æˆªé¢ã€‚æ‰€ä»¥è®¡ç®—æ–¹å¼ä¸åŒï¼ï¼</p>
</blockquote>
<p><img src="/2024/09/13/10-54-10/QQ_1727597036491.png" alt=" "></p>
<p>åœ¨å¯¹èŠ‚ç‚¹è¿›è¡Œç©ºé—´å·ç§¯ä¹‹åï¼Œå®ƒè½¬å‘<em>å¯¹æ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«</em>è¿›è¡Œæ—¶é—´å·ç§¯ã€‚æˆ‘ä»¬æ³¨æ„åˆ°è¿™é‡Œçš„å…ƒç»„<code>kernel=(temporal_ker, 1)</code>ï¼Œå…¶ä¸­<code>temporal_ker</code>æ˜¯ç¡¬ç¼–ç çš„<code>9</code>ï¼ˆ9ä¸ªæ—¶é—´æ­¥éª¤ï¼‰ã€‚</p>
<p>ä¸»è®­ç»ƒå¾ªç¯åœ¨æ–‡ä»¶â€œrecognition.pyâ€ [5] ä¸­å®šä¹‰ï¼Œå…¶å†…å®¹å¾ˆå…¸å‹ã€‚<em>è™½ç„¶è®ºæ–‡ä¸­æ²¡æœ‰è®¨è®º</em>ï¼Œä½†å®ç°åˆ©ç”¨äº†<em>æ¯ä¸ª ST-GCN å—ä¸­çš„</em>æ®‹å·®è¿æ¥ï¼ˆåˆåè·³è¿‡è¿æ¥ï¼‰æ¥å¤„ç†æ¢¯åº¦é€€åŒ–ã€‚ç”±äºè¾“å…¥è¾“å‡ºé€šé“ä¸åŒï¼Œè¿æ¥å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾®å‹ç¥ç»ç½‘ç»œï¼ˆè€Œä¸æ˜¯æ’ç­‰è¿æ¥ï¼‰ï¼š</p>
<p><img src="/2024/09/13/10-54-10/QQ_1727597188885.png" alt=" "></p>
<p>åœ¨ ST-GCN å—ä¸­ï¼Œä¸ºäº†é˜²æ­¢æ¢¯åº¦çˆ†ç‚¸å¹¶å®ç°æ›´ç¨³å®šçš„æ”¶æ•›ï¼Œåœ¨éçº¿æ€§å±‚ä¹‹å‰å’Œä¹‹åä½¿ç”¨ BatchNormï¼Œè¿™æ˜¯ç»å¸¸å»ºè®®çš„ã€‚DropOut å±‚ä¹Ÿæœ‰åŠ©äºå‡å°‘è¿‡åº¦æ‹Ÿåˆ [8]ã€‚ä½†ä»£ç ä½¿ç”¨ Dropout çš„é»˜è®¤è®¾ç½®ï¼ˆæ„æ€æ˜¯ï¼šæ¦‚ç‡<code>0.5</code>ï¼‰ï¼Œè€Œå·ç§¯å±‚çš„æ¨èå€¼ä¸º<code>0.1</code>æˆ–<code>0.2</code>ã€‚</p>
<h2 id="ST-GCNçš„ç¼ºç‚¹"><a href="#ST-GCNçš„ç¼ºç‚¹" class="headerlink" title="ST-GCNçš„ç¼ºç‚¹"></a>ST-GCNçš„ç¼ºç‚¹</h2><p>åœ¨ä¸Šè¿°ST-GCNç½‘ç»œæ¨¡å‹çš„è¡¨è¿°ä¸­ï¼Œä¸éš¾å‘ç°ï¼Œè™½ç„¶å…¶æ‹¥æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä½†æ˜¯ST-GCNçš„ç¼ºç‚¹ä¹Ÿååˆ†æ˜æ˜¾ï¼š</p>
<ul>
<li><p>ST-GCNä¸­çš„äººä½“éª¨æ¶å›¾æ˜¯äººä¸ºæ‰‹å·¥å®šä¹‰çš„ï¼Œé™åˆ¶åé¢çš„ç½‘ç»œå­¦ä¹ åˆ°éª¨æ¶å›¾ä¸­çš„å¿…è¦å…³è”ä¸æ–°å»ºè¿æ¥ï¼Œä¾‹å¦‚ï¼šåœ¨è¯†åˆ«å¦‚â€œé¼“æŒâ€ï¼Œâ€œé˜…è¯»â€ç­‰ä¸äººä¸ºæ‰‹å·¥å®šä¹‰çš„äººä½“éª¨æ¶å›¾ç©ºé—´ä¸Šç›¸è·ç”šè¿œçš„åŒæ‰‹é—´çš„å…³ç³»è‡³å…³é‡è¦çš„åŠ¨ä½œæ—¶[3]ï¼Œç½‘ç»œå¾ˆéš¾å­¦ä¹ åˆ°å…¶ä¸­çš„å…³è”ï¼Œä¹Ÿå¾ˆéš¾å¯¹è¯¥åŸæœ¬ä¸å­˜åœ¨çš„è¾¹è¿›è¡Œæ–°å»ºä»¥å»ºç«‹è¿æ¥ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†åŠ¨ä½œè¯†åˆ«çš„ç²¾åº¦ï¼›</p>
</li>
<li><p>é™¤æ­¤ä¹‹å¤–ï¼ŒST-GCNä¸­çš„ç½‘ç»œç»“æ„æ˜¯åˆ†å±‚ç»“æ„ï¼Œæ¯ä¸€å±‚éƒ½ä»£è¡¨äº†ä¸åŒå±‚æ¬¡çš„è¯­ä¹‰ä¿¡æ¯[4]ï¼Œç„¶è€Œä½œè€…æ‰€é‡‡ç”¨çš„æ˜¯ä¸€ä¸ªå…¨å±€å›ºå®šçš„ç½‘ç»œæ‹“æ‰‘ç»“æ„å›¾ï¼Œå¯¼è‡´è¯¥ç½‘ç»œæ— æ³•çµæ´»çš„å¯¹å„å±‚ä¸­çš„è¯­ä¹‰è¿›è¡Œå»ºæ¨¡ï¼Œä¸”ç”±äºå›ºå®šçš„å…¨å±€ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œå…¶æ„Ÿå—é‡é‡ä¸å¤Ÿçµæ´»[5]ï¼Œä¹Ÿæ— æ³•æå–å¤šå°ºåº¦çš„ä¿¡æ¯[6]ï¼›</p>
</li>
<li><p>ST-GCNè®¡ç®—å¤æ‚åº¦è¿‡é«˜ï¼Œä¸”ç”±äºå›¾å·ç§¯å„èŠ‚ç‚¹ä¹‹é—´çš„ä¿¡æ¯ç›¸äº’èšåˆï¼Œä¼ ç»Ÿdropoutå¯¹å…¶æ— æ•ˆï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆï¼Œæ ¹æ®æ­¤é¡¹å·¥ä½œï¼Œè®¸å¤šç§‘ç ”äººå‘˜åœ¨æ­¤åŸºç¡€ä¸Šåšäº†å¤§é‡çš„ç›¸å…³å·¥ä½œï¼Œç”±äºæ‰‹å·¥å®šä¹‰å›¾çš„å±€é™æ€§ï¼Œ2s-AGCNä¸MS-AAGCNå¼•å…¥äº†å¤šç§è‡ªé€‚åº”çš„æ‹“æ‰‘å›¾ï¼Œè€Œå¯¹äºåˆ†å±‚ç»“æ„ï¼Œä¸ºæ–¹ä¾¿å¯¹å„å±‚è¯­ä¹‰è¿›è¡Œå»ºæ¨¡ï¼ŒSGCNæå‡ºäº†ä¸€ä¸ªé€šé“èåˆæ¨¡å— (CAMM)ï¼›æœ€åç”±äºé«˜è®¡ç®—å¤æ‚åº¦shiftGCNå°†shiftæ“ä½œå¼•å…¥å›¾å·ç§¯ä»£æ›¿å·ç§¯çš„ç‰¹å¾èåˆæ“ä½œï¼Œé™¤æ­¤ä¹‹å¤–DC-GCN_ADGæå‡ºäº†DC-GCNï¼ˆDeCoupling Graph Convolutional Networkï¼‰å›¾å·ç§¯ç½‘ç»œï¼Œå¯ä»¥åœ¨ä¸å¢åŠ è®¡ç®—é‡çš„åŒæ—¶å¢å¼ºå›¾å·ç§¯çš„è¡¨è¾¾èƒ½åŠ›ï¼Œå¹¶æå‡ºäº†ADGï¼ˆattention-guided DropGraphï¼‰å–ä»£åŸå§‹dropoutï¼Œè§£å†³äº†å›¾å·ç§¯è¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚</p>
</li>
</ul>
<h1 id="ä»£ç å¤ç°"><a href="#ä»£ç å¤ç°" class="headerlink" title="ä»£ç å¤ç°"></a>ä»£ç å¤ç°</h1><h2 id="æºç ç»“æ„"><a href="#æºç ç»“æ„" class="headerlink" title="æºç ç»“æ„"></a>æºç ç»“æ„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">config/              åŒ…å«ä¸åŒæ¨¡å‹è®­ç»ƒçš„é…ç½®æ–‡ä»¶</span><br><span class="line">data/                ç”¨äºæ•°æ®åŠ è½½ï¼Œå¤„ç†éª¨æ¶æ•°æ®é›†ã€‚</span><br><span class="line">feeder/              æ•°æ®é¢„å¤„ç†æ¨¡å—ï¼Œè¯»å–å¹¶è§„èŒƒåŒ–éª¨æ¶æ•°æ®ã€‚</span><br><span class="line">models/              è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°</span><br><span class="line">net/                åŒ…å«ST-GCNç½‘ç»œçš„å…·ä½“å®ç°å’Œå…¶ä»–æ¨¡å‹æ–‡ä»¶</span><br><span class="line">--utils/            utilitieså®ç”¨å·¥å…·åŒ…å«ä¸€äº›é€šç”¨å‡½æ•°ï¼Œç±»æˆ–æ¨¡å—</span><br><span class="line">----graph.py        å›¾çš„å®šä¹‰ï¼ŒèŠ‚ç‚¹åˆ†é›†</span><br><span class="line">----tgcn.py          æ—¶é—´å›¾å·ç§¯ç½‘ç»œ</span><br><span class="line">----__init__.py      å¯¼å…¥utilsåŒ…</span><br><span class="line">----st_gcn.py     </span><br><span class="line">----st_gcn_twostream.py</span><br><span class="line">processor/          åˆå§‹åŒ–ç›¸å…³æ¨¡å—</span><br><span class="line">----io.py            æ¨¡å‹åŠ è½½</span><br><span class="line">----processor.py    é‡è½½æ¨¡å‹åŠ è½½</span><br><span class="line">----recognition.py  è¯†åˆ«æ¨¡å—</span><br><span class="line">resource/            è¾…åŠ©å·¥å…·ï¼Œå¦‚éª¨æ¶æ•°æ®å¯è§†åŒ–ã€‚</span><br><span class="line">tools/              è®­ç»ƒã€æµ‹è¯•å’Œè¯„ä¼°çš„è„šæœ¬ã€‚</span><br><span class="line">torchlight/  </span><br><span class="line">main.py              é¡¹ç›®çš„ä¸»å…¥å£</span><br><span class="line">requirements.txt    é¡¹ç›®æ‰€éœ€è½¯ä»¶åŒ…</span><br></pre></td></tr></table></figure>
<h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a>ç¯å¢ƒå®‰è£…</h2><p>éœ€è¦å…ˆå®‰è£…torchlightåŒ…, pipå®‰è£…çš„ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œéœ€è¦è¿›å…¥torchlightæ–‡ä»¶å¤¹ï¼Œè¿è¡Œstepup.pyå®‰è£…ï¼Œä¸pipå®‰è£…ä¸åŒï¼Œsetup.pyå°†æ–‡ä»¶å®‰è£…åˆ°äº†<code>/usr/lib/python3.8/site-packages/</code>,</p>
<p>ä¿®æ”¹å®‰è£…è·¯å¾„çš„æ–¹å¼ï¼š</p>
<ul>
<li><del>æŒ‡å®šå®‰è£…ç›®å½•</del>ï¼š</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python setup.py install --prefix=/usr/local</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿›å…¥torchlightæ–‡ä»¶å¤¹ï¼Œè¿è¡Œ<code>pip install .</code>ï¼Œå¯ä»¥å®‰è£…æˆåŠŸ</li>
</ul>
<p>è¿œç¨‹åŒæ­¥æ’é™¤æ–‡ä»¶å¤¹ï¼š<code>./data</code>, <code>./work_dir</code></p>
<h2 id="net-utils-graph-py"><a href="#net-utils-graph-py" class="headerlink" title="net/utils/graph.py"></a>net/utils/graph.py</h2><p>å›¾çš„å®šä¹‰å‡½æ•°ï¼š</p>
<p><img src="/2024/09/13/10-54-10/QQ_1726562068335.png" alt=" "></p>
<p>ä¸Šå›¾è¡¨ç¤ºï¼Œopenposeå…³èŠ‚ç‚¹é‚»æ¥é¡ºåºã€‚</p>
<p>çŸ©é˜µçš„å¹‚è¿ç®—ï¼š<code>np.linalg.matrix_power(A, d)</code>:è¡¨ç¤ºé‚»æ¥çŸ©é˜µçš„dè·³å¯è¾¾å…³ç³»ã€‚</p>
<h2 id="ç›¸å…³å‘½ä»¤"><a href="#ç›¸å…³å‘½ä»¤" class="headerlink" title="ç›¸å…³å‘½ä»¤"></a>ç›¸å…³å‘½ä»¤</h2><ul>
<li>æµ‹è¯•å‘½ä»¤ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python main.py recognition --phase test --work_dir ./work_dir/recognition/kinetics_skeleton --config ./config/kinetics.yaml --weights ./models/model.pth --test_batch_size 64 --device 0 --save_result True</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python main.py recognition -c config/st_gcn/kinetics-skeleton/test.yaml</span><br></pre></td></tr></table></figure>
<ul>
<li>è®­ç»ƒå‘½ä»¤</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python main.py recognition -c config/st_gcn/kinetics-skeleton/train.yaml</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•å‘½ä»¤<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python main.py recognition -c config/st_gcn/kinetics-skeleton/test.yaml --weights ./work_dir/recognition/kinetics_skeleton/ST_GCN/epoch50_model.pt</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>è®­ç»ƒç›¸å…³</p>
<p>train.yaml</p>
<ul>
<li><p>feeder é€šå¸¸æ˜¯æŒ‡æ•°æ®åŠ è½½å™¨ï¼ˆData Feederï¼‰</p>
</li>
<li><p>ä¿®æ”¹configæ–‡ä»¶å¤¹å†…çš„ï¼Œtrain.yamlï¼Œè®¾ç½®æ˜¾å¡ç¼–å·ä¸ºå•æ˜¾å¡ã€‚</p>
</li>
<li>å‡å°‘batch_size = 64</li>
</ul>
<h1 id="torchæºç "><a href="#torchæºç " class="headerlink" title="torchæºç "></a>torchæºç </h1><h2 id="nn-conv-py"><a href="#nn-conv-py" class="headerlink" title="nn/conv.py"></a>nn/conv.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">       self,</span></span><br><span class="line"><span class="params">       in_channels: <span class="built_in">int</span>,</span></span><br><span class="line"><span class="params">       out_channels: <span class="built_in">int</span>,</span></span><br><span class="line"><span class="params">       kernel_size: _size_2_t,</span></span><br><span class="line"><span class="params">       stride: _size_2_t = <span class="number">1</span>,</span></span><br><span class="line"><span class="params">       padding: <span class="type">Union</span>[<span class="built_in">str</span>, _size_2_t] = <span class="number">0</span>,</span></span><br><span class="line"><span class="params">       dilation: _size_2_t = <span class="number">1</span>,</span></span><br><span class="line"><span class="params">       groups: <span class="built_in">int</span> = <span class="number">1</span>,</span></span><br><span class="line"><span class="params">       bias: <span class="built_in">bool</span> = <span class="literal">True</span>,</span></span><br><span class="line"><span class="params">       padding_mode: <span class="built_in">str</span> = <span class="string">&#x27;zeros&#x27;</span>,  <span class="comment"># <span class="doctag">TODO:</span> refine this type</span></span></span><br><span class="line"><span class="params">       device=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">       dtype=<span class="literal">None</span></span></span><br><span class="line"><span class="params">   </span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">       factory_kwargs = &#123;<span class="string">&#x27;device&#x27;</span>: device, <span class="string">&#x27;dtype&#x27;</span>: dtype&#125;</span><br><span class="line">       kernel_size_ = _pair(kernel_size)</span><br><span class="line">       stride_ = _pair(stride)</span><br><span class="line">       padding_ = padding <span class="keyword">if</span> <span class="built_in">isinstance</span>(padding, <span class="built_in">str</span>) <span class="keyword">else</span> _pair(padding)</span><br><span class="line">       dilation_ = _pair(dilation)</span><br><span class="line">       <span class="built_in">super</span>().__init__(</span><br><span class="line">           in_channels, out_channels, kernel_size_, stride_, padding_, dilation_,</span><br><span class="line">           <span class="literal">False</span>, _pair(<span class="number">0</span>), groups, bias, padding_mode, **factory_kwargs)</span><br><span class="line">      </span><br></pre></td></tr></table></figure>
<p>å‚æ•°è§£é‡Šï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1.  in_channels: è¾“å…¥é€šé“æ•°ã€‚è¿™ä¸ªå‚æ•°å®šä¹‰è¾“å…¥æ•°æ®çš„é€šé“æ•°é‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äº RGB å›¾åƒï¼Œè¾“å…¥é€šé“æ•°ä¸º 3ã€‚</span><br><span class="line">2.  out_channels: è¾“å‡ºé€šé“æ•°ã€‚è¿™ä¸ªå®šä¹‰å·ç§¯æ“ä½œåè¾“å‡ºçš„é€šé“æ•°é‡ã€‚</span><br><span class="line">3.  kernel_size: _size_2_t: å·ç§¯æ ¸çš„å¤§å°ï¼Œè¡¨ç¤ºåœ¨æ¯ä¸ªç»´åº¦ä¸Šå·ç§¯æ ¸çš„å°ºå¯¸ã€‚_size_2_t æ˜¯ä¸€ä¸ªè¡¨ç¤ºäºŒç»´å°ºå¯¸çš„ç±»å‹ï¼ˆä¾‹å¦‚ (height, width)ï¼‰ï¼Œä½ å¯ä»¥è¾“å…¥ä¸€ä¸ªå•ä¸ªæ•´æ•°æˆ–è€…ä¸€ä¸ªäºŒå…ƒç»„ã€‚</span><br><span class="line">4.  stride: _size_2_t = 1: å·ç§¯æ­¥é•¿ï¼Œå†³å®šå·ç§¯æ ¸åœ¨è¾“å…¥ä¸Šæ»‘åŠ¨çš„æ­¥å¹…ã€‚æ­¥é•¿å¯ä»¥æ˜¯å•ä¸ªæ•´æ•°æˆ–è€…äºŒå…ƒç»„ï¼Œé»˜è®¤ä¸º 1ã€‚</span><br><span class="line">5.  padding: Union[str, _size_2_t] = 0: å¡«å……ï¼Œæ§åˆ¶è¾“å…¥åœ¨è¾¹ç•Œå¤„çš„å¡«å……å¤§å°ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå¦‚ &#x27;same&#x27; è¡¨ç¤ºè¾“å‡ºä¸è¾“å…¥å¤§å°ç›¸åŒï¼Œè‡ªåŠ¨è®¡ç®—å¡«å……ï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªäºŒå…ƒç»„æŒ‡å®šå„ç»´åº¦çš„å¡«å……å¤§å°ã€‚</span><br><span class="line">6.  dilation: _size_2_t = 1: è†¨èƒ€ç‡ï¼Œè¡¨ç¤ºåœ¨å·ç§¯æ ¸å†…æ’å…¥çš„ç©ºæ´æ•°ï¼Œé»˜è®¤ä¸º 1ï¼Œè¡¨ç¤ºæ²¡æœ‰è†¨èƒ€ã€‚</span><br><span class="line">7.  groups: int = 1: åˆ†ç»„å·ç§¯çš„å‚æ•°ã€‚groups å€¼ä¸º 1 è¡¨ç¤ºæ ‡å‡†å·ç§¯ï¼Œå€¼å¤§äº 1 æ—¶è¡¨ç¤ºä½¿ç”¨åˆ†ç»„å·ç§¯ï¼Œå³å°†è¾“å…¥é€šé“åˆ†ä¸ºå¤šä¸ªç»„ï¼Œåˆ†åˆ«è¿›è¡Œå·ç§¯ã€‚</span><br><span class="line">8.  bias: bool = True: æ˜¯å¦åœ¨å·ç§¯æ“ä½œä¸­ä½¿ç”¨åç½®é¡¹ã€‚é»˜è®¤ä¸º Trueï¼Œè¡¨ç¤ºåœ¨å·ç§¯ç»“æœä¸­åŠ ä¸Šä¸€ä¸ªåç½®ã€‚</span><br><span class="line">9.  padding_mode: str = &#x27;zeros&#x27;: å¡«å……çš„æ¨¡å¼ï¼Œé»˜è®¤ä¸º &#x27;zeros&#x27;ï¼Œè¡¨ç¤ºåœ¨è¾¹ç•Œå¡«å……é›¶ã€‚å…¶ä»–å¡«å……æ–¹å¼è¿˜åŒ…æ‹¬ &#x27;reflect&#x27;ã€&#x27;replicate&#x27; ç­‰ã€‚</span><br><span class="line">10.  device=None å’Œ dtype=None: è¿™ä¸¤ä¸ªå‚æ•°ç”¨äºæŒ‡å®šè®¾å¤‡ï¼ˆå¦‚ GPU æˆ– CPUï¼‰å’Œæ•°æ®ç±»å‹ï¼ˆå¦‚ torch.float32ï¼‰ã€‚</span><br></pre></td></tr></table></figure>
<h1 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h1><p><a href="https://arxiv.org/pdf/1801.07455.pdf">è®ºæ–‡åœ°å€</a><br><a href="https://github.com/yysijie/st-gcn">è®ºæ–‡ä»£ç </a></p>
<p>è®ºæ–‡è§£è¯»åšå®¢ï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/672346603">çˆ±å› æ–¯å¦æ±‚å’Œ</a></p>
<p><a href="https://thachngoctran.medium.com/spatial-temporal-graph-convolutional-networks-st-gcn-explained-bf926c811330">æ—¶ç©ºå›¾å·ç§¯ç½‘ç»œï¼ˆST-GCNï¼‰â€”â€”è¯¦è§£</a></p>
<p><a href="https://mbernste.github.io/posts/gcn/">å›¾å·ç§¯ç¥ç»ç½‘ç»œ</a></p>
<p><a href="https://blog.csdn.net/xiaoyuting999/article/details/130039164?spm=1001.2014.3001.5506">ä¸€æ¯æ°´æœèŒ¶ï¼-ST-GCN è®ºæ–‡è§£è¯»</a></p>
<p><a href="https://blog.csdn.net/qq_36756312/article/details/121351721?spm=1001.2014.3001.5506">Relissc_Cao-AAAI2018||ST-GCNï¼šSpatial Temporal Graph Convolutional Networks for Skeleton-Based Action Recognition</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/409348916">yyxy-æ¸…æ™°å›¾è§£ï¼Œä¸€å›¾çœ‹æ‡‚å›¾å·ç§¯GCNã€æ—¶ç©ºå›¾å·ç§¯ST-GCN</a></p>
]]></content>
      <categories>
        <category>è®ºæ–‡é˜…è¯»</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>GNN å›¾ç¥ç»ç½‘ç»œ</title>
    <url>/2024/09/13/09-59-13/</url>
    <content><![CDATA[<p>åšå®¢é“¾æ¥ï¼š<a href="https://distill.pub/2021/gnn-intro/">GNNåšå®¢</a></p>
<h1 id="å›¾æ˜¯ä»€ä¹ˆ"><a href="#å›¾æ˜¯ä»€ä¹ˆ" class="headerlink" title="å›¾æ˜¯ä»€ä¹ˆ?"></a>å›¾æ˜¯ä»€ä¹ˆ?</h1><p>å®ä½“ï¼ˆé¡¶ç‚¹ nodeï¼‰ä¹‹é—´çš„å…³ç³»ï¼ˆè¾¹ edgeï¼‰ã€‚A graph represents the relations (edges) between a colelction of entities(nodes). </p>
<img src="/2024/09/13/09-59-13/ef7de1a9117a2b8046f5962c517559369153e850.png@620w_!web-note.png" class>
<p>Q2: attributes in V E U é‡è¦å—ï¼Ÿ</p>
<p>ï¼å…³å¿ƒå›¾çš„æ•´ä¸ªæ¶æ„</p>
<p>ï¼æ›´å…³å¿ƒ æ¯ä¸ªé¡¶ç‚¹ã€æ¯æ¡è¾¹ã€å’Œ æ•´ä¸ªå›¾è¡¨ç¤ºçš„ä¿¡æ¯</p>
<p>Q3: attribute å¦‚ä½•è¡¨ç¤ºå‘¢ï¼Ÿ</p>
<img src="/2024/09/13/09-59-13/49dd0d770ef736cee57d5d85b15e28e8dc1785df.png@620w_!web-note.png" class>
<p>Q4ï¼šæ•°æ®å¦‚ä½•è¡¨ç¤ºæˆå›¾ï¼Ÿ</p>
<p>å›¾ç‰‡å¦‚ä½•è¡¨ç¤ºæˆå›¾ï¼Ÿ</p>
<p> 244 <em> 244 </em> 3é€šé“ï¼Œ3ç»´åº¦çš„tensor</p>
<p>æŠŠå›¾ç‰‡çœ‹ä½œä¸€å¼ å›¾ï¼Œä¸€ä¸ªåƒç´ æ˜¯ä¸€ä¸ªç‚¹ï¼›ä¸€ä¸ªåƒç´ è·Ÿæˆ‘æ˜¯è¿æ¥å…³ç³»çš„è¯ï¼Œåƒç´ ä¹‹é—´è¿ä¸€æ¡è¾¹ã€‚</p>
<img src="/2024/09/13/09-59-13/909d5904a2de4cc989ee7760cafe4143fcfd0f91.png@620w_!web-note.png" class>
<p>æŠŠå›¾ç‰‡ä¸Šçš„åƒç´  æ˜ å°„åˆ° å›¾ä¸Šçš„æ¯ä¸€ä¸ªç‚¹</p>
<p>0-0 2-2</p>
<img src="/2024/09/13/09-59-13/74a28726ded8422863321b9a13f283272cd11c3e.png@620w_!web-note.png" class>
<p>è“è‰²ç‚¹ è¡¨ç¤º adjacent matrixï¼Œç™½è‰²ç‚¹è¡¨ç¤ºæ— è¿æ¥ï¼›é€šå¸¸æ˜¯å¾ˆå¤§çš„sparse matrix</p>
<h2 id="ä»€ä¹ˆå¯ä»¥è¡¨ç¤ºä¸ºå›¾"><a href="#ä»€ä¹ˆå¯ä»¥è¡¨ç¤ºä¸ºå›¾" class="headerlink" title="ä»€ä¹ˆå¯ä»¥è¡¨ç¤ºä¸ºå›¾"></a>ä»€ä¹ˆå¯ä»¥è¡¨ç¤ºä¸ºå›¾</h2><p>æ–‡æœ¬çš„é¡ºåºï¼šå›¾çš„æœ‰å‘è·¯</p>
<p>Q5ï¼šé™¤äº†å›¾ç‰‡ã€æ–‡æœ¬ï¼Œè¿˜æœ‰ä»€ä¹ˆæ•°æ®å¯ä»¥è¡¨ç¤ºæˆå›¾ï¼Ÿ</p>
<p>é¦™æ–™åˆ†å­å›¾ã€å’–å•¡å› çš„åˆ†å­å›¾ã€ç¤¾äº¤ç½‘ç»œå›¾ã€å¼•ç”¨å›¾(directed)</p>
<h2 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h2><p>å›¾æœ‰å‡ ç±»ä¿¡æ¯éœ€è¦è¡¨ç¤ºï¼Ÿ</p>
<p>nodes V, edges E, global-context U and connectivity</p>
<p>V E U å¯ä»¥ç”¨ vector è¡¨ç¤ºï¼Œé—®é¢˜æ˜¯ connectivity å¦‚ä½•è¡¨ç¤ºï¼Ÿby adjacent matrix? </p>
<p>Q6ï¼šn * n çš„ 0-1 å…ƒç´ çŸ©é˜µ è¡¨ç¤º connectivity å¯ä»¥å—ï¼Ÿ</p>
<p>çŸ©é˜µå¾ˆå¤§ï¼Œi.e., wikipediaæ•°æ®é›†ï¼Œ12M nodesï¼ŒçŸ©é˜µä¼šæœ‰12Mè¡Œã€12Måˆ—ï¼Œæ— æ³•å­˜å‚¨ã€‚<br>è¾¹é€šå¸¸æ˜¯ç¨€ç–çš„ï¼Œå­˜å‚¨ sparse matrix âœ”ï¼›ä½†ç¨€ç–çŸ©é˜µåœ¨GPUä¸Šçš„é«˜æ•ˆè¿ç®—ï¼Œéš¾âŒ<br>é‚»æ¥çŸ©é˜µçš„ è¡Œã€åˆ—é¡ºåºäº¤æ¢ï¼Œä¸ä¼šå½±å“å›¾</p>
<h1 id="å›¾ç¥ç»ç½‘ç»œ"><a href="#å›¾ç¥ç»ç½‘ç»œ" class="headerlink" title="å›¾ç¥ç»ç½‘ç»œ"></a>å›¾ç¥ç»ç½‘ç»œ</h1><p>è¾“å…¥ä¸€ä¸ªé«˜æ•ˆå­˜å‚¨ã€é¡ºåºæ— å…³çš„ Nodes, Edges, Adjacency List, Global ä¿¡æ¯ï¼Œå¦‚ä½•ç”¨ NN å¤„ç†å‘¢ï¼Ÿâ€”â€” Graph Neural Networks</p>
<h2 id="å›¾ç¥ç»ç½‘ç»œçš„å®šä¹‰"><a href="#å›¾ç¥ç»ç½‘ç»œçš„å®šä¹‰" class="headerlink" title="å›¾ç¥ç»ç½‘ç»œçš„å®šä¹‰"></a>å›¾ç¥ç»ç½‘ç»œçš„å®šä¹‰</h2><p>A GNN is  an optimizable transformation on all attributes of the graph (nodes, edges, global-contex ) that preserves graph symmetries (permuation invariance).</p>
<p>å›¾ä¸Šå±æ€§çš„ å¯ä»¥ä¼˜åŒ–çš„å˜åŒ–ï¼Œä¸”ä¿æŒå›¾çš„å¯¹ç§°ä¿¡æ¯ã€‚</p>
<p>å¯¹ attributes è¿›è¡Œå˜æ¢æ—¶ï¼Œå›¾çš„ç»“æ„ä¸å˜åŒ–</p>
<p>Un å…¨å±€å‘é‡, Vn é¡¶ç‚¹å‘é‡, En è¾¹å‘é‡ åˆ†åˆ«æ„é€ ä¸€ä¸ªMLP, MLPçš„è¾“å…¥è¾“å‡ºçš„å¤§å°ä¸€è‡´ã€‚</p>
<p>3ä¸ªMLP f_Un, f_Vn, f_En ç»„æˆä¸€ä¸ª GNN çš„å±‚ã€‚</p>
<p>graph-in, graph out</p>
<p>MLP f_Un, f_Vn, f_En  åˆ†åˆ«å¯¹è¾“å…¥çš„ Un å…¨å±€å‘é‡, Vn é¡¶ç‚¹å‘é‡, En è¾¹å‘é‡ è®¡ç®—ï¼Œå¾—åˆ°æ›´æ–° Un+1 å…¨å±€å‘é‡, Vn+1 é¡¶ç‚¹å‘é‡, En+1 è¾¹å‘é‡ ã€‚</p>
<img src="/2024/09/13/09-59-13/58b51ce69eb62a7a67d381ab5d1fe9e3989de776.png@620w_!web-note.png" class>
<h2 id="GNN-predictions-by-pooling-information"><a href="#GNN-predictions-by-pooling-information" class="headerlink" title="GNN predictions by pooling information"></a>GNN predictions by pooling information</h2><p>æœ€åä¸€å±‚çš„è¾“å‡ºï¼Œæ€ä¹ˆå¾—åˆ°é¢„æµ‹å€¼ï¼Ÿ</p>
<p>simplest: nodes prediction é¡¶ç‚¹é¢„æµ‹</p>
<p>åˆ†ç±»é¢„æµ‹: i.e., ç©ºæ‰‹é“ä¿±ä¹éƒ¨å–œæ¬¢ A è€å¸ˆè¿˜æ˜¯ B è€å¸ˆ</p>
<p>å’Œ NN ç±»ä¼¼ï¼Œnode embeddings å‘é‡ æ¥å…¥ è¾“å‡ºç»´åº¦ä¸º 2 or n çš„å…¨è¿æ¥å±‚ + ä¸€ä¸ª softmaxï¼Œå¾—åˆ°åˆ†ç±»ç»“æœï¼›è¾“å‡ºç»´åº¦ä¸º 1ï¼Œå¾—åˆ°å›å½’ç»“æœã€‚</p>
<p>æœ€åä¸€å±‚çš„é¡¶ç‚¹è¿›å…¥ å›¾ä¸­çš„ C_V_{i,n} classification å…¨è¿æ¥ç½‘ç»œï¼Œå¾—åˆ°é¡¶ç‚¹çš„åˆ†ç±»ã€‚</p>
<img src="/2024/09/13/09-59-13/3222c2a50c031b6fe61c40eea4cb6a85a552c347.png@620w_!web-note.png" class>
<p>Note: æ‰€æœ‰é¡¶ç‚¹å…±äº«ä¸€ä¸ªå…¨è¿æ¥å±‚ C_V_{i,n} çš„å‚æ•°ã€‚</p>
<p>GNN ä¹‹å‰çš„å±‚ï¼Œä¸è®ºå›¾æœ‰å¤šå¤§ï¼Œä¸€å±‚é‡Œé¢åªæœ‰ 3 ä¸ªMLP</p>
<ul>
<li>æ‰€æœ‰é¡¶ç‚¹å…±äº«ä¸€ä¸ª MLP</li>
<li>æ‰€æœ‰è¾¹å…±äº«ä¸€ä¸ª MLP</li>
<li>æ‰€æœ‰çš„å…¨å±€ Uï¼ˆå“ˆå“ˆå“ˆï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªï¼‰ä¸ç”¨å…±äº«ã€‚</li>
</ul>
<p><strong>complex: node predictions without node embeddings</strong></p>
<p>å¯¹æŸä¸ªé¡¶ç‚¹åˆ†ç±»é¢„æµ‹ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ªé¡¶ç‚¹çš„å‘é‡ã€‚</p>
<p>pooling æ±‡èš ï¼ˆä¼¼ CNN çš„ poolingï¼‰</p>
<p>ä¸ç¼ºå¤±ç‚¹è¿æ¥çš„è¾¹çš„å‘é‡ 4ä¸ª + å…¨å±€å‘é‡ 1 ä¸ª == ä»£è¡¨è¿™ä¸ªç¼ºå¤±ç‚¹çš„å‘é‡ï¼Œå†åšä¸€ä¸ªå…¨è¿æ¥å±‚çš„é¢„æµ‹è¾“å‡ºã€‚</p>
<p>å‡è®¾ï¼šæ‰€æœ‰é¡¶ç‚¹ã€è¾¹ã€å…¨å±€å‘é‡çš„ç»´åº¦ä¸€è‡´ï¼›ä¸ä¸€è‡´ï¼Œéœ€è¦åšæŠ•å½±ã€‚</p>
<img src="/2024/09/13/09-59-13/71411099ddffd12967a5d1255744c79cf70bbd72.png@620w_!web-note.png" class>
<p>åˆ«çš„ç¼ºå¤±ç‚¹ï¼Œè¿æ¥å…³ç³»ä¸ä¸€æ ·ï¼Œæœ€åçš„å‘é‡ä¹Ÿä¸ä¸€æ ·ã€‚</p>
<img src="/2024/09/13/09-59-13/83d55b86bb0e6bd45f2992eddd76b16659f7cab1.png@620w_!web-note.png" class>
<p>V_n æ˜¯åªæœ‰è¾¹ã€æ²¡æœ‰é¡¶ç‚¹çš„å‘é‡</p>
<p>E_n æ˜¯è¾¹çš„å‘é‡</p>
<p>Rho_{E_n â€”&gt; V_n} é€šè¿‡ pooling æ±‡èšä» è¾¹ +å…¨å±€ åˆ° é¡¶ç‚¹çš„ä¿¡æ¯ï¼Œ è¿›å…¥é¡¶ç‚¹å…±äº«çš„åˆ†ç±»å±‚ C_V_n ä¹‹å‰ï¼Œæ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰è‡ªå·±çš„å‘é‡ embedding</p>
<p>Q: åªæœ‰ node embeddings æ²¡æœ‰ è¾¹çš„å‘é‡ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>Rho_{V_n â€”&gt; E_n} æŠŠ node embeddings æ±‡èšåˆ° vertex è¾¹ä¸Šã€‚</p>
<p>ä¸€æ¡è¾¹ï¼Œè¿æ¥ä¸¤ä¸ªé¡¶ç‚¹ï¼Œ2ä¸ªé¡¶ç‚¹å‘é‡ç›¸åŠ  ï¼ˆ+ å…¨å±€å‘é‡ï¼‰== å¾—åˆ° è¾¹çš„å‘é‡ï¼Œç„¶åè¿›å…¥è¾¹å…±äº«çš„ä¸€ä¸ª MLP é¢„æµ‹åˆ†ç±»ç½‘ç»œï¼Œå¾—åˆ°è¾¹çš„é¢„æµ‹è¾“å‡ºã€‚</p>
<p>Q: æ²¡æœ‰å…¨å±€å‘é‡ U, æœ‰ node embeddings, å¯¹æ•´ä¸ªå›¾åšé¢„æµ‹ï¼Ÿ</p>
<img src="/2024/09/13/09-59-13/83d32576fb6bd47389a7892c2a77125e5f00686a.png@620w_!web-note.png" class>
<p>æŠŠæ‰€æœ‰çš„ node embeddings åŠ èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå…¨å±€çš„å‘é‡ï¼Œè¿›å…¥å…¨å±€çš„MLPï¼Œå¾—åˆ°ä¸€ä¸ªå…¨å±€çš„é¢„æµ‹è¾“å‡ºã€‚</p>
<p><strong>æ€»ç»“ï¼šä¸è®ºç¼ºå°‘å“ªä¸€ç±» V E U attributesï¼Œpooling æ±‡èšå¾—åˆ°ç¼ºå¤±å€¼ embeddingsï¼Œè¿›å…¥MLPï¼Œå¾—åˆ°é¢„æµ‹å€¼ã€‚</strong></p>
<h2 id="æœ€ç®€å•çš„-GNN-ç¤ºæ„å›¾"><a href="#æœ€ç®€å•çš„-GNN-ç¤ºæ„å›¾" class="headerlink" title="æœ€ç®€å•çš„ GNN ç¤ºæ„å›¾"></a>æœ€ç®€å•çš„ GNN ç¤ºæ„å›¾</h2><p>input graph ç»è¿‡ GNN blocks ï¼ˆæ¯ä¸€ä¸ª block é‡Œé¢æœ‰ 3ä¸ª MLPå¯¹ Vé¡¶ç‚¹ Eè¾¹ Uå…¨å±€ attributes æ›´æ–°ï¼‰å¾—åˆ° ä¸€ä¸ªåŒç»“æ„çš„ transformed graph, ä½† V E U å±æ€§å€¼å·²è¢«æ›´æ–°ã€‚</p>
<p>(if æŸç±» embeddings ç¼ºå¤±ï¼Œé€šè¿‡å…¶å®ƒ embeddings pooling æ±‡èšè€Œæ¥)</p>
<p>æœ€åæ ¹æ® V E U æŸç±»å±æ€§åšé¢„æµ‹ï¼Œæ¥ä¸€ä¸ª MLP classification layer è¾“å‡ºé¢„æµ‹ä¿¡æ¯ã€‚</p>
<img src="/2024/09/13/09-59-13/QQ20240913-103019.png" class>
<p>Q: simplest GNN æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>GNN blocks æ²¡æœ‰ä½¿ç”¨å›¾ç»“æ„ä¿¡æ¯ï¼šä½¿ç”¨ MLP æ›´æ–°å±æ€§å€¼æ—¶ï¼Œæ²¡æœ‰çœ‹åˆ° V é¡¶ç‚¹ E è¾¹ çš„äº¤äº’ä¿¡æ¯ï¼Œåªæ˜¯ V è¿› MLP_V, E è¿› MLP_E, U è¿› MLP_Uï¼Œå¿½ç•¥äº†ç‚¹è¾¹ä¹‹é—´çš„è¿æ¥ä¿¡æ¯ã€‚</p>
<p>overlook information: ä¸€ä¸ªé¡¶ç‚¹ä¸å“ªäº›è¾¹ç›¸è¿ï¼Œä¸€ä¸ªé¡¶ç‚¹ä¸å“ªäº›é¡¶ç‚¹ç›¸è¿ï¼›ä¸€æ¡è¾¹ä¸å“ªäº›é¡¶ç‚¹ç›¸è¿ï¼Œä¸€æ¡è¾¹ä¸å“ªäº›è¾¹ç›¸è¿</p>
<p>GNN blocks æ²¡æœ‰åˆç†çš„å°†æ•´ä¸ªå›¾çš„ä¿¡æ¯æ›´æ–°åˆ°å±æ€§å€¼é‡Œï¼Œæœ€åçš„ç»“æœä¸èƒ½ leverage å›¾çš„ä¿¡æ¯ã€‚</p>
<p>Q: å¦‚ä½•æ”¹è¿› GNN blocks ä»¥è€ƒè™‘å›¾çš„ç»“æ„ä¿¡æ¯ï¼Ÿ</p>
<p>ä¿¡æ¯ä¼ é€’<br>Passing messages between parts of the graph</p>
<p>ç±»ä¼¼ pooling æ±‡èš<br>é¡¶ç‚¹çš„å‘é‡å’Œé‚»å±…çš„å‘é‡ç›¸åŠ ï¼Œè¿›è¡ŒMLPå˜æ¢ã€‚</p>
<p>å¯¹å›¾ä¸­é¡¶ç‚¹è¿›è¡Œæ›´æ–°ï¼Œ<br><img src="/2024/09/13/09-59-13/QQ20240913-103203.png" class></p>
<p>å’Œå·ç§¯çš„ä¸åŒï¼Œå·ç§¯çš„æ ¸æƒé‡æ¯ä¸€ä¸ªéƒ½ä¸ä¸€æ ·ï¼ŒGNNæƒé‡éƒ½æ˜¯ä¸€æ ·çš„ï¼Œç›´æ¥ç›¸åŠ ã€‚</p>
<h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>GNN å¯¹è¶…å‚æ•°æ¯”è¾ƒæ•æ„Ÿï¼š</p>
<p>å¤šå°‘å±‚ã€attributeçš„embeddingçš„ç»´åº¦ã€æ±‡èšä½¿ç”¨ä»€ä¹ˆæ“ä½œmax averageã€æ€æ ·ä¼ é€’æ¶ˆæ¯</p>
<h2 id="ç›¸å…³æŠ€æœ¯"><a href="#ç›¸å…³æŠ€æœ¯" class="headerlink" title="ç›¸å…³æŠ€æœ¯"></a>ç›¸å…³æŠ€æœ¯</h2><h3 id="é™¤-GNN-å¤–ï¼Œè¿˜æœ‰åˆ«çš„å›¾å—ï¼Ÿ"><a href="#é™¤-GNN-å¤–ï¼Œè¿˜æœ‰åˆ«çš„å›¾å—ï¼Ÿ" class="headerlink" title="é™¤ GNN å¤–ï¼Œè¿˜æœ‰åˆ«çš„å›¾å—ï¼Ÿ"></a>é™¤ GNN å¤–ï¼Œè¿˜æœ‰åˆ«çš„å›¾å—ï¼Ÿ</h3><p>Multigraph</p>
<p>ä¸€å¼ å›¾ä¸­çš„å¤šç§è¾¹ï¼šæœ‰å‘è¾¹ã€æ— å‘è¾¹ï¼›åˆ†å±‚å›¾ï¼Œä¸€äº›é¡¶ç‚¹æ˜¯å­å›¾çš„<br><img src="/2024/09/13/09-59-13/QQ20240913-103857.png" class></p>
<p>ä¸åŒçš„å›¾ç»“æ„ å½±å“ message passing çš„æ“ä½œ</p>
<h3 id="Sampling-graphs-and-batching-in-GNNs"><a href="#Sampling-graphs-and-batching-in-GNNs" class="headerlink" title="Sampling graphs and batching in GNNs"></a>Sampling graphs and batching in GNNs</h3><p>Why sample graphsï¼Ÿ</p>
<p>i.e., ä¸€ä¸ªæœ‰å¾ˆå¤šå±‚ã€å¾ˆå¤§çš„å›¾</p>
<p>æœ€åä¸€å±‚çš„é¡¶ç‚¹ï¼Œå³ä½¿åªçœ‹æ¯ä¸€å±‚çš„ä¸€é˜¶é‚»å±…ï¼Œæ ¹æ®æ¶ˆæ¯ä¼ é€’ï¼Œæœ€åä¸€å±‚çš„é¡¶ç‚¹èƒ½çœ‹åˆ°ä¸€ä¸ªå¾ˆå¤§çš„å›¾ï¼Œç”šè‡³æ˜¯å…¨å›¾çš„ä¿¡æ¯ï¼ˆå¦‚æœå›¾çš„connectivityå¯ä»¥çš„è¯ï¼‰</p>
<p>è®¡ç®—æ¢¯åº¦éœ€è¦ forward è¿‡ç¨‹ä¸­å…¨éƒ¨çš„ä¸­é—´å˜é‡ã€‚å› ä¸ºæœ€åä¸€å±‚çš„é¡¶ç‚¹è¦çœ‹æ•´ä¸ªå›¾çš„è¯ï¼Œå¯¹æœ€åä¸€å±‚çš„é¡¶ç‚¹è®¡ç®—æ¢¯åº¦ï¼Œéœ€è¦æŠŠæ•´ä¸ªå›¾çš„è®¡ç®—ä¸­é—´ç»“æœéƒ½ä¿å­˜ä¸‹æ¥ï¼Œâ€”&gt; è®¡ç®—éš¾ /(ã„’oã„’)/~~ </p>
<p>â€”&gt; sample graph   é‡‡æ ·</p>
<blockquote>
<p>ç±»ä¼¼å€™é€‰æ¡†</p>
</blockquote>
<h3 id="sample-graph-çš„æ–¹æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ"><a href="#sample-graph-çš„æ–¹æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ" class="headerlink" title="sample graph çš„æ–¹æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ"></a>sample graph çš„æ–¹æ³•æœ‰å“ªäº›å‘¢ï¼Ÿ</h3><ol>
<li>random node sampling</li>
</ol>
<p>é‡‡æ · 4 ä¸ªé»„è‰²nodesï¼Œå¾—åˆ° 1-degree neighbor çº¢è‰²ç‚¹<br>åªåœ¨ sample å‡ºæ¥çš„å­å›¾ä¸Šåšè®¡ç®—ï¼Œé¿å…å›¾ç‰¹åˆ«å¤§ã€å†…å­˜å­˜ä¸äº†<br><img src="/2024/09/13/09-59-13/QQ20240913-104144.png" class></p>
<ol>
<li>random walk sampling </li>
</ol>
<p>éšæœºæ¸¸èµ°<br>ä»æŸä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼Œéšæœºæ‰¾ä¸€æ¡è¾¹ï¼Œç„¶åæ²¿ç€è¿™æ¡è¾¹èµ°åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹<br>è§„å®šæœ€å¤šéšæœºèµ°å¤šå°‘æ­¥ï¼Œå¾—åˆ°ä¸€ä¸ªsampleå­å›¾<br><img src="/2024/09/13/09-59-13/QQ20240913-104206.png" class></p>
<ol>
<li>1 + 2 </li>
</ol>
<p>éšæœºèµ°ä¸‰æ­¥ï¼Œèµ°åˆ°çš„èŠ‚ç‚¹çš„é‚»å±…ä¹Ÿè€ƒè™‘è¿›æ¥<br><img src="/2024/09/13/09-59-13/QQ20240913-104231.png" class></p>
<ol>
<li>BFS</li>
</ol>
<p>å–ä¸€ä¸ªç‚¹åŠå…¶ä¸€é˜¶ã€äºŒé˜¶é‚»å±…ï¼Œç„¶åå†å¾€å‰èµ° k æ­¥ï¼Œå¾—åˆ°å­å›¾<br><img src="/2024/09/13/09-59-13/QQ20240913-104255.png" class></p>
<p><strong>4 ç§ sample graphs çš„æ–¹æ³•å–å†³äºæ•°æ®é›†çš„å½¢å¼</strong></p>
<h2 id="è®¨è®º"><a href="#è®¨è®º" class="headerlink" title="è®¨è®º"></a>è®¨è®º</h2><p>å·ç§¯ç¥ç»ç½‘ç»œï¼šå‡è®¾ç©ºé—´å˜æ¢ä¸å˜æ€§<br>å¾ªç¯ç¥ç»ç½‘ç»œï¼šå‡è®¾æ—¶åºå»¶ç»­æ€§<br>å›¾ç¥ç»ç½‘ç»œï¼šå‡è®¾ä¿æŒå›¾çš„å¯¹ç§°æ€§ï¼šä¸ç®¡æ€ä¹ˆäº¤æ¢é¡¶ç‚¹é¡ºåºï¼ŒGNNçš„ä½œç”¨éƒ½ä¸å˜ã€‚</p>
<p>GCN:å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼Œå›¾ç¥ç»ç½‘ç»œåšäº†æ±‡èšæ“ä½œã€‚<br>GCNçš„æ±‡èšæ“ä½œï¼Œæ˜¯å¦‚ä½•æŠŠç›¸é‚»èŠ‚ç‚¹çš„ç‰¹å¾æƒé‡$W$æˆ–è€…$X$ï¼Œé€šè¿‡é‚»æ¥çŸ©é˜µæ±‡èšæ›´æ–°åˆ°è‡ªå·±ã€‚<br><img src="/2024/09/13/09-59-13/QQ20241004-094759.png" class></p>
]]></content>
      <categories>
        <category>è®ºæ–‡é˜…è¯»</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ , è®¡ç®—æœºè§†è§‰</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥ä¹ç§‘ç ”æ–‡ç« ç›¸å…³ç¬”è®°å†…å®¹</title>
    <url>/2024/09/12/07-50-15/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <script id="hbeData" type="hbeData" data-hmacdigest="4b27b049f44f82420410efd1d6eb3ed1a27b16aafcdabd27197be814961f1bef">1cc37a9b4bf89818b07fff6360960bb856aa952e31d1416348243144b6168bb97db31266016472ea51d1450c29453439db12fd10139d9ddb97f0fa6cdb024b3f3ad25622d403a26dd0b1aaaabca523613ec1ab28ea0bc6329a75c5e4df68fa80f7ec8a54197dd06e7b9f4416830c8c9383f21ccab4d39faea68a088c3d120425e329aa791a1af121f531429cc0243a151588fc59984d5546079cd71bbcc0079067ca86de50d3c420b4ac594e2f1e905677a94347eca95380d5a7fafb96e8ae93cd465e4342994823b9c5d5ba026331d7bdc9466c2556230b5849126560fa1df50c2a9a245b16c94daa7b16eb048f0540c0bd16c60cdae7f843a0899af96d4571fc2e645e83f2e7d835c608bfc967d17b44310e40f90398bc6894c48019dd2cb877a057810e2a40a0a9e89f794d5d412ae904994cb6baa4c1ab198325b5766e316cc831a2d9525f036381522f7ff4687d8639ac276a6b6c599fde4157c2d02ac24d9123dc83d41b0259cd30cbb68b309551e8b93757cc86040abb0ceff528d6d7de8d593a4d53a2607e64c4b68836aa15a04f404dcdfbe9308dd56466d47db3e08c0d75ea8fe816133a20a18350ef7d91d2b8a315b51999a524d3972f62e24a90f6c055d9b70b9e19a599d2bda4f2ffd285da2f96a982c58f0e5966c9c91f78357167563e7cbfe60301ac70aac73ad7a21a8bd30d4141b353f37bf8e29625a4a196b6b3fc847ad5d01dd151cd4f0b75cec7b7dd49905865997775cee3623b6493f59910b4d17c7a4d07fd611b67ecd1b021d85ad9f9296c1d40065c67ac66d9980b78214c16e964752a6ae050de907992ebc051036c1b007d9a24f3d18d1d30cda8be16bd5a2870077fc26a84cb54c9769160a36bc43fb583e99a9ee37748b7819a2b97ea0a08e376a9b8c312cd33e60a5ddb143cb7938e5211dce27d1af7cc40b610224a35d107c814015241b21e941999854449c52ac8edc2c8824aa600a3f91d40b91aa6238937b9e3939ccbce1cb345c103f5e2c0c86e114b354582bcb6ee4fe4b5a07fd15377b4d1d699b036a209aa662b33f24b658338a1a52e38df8ea5661ef53474a0c02c12a5db9229a39f03f089bf28a6bad9a1de5efa3255c0407c94ebce4575f218ff61005f063a27f4bcea1e6b0ff1f6c76eaebf4419f9b5feeee7be04709656629e749d30e2fad2348f8c6506325ceb8da0f527bfe4bd55782aadda08c08857da599ce8fbcd546f3d6162cd5e8b5283830b015a94100a9e647f0e4ee65f436ed5571cee33ca440964641b0c4c906b2d28d8297a7b33f660c6f6ad622216832db91de9f6328b40ad3ac3671bfaf045ee3785720ad0187d834b07a4ebcc55aea088abdbf04e3f40485def5a4e66433983d9f3b985a46166b6fed04c00b59efea3ddd740960263f965c48d3d52ff58c3015929188aac44c83a33c49fd6480af8df6904be175f7a5ddf71f23f51fcbf3434fcee70f956badaf6dc295f26c3b1f626b9db3b338d10b16cd8089a3792cb60003f6a1f4bf66a8f09b10ded1c759a5ab0c758e344dc2081d23127ae3d8c4dd669d655f4adf23b38b57600a1314ca4d48a654481ac2c6145365939d299b731d30287ba3f1c7aeb60a33e4ad53baaa189c811da499cd4c2ae09ec9aa019f03a2fd77a09491797b7f632fa41f47f9b547485870152319db170910c1d3943dc09569aeefa91c507788278adab5ce0ba1d2f3dc1b4f5e09c67320b102159b573146998232eafaca597778848324ca8444b673bab3b4835930f0d3f12e5b8a73d3aa4965d2d25c5fee33e8d2178bf7bf10852ba4134e1011a0d109c7e664827a9feb32a681d8aa50e14cc23cd74</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>è‰ç¨¿</category>
      </categories>
  </entry>
  <entry>
    <title>ç ”ä¸€è¯¾ç¨‹ç¬”è®°å†…å®¹</title>
    <url>/2024/09/12/07-49-36/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <script id="hbeData" type="hbeData" data-hmacdigest="5d011d1088b7787956e9bb79fcd7965dbcd258bf3b3882f4af0a637c02e493fa">1cc37a9b4bf89818b07fff6360960bb856aa952e31d1416348243144b6168bb9be55c914eb9242e24784d27713704de0d78d52714faaad71383ea2ab6ebc02035524d20fe21718414dc59f03136ffd9d4cc9ebab281d0e5511768aaf09274e8ccec4d536140a138621bbdb7a55d3f929b9963535e52b364ae95b3168cec4edc43acdcb56e54cbff2e843939bc4737d2e6ec64f3ff16a958d181bfcb0a0bc45cb3e3b2d5a471acd50c5e7659f6c519311693cdb2ebebf795ee102cb6915da3dd1b6dc880dc2ba924c3d469da3fc2187f022e8e6b1742a95ec2cee454c696f73309e370ebf20d41ebcdd0a7929d4763836a44fff2a6ecd23b7af275e1e14c5a1093dbf4e7a55841f7a6e4c5a1baae012674c8d53433190a003eb7d94c3603143d9296c60e70a6d9b6031988930c240a57aa83dede712da6fa4733800bee5aa210b42646a1e8bb319bd54517b48dfcff78666c45d7ea5cea4f7a0e44be20e470cd94e4315a95e7c57f742cbd47ebb468e5910c6dd47363fbb3828bafeb1f72ecf9e07efec2cd816b3661bd0a516564134c410cf72d9107fcc904f9a88a5288408decfb5d9b4eead58e90763f4352291eb181ee6a601d37eb9a97bb8ab1cab79629d5f2a79afa2422597c6d884fd8bd9c2bf3813c9ed64b0bc08d3fd3a7dd0e08fada1911866c561985260e1f57588d9c1d29559c5d26523e678e9da86120c6b3ff5f14c924e2a13854b64f10aea3679b14f3d84fa18881c67113fa6e0b16f46e35bc6c3e152b03f0833449baff778f5788c52df1603317d84f0881e18cacefd6f4ff3b92c9fcdfab7085df8c25eb4eb2ed794bfb39782ad9b6fc53dfd682b056a978ae5b794a59768205e0172364ded3d0b32f4133b087ede81866a30b8969b8caf5bc43c33b27cd7504ff44585bc6bb5131b440c2845cd943dfd131645ac4123a8996ccf4461c6436100442f18348f535a004a62f1a79076815fddf52bd8583ac841535e097fa3d54c237ed3e84092c5eecae3aac8aad37f8a51a2c414dc5226143f5067acb0a6c91430a4066549ee3d27a49e243201b196664af72d4b32d16b75c12217f16557df94dfd20fae2bcfd314ac351565cf0f8c637a45b4b38d40006cf5624c37bc6e042e0169f0960cf486067dece0ceed359399f5abb1cbda6de2d8a34501fffe26482b376f84acd143846acfe2f562eeabc8c30a3c6be0fc729c57d2957ec6f34743b760b8f78fe3ceecba265d3f37bbc2f5b8c90c014f530e57b3e5edc0a7323c85c3adbfa88668d00ea0f8893939514727c30ad919e503d14edf31829bf563a01fed2a6ea88ac64efcd2048da5caab59669ef6257f1b2e0b986ee01e332cb8967ee515ab1f91265c9d898f047cfa1bbfa158ebf288dae92280f78a1476052bf3795ecf58e89f5314679d5a050515bbfdb1af9569d41c72f3c3768677fe0f5174f23b8e43d68cb62a238d1005d48a22302f780665fa0bcee8b7ab0ef168ed8ad73b3a44f022ec01d922ce1672b5aee475583d57ee0943c95f5c8e9b9dfc811b66f8488584fcc9195a9448c1ce32aab1d08bcd17b5831952ef1cafa755f954ecc5a7df1d6e2d5b0035981b5894d24534a99fe5a91ed7215c50e12974d9e187e2658a607c7f6171806b021ddb0a18bfdd780ef36bf226f409345d4148f4d762c3bb6cd000b26981de6aee63709714bf386f7f1ae0eb6cbcbb2eb2addf43965eff58fb8abff8ecc4392ca58be3dbdc284ddcf81d0c3158b646a526700f0a3740d799ff811387261c69bcb6f4dc0bd3f50e912dc76635667e746a8c09b970614407d251c65d89eb88f2e7e53b8dfdf82e99ffa6baf8da52129f0f3f015ef63a9f7a82f92959c68bcf490255f26e29ae0364864dbeeccb9601051c177610d1159207bc8ff57c69ae446ab183bd0d40de1ecc8e1113623f94ec75ffc302d55f5b9da6b83110ee2eb608d2d053e06862af584bc4ba4289cf1ba50381cdfc17c33687582d3e9d1ac4b382ee24f5323e141a2984097683a13cda4677feac1d7c192e6f61cf1370740225e79b360cf2443e3011f8aeeb9d953647bb46db69e859de109f9c9f87dc92020db81ebb4ee35487fdd2d54f013fb116a731e5f57e287047e13dfb9364108ed097a489dc4c75937fd358b1a5586bf99d7565f986c9c907c487e3a5f5779acb273bc633a093749a94c0da10c933b4a5b1bd4bd41b1329ff5b9f59554c8df9763843311a974af918989bf0f71855339469abb91b32c6cdb502e50f33b54214f4992da671e09200c17e2b235ffc79cef7db2e13f7e21d3e84a836e699ddf1092a653efddaf516a3be553095e5be49e5c8ddf70740955d11b337089cdf34d78903930bdf0b2c671039eae55a36d639aa4463da1c866523fa98ddde7e2af5e953fd934014cab48a97cf7f8a929f86d490b21421e21638c3279ad3cf38e3d092337bac36fe63db80451443ba52f77d65b03954991e3df146fdf714a4199ea9305a83532bd2d8f7f09720e6b3be842c91bb382f63ed584393b12d0ff371d97bf1ea17c2791a54f9a17650a1f327b13c02e348859d7fe8637dcd366a7821f560390713edd4953a6fe978ca78d361c72991b1240dac1ebdd48fa3883c716f9ce365ec3ac7090cc0dfe20a410abd6e03fc56ffaf53c8c1057fdbc0c6144fc0939b1d5917b7bcdc34e7a022eff29e2d20a740ecbe8395dcc3fd723cdc0e4b0963d0ab268ba27251d6b05434f74cbc2bd3bf193e063e22dc273cbe406b44973d5dae635ebe39df97a79b6e5e002ce56a910631f07f4741a160082e46df58c5e9703405df8d12fc22003b911ca362bba05c71119764c989b4e916ac73c629afd1fd3005c8e9adcb8e8a2f8fa34d63e45e14abd35d2cb2368a94098c8aa9edcf334051ac5518404a7c9de0e1f8f2547b4322339eeb2c7f380d668e91bc461f011ea59f6862f1d70526533a3697dba6d4b91bccc0265c11cc8db902d1db6d0a5a8a4e41574547d26621d081aa1cb2f9a8dfa77d4194c06ad49330b5427a7b479eb13262d492b9ccf13c1cb611f90fd11939a7810262ffbeef948cd4bbeb1a9093be7ed3c55f6d07e12f24745fe0ad5d12335de09545dc5d5ba832f0e9fcb69f9a1eff8aec3d11cc8f1ded24c54bc0b9a76bba382be0339054258e981715d981392273ba074f1e76bf90950c03736752268f8a63fc7c1bbe12cd549daad110cfd94dfc2c8db6b82bb31735fd8f3f7f0b61968b6cf211e71ab715a7124895be68efd407cff88397e151c09103c1aefca6433412174211950f4bcf55ee869f7b832ab65fae8a1eca4740919909f44e2f598d3935064cb1905bd52604dcba8cd0a2bb2d73e49106ed5223d2e718589bdb1fa9f08cc72491c67efbda4899d24964e94c01361424880953623f0e37af1b61f5f969e566a42670534f8be88968190b5092e56976edc0bb6be4ddcd5149e560238d55de5aae380e3bc0e4366217ff2ac5bd984b4231569e011efae8a7b020aea5961bdb4fcb57e3c3aa6b500a1e9decaeb901d8f0eaa1101ac962c94073cf2281005de9dbd9e51494024e654d60049e699be6ed2be91c1e157ccb3e7b47b093fd86f436c448916dc70a992fc5be7f4c5229e0619007be9f98416384db279cb2ba9382a68dd591d9b0dd48ae179ea01dda78e275513b765b6b396c4c386c5d8307886f36546d7d00a48642dda19db6ae447086ba85466fafe3368988410427ccc6251236607c7794a5946ff068352d27ef83269c34a33f2780114886d86a572c8ea23d1bc5b1577688a19dcd8ce3dcc24f38d458ca981dc7b3e08dccc8a249eea4b09033d1504b166c56300d10a5576cba3615e91065f9b07b2810f5100d210d1c740e005a20f4b9a90de96de3ede950d1159e654c4a801ed034b34f7f1f193058de38ad820a3e2596f50448de16cbd89e8dd2eb100012528c1178577fb7750e82b9d8a963e06a1e61bb51dff8a1a06389ac15f580f1a1879b41125e14b6e14e0169488d66ebd9f37e48c4f56cfde5f30cea99fff7cb6b226f5f6cd26978f0b60871e36bc37f9d4af72dee65f94aeda79be44971499729f89de2868941648396aa32dcd9bb2804d4e53af0f19cb68feed943cd19c50343cbe283972f82bc4f18d63dfd440b7f04fbe0c58843b005a29915ee04e84fd3513d3385399dc1be42d6697ce63180fbc85ad4533d08885594849b9cf71d5dce1935f409ba634ba31b5ad7e810cbfbc109449c35221ba1f0100dbca6ddd4b61e6f25d10412a14f3a2ea64bafabae454b108d9c4ac2c036aa289df0bb6c7e173d7e0569d8c7bc83177d3f8cf29f18ce9e86d5d1be6d14bc8624ecb5ccb2d1e6ae1e5fcd4af4237106892f2fca4e934ea49e05150b3842e54db0aff2e44e6a0e4a1ff98aa5f9039b8f093e447be6d692ecd2deaf7d99a12a0584f0c56c14cf9b5ecbd4dcf5aa58c434c782517b6ee7791c4b40a6329abc3ac73fefe121a17e9eef73ef9fbcfc6aafc8190a671bd9014390f6658cf3208e27f6276d2ef70bda6a338174fad7e224caed73ad4f1b942fb69ea5b1a927bd46ddd794b95c7382524a6e96427991ea033b2b7877f8a476978643dcc94d567ca6dda2ffd8250a0b7917c73bdfd63118db15491501ade457d9d6bb8965541753b74c6cec547701ddb21afe77c1df96191e5df2c7b6b5e9a50b5ada0a6be95f5a917981f6342586d288ddda565c88a9d92542684e3668b4b01f001f24b797db18996a0e5c5f0a299d61855625e359612c0650b0e1e5a053fd26f4cbf327b916075fe700be8b51ce075e9069ec7456203f09ff57702a284181ccb73266ffdd562a82b4a4f198eb06634fc1d9e87d62ffdcfc66a984e944705f2ce16a49ea3ff09411156a59630b87d42d254c5b5ef6412e1fab433fcb80e16af5943961f817c6da15510d0830ca48c3ff880ecf6420404f20c4e4f78f47318379913abbab93e4eeb1f75e445d4251bff7b2ec55d177143b3bd1faefa9c80e30c0bdfcc3311a3cfcd6f881b870ee4756cd7a038173653a5292648cc17c9741341380ae52074b4cb664e2bd67d66d31da056fb18d7462ef0edf3779dc2ec923179d8e86a623c46d439d4c18e545580dd3d0099898b8adcc0ca80f9e075db901fb20136bfb5548d65c796c2da408f0ada5f1c95fc621d2a0e8f9d7303fa6cc5e9b378d747e8ae54d09e34a075ab5f444e3c4d3acde2c1869da7970b7ffad0153d5b7bc266c7ced0dcb413192683f9e83ab12884f6d011ceaffec6cdfeed31907c223680a1dce09ae28ff4fcb8995df4f4c23259cff2f08b8d1691712b66edb118cb6a8038d41592120b680531bc9fb6f995c343ba1a3680682c6e65ec481c3c9950db4ecdce81720be8a85961ba946f3fc938e53571458cc94d978f1d69e30ec8511ebc46c191bab77ea9f21e057eb60402e7cd4115a004e5f6a5939294680cbed7db59985dffb301f87522d1bdd801333764019bb136062962a41229b4d634dc5d373c3247ce60bbbec47075c9a0a8064ad4fc0d70cf4039c59748b57ab0bc63ef421cdab65cad89e07fc746db1d9c3c97cf5f83bd383206d0b773872c0f060c40d67899767400f9f42e49fd3d0af4188ee13053409b07657637d8093e1836f714861d98a25e83f5de158674d</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>è‰ç¨¿</category>
      </categories>
  </entry>
  <entry>
    <title>R-C3D-é«˜æ•ˆå®æ—¶çš„3Dæ´»åŠ¨æ£€æµ‹ç½‘ç»œ</title>
    <url>/2024/09/12/07-46-49/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>æ—¶åºåŠ¨ä½œé¢„æµ‹</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡é˜…è¯», è§†é¢‘æ£€æµ‹, TAL</tag>
      </tags>
  </entry>
  <entry>
    <title>dockerå¸¸ç”¨å‘½ä»¤ä»¥åŠpycharmè¿æ¥æœåŠ¡å™¨</title>
    <url>/2024/09/11/18-31-30/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <script id="hbeData" type="hbeData" data-hmacdigest="8312d1ea88a2c818ddd69a5c87678987e9dfe145c0b32fba6b73d071e73e5d30">1cc37a9b4bf89818b07fff6360960bb856aa952e31d1416348243144b6168bb9f85a7a77f190af001dee6aff09e42a58b06d21768f7383cf6bf3952a6fdacfdd0a2bee4cec7e2960d50e406943fedf3c1da09383c914a757d4b9d6cc7e2e88f08c99f2ba8a0447392bc4dc30feb804b5b89c5f3fc7238b7891c010dbdcaf8b4f5c86b3f9407c2f1ffe8e893ece886decccf6d75772fcb7013ee04b617e55fe74636d434379c28f31f27c4ea6310d0a13fe075c391e94209c5451a51975fed385eaf2602958fd264497ab16143bb518b93e6c80a20b340a8c43322e0c0311c156db3f190800cff89da792d72597f654f3183daa2c496e8b52bb4ce8d437d55425ae919e1bfc3bc64553792fdab9d134d25e853a16264ac86a7070518f604b1f98896804855af933f3ad54ad1eb644b3fa1d9d444278bd2871c23c4233a29f0cb85bc2c0808ec4d86dd03858b7655592276e6a05e0507d34797198aa8486c63778df8c05c5ad5b938348b3064f7e2ed4c92fe56eb7a2c95e93e0fb2356dda08de7538c5eff87191b996df0b9c8fe8dcabd0653c3507ef91a1cf76845936864571039c8daebddccf35bb015f45e5147fa07faca85807ac0c4976e0ded6bd2176e1c5e9554f2636cb0f0b349888d0eb034cd301c297ff4767aea8572e3edab23a1c0bc42e12a2ddbf6f05259d2c4c9d3ed27d3db376b69d18eba6cd52bcc868ab8405f91ed893f792f82722313deb31de83fe5e9b7322cc22ce14179672668da7d977fb4c2dac1c28fcd20014e1224b5548372d63ca5075e63fb32f132cf4b9414d90d94d341c3476513d1c215c269c9ecee5c9ee868b20c715f8a5a166e6b96f88e0af1118fc576ba2790d3d5e8ed0cedb4939833931825c5038ef9363fa3ddfd2dcae6c05d610d876f9ba6932638c2f461836715435b8e5bbb0020ec4c435872d9405d096d3b5faabd26372d6ad35939364604f717afd1b159b876e6bfee8b68cccd56ae02f5ae4720af890d1ac3d896fcad9a71f62e230e8391e76f36183f334c4aac350d35f71d05ebc34d0eec43f2cbd847aed957855310379d3310fc37779438454e9f72820cb8f45d606b1b5d7263d8d4f39a08a4d40a7da5629bd1cef05224050bfcf02fdef784c5e5f4e6675a1f5dbd7e22f908c3908bdd4689b034cf026f499776d8a2308e369f4276660cf2b9e26acd6d2515929e677f939861d4712a29ce13fe7b822fca5f3827a11bb741e11647b83d7c9ab025fb07347b8a472b0aaac1aca1525b2e88d312e637cfd8bd27d8d4a6814afdb80366333dcdbb6ae8be3b06fc9263b32ff104b1c736cc95035c66e70cf0a83fabddc1e7549979624b0285cf4846e27a34178d4e917ae4860241c4495072a1db200d1ccd4eb8418b2a5a9197fd451aee5a4172ee589b06b93b0a9cb8f9080500b7b932d3775313c17cdfdb95913a26fe2b3d6c446551b7b22bd0d25ba9744109209450557ddaa6a6fe7e966b0a1a4aeefe05506afdde7a0e7018a9ee7af4c4785692a027f38e1244d1030fc589289413eff986cdafc61856d63eb62470d38b4630b4fd7c873504c8ca56a625367da8344e366e26d7397bfd3d3c8449d5ddc4ad8ac37b2eee06da9fe73671b2368c99502024b061ab6e0ea7b27dac8302f1e5d8443c8d7b428dc36dff839a08d8c8b2ded237b42043c5a8a878422dd87051258544a5d53c2bd3dca7250f8a515ebe77de4f843ebda9e6c5c7c2a78b304d54022e6ec2392c63e769aa313fcf61b6b9254e2c2ff981e704d3428d66990850ed486dcecd7c02019a3ecdc87a271a828e93795d21b273ddb5e77639faa23055103b49d2737e497f9346c16c90376454d2526422e83b5a88b75cb535622f8ef67682d135769eb8d5ac2a5ca02d79fabe5d5916492a793b8aedbf936c10dfb154b8de66c9b42e5325423c822a9ea277afd40984b4d6724545d8e42be60368d021f11b70e3e7e76238617082de35676cacdd8dbec8b424cda648af6bbc0966cd1a130ff150b1b4f139396131bcbd66d48618bcc188d56ccd477399a526cf319b4dc0176ff760d465155f1f20849502c99f08c151a233b4fd31ec66c4b39309717e15febb8b55805ba4e90ab19fe514d7f710eb54a6d159c96d4403361859f229ab9869160886c546c1619f023d7b577c78fe0a4ac7238da4aae52b69f6c390b8c9d5f85348d73726dc9f661b4df7b9c0671932a656342830d1d9acbb7fc56999d520986b807b8f05f08858bf60cc4dca3bcfba979e823b9da49b3007013e1ae38ccfd2265476722d7043c35481c13bfa88daf4907c05979764b051dfb759233f7e519eb8a7c9e69b64ba2b05568a1e72dc2a23c014a636798fcbf354f7a98c7280a4f935d16369b78ab904329658f5f5baf6f4d8944b175e6b998e4f32337d9e2852538a7316101d8249def0425a17f91a83e7feeb878a958e32ad68fed0817f5b7568f1e9969219471532d336c5c230bd4d379200abf5d1f3ac7a7d07632baedbb2bac3ff9bcdc37f9f1db8f668dc92fcf16478e69c10722467723fe68b5a3b8d00428477366ac7bca245530dabb82737bdbbdabc98fdfa5c9986dc167e3716fa1d10b224725b5b9574604a7a917ccc3c5afcd043f92ed0f11b2865b037653e282446f56b55b0bb85bdf94123680cae8ebf9445b4651db452ee9cf7ea4933c8911666867a1f7fe3a060a2003e803cbe657f8bc1630cbe0b7d9f693d2a23586f36c267d7aacc20e5d4db5e315b57cd528f3abdfb12d9b92e585233c893570febeefd1863eee9999d62155f44a6af4ea6db73a6b4dd0829765cb070e705aa9c6d43aa18d5af35b30974501efe98290b22b5e714e41a21b47142d6639083aca8a06a3297786bc0674fe1c418a9834097a1ef4bb1ff8da439cb293734ae26dc5ba69c78b520b76d92ee2830f16ac0c3c2cf083fa52e3e619f671ace699bd4c6253d6a3880cdb1bdf490b78d964ea71879a06ada557a36df24d6a27a6d7c31819d25d56083172f9706ade9560335a012881db948f399583da60095d2d23819ddd026bfcc4f11bb4a3a3d64319bfdc295b8592a74c14b9db28c557890f83dd0de0d29efa0531fdf82c8932278a8d45aec687612469a7702bddcde8c8b9d22840f3a69d596049f3fe84e6c4d4be818fda84bc9cb4a800cc8023f208c48cf23602f60bb7a37376ff96c81e995483d101c64298d70205052469ed99abe34e884d6fb5b5648316a7526a737a0f9ffe416afb1ab3a62acc94e7cb7cc0dc21683b58e0248318f744e733ab649dbf2419e3514f6c3c0c3d10e27b33abeca5461875f344c012c44aad6111e0957b55c06b6adfcb66e51e1b7f6d5d1943922dc3a2c6767101c2dc382d7ac5e4a1ecdad40ba038d10fd0cb63311b65221bad44f449cbf1f69f3c235407501e676bfda01c881818b9e8473d9cf0b8597fe6a485babd664f10a7e5428e16d70628203035a58da05915cc664fb16a7ae99cdfcb27784bfeeefb4a8eb3d1184d3650844967f60ae7c7e23b7f8796d9e00d2249e716d85b22801604ff2d4a45a1b42bb557324d424af4d532cb0622d91c4c02a18e85409ef6d75aa57d4c3da495146a6e78ed522c413ae3bd43b160824a09d04933b69090b2947ef9530e54b60147c66093a2515b4b17b0b5f734d6ce4f61f014e587c7e2a5e3124420507ade0204a9a9ac1a2e7317d828ca323d33aa7f6097ec6fc26dc9b686e4a1211e05d0f3fe16b7422c58fcca44265cde9fdcbfebf8f1d619d3094d39b0eaf5e306d7ec6bc6031aa99bde989cffb8b2be4e9b4b1508133e0433ff5d452d74dc8846e92ba9febfc0dbb636ed513b1601bd31a771ae510f5aa128b69f7c05d985375ea7455bb5a105198f021cbe2fd7f10bf01c12931c8c43d5e768888b99561a0210ccda699f2691c281659bccb70095a6cc743eac5b4c5bb499805a0367f73f9593fa358321fb8269511be94f06ea748177ca51981d8bb158ad5c795fd07e5bfddbc8f178a1e14d15057302a6e41d720913a1ff8d5eabab19a40b769311d79b3a9eb5b9d28ed50b8700c6d89e9ef88cd1d7a0e1c34da04478cdd12f436a1013a7b0d6264f5038f9721dd887145e915e97334d8381976510292978d92a57f4b5ddd3ede8f46d6cb4207fe35ac0c633f0964f49a1b1bec5eebe1949fb17d379f7f4858155988485871432a24d074e3a3a9b00091c1f099aaec5a4b24df418f4555e879f0e4c9e00e4f86ce3782d4469185a7757393969193f9af32b826d58cefaa3bc35cc4a2cab114aa222840e39f9476141c3f3603d15dc4e738a0190787158a70ddfbda21423b65294ed76ed2b7110126e1432231ed9326674d69e71779f341c6113eeb9d36ae7bbfcdec78d2bdec78b8cc8763cb877da850388b87345eb7e0998e4499c5586968037f8b5f7477a36e94d59bb1f67ad61022689e2cb666adc103bce532440eec46d1d5af6c674cf4e6d2122bfee95f001c9ea07b34d593b9e9cb0caad7f93a1f0332379a6b58a7454fe4453e0b914fc97c91ded24801e5f705982e985b51528f07f1758dfedd910b23f634ced816f8c905c519f2accc178f62a903137ceccc93abda4074aa5d0ce8fa9476f279bfb8c66552d9e71bbda6bafdccf082a741790062ebbad281b4b31e0b7fe79e068dca7ace275a0b9dd9d14e9a01d0895c878f8ae9d57f405246dfef8f673488cc112f43cb5a24646afb99cc0dc3832496f81f89bfde44cf1d990ef5655878b66b9da2d5fc298faebf8a491966d183806f02792dbdc0e4e86341551f85d7cb100c3a2e3cdb1b6dd60238c93e9027383f9ef6a5dceb7af8a9659e1ab4688dce7ea3f222e3ab82b72f14a60c9feec82da1e3f5bfff920b2dca54d5dc341d8c9ef6719ef5af758e1beb9e543bb33296aaf5c5f9be901bcf5797cfd49d5de361872504eff8ee97c1b1ff0242e7eee49ec7f677f94800aafa2e479ae7b76d7d042d5693bf580f91c30bf20c2b0e316330f771906717177410c1e6be503436b57c18b1e1fe6049ad412b040d3fa51b4449e4373e298df7452f639a19957318abc7836367a5ec90eac1ba956ae1cca62ef656844a922224c25eea44388293574612b2f8ac55b39d5c17ae9277f3d7fabe81a6b20fdbc7159b351c3a226df67f52ec41d8c541520afe6c9aeee0f8c45ace4db2234af3560f2cffcae47e21b502a990301874e9255fbd172f2404a59c8511042b4178b00b984644d9afaa5b824714023ce93faecc8491862cecf771e161ce79953c0f29ff437b6c62d83f6f2d95869dfad31342872907e539ce97843523db1947b37156ab933a5426d324897e9e03eeba63fb36adfbfbd756225b1ab6131c8a1b23a1e8e6aede348001cd0a1d87e76e422e6648ea5ac452a68d3ee9f15607438dd7be2899d3d41b02869c1bab565babe06eda6ad61208b3f1da9c21524029e87e8583702fea7d550855b969ad9d2d6a5d578bdc1a0ba8f28f7ec00023b819675c65e831ee5ef7732d01ba01ffb3cff4fac4e1338acadcdeef54860620a15bf56420f04bbf317acef64bc75ce4bbd5670d047d25961c64ff65944867173127ae702d1e04ff1523b979ad238ecdae83e686899d3ff4cd89992ce72b8a98d39d25d432de4120af4e7c351c6045fb1baf88acfd613ba8279bb2b67131cfe3c9e49142bf25baee512ba2c5f2b04a90ba0b0f08593595c4855cadd22d168bb28d60d339c50e14eb4333c9c1f9e2865c875f139577d7527cdd4d3b56cf6537c9eeb90222be56f9011682bef564ef325c2f8d8385f8468fac5195eceb15a43288de7ecca634dea4178f51e07c41a80eb51f42b0b8ae2f60bb20c325c88bc7cb7ad2b9668df551e28aa00722db4da4728dfdaefb7ac1316449c6b42c1566a838253ad328a91c095cb9dc74efc7aaf4adc681d0f73296b22322b6d7713ed3496bde18eafe3c0f07f1b5b332dbd0f8bc38c77016686a6958d883f0e6e12b3b8dec997620895fbf23255e07e5ad37d4e2266c7bc32814980f1d7a440ca8a6ba2d953dde18f161162ead241a74c201d9d3dd50b88d64fe7f78452a202a3cf7b85c0bdd70377b58fb0ad1be2190d0bab519246b393bee084f4a52f66ce8aeb19a31961f7ad47690bb1acf542e50e46d2d01835a9b5a81f681f81b049a143e23d72b0bd1282836f1875a47fe52130a732213e775a92cf11bbd9deea8881ae8e26dfbdb176dd156f8f7e92e272df4f63bc9deb5339e3e3eb85ed11a8846d3ad5395980c7ac937ddf34272558f5e9c0f303e3c277264253fea936d1ee57b2a5cd1e25197a40f206b9cf63be1a114265ca7c7b9be868e7ba649eb542d7195bd1b4c8b01850c29d88df26b61a77b3f4390df883ec6d20818afd559b8ead19c36bb21eb83837e198407a6f0662e732d69e53014bfa662a1e49250e7b97f04d8336a90578b4e218fed73009a2d7f534e3b7546c312a2228ff1c37a1a494bb5e4d37cd1f0f99aac0d233863894b97562b8d9681a8fed3b41bfc9ad73c4d56543ee1267b75cdb2f71ecd9753457d77932c0641767ad665f0b5498a14111cf4fded01b0685195aad7769a5149002067e506d99a60f2590a838c56d691233aeec54c9c0082c9f6c5b01c5bc237cea32d4e2e1214e04e73050d20b4ad1ce0d473244bd1ac402df073be9813b70907799cdfc45986ce3b042b918580af8a6994074cf23d1ffbbab331e7fed1811aca9687662a8c3b7685c591de8ef632099bb8fa4f52f90352a3b714b7633d1ffc75856806cf60cd8b301f3323c9d76ebf1788a88726bca55644f3f15c4031447c66e1f2c58a22eb2cb688488b156720eb0ec5099b2e8c12e80b3d51f26cef22bc79e2c7143ad28f50c8c8d322187991f5772e76fd31c26b3da191cd6a67536c910a760655308a8f408bca7e4818fac9aacd4e0685bbe982b08cfad857dbfb6ce21535c70732fc79c724bcfed975e5108fc9325d431bbfbd2e3ff0ca5837a12a00f14a3ebd3c7adcfe4d692ee4c0c781b333ad82ab189d71341aeff0bfcd50f031a710a36e109f2130429b700642d6b67aef32e724271ac8513873babdd9daa3730f1f6afa718b80266d232769c5636ceba48cd947d9693f379bc1a82dc0b8ff3f7a471eada7a14dec01d4dfeba45a150fa6ff3627aded4e39164af37714357aa5f421a28fcccd0f2f59a6bdaeaecc174548e3c6c8151f1652f8e5e647763fef11ba189090260ed48bc19894edcefc3534b6dd86c3ecaadf105b77b4a04fbfba9144e6c3d02efd160d167b9fd4bd660cefa7aaa87d9f71b65920df639b4d1d3f45c6ccf93bded170305a519232a54655a62e253102408eed0c86c7f6805bf29725a08f1bf8fc7590b02aeea21bb0cbe7b654c8450e50dbfa4e8289406dc9767dbaa11bc85a95b50b5596b09b753a8933358fed03413a6f421b9dbf81c4ca74519aafd479707af27472c44769f4d71187236973da23ddbc70969a9542add400f3f5df4adcbd121d98c14f1f39930dc44bc01f6ef97b8cbbb784f34615eab99d1c764505ea80c40b6137a4d9fa114583b34218e1c33050b8139f6204549519395f21c785989eeabf1533391f4c586bd0133b6b5acacb5dca45a5c0668f813709e0a7c3fc15624860263453c9c5f4887956c7a78e1238d736e842f20bfd7e34a1af6dbbf734ff434d0f642865b0dc65bbc88154284beda642871f8d1a034596e99830a7e926f6197b223cb55451ee122de7714fd0e27e68e12d72dd248ed6c31177a8fcd30ef1e9842be15a668ae230a88a2c3dc0bfe890912aeca880a1b14700901bf317aa6772f4c895d40d30d58ac2ae776251e6551ce6c48dccf076c759224e05d697a19eef1196093835a3bbccd4c141c962a7f28c2da9895394b52792481cb430417a6cb678902b43d2f846d7b73a5865e55111226fccbfc505b77435af0601f8c979376396484b525e5eff8f31328510950d33803692e67a6452c16120380aeb497862f6102084c06f24c9c5c5e898aa853401f5e529c79854e6c1024bdcc41985f342e0f4644018e9617a19028195a5ec7fa79ea58e42a3d10e410947cde9e549e180cb8d16fa24bb60acc9886052ba2ace4af71e9cf6fc15595a889e7ace63c5833c746007c25b81bdde3e28ec122fb756424e22357c0135c58581358ef8472c6cfc5feb607e02098ccc977a7d93426e536b74cca95bd0140d0c11bf211ea7f563c07ef2b0d80e933a8b53fc5dd1853479262e2a04d52e3070463ddaef6b2623cc4024488d08c5521146dde93e89d6fb0dd913a9bf0a0aa8547ff71b31b7870dd01b51fdc62247dcbde044f67a6f052fb948ccaf1af220e6db5bab46c02a7ea27b961e3a0ab9e5f7cc98f9bb44f89ca91d555bba6fb16ea3f0bac6c72dc68371fada973fb52121777d94aace9a0f3ff2349b31bd7df0413976a98ffdbe645dde81fb9f2460fa6a9ceb3dac2b1c1d786ba7e839e44827cb937d39737f32d08db331996a00878365eeff4b2cc248722c0fb923ba19604fa0ff69ddc837d6b0a93c1bbe37058d2e131f27153a4292b606cd3628e6b26b44dd4e5c74f50ce3eb8efec6a5d96dc4b7050b80fdfd1bf835a0d41ddf26b92a254651adccdaae1884ed4db489d258a68b185972f3babac2f34053c8951ffd8dc41de8924f317c4fec1c4eebb94486bc63828560f16fccfeeab1d1d27a2925d598de29861f74d181a762e3c5c55bea0fd5a2b507e91fc124f10aed38e4446403f8fdd27e7f55a2f234aa6e916f29e5b610955f9b6ecd1204fafb8af1b23064419224a5cd6909e0b79cbad5bfb64315cab88817c103f928961b0114fad5f324e0319ef61c8dba24598e51030cd8572563b3cb9f34fae55983d79445e158cb5993a89e9eb316166ed07138147622e12e7821a367a2b58feff6ccbf9edf5ffd0f7efbb74f58a2a441478a3095250e0ec9c4b0a038c740f134feac793d540fd4ab4cd4450c619091a37700672998ee0495b0ee33295cab6da523f4e588e5b73db032c03d902f1db32e13d247395b989afe725f273af7e3eb0c6c2ad86d44e8e7ba400ddebd5809ca153811ca0ab3470ec292a47d93bccfe07b288a779ee1c8aff673768f82cdb2093c7a2cb43572bf717d688079b037e87edd96aa1221c095866e8277ae2781f3edad585f15b39ba2c801a0c8b432841b0cdbfb39f7aaaed2435fbebbf6c2703425e50cb899007826b5477be2b82d3a817203b0b7f96b9b11df5fc39af5d8248001c1d5d4a1dc09dd8e52b54db4c0afe6d78717bbd94cf3b8ee8c6abbc56e7b8e095cc824d543c4e2d31970e0b4b39ffb5adc3533e970f1f07fd7ea6faf80a0c12a26df1bb1cd59b2942d1914ce236dd72b022e74cb6287142b508668bad221adca3dc1045a7a6676d8cdb2121cd10244cd3c577e32625ed0492109dd358786d01765216d7a17ea8d9fa57748146c1656eadfb1fcacf5dc7c7beffc7e178a280f86b96390f477b38aa5bae0a16561c253d51830ef4fa6b05523ef6cdb9ab205e9cfc9f413b27b363d5f926b4b3fafd1e00763d6bd6f37015079a07656102facbd1c4afc93d6d3fe68ceab160386157cc9a76f3c8f839455c2b3aba93f0e9fb3f2841861ae7595736772798079e5db762990774ecd792b2819916f6ed50e86b298312312947b46461dd54392b991b1c1154b7afa884a97aeafd7f2445df9c414fe11d1f8b62ab76126e711a560df93f356da2de1e89d70f3abe6b81c324b2af0b2977956e67cb83367b117d9d694c25b9354961e9061bcd0a314ac50ce013925b8ab9d3fb2d693d10f3029c9515976033e2b3ae0e6def04d515021811b7d9a5f746a650843d3c6730e755d7ce0e7b612edc488e7b3744f7cafcebb30072b685a8f2da429289ccf7965b074e544bf35461d8cba8b7db94da34e232c0a47e689fb901e05ec267934e953c009346c4deaf17bf94ecb43ab61d7e5413afee7e92cfe642564f32fcc3c9d641fcfcd405b1bad5abc769a45fe80293a2cceb0343f1e8b1e3b0de996d5b85bd2561a12e945df89976963abb71ba2c52dbbf6b0aa6338c55ce52c9ce662d974b2aa76638010d233448dd03d57a5856b75c0cc2308ecc3b05f6e2fa9577220ba0a1f2e5f6bd47d6838273b923a37bc52657988d1dc7464feaee7f04a40b184431d4a839c2686cbb74ed26b833407b1c983d7a77b635b24cee4af2632774ffadd206c968e3eaf368c1d4c348d087fd028cc014ade132f2876593299f3989d6949e85965af67907a65d2512b3a5c589a9259672cca1c521affdeb7b772fd694f1fa73d9ef46a7d7c1dd3443debec2a7af3a98f0b7a16d9ec32370fd669effbd6556e27c27c6af0da6c35cd8892129adddf44a3d36f88c84b555a0a8fd8b92bf482212fc295e609b181121198bd5a09f8d0634390b27b9a6205baf09d615c89c57090888d93b3fd8c786fda8d9ce89131fe3540148dfb98bfcf6aa3ecf254579b289812cb521280425195e9555b298a3b87dc1565472bc811bd013b55aa9e364be4353a14f29133e824335df088d74279ff26d0859dbb7196f4e18072b21d8ccc778131acdc9a148ca8f94e4442067501e59a30971d8f8fb0f0035d463c955b480897a485944b458b8bca14f72f599cb91837c7a63f6395b99fdc272513005f330bacc316b0d04956828d72bb43fccc0c3d98350ac9d8bbc53f4081d76bbf712af0ec072e251670cdcd229daeb0461fc5f5c94016d5bb83715c85ef0f3cd1201e0b182fcab34d3dda775ee78dcfc852d8bb8679860e9e2f7b4eba7ed4a0e4869a959480f591962210e6525b61f503b222052cabe7a0ee654a40290c71b1bcf8efcb0a0233137294e4ba5bee7697c6ef2159e34245f98f9f3f211c35dfb71b2bb08894fd4f3bb23a3cdefb3c3c548988197232cabb8e3baa0d706825ef14ab0b92821d232c0717c0f114822a93adb6fa2fea6d7ebc96790e0912d3138ae6b60e73a8967129960c2dee46c7ac540d6f9d5cc3365331c7bd2551ebddf2b969fc5274a1c2a775c04ac289f025c80eb952d2aa52b9e7adcd456bc43a4305eb3c3aa038cbf037e69bcc10447cb6b631a75f309a6efe0fdf300d2ff256332eaf36306568ca0fcb9a1d9a4a6279a8fc508bdbce5df683186452e98d569cd71356c7ac35996277032400381392327cc9e8f043a5f20336ac593216dd288753668c8eb63394358a18096d380a3d18b63a7f81e73685255c0b25c35129d9ba51fc702b11c985dc8eefdbd3998879444d5b27fb9cebdc8796df449b2140d2c0bc32502dae4423b069deca75cccb3d8da1d7012ca0b87ae765c26b24c7711937122bbd383e47778bc7bd52da6a441a6c1240d920364ab8d6b6a1ed13d2425694b3d6b0d266a2308fa288373535e2577c9ac6feae77ac62ed682bbc0d42b461b8303ef5513e2ceae525552d56bf98728183423ff7efc12c9261c7b9b7d90708c2cf761e580c3ffdf0b9e00c6e243248c8c0fe4c20797f795e91959c0422f7e8cc7d97b177a71b629b3f6a0eb96685bd544cbe9c8ccadaab65825eecbbb42bf67497ebb52c642c3590455f98ca7d6be649870751dc35bb4e17f6deb60da8c73900fe383515d303cc3fc88c114d6a7add5750146a08978c199fff2e3944ef930f52d970fb59733062cf76eac36621c6ab9ff306c09d72154b71658470ced352a8a5eacf9c9943100a352babc0015da687f786ed21171b0e4340c498dc6366f0d24015ad5c81f04698cb6322bc19d44a1b7ee8d61a05527af3ed4a0d6bbcd605f0a334a05b20fb9d67941faf54837f5f6f2f12951f58761536adea32f8cce54eafc3c1137c8a0a4bdb9947480b46b96eebe57ba344aed4b64e0c2f3176c37dbc703e931fac23321627883d2e7bcffe8684597e074a7c19c95383a325becde7d81a3fb9ab02c0a4595766ff1095c20a14b700cb5d0000b7a3f18efde22f494da45c91132e45c8a0739613f10f63652e6f8f38a11a0ddec74d7c7327a9794eb5402c9e355fbf4a0762bb8a45b1b131d33603802df5347372df08f949dbd975d23bef9f996f0349610105e6feac2086001f137097788a50235ff55ec4f32af57e0477e96e88832299b46eb33a57b0169fb811d4c5ffd7362d230f4937ae5e3a8bfe3ca79e5bc6239d7a9d5cfeb3e7811edd260568149e587b4a3515cb058cc5f7cae71c199a779c2cef9d5d10cb15aa82095df78aac3b9c67809a7f4704659dba94d6a25a4199e745a5890f1f1f72ed212477ba1c7310491873707b9ac11adb0c7874dd7013fe752fb94fe58cbd3ae864a7ec42fea5c8e239d92ba20fa952da85062c899e8d24a8d97be418fb7c382f8d2fdc5f6d61e69b0c5ef9365926a7fdc2c04122248f63cb5779848fd95600f4cb839c35890386226407fac39fba46726b9b63a7d9554c603443cce9023007f17b1686d3ca672df59bd77f4ad2a150b7f3f57ea2ae4f811a566db049c1935d3f761d2f1d53c677a42e766a1a7793db934aa34f92a529e8bd19863c3ba4a56bde42b0a06f571b27ca0b95ebd3fc2a24239a917f4ade799e10615720c054d1480f077d6124e4209a34d2771cbed65432aa2d2ce419e862094b07783b46e9cf1335386589df895449682054c32388b3aca3b42f24581d8e4525d43dcb2c8c4fcea8c64a56c1c0af758b694fed1e1a89b697d1c261acf6f5da2506d26056460bf5d74e6bca5f5e04d69ed4feed236fb8939d120d0fb72e6e9f2d32252c3c320fdd94760e5f9e1a0805c857638ed151c3d299b1d96fe40d7b6f4e903f13914b12c2ecb5cdd7ca5768563ea408817b29edf9583ea4296a4d8397da6125f646a6be428bb8f99263c94a1523dd81bbc036d996c5818e51d09f6856a47869c8de0c3ca26acb2464ed65ed7002078f9c12e24ba9060a6aba83414c36aedd844791a08cdfbf46e59cd122fe5baa5ec182f9e93e8a09e4cf5740c32245734425f420d348ca9da7bf6b64b4f0763f661ee79df597130d910c134d33f33ebf4348305b83766b7d3cd6c2f2e11ec57a1022791c707e64595a50e50c6cd7f80cb24e906b2f710793b8f784792d5699cf413be7a3b950da768b37bf0abd96274310e81c71621f5a11ba7eb021cdef10540156956cb43245a7302aa7c9b598b19b0976427d3d99be00095158a1ad3d85208f17ad4a69fb91d8f6e419f8e00ac31d73729964bafbb3dd89fa76b9e88a14a8ff04ad03ce156bb6a13773a9def1216bb2b3494910e0e30507578e8da7af9cbf41b56b0c0249640419460de0622a0979d177fdbfee1fc70c2d7b985fbba1637eb1a7514c04c8af3f91e5f2a760574b4432d1f7208175daa919fcf4db3135e90c22c96a2be8bc65bb6018e2b74e11ee040248fb73910d1eed353a93fcef0e01519f4b39386a0ee98af40bb092f03e9867c442baaca0cb9223db9ab29b9a7a69fd6fff4c2527d7eaabd11ec9ec30c238f455119751712deb13ab3caae8d425eff5f4dab6f7774041684d857ff65032953e760fdb29c6f3c2d62ba95b252effbd0c2ed879816a2b409658334677c4ed67a24ea3ae46e245a45899f216353c35e26a79044b711c5fd46b5fe5ba20cfb74187bdbcebfb31b63423e45cf802cf813647f6949610c49f310b118204c42bbdb7e85a3ee2a4842a0cf19a7d179c50e7a17ddadb5a999f109a9b0e289507a43aae095fc4679f105c1c90dcbc2add499b39e5ed97bc7815720e05b7a15c2672ee0cc132939ddc590c4e6abfc5c634a831086e9ff2d534756f19b8831c474e908bc4d6f23adc935ed0c4cb4891ce06da277b44be844c3930229baae789368e9a4f996d2cfef1c605489169bfccf93b471cbae2c2d5580e6271d6c75a13bb4238bd391ec7c32293adc03b1c1aa1a2fa237af6f56575f7423cf3fc75c712685eaf4a1d944f4c02a337bc8d0a4e83e358647de99821afdb09303766ffa654c49fac9f14fcf526421d0b0f9245171d64e0115cf567acf6421fd1640b2b6ca018b1e7e902445767c85b36cfaee4f797a271f65f2649bdc319295919e0ae0ff5483395f359994ba1c3cfe5ec97a2341e1d6ea8921e07943211339f6ed911840d451775a3b9caf72e9b0b9ca9d36a7969ae9afe56e7ee7d07332c296586233ffa99f21e184de1b2dfedb9aaa8705be0c7d58ad3ab842c65f91a5d3912b2547b286236b5b23719d8182c910bc0ad37748a7803c38df3e43993d53d26964b8a2ee1b93cd608e4df10790f760cf29931fb28ce13ee56bf4b8664d5ab50c70f2a08cfd57bdcb2a9aa68000388b8d76558f4c6a6dc8a1e7b9624357cbe5a027e6bc41c721cbd53260eb9672e8142f5f526f1683189c58455f5cb285b58fe0ff7c07c93ce57d615ad7e0c6abfa6258228afa264ce828682ee28e0125d005d3c3514c27bfaf7126bdfec7a4c9d766b5cdae7ac484cbdad53ec46b4d78c11b7ed82133c9d1366f773f54304b82f970f717a2ca3ff2a67698e3811ab83cbab4dace2a1e2bd50f1d5e6f1dd9618b2681ef733ae207438af4e56a42570b4ab78173e08778b0488f4db7870f1672dcb37e8a57c9be5564c264670b31d1b2673def0f8ed3872a983bd72cf41c1de8607a0f6cf9142cb403f5f14db3964f6e3903b2969281317cd70f9a7fdc392e64ed9d00fa126db9ff0fe8bf59f50edf5eb2ffce931366e5b80fffcf1ad96b8835f96eb29e84cf236ffd89272ddfcef3c46a930da1fd8c15626fa2242411d99ac9ae7f82c53d13fcefba12a5f2adfd5963c904c9edb74ba355335975823670130feae07cfa6745366ff6fe32fa265ea2496f89b132f9a21a9c825aefd0975e67c0baa4cfaaf21a35ca6d32b58eedebd3fef98aefb3ed900f72a78c46338995aa1a0b4cf8133c4f3815e7b1db04d680d9f3a2d8c81449d535b9b65680b976646a4bdf879f2f01f840f0e498884f35ad3d139e91091914f9d378384dfd64775002c6d70c50b28199c50a5cb03bce2bc89d09697da5280bb1cb1b73a55d9dbfe20a97c61f5222318935df0805b3b189678929ed871abd0851d56138ecf1df75c6054318e7cbdbc86d02078144b7ce79c6f6cfc3edd206f1cd9978dc79baceb05a8671314421c8ebee0c4262de6905a4b39b4e47099c8d6943e4f0169da4fa598e6c5441c45067ea37a86319a0161e5c349576f0742d1bb1f17527f7cdeb8c8b519a981386bb01f5f6c057bbad2d7b7cc4956be34d03921acbf195d0d69ea19234c984adeadec1763843f131e17c91a6d83fe3aacd08e447c7cdd6415fd8d5a97f9f94a56b609fd439d4fcd28ce53c334b52f1022509039732741e857866fcb9c728944487817879f89835fdb39e8f314e0b081f0cba70f48251da663cdd1e652b0ba366f5b8177bb47296020e472504ad56f40a0abb9e19d830e591cce2470b5d41eabdc3e7242d93cd094318f17577c41812e9d19b6fedccd9b6c6235888c66e8ad653cfa542f401aace3e5895dd0a385b6c338634914ffd3b6f122f4bcc21d8fbe3a0b3013d39defc259d9d4ab7f20e087dbeab1a8d751d55af9f99f3d8c974f6bf59c5094b7eaf0b97649cf07c92ea61fb8733051e9ba882a4a3bb8499ba2d8cff41f55e176ff669c0ff296c89c3ab2d6cfb7442ae3c6fd026b6ecb535e2eb593384750b9ef68a1cfb64ff808098d57eabf7f4adf490a05d9c0046b6e9d5c8b85c3753b107f155dc16dafb67e28cfd328d68169165518f692c253b6b9ef7ff6d2691dfc0abe9f4d2ef8d6c920a9a6188efaf9b4d296379d4621e5ea6aaa1e5f8b866f26b0f6f813deb901f1d73bd56e7bceecfcb42ca6b23399d74d9276975f26463c3efc73329619361056b47014f67e90c199a6f8a21a9f54aefee7361fd578b8a699166d87951bc1afaf967b5f3275f5e7b00172d265f48d7dd3986f93adf6e9c89299bbc38955b8ba7ac38493fd0f7a56e333a3f651d389bc6edcc4993eb3b70b8b519807642c72dfdfa6ef3d973d815d16c9eea386c7cf2ab915e8320586d8bf9477cb46ceeed7426d473ef1fa62b3604687f8394735d6baef4cb86b3b187b20f1af027389a8d4db5950ea2a2366016ac7075c8a15ebcdad3587a4a15bdc903772de590ebfbba48dae04b78f9ca6cd8dec64c3926964d90166cbead0ba545cfa44f4e88f2e169c5702e7da1f707603d24801b803cb7f6ce02588c7537dc7a158bd9f84d187a54326be88ce3c247262702fc0abfb5027341570b522354b1aeed114fde3eaa9ed080d873254c68bd3e177f42b995a1b0d9c89a8dea69ebcd2ffd7b611e0c6d57c62420a9b1dd6d19f39da7d28773188ab988f41769688766e21d48f50c4a8f8b5a9516f34db6372966ebce0ef2e7712ae102e9e69fcc278fcaae954f4b34f1c0372baefcb00ca47b3cb2a180f3ce7bfe3cadafb9c812c1f90bb3e0e067ab2503b6ffddd5af17ff411e7c2118e95a2be81dd18428c339103aab7b41f16adf4202dd8283f10ce681cb321c797288ae4f27d4bdb25cbe1293003af5baebeb4424b044839996569a9f04e195c7098738d8bd9914241199bded038d201adb388016920e2c3d9d5e90f015de1396375429fbb1e8133ea771bcfb4cf5b0b6e7ea644143d5e28aa17edaf9d9dd545fe5a388befa96e59df0b021f12bbd93c8913839156db19772792884a333ff5ebf110ea5bb0367f9b4d2880c113cd3e4029dd40459420610626e0d03a0319abb355a2422b59e567938aca158bb5df14d1aa8e204da3d9709b905b404d14484d0f7db6014b9cac7b570e9e37b0ff7a60b5d309e91fd89b780aa006ccdc10af00edfd3f895a858e56359394f8afbea63cd69f4a120c773b15d0b412d62f679cd389a9f91663357ce2e48f33e9e5ef1d24fdcfa593782a68f52acc2e3bf433a92a88935ff0dfea4ac44e88fbac508a906c8b224c0695d5e40429e0e0b33b3053343ff3f0f14147f03d5836d44340a47528d62abaf1de20ab561552ad9d3a36854f31a883179f2d091a1388c449daf91cd6d66ff8b847615cfad51095e6275c4084da6a05b8ab903d896558856641f3a205f93accaa7c70bfd08eecdadba671e8045433c7b0fe26732e94209ce2475211ac8ad7db662316afafbbd5e722b41aeb962147356beb2c0dd245e929facb0a416f7fa65b3d43cfe109c8059e6f4a18b7b3680f70f561add211db032f053454e4359fa5d95f702c78692038742d4fb8c2e60546898841c7dd6ee0b595c3faeb30a5dd4e8a563b1cb2381bb8b179bd2815c3f2835d642dbfe317cd50d8b17757b47cb8a15d415f6871dc66b7f346f3de8a16958779d85a9738a119789a3881ca1ce7d0646c0de773a441b1c0e6bd1b291a17249ceed620cc16826d9c19cda1be5da01ebe891f1e2ca10fe90c664558c49e46f4bf61ed9e1ac1163bfaac43a2f0bb6223414e739f92c76249ef145f8db49f03e37500a55e0c18b884817588ef3165cd5e1445aec40c7532ba7aa0976f21bcc81add076a848b279c3d4f84fcc7854fa5c822fd1951395acb14cf1c0b30fb4cc5a8ce35f879ee862125dbbcc10ccee8b69adbac8ca8065ae855d9d232a74d44538569666c1a484f66f9d5d1f64cb9c60cf4be03b90c1aff8e9f57c484a7d6bb2ba0118e5d4de5b7c5f4299c71c56c96e0a278daab1f21698ec2fa918ce33001177d7fc162a48a2fb9ef48a17c8a20fba0424dd5cab05e1ce67f957d9de022ab92ed254accfcf1ad76aef96dd372224d519126b97cfbed3dc54bdcad430ddab40c0fc5c25548a0aba89136d73d7d24b9c22fd41ce21f18cade9782db929ec9a5e45e5ebf2a8d4b03d2ec9f4575540cdb95e10c543bf8fdc12c59c597320fd020029f70f85651876486e6f522f3bc22227938c40e46032541689dd0eb83c619aa137db7cc6630ca9c46c381dd999476996b91732e2c8e0c3bb9f0ea849725358271104be2d91d6b7a7d3d2e416babdd2ebfa15d8600118e14def4a2b3b4b56f334b4839ec82c47c1b3dbcf07a358e2e584896ea525fc1b22f63efccbde953718cc7b634a12709732b29d0a618d86348f88f5441e4b92cf3b58917b4c40aebeaef3e3a4fc4ff43d1a0cbcab804bb19ac8a785197c0cb77b3c57e03848fb33b2dd3e2ba0d05c7ca95b1e270c0f74e29233257fe8252e28e59271e345db8c67fa30075caf0f7afdbe40c6d43a098873586b344639697be189a03c4fed16aa3f72629dbfb2cd8edeb54b8d3177a51ce9b76ac162e57d1e26868d19db68a45b757355c01521e230344caec1cc7ce18b66b0809061b7a57d46b00e030e0b4f5e296ee42dcb120e645a6c74508f2bb1f7ff40da0f824f332d5438ed290d9417b6e3c6d910c7bd4ec84dc23e0440f9201a25ef0b329b4c9724a910509918df38ee5323c20b8d5c2d42557e759ebcb1ae7476741b9aed00a8875bd7473311547b1bc700bb7203d333856b655401a0a2264e3eb7c799ec919c78990cccf8adf2692f3bef53a324e78c324ddedd8e4dccb2dd702be92be23602c7ab1dc48ba51fd70583897b46a97df570cf3fc5e4a8b9d7a93c57bcdbd51ccb7128358bb66c58ef9bd568d79f0e5956bb553c5c71e33e603da7a4dbbe005517687999720a083b5868bfc32390f2c3a61608aeb2ad1ff407b4e19ac7ac41fc182a60396bada59e668f3d5b4145516ca3b27a049cde1f8499df30b99fc1b5d5df0885a9a81d1efc00b811d321a71b7bd8e1ae67409f8fff0afeee1f45582a88e54901765100108ec337e86795bc42fe9b881386e4cabba3535d626333b7ade35c08db37a8393bc0f6b91fa9d4288f781ba31b3134186e5672b8d75029329a24d0a28af43f4d3cb0f7c0a556039dc737fb1529806c3b97e3ae2a6b20b059ec7d4191213b5c768e210bef04a1850bd263f17ae7b14df259f4d706f60540e0fe8dd194913f954d92458d74635e751e369506181b918cbbcf8936dc53edb734c9ea33c8899c893627aead9944eff5568a3c03aaaee56b5471abc647b31faa052edff9af787789ca576fe29c81663916bfc55a25b5b6213a54d269fbbcfbad2f5e0dc721380b8600f341105524698889f7ba00f41a0cbde1f144ef4e96ad9087208b44c8583ee0093443625464bab540dcbc15a29dffe9a81dccb435bb9a4790eeafe167e08ed52d6dabfedbc635c09227c032a1c8805acb8ae226e10b0de1999741756785c420e4fa62d6ce5753c323ca78558498c9434334f41383a02425277114218fb0fce3efdc4290cd89c306143b3c94f532b097cca9013657f33ad23044307ba8c79486aea7ee71124f79226cfbccb481fd67715ad1a007fceae42aa94d68e3703630767871e38a2db438fa4d3340249d128f0d710ee926daa53c734959107d54c6dc2374969db9a7d89c59b1f2c3d4e9c58f3248ee640797ff9d6b5be23d4f0aaa4becab450f3a6e3dece19775a8b7ce46f33ec956237f206042c44f7e56c2a35736c139ac5116143d619774e4a0ceef6875391322304ca51f07f9e3d4c5905b773549347ed571231a6a798e50c9b6833aa6ad8b55bf785b746eb79aeabd7948ad7b762092493a0a3e60eef93ba550907d32e4a75a6ccaab198e6c865a6666f07ba07b93d9ebf644bfddec9a72b3d21beb9f11eb9435fd0a49c39b8e337fa5059cc363dcb41b69fcf26ef46006392a1e4cce01d38ecc64898cf511f8078e20ce209524c6d531463ced06b7596a6ccd1027a9033655e188b24e7f7ad64dc378f5e5ca088989c892615733b83c4a6fe57e043523e0f69dbc2c7fd5bd813f9d7baa54e6cca7f792677100d2e4fdfd13ef62acf669446304aab4013d21b7f1d36dd3f54466edfd62d143d169ac9e9458b6c334553d0b4471db359fee3a5eeffd0b8cb39631599611005207fd8ecb878505ec4bf7f67454cfc3ce30c2ff44c7c20fd616c3e602833c624882115d7047d40d4cda5255280c1bb4ba03b79eebeed9dc1658fda576aa48597f9f22bed262f94ccb614385327ab075357c09603b20acb852e04a9ef3728eadeaa41be4e6c6332b5e50d279799a688babcf0d477fd984f2496d6164b4c75fe091be3fe8dd51c1fd9f7bfc42ccfd05980dbdc207a6846c8bd05305e255afd6af88d7b4bc5f409bf00cc4eaf9071169709ef0ac22190491f4d32f0a5b424601198cce478569fc6e1f5de5339afc57689f1d2f5f2cdb38726af64a41ce332831d5476470e03996186fd2a99309466dcbebc3c6809ab91a7f16f7d986e47b4270dffa2f1b66db688b749cf259108e7058c6940fef458d9e318798fc3422accf98c5bf8919b6483f7e62bda34a2ada941bdc690d391b597cec175428e10e38712b0f6193c3f9d1d3a7b7db8938c1f08084e45af0019717d0c5f4d505a4d028ebb8b241443ec6cf37f92c7ba6a6cc2c6ec3b0db055eb7aa4a985a74a2bd159e464d9bbf7d4fdb5dad5d18ddfc5b7893546708d4309f9f0b8f2c0a3cb825bdcab78b9fe2085b9ffa8360693995c9a87dcc046ce768a980b0f8a8c6965098056e786cf76557fc01c97a2b54fe43936542ad49fd5926e0e12ee1b16080505fb7ef0c0398a8b10afdb0388362fc18b59d7079d1166b8de936a42abfee194068091b56e99224b6a6082fa4416f3b4c1e4877e53b56df39ab478104091d350129a50e418b4ef653f1540994b1f18d46d8e33928d3b590b96f23789ebbf5db1f007c21d0611a9158e0705145b307f8848cf4cf06c14fdabbe44e4b9eb981ff84ed06e642846a2741e7e087e7b00d98804d1140b8eb9d0e6d88be5363d03720e6de0b850104a8ff96200adee532e39ace32b9cfeff64e0080786f6edc99bce3ddfecfffec5c4d1b8f7629d4db66e6762fe349c296eac001ad9ea5a57b0eb155eba509f861698ba719d720ac3c96faf335f54779510450c46355d15153cfda683a4d40c57eb2c44b02f94bd0bd1f456544f1bef3d2c0f8fa70bd4d88033355136895ef3e9be29228cd4205fb159d640ac686ba4b6c7390124278bcf3384a30d404bd56928ac3112b2e070f1c4493d6c3327cbbcac25703e9edbbef6af8be84b2b0f4b430f7077fc55cf2e678f71a84350941f0fb1c0068bd9a548b741b85f4bd238b05f1775cdc9e2a1fed727311111128ba28e03addf2fbca4c21e419a93259f9a9be9fd70b6411119da1f417ec8695090813a6697fdcf6bb8353537ad9eff57eef506746219f15f614993d6f3852dfde35f0734698c236a40bf79f422f21a9db55e6ee6a8ac2b54ebcd55fbffc9fd4ab25934619425ca6d82d025918d05d2b7aa80c882486f80e68523bdc19fc359e0dd687845ff8611115346b04f434d92b22e542ace0af98156315fd709edeaffc29e8aaadf5dd2b8b3623205b12e9353672889949d2f55be7951b73f9aa5dd37e39fa4cf94f8592abb27bdd4529009b1d875da48da26f7c9ebcbc56c24a786a11863f2fb057cc42b8095b97574e519659b15293dd9894e233ea8659cff3d27613948a39f841819695888a70325977f94d385d09ef3290f77df75c23196c74aabdca27f89b7212b1efbeabcd5063042157dc3f8dbc5e7ffdced75c056fbfbb9dd41547305a3ae2c89ef48debc310386e99f3fdcbd183c92d7651388b71758c364dc26cd8595dea80e44f93f21666a237ffe63dd3bce8e129f360907ccc05c797838da853da7372fdc1d327482f744889a7c1e65f60a111a6d580312a53d82e4f4aa2a51f8cef226a1c557308b09add4ea9bd08abaa36f13a1d967352c366bcf85ccd592bcfc09a93565b10d49a505da2c08dee8db5c9eaf5ff8a0b0fbee72bf6d2b3a8d5dfcba6b8d9bc366193c9eae40a6075acd9f2302fa609e80866eb4a39af9df95a82513586b8b706020de65c43f9470e68e1007d9b760f77689720d43a3331f5a082a5eab4a4685a85f7d9169ca5d1a3fc66d3952188f785ca125b3ea5d1fd249e8ed76b5430581d8fda181257c1fd04840917988c26ffa300a84d39faa9989cba966505ad208b5ddf84aea2298d1c277c81c2cdda9732514c9d2c0168bc710d34d53569fcc483a22fde50df4c4588dc6e55a437c395bb1660f9b79edc58ef90a2f324501c75a362985735f38b5ee900ffa39a164f6876f24fe9316f71763d487176edcf25a5160cc340ee003b238e4ecb749480a2f7ad8a66fdc8cd900e375a745ad317f0bd53e27fd49a21b10c0f1069a43b07e8c2d0fa0122731cd084e6001e090abdf079a28bb969d0d1756fb832a69477650c1aadab458abe9e567257fb8f8e7b5ada9fee3e1245a7dc5dbb66abd8de4c42fd56269c32f1bf91ac6c941a4949e2b065ecb2eec108b95805fd653a5ebf8b37ffd7661472b69bec201c052bfcd005785b966d448d66f451ba0c3f31b5f220024fb2f32cdc982a4d9a4f93bc5f3d45ee9e82075042aea32664d1389a31456f00b3695ef8bf0be5a8635df4d1bf009c24c6b682b31a3d934e68199a972fc7f4049d2cebc4a497bc97a43402a1f6e43675809d75a98f8ecda9c50964dd3ddbf4e8f84125bc085d0d6a712ab22e7ca1e0477f811c8783d0a62b8fdca6c2bd643b70e6f5fc1419bd2f0311d1c8a5e41dc0cabc06f04a2035b60f5e2ab9a8f30f4be4f9574ac3fcda7666301383e86b8b9cf6f37f420000ba60b05332cc6f753cf2bb6c54c954804fe75e2a595a7045a4ac3b71619559545ed534c2358fd99740dbf1a567158b6708983013eda5c96c052c57773b0b5e4d02b8a47262367c066f1f7230b07e13d6cfddc7d8488207edf0b011eeac653add5f410297cfb4f91b9719f6a662421ca9947763bfed01b4390ef6b3dcd3c0dff4ebc6cb225822e64ea92d279cf580cd872a45e75f79c65d9a7d24418d5c5f3e9243adc1c1b4c5a06c867c242cd3ecde8cb075ced336f251c5c425a5b95c79a038a7be4a56c70c9e86f743f6c2101edcdfc1a0f94453701fb77be85404181f79237c6574b601bc3d5f141968258a699035fb0d8e3ddc39a5062bc4515be11bcbdab0019da97054bf32fd14131c8d1737afdb8759dd9f7e4e44eb0d0c0f623b78231e5e99792f8450420d3572caf05f99da61bf1edcebe95192e9bc434254cf8fab39cc0d1aa4de3b22461e32f6edb167c808f58ed91e8d70ae4b01f7070675a9701773087f6acb998d482732c58436fec49f2fde3cb877b371827311ea106e695b11499afe855e1a8dfc063ab81a0e0e9b8aaf2351fd6dc16db96a71e7fa0e2b51061df77c0cd9ff5f85e820684850a172b3ceb55a21ca250085c3549dc454df9ddd0032add273c86908daaee21cf3b8804f9ab94fc1bcc6f4cbd2c4114b20043126e53184623f9ad2d2283c92d0c6e8e4e7b5b3d3d2c5dd56cb481ff8eaef375ef4cd88c36162ca5f2123f337f1a1b8fb321d383115091e3ed60e044205ca0e6fffd1945c2e3b4264b20401dd112a04a791c5704481521c6b0aec0b94210306a62a337372e124d4b5f7966b15dc51c85853c30dd02830b9ad91dfc30d123103aab8ba32b9c25b8b851740690ce75c9d6c946e2699342bc574c02ee336adb704c7ece516da51811945cea1b3f057b7ab8a6b9e75c1e8fb8aae086445dd5e5b35286532bcd168b21b583783862a9d78af45e206b06988c27995beb7734a7aea2be2903fa2c7b90412f38131c54e8f748a077043c3658eff7c884a58217e8ebbda1edc1e92d4e08389e710f7fececf91c49a2ea9b4bc27f867bde1df835c92626d323f23176dcdbd1b842cf3bbd7c9864ec115eed7eb4d4c457312930bccc7ee4eebde36fa73e6f2bafa4528afda1ecf32826387eec246c65232aeda424933056f5f4e5eab1d56be5540c6ce21dc40067fa115221db6e974e9f6434af3dec07269a9c34ff90c873233c09189c53ea26b10b9c92451daf332b8761ffde0f6e08ccff7196edd6ec7842a0f0a7ad85cf7bb68b15d02d8b6ee617b121528f2ef9200a2b592e76581890f723f2d6e395542b25588f6f0a3a308c8553953d3260861cecb066a7e1bfd82e3ce9d9b20965269970824e8cebbc13fad550b307fc1f1230c97ec129962d89f26a103a8ff73f5d56327c10f646072afa8e9501dc2b959d0f8e61b6b603ed2291e0b8e38a648367b59918452c14e087baeabbaace9be1e215608b677309f8f95431925c75d4d8d97eea82bc07ae623a3db091d98a563f751ef6bdc49c9e047db0016420bcf9bc1d1ac4db33d1f924437427ddaa16544eff64a34da626f03fff9aeca3cc487aaf3a03336c21afe4b8eec2ad47512b174dcb3bf332afd81231ee2780b937516d2e68eab28ab5de481490331d356c38dfc08f4ba31225afdbfb1f27c78810b3423034076e5924864524bbcec72acb17d911f8c997e1f04d895ee24cf0ec1823b111af1ff7470200399528c2487968dd851fcc881a65184f681cb293a5e3688c31af749c05a0383efb0cfb589f0fbbb3d80b2832d44190a638e235e411de7f8acdd119607fcdfb75dd887fbe880212f9b85b65fab431f1c88034108c01388f1373d27075864e0ff6dc6a8238b4fe04acbc4e15827ec5a78099b16178885a3a8e5adeab1b4490923177c90f45f332a9a2b516eab1c472a0bb58d92a94bbf3c008cf7f6689b46172611ca591c4c224c7f460beaab680a2984b7f9eef02dedbb59e491df719a4393991f79f8232e58ee41e7bd8d2139eee2389330b29c4c98947bde773f5afaa0d0f5738ef8f51c7fef8e0afc600106a1ad21adb4fc9f7aa42b06ad0e33dc5c0449f0ae30567d9e70b09f2da95c23b3177c81795ae0e6c5fd194da7a69a8cd6f2723674da176792ebd4b5407ad04dbd98e847980de2ea02a0441bb835a08c02c9ed3f6a675204bf8f4deb09dbd8a5d7b11567dbee96d12ba01f3032a8610dae6bf4643a1ee9f131846c84bd87c613f464bd860e2b223302e3b54d9e881fa2ce03d5fd33956457596e3e7ac7d3a4bc0cc9e0f51d22ae11d66d9f54a6a813260f1497adc8e6009befb42c39f21ec3088cf6cddff3af385eb83c3db74e23cc962eb858243af80b6500cdcff936bf85f1a027029d360e3521788d0af1077b2cbf428ed205c75992bb4b29127b11383a16bcb1f53cda5db030bdd9a45a6db82c22c24692bd5e2c30c1763287975914565f93ca5ef66a295935704b656c727f7311505709bd7d3c58770a9cfc3f22ea48dcb0d3d0254eb14d5c3a958f9b43d9c5d0922093c2118e94b4e2f024dd98fec11e2d0c8dd973907ecf9839be355620205db368db71b5733b6ffb8db75b5997416ce3643412476a93d29803fb5f2f4076cdc35b395f6753897ce79ef527431991c8d4b3ba41b04a24059b3805fd67d2d600878c0ba9b35748f73236932fe227e042cf551d6221aed878b18d02712c39f49faea75661c765ffd00a8ed03a4496d832748e600bf4290806c909a389acdd8128fe7622260c2eaec35d952fb7df98aedcc2a74ac58bfbfd96dd93349fff52ec556ea564ba8793c1e041c7d0aa54dbfbd54aac18635c4fe48d325dd2d0abbbcde772f2880620631390c3371030be85760a98985325ece80117860e0f6889a12ce569d38214b3ec1925f76ce22f793f5b776622af88d6b10407529ed3b109ed308cdb12866545c6ff25f570c22e6f0184e89bfd4efe3c9f4a4a7827308980e1a1160ce61c2d9068d9618dc595d800091db9afd62baf7476aaaac1bd55ae1c72f648797d64e61e6e498e75a6f7fdfde4283679b620c07db236351e3d03b3f57c8238e66bdb4ddeee97b122c5dd56cff4fbd44ee10dc149a56b43b26f7f4555cf4b6389dc2cadfbad17a3871247a0d98374b3a186c67f8bcde832a0cf37fccf78090afdfdf51b939a244f80e98d8b88ee471867dd958eaddd96c1fd0e3bc01848dfd213d3a9444e8241c643f7659fce41ca403df62e0eee324a5823d2f3cd3c373bc15f6849c9358dd2ad63b08bf7578aae90f25ba357785617b29a932523f05a787479351e96525c79db12cda7de94c34c33d31572e3278f57fe0390db6cb99866d966bcadab4ec45e7bd51fd5aced61421e950805b3462ac4a3fb6d38e45b532216507f678ca83f69ee9369fac76c5688926df67f733b7fd19a9654902435204e5777371b158fb20d955a9a062d288a07fbad6359487edfcd8ce078e1a5560c852d64583c73d8c2dc84cbfe8296dad5de7ea76b177b8c4093a116942dc8236134f8ebf159eeed751d445a5dc33aa9c161f240b6ee1456a377d6bf909f3be7b6f20bb631a12133ba852dc94cb80232bf2516c8e337c393dd9efd35d68d0926de418437e6f92384edc0ecac7c8b33fe0489c808d33f0eb73b15ea80b653b60a727a80cc5b995e27d69935d66eb08dd308e94de7e9ef7c74457fedb50ada878d8b4e9572a41edaae5cfa86799afa2eb8ad75bb7804bfdb9c01904ffed290682832f98b9145849e50badcf1ef8a391ac03398adeb06bf1dbcbebed4162524b0e8a0c23769a1353165b8f13ed0c7085fa874e7409998216b516ff24f2b69586d541b8a19b51b85cb910f4aa90f5737eb9f9fe5373ecb7b0dbc507345cf1f0a3720a1d814990d25d9cc183ad64d5f9e80fd86b55607ac11a258b039828e5d0b2d91e48ce6680c161b5a6ae41e40847e61be9da0b0333f059a0dff0ed8a8f70e54d4143e56e3ec228d2e1ba347b1b969000c3b9125167898200b097f12c203dcdc012a3f2eb5b36379dac977aee4a104336e764255f5a512c126ce7bcca76ce574ca7fd523d5dc4015e83e4fdb8c182392a39eca72693494eb0bcec9955e222904225de2ed965156808f128d30dc6cc17fa5ad5db6f61bacc688216a50b6f200209cd988ee4951a76c69ebdc3cdbbd1617343a4f1f83cb0c0f0cf91422ecf0b858dcfca114ef2b2c70bb5632f343be41390583280d6a11fdb49267a63fee76b16d6d73d614307dd3683d876e99188a32b86a372a09f64e9d1e3d47be6891fb801745e0dc9a696b2a3f5a0936c160c5d362f1d02babdd726d84b38fc2be5dfc9ddf1629ddbdd91c7a77c51e87a60ef1c1d4d57c0e96d6ba626a6f66ed449932e8c775cba2209b4ce9a093b8abe721c4449719ff155cf51d3e6d3b03798d2776d6dc5e0e8711c7034c73ec3735ec2bfda06bf59ee34b14f3f99b924c1301bc682568040b32202edac8afbb3de5eaff3d0c1527702a2143758df433786946310975e810349cb67b44ac79e92f9edfa0b56911605f36026e6363f06aa8dfcd47647321dcae358e830f928dfa2d4703983bc84047682437a2086c7fc28cdfcc94313d2df0a64de4006c4d0a02a8b0e4d67c0cd614927857cf7afa0d6d4b6456f4508202e81944db44f3ccf107e4623bf94e1286efa5e399b7d0d00d6d45dd17b8f76bc0e1f445080d4d47049d7608d07525cfc253a2af1b7e8fedec449df96162ff8385c3b5b0de61a2d6ede2e6fb64a69c3e07676607f447b8623f38251cd72a559093d5de33302764f4095e309bcc47b1918cfd8e91ed985ff76ad9c422cd1471ed715ceb0f5d690abfc45de474d19dcdfa8aaa4e30e18efbeff14c5447dd6a026c9d1e1ee86c477ee88c108fb546df9230fcf98e477e826f7fb0f6396a4c3d24801defc3e3fcb2a9a3d5b9a6c6abff77a54b415ac905a012f93b0ab2bf26532fbc6d5d779fc6369295255bd3762641cf8141612523edb68b3dc579b635feec250e9de064d591f9bce3fc495f6b92eabe66b6d0dfd32755e38cb4089dc73d49ca714294f008c4efab11723020d8acc4cc2d1703c6b0a88132f93016e344452a741fa195ee8f533cbb2f3f4e9bb26ecf2c4824a68da71f937413d75e47418d3ae248cd424bc60c4557e9579265f1b6b5a4c363afdd5a8ec28ad9ae7b124345b2d4e1db9ee3d3d1a74afabca6815fefba0c8d06755b15c7406278c215d97203e19cad00ddf87317d800f46541032e1f34302d84aabe6449f54d27958874c8dd2161643c225d45140c461a3544e72e0ae1933e9dc005bb10118ec4acbff5965a3e2d733db38693eeb2a8dcc5be1d7a9cf57da8374c220bf3b1d183e6e7f1e0274a7db89ce376d834021667812a97b937fbcac3fde908fb618d4a908fb9ae084c28ff4f507362c295b6af718866bacc3455816eaad5bc371a34d4ab766fc6f4dfe204fed157dfa3d3e8c5835aafcabd204e232731f1d974243b9af435970fc4dfddf6fc93376ac06a23acb17f5ab99c887e0edbeaab3bdd772d3d826845e00416785a7d212bc770212d030c2e236d99f9b020882e8998470a846ff7cd4dfbe21c0844c69ee34ac2915bbd66a130ca097e7f8c166744e261d304074ff6184761dda72814da57e8c42165ef80bbbe878e8339a6b14e90241048829c358aafade342df8079938a9554f952de94bd46fec32a175af84dfbbeb196f6b9d6678012a357e5cee6900f9176726993b94b6485124baf6fa815a912b5d582a6a49ff42d91a25619f377d97770c0e831d8b52df249e593fa25a3769d4aca79630c92578e7e4cffbffa1f6f553e897f556e957a8de7a56148ffff246db6edc4794d3ee2b62a7f426f54d7ecea4c487c3a2b75f97be4b2da8bea951c9554700b5d6336f4b16074af691fee0293f9b4a166cd324d0efdaa7495b37aed069b54896801ab9e9f33bc281179655aeb349dd1870db95982d6463cfb89ee7e0d7b4d64563ec916f223c402a8defcd45c7f2df7f9e14141004b1c1580f44f1bc25ae48ae0e90729296122611864c31df38a927e9969de108f30085ba7e7d11443464830fbce291ec6add2d1d9e8f8a9a4ab484f048af88a54cc58e9dc19000d8f03288fa45b46f633f9bab6610d19fc02ae2fb5fd4b18b6efeb157936fab1eda48fd0772f9097ccc1b65dbee6ac3caa8037c217efb48a9701a3d560b3b513d05ce96fd2946122856ade1e8717277b001a72a78af67644c16d9c31546b8c7616be866ff40a9e7bfd99f6f07e65a8d9da802b3a09d350195710e1744cd22dd17bf892cd00e66f043564a83472544e06e6cb33502514f796b770b332ba75f74413f07136d17f0b6c608137dcf9fe9d8faaf834d8dd6b27a10a951f24c660a85421c69d17badb5e318de49e68db56c362729e45c60267e2b21f6b93d8bdc55a9d61f1e4b46e8e192b8818929fe8a9e4df068d68f025e3f17938eade9b196b547192b382e93a57a9880678767366dc431b11a33fbc981e0f7aff9478847e06b60c89f9174331c8ef3e7ca96685c8eeec76d4cd92ba121e44ad7dffdb16f917cd541d36136ca1c743c479bda74cf30345cd96e0c7bf050ad2effe0ea095afb2ec1346e79162a5f1e0db02b40e989477896052fe87e5f06d83f2addc01c898ba055adfb37ad91e336dc8e4dbf17cc4b097219860ad66c9ac542e056c5453115f522da353c0144fa1eb60ccc285ea41087ff469756a52899056c3c2249d9c2692ed39b99fdad43ed19b546ee8a626afbd3e66dab5c00e5ebb5fd0bee5a33c89542bd98061ed02c6c3abd522a98b07a9c6e1b84195e21ecf0d8d4427f4c8739772e10bd524062b8d44944a521a597b3d55bbe6cc90895d6bc4a5b740d3a87403b8f2100e6030615462535c197092ff9a4a6ca2519b9a2c7701db150f6068ea81b91a155d30484506250c1eb0f17a86c6154bf783fdf6833c8aa169e96cbe53d71f56f61d78d4dfa7c4fdf7257e73468ef7212b882e8a3d743c984f0dac108f7a53c4348429e65c571d0ada2363b9b40997d38821b8665491ad18a5ae9581c703f014927e7c3f7faa17446a31a34483b6e33dd976bebda5e085e0891bdb1c3ccb404ac1b1e08bfa5ddaedbea138364a5797faf044e6cc376b1ea4d8678c3f95ef35b0087b5a88615917e4e7490c2f1feb3d67b17e97eb846b5cb562cce59415b6b6227b72e5080c3a691adcc1ce9cb9e7e7580d686ba9d042d10969551cab150e8ffb8177456992957c795fe72eadf202c5fc2afc06c93ee7f9f0a9bc599176bc681a08f70074363</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è¡Œä¸ºè¯†åˆ«åŸºç¡€æ¨¡å‹æ€»ç»“</title>
    <url>/2024/08/08/07-02-12/</url>
    <content><![CDATA[<h1 id="æ·±åº¦å­¦ä¹ æ–¹æ³•"><a href="#æ·±åº¦å­¦ä¹ æ–¹æ³•" class="headerlink" title="æ·±åº¦å­¦ä¹ æ–¹æ³•"></a>æ·±åº¦å­¦ä¹ æ–¹æ³•</h1><h2 id="Two-Stream-NIPS2014"><a href="#Two-Stream-NIPS2014" class="headerlink" title="Two-Stream(NIPS2014)"></a>Two-Stream(NIPS2014)</h2><p>Two-Stream Convolutional Networks for Action Recognition in Videos (NIPS 2014)<br>è§†é¢‘ç†è§£çš„å¼€å±±ä¹‹ä½œ</p>
<h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><a href="https://mna12478.github.io/action_3/">mna12478-è®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://www.bilibili.com/video/BV1mq4y1x7RU/?spm_id_from=333.1007.top_right_bar_window_history.content.click&amp;vd_source=9a9f9a00848a88972d0fcfd341e9e738">ææ²è€å¸ˆè®ºæ–‡è§£è¯»</a><br><a href="https://blog.csdn.net/ybacm/article/details/125300863">ybacm-è®ºæ–‡é˜…è¯»ç¬”è®°</a></p>
<h2 id="SCNN"><a href="#SCNN" class="headerlink" title="SCNN"></a>SCNN</h2><h3 id="ä»£ç å¤ç°"><a href="#ä»£ç å¤ç°" class="headerlink" title="ä»£ç å¤ç°"></a>ä»£ç å¤ç°</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŒ‚è½½googleç¡¬ç›˜</span></span><br><span class="line">from google.colab import drive</span><br><span class="line">drive.mount(<span class="string">&#x27;/content/drive/&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>é…ç½®ç¯å¢ƒï¼š<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">!apt-get update</span><br><span class="line">!apt-get install -y --no-install-recommends \</span><br><span class="line">    build-essential \</span><br><span class="line">    cmake \</span><br><span class="line">    git \</span><br><span class="line">    libgoogle-glog-dev \</span><br><span class="line">    libgflags-dev \</span><br><span class="line">    libprotobuf-dev \</span><br><span class="line">    protobuf-compiler \</span><br><span class="line">    libhdf5-dev \</span><br><span class="line">    libleveldb-dev \</span><br><span class="line">    liblmdb-dev \</span><br><span class="line">    libsnappy-dev \</span><br><span class="line">    libopencv-dev \</span><br><span class="line">    libopenblas-dev \</span><br><span class="line">    libatlas-base-dev \</span><br><span class="line">    libboost-all-dev \</span><br><span class="line">    libgflags-dev \</span><br><span class="line">    libgoogle-glog-dev \</span><br><span class="line">    liblmdb-dev \</span><br><span class="line">    python3-dev \</span><br><span class="line">    python3-numpy \</span><br><span class="line">    python3-pip</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h3><ul>
<li><a href="https://www.ee.columbia.edu/ln/dvmm/researchProjects/cdc/scnn.html">ä½œè€…åšæ–‡</a></li>
<li><a href="https://www.youtube.com/watch?v=2JwRX3umGKE">ä½œè€…æ±‡æŠ¥</a></li>
</ul>
<h1 id="ç»å…¸æ–¹æ³•"><a href="#ç»å…¸æ–¹æ³•" class="headerlink" title="ç»å…¸æ–¹æ³•"></a>ç»å…¸æ–¹æ³•</h1><h2 id="iDTç®—æ³•"><a href="#iDTç®—æ³•" class="headerlink" title="iDTç®—æ³•"></a>iDTç®—æ³•</h2><p><a href="https://github.com/PKunicor/improved_trajectory_code">improved_trajectory_codeä»“åº“</a></p>
<p>æ¥æºï¼š<a href="https://blog.csdn.net/qq_21872981/article/details/106936451">è¡Œä¸ºè¯†åˆ«åŸºç¡€æ¨¡å‹æ€»ç»“</a></p>
]]></content>
      <categories>
        <category>è®ºæ–‡é˜…è¯»</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡é˜…è¯», è®¡ç®—æœºè§†è§‰, è¡Œä¸ºè¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title>Dense trajectories and motion boundary descriptors for action recognition - å¯†é›†è½¨è¿¹DTç®—æ³•</title>
    <url>/2024/07/22/12-24-41/</url>
    <content><![CDATA[<p>è®ºæ–‡ï¼šDense trajectories and motion boundary descriptors for action recognition</p>
<h1 id="å¯†é›†è½¨è¿¹ç®—æ³•ï¼ˆDTç®—æ³•ï¼‰"><a href="#å¯†é›†è½¨è¿¹ç®—æ³•ï¼ˆDTç®—æ³•ï¼‰" class="headerlink" title="å¯†é›†è½¨è¿¹ç®—æ³•ï¼ˆDTç®—æ³•ï¼‰"></a>å¯†é›†è½¨è¿¹ç®—æ³•ï¼ˆDTç®—æ³•ï¼‰</h1><p>1.1ç®—æ³•åŸºæœ¬æ¡†æ¶</p>
<p>å¦‚å›¾æ‰€ç¤ºå³ä¸ºç®—æ³•çš„åŸºæœ¬æ¡†æ¶ï¼ŒåŒ…æ‹¬å¯†é›†é‡‡æ ·ç‰¹å¾ç‚¹ï¼Œç‰¹å¾ç‚¹è½¨è¿¹è·Ÿè¸ªå’ŒåŸºäºè½¨è¿¹çš„ç‰¹å¾æå–å‡ ä¸ªéƒ¨åˆ†ã€‚åç»­çš„ç‰¹å¾ç¼–ç å’Œåˆ†ç±»è¿‡ç¨‹åˆ™æ²¡æœ‰åœ¨å›¾ä¸­ç”»å‡ºã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<p>å¯†é›†é‡‡æ ·ç‰¹å¾ç‚¹ï¼š<br>DTæ–¹æ³•é€šè¿‡ç½‘æ ¼åˆ’åˆ†çš„æ–¹å¼åœ¨å›¾ç‰‡çš„å¤šä¸ªå°ºåº¦ä¸Šåˆ†åˆ«å¯†é›†é‡‡æ ·ç‰¹å¾ç‚¹ã€‚åœ¨å¤šä¸ªç©ºé—´å°ºåº¦ä¸Šé‡‡æ ·èƒ½ä¿è¯é‡‡æ ·çš„ç‰¹å¾ç‚¹è¦†ç›–äº†æ‰€æœ‰ç©ºé—´ä½ç½®å’Œå°ºåº¦ï¼Œé€šå¸¸8ä¸ªç©ºé—´å°ºåº¦å·²ç»éå¸¸è¶³å¤Ÿäº†ï¼Œè‹¥å›¾åƒå¾ˆå¤§ï¼Œå¯ä»¥é€‚å½“å¢åŠ ã€‚åç»­çš„ç‰¹å¾æå–ä¹Ÿæ˜¯åœ¨å„ä¸ªå°ºåº¦ä¸Šåˆ†åˆ«è¿›è¡Œçš„ã€‚ç‰¹å¾ç‚¹é‡‡æ ·çš„é—´éš”ï¼ˆå³ç½‘æ ¼çš„å¤§å°ï¼‰Wæ ¹æ®ç»éªŒé€šå¸¸å–W=5ï¼ˆå…¶å®W=5æ˜¯å¯ä»¥é€šç”¨çš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å€¼ï¼‰ã€‚</p>
<p>ç”±äºä¸‹ä¸€æ­¥çš„ç›®æ ‡æ˜¯åœ¨æ—¶é—´åºåˆ—ä¸Šè·Ÿè¸ªè¿™äº›ç‰¹å¾ç‚¹ï¼Œä½†åœ¨æ²¡æœ‰ä»»ä½•ç»“æ„çš„å‡åŒ€åŒºåŸŸï¼ˆæ¯”å¦‚ä¸€å—ç™½è‰²å¢™å£ä¸­é—´çš„ç‚¹ï¼Œæˆ–è€…ä¸€ä»¶é»‘è‰²å¤§è¡£ä¸­çš„ç‚¹ï¼‰ä¸­è·Ÿè¸ªç‰¹å¾ç‚¹æ˜¯æ— æ³•å®ç°çš„ã€‚å› æ­¤åœ¨è¿›è¡Œç‰¹å¾ç‚¹è·Ÿè¸ªå‰è¦å…ˆå»é™¤ä¸€äº›è¿™æ ·çš„ç‰¹å¾ç‚¹ã€‚</p>
<p>æ­¤å¤„çš„æ–¹æ³•æ˜¯è®¡ç®—æ¯ä¸ªåƒç´ ç‚¹è‡ªç›¸å…³çŸ©é˜µçš„ç‰¹å¾å€¼ï¼Œå¹¶è®¾ç½®é˜ˆå€¼å»é™¤ä½äºé˜ˆå€¼çš„ç‰¹å¾ç‚¹ã€‚é˜ˆå€¼ç”±ä¸‹å¼å†³å®šï¼Œå¼ä¸­0.001æ˜¯ç»éªŒå€¼ï¼Œ(Î»1i,Î»2i)æ˜¯å›¾åƒIä¸­åƒç´ ç‚¹<br>i çš„ç‰¹å¾å€¼ï¼š</p>
<p>åº”ç”¨ä¸Šå¼ï¼Œä¸‹å›¾å³ä¸ºå¯†é›†é‡‡æ ·çš„ä¸€ä¸ªç¤ºä¾‹æ•ˆæœå›¾ç‰‡ï¼Œå¯ä»¥çœ‹å‡ºï¼ŒåŒè´¨åŒºåŸŸçš„å¤§éƒ¨åˆ†é‡‡æ ·ç‚¹å·²è¢«åˆ é™¤ã€‚</p>
<p>ç‰¹å¾ç‚¹è½¨è¿¹è·Ÿè¸ªï¼š<br>å¾—åˆ°äº†å¯†é›†é‡‡æ ·åçš„ç‰¹å¾ç‚¹ï¼Œç°åœ¨æˆ‘ä»¬è¦å¯¹è¿™äº›ç‚¹è¿›è¡Œè·Ÿè¸ªå¾—åˆ°è½¨è¿¹ï¼Œå¯¹è½¨è¿¹çš„è¿½è¸ªæ˜¯é€šè¿‡å…‰æµã€‚è®¾ä¸Šä¸€æ­¥ä¸­å¯†é›†é‡‡æ ·åˆ°çš„æŸä¸ªç‰¹å¾ç‚¹çš„åæ ‡ä¸ºPt=(xt,yt),åˆ™æˆ‘ä»¬ç”¨ä¸‹å¼æ¥è®¡ç®—è¯¥ç‰¹å¾ç‚¹åœ¨ä¸‹ä¸€å¸§å›¾åƒä¸­çš„ä½ç½®ï¼Œè¿™æ ·è¯¥ç‚¹åœ¨åç»­è¿ç»­å¸§çš„ä½ç½®è¿èµ·æ¥å°±å½¢æˆäº†ä¸€ä¸ªè½¨è¿¹ã€‚</p>
<p>å¼ä¸­Ï‰t=(ut,vt)ä¸ºå¯†é›†å…‰æµåœºï¼Œæ˜¯ç”±Itå’ŒIt+1è®¡ç®—å¾—åˆ°çš„ï¼Œuå’Œvåˆ†åˆ«ä»£è¡¨å…‰æµçš„æ°´å¹³å’Œå‚ç›´åˆ†é‡ã€‚è€ŒMåˆ™ä»£è¡¨ä¸­å€¼æ»¤æ³¢å™¨ï¼Œå°ºå¯¸ä¸º3*3ã€‚ä¹Ÿå°±æ˜¯è¯´è¯¥å¼æ˜¯é€šè¿‡è®¡ç®—ç‰¹å¾ç‚¹é‚»åŸŸå†…çš„å…‰æµä¸­å€¼æ¥å¾—åˆ°ç‰¹å¾ç‚¹çš„è¿åŠ¨æ–¹å‘çš„ã€‚</p>
<p>å¦å¤–ä½œè€…æåˆ°ï¼Œç”±äºç‰¹å¾ç‚¹çš„è·Ÿè¸ªå¾—åˆ°çš„è½¨è¿¹éšç€æ—¶é—´ä¼šå­˜åœ¨æ¼‚ç§»ç°è±¡ï¼Œä¹Ÿå°±æ˜¯ä»åˆå§‹ä½ç½®ç§»åŠ¨åˆ°å¾ˆè¿œçš„åœ°æ–¹ï¼Œæ•…é•¿æ—¶é—´çš„è·Ÿè¸ªæ˜¯ä¸å¯é çš„ï¼Œæ‰€ä»¥æ¯Lå¸§è¦é‡æ–°å¯†é›†é‡‡æ ·ä¸€æ¬¡ç‰¹å¾ç‚¹ï¼Œé‡æ–°è¿›è¡Œè·Ÿè¸ªã€‚åœ¨DT/iDTç®—æ³•ä¸­ï¼Œé€‰å–L=15ã€‚è¿™ä¸ªæ¼‚ç§»ç°è±¡æˆ‘è§‰å¾—è§£é‡Šåº”è¯¥æ˜¯è¯´ï¼Œè·Ÿè¸ªæœ¬èº«å°±ä¸æ˜¯ç»å¯¹çš„ï¼Œå› ä¸ºè¦è®¡ç®—å…‰æµåœºï¼Œä¹Ÿå–å†³äºä¸­å€¼æ»¤æ³¢å™¨çš„å¹³æ»‘æ“ä½œï¼Œè¶Šè·Ÿè¸ªï¼Œè·Ÿè¸ªå¾—åˆ°çš„è½¨è¿¹å¯èƒ½ä¸åŸå§‹ç»å¯¹è½¨è¿¹ä¹‹é—´å­˜åœ¨æ›´å¤§è¯¯å·®ï¼Œè¿›è€Œå¯¼è‡´ä½œè€…æ‰€è¯´çš„é•¿æ—¶é—´çš„è·Ÿè¸ªæ˜¯ä¸å¯é çš„ï¼Œéœ€è¦Lå¸§é‡æ–°é‡‡æ ·ä¸€æ¬¡å†è·Ÿè¸ªã€‚</p>
<p>å¯¹äºæ¯ä¸ªå¸§ï¼Œå¦‚æœåœ¨WÃ—Wé‚»åŸŸä¸­æ‰¾ä¸åˆ°è·Ÿè¸ªç‚¹ï¼Œåˆ™ä¼šé‡‡æ ·ä¸€ä¸ªæ–°ç‚¹å¹¶å°†å…¶æ·»åŠ åˆ°è·Ÿè¸ªè¿‡ç¨‹ä¸­ï¼Œä»¥ç¡®ä¿è½¨è¿¹çš„å¯†é›†è¦†ç›–ã€‚è‡³äºä¸ºä»€ä¹ˆè¦åœ¨æ²¡æœ‰è·Ÿè¸ªç‚¹çš„W <em> Wé‚»åŸŸæ·»åŠ æ–°ç‚¹ç„¶åè·Ÿè¸ªå®ƒï¼Ÿæˆ‘è®¤ä¸ºå°±æ˜¯è¦ä¿è¯æ¯ä¸€å¸§çš„W </em> Wé‚»åŸŸéƒ½è¦æœ‰è·Ÿè¸ªç‚¹ï¼Œè¿™æ ·æ¥å®ç°å¯†é›†è½¨è¿¹ï¼Œåç»­åœ¨å¾—åˆ°ä¼—å¤šè½¨è¿¹åï¼Œä¼šåˆ é™¤é™æ€çš„è½¨è¿¹å’Œçªå‡ºå¢å¤§ä½ç§»çš„è½¨è¿¹ï¼Œä¿ç•™æ­£å¸¸è½¨è¿¹ã€‚</p>
<p>è½¨è¿¹æè¿°å­<br>ï¼ˆ1ï¼‰è½¨è¿¹å½¢çŠ¶æè¿°å­ï¼š</p>
<p>è½¨è¿¹æœ¬èº«ä¹Ÿå¯ä»¥æ„æˆè½¨è¿¹å½¢çŠ¶ç‰¹å¾æè¿°å­ã€‚å¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºLçš„è½¨è¿¹ï¼Œå…¶å½¢çŠ¶å¯ä»¥ç”¨<br>æ¥æè¿°ï¼Œå…¶ä¸­ä½ç§»çŸ¢é‡Î”Pt=(Pt+1âˆ’Pt)=<br>ã€‚åœ¨è¿›è¡Œæ­£åˆ™åŒ–åå°±å¯ä»¥å¾—åˆ°è½¨è¿¹ç‰¹å¾æè¿°å­äº†ã€‚æ­£åˆ™åŒ–æ–¹å¼ä¸ºï¼š</p>
<p>æœ€ç»ˆå¾—åˆ°çš„è½¨è¿¹ç‰¹å¾ä¸º15*2=30ç»´å‘é‡ã€‚</p>
<p>é™¤äº†è½¨è¿¹å½¢çŠ¶ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿˜è®¾è®¡äº†æè¿°å­æ¥åµŒå…¥å¤–è§‚ ( appearence ) å’Œè¿åŠ¨ ( Motion ) ä¿¡æ¯ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†HOG/HOF/MBHæè¿°å­æ•è·ä¿¡æ¯çš„å›¾ç¤ºï¼šæ‘„åƒæœºä»å³å‘å·¦ç§»åŠ¨ï¼Œè€Œè¯¥äººæ­£ä»æ‘„åƒæœºä¸­èµ°å¼€ã€‚æ¸å˜/æµåŠ¨æ–¹å‘ç”±é¢œè‰²ï¼ˆè‰²è°ƒï¼‰å’Œé¥±å’Œåº¦å¤§å°è¡¨ç¤ºã€‚é€šè¿‡å…‰æµè®¡ç®—å¾—åˆ°çš„HOFå…‰æµä¿¡æ¯ï¼ˆç¬¬ä¸€è¡Œç¬¬äºŒåˆ—è¿™ä¸ªå›¾ï¼‰ï¼Œåœ¨èƒŒæ™¯ä¸­æ˜¾ç¤ºå‡ºæ’å®šçš„è¿åŠ¨ï¼Œï¼ˆå¯ä»¥çœ‹å‡ºå…‰æµæ•´ä½“å‘å³æµåŠ¨ï¼‰è¯´æ˜è¿™æ˜¯ç”±äºç›¸æœºçš„è¿åŠ¨ï¼Œä½†æ˜¯ä½œè€…è§‰å¾—è¿˜ä¸å¤Ÿå®Œå–„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“æœ‰ç›¸æœºçš„è¿åŠ¨ï¼Œä½†åŒæ—¶äººä¹Ÿåœ¨ä»è½¦é‡Œèµ°å‡ºï¼Œå’ŒèƒŒæ™¯ä¹‹é—´æœ¬èº«ä¹Ÿä¼šæœ‰ä¸€ä¸ªç›¸å¯¹è¿åŠ¨ï¼Œä¸ºäº†åœ¨ä¸€å®šç¨‹åº¦ä¸Šå…‹æœç›¸æœºè¿åŠ¨çš„å½±å“ï¼Œæˆ‘ä»¬ä¸»è¦åº”è¯¥çœ‹çš„å…¶å®å°±æ˜¯èƒŒæ™¯å’Œå‰æ™¯ä¹‹é—´çš„ç›¸å¯¹è¿åŠ¨ï¼Œäºæ˜¯ä½œè€…ä½¿ç”¨äº†MBHæè¿°å­ï¼ˆä¸æ˜¯ä½œè€…æå‡ºçš„ï¼‰ã€‚è¿åŠ¨è¾¹ç•ŒMBHï¼ˆæœ€å³è¾¹è¿™ä¸€åˆ—çš„ä¸¤å¼ å›¾ï¼‰ç¼–ç äººä¸èƒŒæ™¯ä¹‹é—´çš„ç›¸å¯¹è¿åŠ¨ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨1.1èŠ‚ä¸­çš„ç®—æ³•æ¡†æ¶ä¸­å³è¾¹å°±æ˜¯å¯¹è½¨è¿¹æè¿°å­çš„å¯è§†åŒ–ï¼ŒåŒ…æ‹¬HOG/HOF/MBHã€‚é¦–å…ˆåœ¨1.1èŠ‚è¿™ä¸ªå›¾ä¸­ï¼Œæ˜¯åœ¨NNLï¼ˆå®éªŒè®¾ç½®Nï¼š32åƒç´ ã€Lï¼š15å¸§ï¼‰çš„æ—¶ç©ºä½“èŒƒå›´å†…å»è®¡ç®—æè¿°å­çš„ã€‚è€Œæè¿°å­çš„è®¡ç®—èŒƒå›´æ˜¯nÏƒ <em> nÏƒ </em> nÏ„ï¼ˆÏƒï¼š2 ã€Ï„ï¼š3ï¼‰è¿™æ ·ä¸€ä¸ªç»†åˆ†çš„æ—¶ç©ºç½‘æ ¼ã€‚</p>
<h1 id="åŸºç¡€çŸ¥è¯†-ç‰¹å¾æè¿°ç¬¦"><a href="#åŸºç¡€çŸ¥è¯†-ç‰¹å¾æè¿°ç¬¦" class="headerlink" title="åŸºç¡€çŸ¥è¯†-ç‰¹å¾æè¿°ç¬¦"></a>åŸºç¡€çŸ¥è¯†-ç‰¹å¾æè¿°ç¬¦</h1><h2 id="HOG-histograms-of-oriented-gradients-ï¼šæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾"><a href="#HOG-histograms-of-oriented-gradients-ï¼šæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾" class="headerlink" title="HOG (histograms of oriented gradients) ï¼šæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾"></a>HOG (histograms of oriented gradients) ï¼šæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾</h2><p>ç›®æ ‡æ£€æµ‹çš„å›¾åƒç‰¹å¾æå–ä¹‹ï¼ˆä¸€ï¼‰HOGç‰¹å¾<br>HOGç‰¹å¾æè¿°å­çš„ä¸»è¦æ€æƒ³æ˜¯ï¼šåœ¨ä¸€å‰¯å›¾åƒä¸­ï¼Œå±€éƒ¨ç›®æ ‡çš„è¡¨è±¡å’Œå½¢çŠ¶ï¼ˆappearance and shapeï¼‰èƒ½å¤Ÿè¢«æ¢¯åº¦æˆ–è¾¹ç¼˜çš„æ–¹å‘å¯†åº¦åˆ†å¸ƒå¾ˆå¥½åœ°æè¿°ã€‚<br>HOGçš„å®ç°æ–¹æ³•ï¼šé¦–å…ˆå°†å›¾åƒåˆ†æˆå°çš„è¿é€šåŒºåŸŸï¼Œæˆ‘ä»¬æŠŠå®ƒå«ç»†èƒå•å…ƒcellã€‚ç„¶åé‡‡é›†ç»†èƒå•å…ƒä¸­å„åƒç´ ç‚¹çš„æ¢¯åº¦çš„æˆ–è¾¹ç¼˜çš„æ–¹å‘ç›´æ–¹å›¾ã€‚æœ€åæŠŠè¿™äº›ç›´æ–¹å›¾ç»„åˆèµ·æ¥å°±å¯ä»¥æ„æˆç‰¹å¾æè¿°å™¨ã€‚</p>
<img src="/2024/07/22/12-24-41/v2-db0e86f06f7145d93b56851ea0649562_r.jpg" class>
<p><a href="https://blog.csdn.net/zouxy09/article/details/7929348/">HOGç›¸å…³é“¾æ¥</a></p>
<h2 id="HOF-histograms-of-optical-flow-ï¼šå…‰æµç›´æ–¹å›¾ã€‚"><a href="#HOF-histograms-of-optical-flow-ï¼šå…‰æµç›´æ–¹å›¾ã€‚" class="headerlink" title="HOF (histograms of optical flow)ï¼šå…‰æµç›´æ–¹å›¾ã€‚"></a>HOF (histograms of optical flow)ï¼šå…‰æµç›´æ–¹å›¾ã€‚</h2><p>åŒæ ·å‚è€ƒä¸‹é¢è¿™ç¯‡åšå®¢ï¼šHOFç‰¹å¾<br>HOF(Histogramsof Oriented Optical Flow)ä¸HOGç±»ä¼¼ï¼Œæ˜¯å¯¹å…‰æµæ–¹å‘è¿›è¡ŒåŠ æƒç»Ÿè®¡ï¼Œå¾—åˆ°å…‰æµæ–¹å‘ä¿¡æ¯ç›´æ–¹å›¾ã€‚é€šå¸¸ç”¨äºåŠ¨ä½œè¯†åˆ«ä¸­ã€‚ç”±äºç›®æ ‡çš„å°ºå¯¸ä¼šéšç€æ—¶é—´å‘ç”Ÿå˜åŒ–ï¼Œç›¸åº”çš„å…‰æµç‰¹å¾æè¿°å­çš„ç»´åº¦ä¹Ÿä¼šå˜åŒ–ï¼ŒåŒæ—¶ï¼Œå…‰æµçš„è®¡ç®—å¯¹èƒŒæ™¯å™ªå£°ã€å°ºåº¦å˜åŒ–ä»¥åŠè¿åŠ¨æ–¹å‘éƒ½è¾ƒæ•æ„Ÿï¼Œå› æ­¤éœ€è¦å¯»æ‰¾ä¸€ç§åŸºäºå…‰æµçš„æ—¢èƒ½è¡¨å¾æ—¶åŸŸåŠ¨ä½œä¿¡æ¯ï¼Œåˆå¯¹å°ºåº¦å’Œè¿åŠ¨æ–¹å‘ä¸æ•æ„Ÿçš„ç‰¹å¾ã€‚HOFåˆ™æ˜¯åŸºäºæ­¤éœ€æ±‚æå‡ºæ¥çš„ã€‚</p>
<p>MBHï¼ˆMotion boundary histogramsï¼‰ï¼šä½œè€…è®¤ä¸ºå¦‚æœåªè®¡ç®—å…‰æµä¿¡æ¯æ¥æè¿°è¿åŠ¨ä¿¡æ¯çš„è¯ï¼Œå…‰æµè¡¨ç¤ºä¸¤å¸§ä¹‹é—´çš„ç»å¯¹è¿åŠ¨ï¼Œå…¶ä¸­åŒ…å«æ¥è‡ªå¤šä¸ªæ¥æºçš„è¿åŠ¨ï¼Œå³å‰æ™¯å¯¹è±¡è¿åŠ¨å’ŒèƒŒæ™¯ç›¸æœºè¿åŠ¨ã€‚ å¦‚æœå°†æ‘„å½±æœºè¿åŠ¨è§†ä¸ºåŠ¨ä½œè¿åŠ¨ï¼Œåˆ™å¯èƒ½ä¼šç ´ååŠ¨ä½œåˆ†ç±»ã€‚åœ¨çœŸå®è§†é¢‘ä¸­å¯ä»¥è§‚å¯Ÿåˆ°å„ç§ç±»å‹çš„ç›¸æœºè¿åŠ¨ï¼Œä¾‹å¦‚ç¼©æ”¾ã€å€¾æ–œã€æ—‹è½¬ç­‰ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œç›¸æœºè¿åŠ¨æ˜¯å±€éƒ¨å¹³ç§»çš„ï¼Œå¹¶ä¸”åœ¨å›¾åƒå¹³é¢ä¸Šå¹³æ»‘å˜åŒ–ã€‚ï¼ˆè¿™æ˜¯ä½œè€…åœ¨è¿™ç¯‡æ–‡ç« è€ƒè™‘çš„ç›¸æœºè¿åŠ¨æƒ…å†µï¼Œè¢«ç§°ä¸ºDTç®—æ³•ï¼Œä½†æ˜¯åé¢ä½œè€…åˆæå‡ºäº†æ”¹è¿›å…‹æœç›¸æœºè¿åŠ¨çš„è€ƒè™‘ï¼Œæ›´å¥½çš„å…‹æœäº†ç›¸æœºè¿åŠ¨çš„å½±å“ï¼Œå› æ­¤æ”¹è¿›çš„DTè¢«ç§°ä¸ºiDTç®—æ³•ã€‚ï¼‰<br>ç”±äºMBHä»£è¡¨å…‰æµçš„æ¢¯åº¦ï¼Œå› æ­¤å»é™¤äº†å±€éƒ¨æ’å®šçš„æ‘„åƒæœºè¿åŠ¨ï¼Œå¹¶ä¿ç•™äº†å…³äºæµåœºå˜åŒ–ï¼ˆå³è¿åŠ¨è¾¹ç•Œï¼‰çš„ä¿¡æ¯ã€‚MBHå¯¹æ‘„åƒæœºè¿åŠ¨çš„é²æ£’æ€§æ¯”å…‰æµæ›´å¼ºï¼Œå› æ­¤å¯¹åŠ¨ä½œè¯†åˆ«æ›´å…·è¾¨åˆ«åŠ›ã€‚</p>
<p>å°ç»“ï¼šDTç®—æ³•ä»‹ç»äº†ä¸€ç§åŸºäºå¯†é›†è½¨è¿¹å’Œè¿åŠ¨è¾¹ç•Œç›´æ–¹å›¾æè¿°å­çš„é«˜æ•ˆè§†é¢‘æè¿°æ–¹æ³•ã€‚<br>è§£å†³äº†ä¸Šä¸€ç¯‡åšå®¢çš„ç–‘é—®ï¼š</p>
<p>å¦‚ä½•å¯¹è¾“å…¥è§†é¢‘è·å¾—å¯†é›†è½¨è¿¹ï¼šå¯†é›†é‡‡æ ·ç‰¹å¾ç‚¹ï¼Œé€šè¿‡è®¡ç®—å¯†é›†å…‰æµåœºå¯¹é‡‡æ ·å¾—åˆ°çš„ç‰¹å¾ç‚¹è¿›è¡Œå¯†é›†è·Ÿè¸ªï¼ˆåŒæ—¶ä¹Ÿè§£å†³äº†å¦å¤–çš„ä¸€ä¸ªç–‘é—®ï¼šä¸ºä»€ä¹ˆåœ¨åŸºäºæ—¶ç©ºä½“æ–¹æ³•åšè½¦è¾†å¼‚å¸¸æ£€æµ‹çš„è®ºæ–‡ä¸­éœ€è¦ä¸¤ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªæ˜¯stvvæ—¶ç©ºè§†é¢‘ä½“ï¼Œä¸€ä¸ªæ˜¯å¯¹åº”çš„å…‰æµåœºï¼Ÿå› ä¸ºå¾—åˆ°å¯†é›†è½¨è¿¹å¯¹å®ƒè·Ÿè¸ªéœ€è¦è®¡ç®—å¯†é›†å…‰æµåœºï¼‰<br>å¯¹è·å¾—çš„å¯†é›†è½¨è¿¹è¿›è¡Œå¤–è§‚å’Œè¿åŠ¨çš„æè¿°ï¼šHOGã€MBHæè¿°å­</p>
]]></content>
      <categories>
        <category>è®ºæ–‡é˜…è¯»</category>
      </categories>
      <tags>
        <tag>è®ºæ–‡é˜…è¯», è®¡ç®—æœºè§†è§‰, è¡Œä¸ºè¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ å·ç§¯ç¥ç»ç½‘ç»œ</title>
    <url>/2024/05/17/13-57-26/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.17ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<p>å†…å®¹åˆ—è¡¨ï¼š</p>
<ul>
<li><strong>ç»“æ„æ¦‚è¿°</strong></li>
<li><p><strong>ç”¨æ¥æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œçš„å„ç§å±‚</strong>  </p>
<ul>
<li>å·ç§¯å±‚</li>
<li>æ±‡èšå±‚</li>
<li>å½’ä¸€åŒ–å±‚</li>
<li>å…¨è¿æ¥å±‚</li>
<li>å°†å…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚</li>
</ul>
</li>
<li><strong>å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„</strong><ul>
<li>å±‚çš„æ’åˆ—è§„å¾‹</li>
<li>å±‚çš„å°ºå¯¸è®¾ç½®è§„å¾‹</li>
<li>æ¡ˆä¾‹å­¦ä¹ ï¼ˆLeNet / AlexNet / ZFNet / GoogLeNet / VGGNetï¼‰</li>
<li>è®¡ç®—ä¸Šçš„è€ƒé‡</li>
</ul>
</li>
<li><strong>æ‹“å±•èµ„æº</strong></li>
</ul>
<h1 id="å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNN-ConvNetï¼‰"><a href="#å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNN-ConvNetï¼‰" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNN / ConvNetï¼‰"></a>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNN / ConvNetï¼‰</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>å·ç§¯ç¥ç»ç½‘ç»œå’Œä¸Šä¸€ç« è®²çš„å¸¸è§„ç¥ç»ç½‘ç»œéå¸¸ç›¸ä¼¼ï¼šå®ƒä»¬éƒ½æ˜¯ç”±ç¥ç»å…ƒç»„æˆï¼Œç¥ç»å…ƒä¸­æœ‰å…·æœ‰å­¦ä¹ èƒ½åŠ›çš„æƒé‡å’Œåå·®ã€‚æ¯ä¸ªç¥ç»å…ƒéƒ½å¾—åˆ°ä¸€äº›è¾“å…¥æ•°æ®ï¼Œè¿›è¡Œå†…ç§¯è¿ç®—åå†è¿›è¡Œæ¿€æ´»å‡½æ•°è¿ç®—ã€‚æ•´ä¸ªç½‘ç»œä¾æ—§æ˜¯ä¸€ä¸ªå¯å¯¼çš„è¯„åˆ†å‡½æ•°ï¼šè¯¥å‡½æ•°çš„è¾“å…¥æ˜¯åŸå§‹çš„å›¾åƒåƒç´ ï¼Œè¾“å‡ºæ˜¯ä¸åŒç±»åˆ«çš„è¯„åˆ†ã€‚åœ¨æœ€åä¸€å±‚ï¼ˆå¾€å¾€æ˜¯å…¨è¿æ¥å±‚ï¼‰ï¼Œç½‘ç»œä¾æ—§æœ‰ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼ˆæ¯”å¦‚SVMæˆ–Softmaxï¼‰ï¼Œå¹¶ä¸”åœ¨ç¥ç»ç½‘ç»œä¸­æˆ‘ä»¬å®ç°çš„å„ç§æŠ€å·§å’Œè¦ç‚¹ä¾æ—§é€‚ç”¨äºå·ç§¯ç¥ç»ç½‘ç»œã€‚</p>
<p>é‚£ä¹ˆæœ‰å“ªäº›åœ°æ–¹å˜åŒ–äº†å‘¢ï¼Ÿå·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„åŸºäºä¸€ä¸ªå‡è®¾ï¼Œå³è¾“å…¥æ•°æ®æ˜¯å›¾åƒï¼ŒåŸºäºè¯¥å‡è®¾ï¼Œæˆ‘ä»¬å°±å‘ç»“æ„ä¸­æ·»åŠ äº†ä¸€äº›ç‰¹æœ‰çš„æ€§è´¨ã€‚è¿™äº›ç‰¹æœ‰å±æ€§ä½¿å¾—å‰å‘ä¼ æ’­å‡½æ•°å®ç°èµ·æ¥æ›´é«˜æ•ˆï¼Œå¹¶ä¸”å¤§å¹…åº¦é™ä½äº†ç½‘ç»œä¸­å‚æ•°çš„æ•°é‡ã€‚</p>
<p>æˆ–è€…è¯´ï¼ŒåŸæ¥çš„æ™®é€šç¥ç»ç½‘ç»œï¼Œå®é™…ä¸Šå‡è®¾äº†æ¨¡å¼ä¹‹é—´ä¸å­˜åœ¨ç»“æ„å’Œäº¤äº’ï¼Œç„¶åæŠŠå›¾åƒå±•å¼€ä¸ºå‘é‡è¿›è¡Œè¾“å…¥çš„ï¼Œè¿™æ ·å°±ä¸¢å¤±äº†å›¾åƒä¸­çš„ç©ºé—´ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç§å¯ä»¥é‡‡é›†ç©ºé—´ä¿¡æ¯çš„æ–¹å¼ </p>
<h2 id="ç»“æ„æ¦‚è¿°"><a href="#ç»“æ„æ¦‚è¿°" class="headerlink" title="ç»“æ„æ¦‚è¿°"></a>ç»“æ„æ¦‚è¿°</h2><p>åœ¨ä¸Šä¸€ç« ä¸­ï¼Œç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯ä¸€ä¸ªå‘é‡ï¼Œç„¶ååœ¨ä¸€ç³»åˆ—çš„éšè—å±‚ä¸­å¯¹å®ƒåšå˜æ¢ã€‚æ¯ä¸ªéšå±‚éƒ½æ˜¯ç”±è‹¥å¹²çš„ç¥ç»å…ƒç»„æˆï¼Œæ¯ä¸ªç¥ç»å…ƒéƒ½ä¸å‰ä¸€å±‚ä¸­çš„æ‰€æœ‰ç¥ç»å…ƒè¿æ¥ã€‚ä½†æ˜¯åœ¨ä¸€ä¸ªéšå±‚ä¸­ï¼Œç¥ç»å…ƒç›¸äº’ç‹¬ç«‹ä¸è¿›è¡Œä»»ä½•è¿æ¥ã€‚æœ€åçš„å…¨è¿æ¥å±‚è¢«ç§°ä¸ºâ€è¾“å‡ºå±‚â€ï¼Œåœ¨åˆ†ç±»é—®é¢˜ä¸­ï¼Œå®ƒè¾“å‡ºçš„å€¼è¢«çœ‹åšæ˜¯ä¸åŒç±»åˆ«çš„è¯„åˆ†å€¼ã€‚</p>
<p>_å¸¸è§„ç¥ç»ç½‘ç»œå¯¹äºå¤§å°ºå¯¸å›¾åƒæ•ˆæœä¸å°½äººæ„_ã€‚åœ¨CIFAR-10ä¸­ï¼Œå›¾åƒçš„å°ºå¯¸æ˜¯32x32x3ï¼ˆå®½é«˜å‡ä¸º32åƒç´ ï¼Œ3ä¸ªé¢œè‰²é€šé“ï¼‰ï¼Œå› æ­¤ï¼Œå¯¹åº”çš„çš„å¸¸è§„ç¥ç»ç½‘ç»œçš„ç¬¬ä¸€ä¸ªéšå±‚ä¸­ï¼Œæ¯ä¸€ä¸ªå•ç‹¬çš„å…¨è¿æ¥ç¥ç»å…ƒå°±æœ‰32x32x3=3072ä¸ªæƒé‡ã€‚è¿™ä¸ªæ•°é‡çœ‹èµ·æ¥è¿˜å¯ä»¥æ¥å—ï¼Œä½†æ˜¯å¾ˆæ˜¾ç„¶è¿™ä¸ªå…¨è¿æ¥çš„ç»“æ„ä¸é€‚ç”¨äºæ›´å¤§å°ºå¯¸çš„å›¾åƒã€‚ä¸¾ä¾‹è¯´æ¥ï¼Œä¸€ä¸ªå°ºå¯¸ä¸º200x200x3çš„å›¾åƒï¼Œä¼šè®©ç¥ç»å…ƒåŒ…å«200x200x3=120,000ä¸ªæƒé‡å€¼ã€‚è€Œç½‘ç»œä¸­è‚¯å®šä¸æ­¢ä¸€ä¸ªç¥ç»å…ƒï¼Œé‚£ä¹ˆå‚æ•°çš„é‡å°±ä¼šå¿«é€Ÿå¢åŠ ï¼æ˜¾è€Œæ˜“è§ï¼Œè¿™ç§å…¨è¿æ¥æ–¹å¼æ•ˆç‡ä½ä¸‹ï¼Œå¤§é‡çš„å‚æ•°ä¹Ÿå¾ˆå¿«ä¼šå¯¼è‡´ç½‘ç»œè¿‡æ‹Ÿåˆã€‚</p>
<p>ç¥ç»å…ƒçš„ä¸‰ç»´æ’åˆ—ã€‚å·ç§¯ç¥ç»ç½‘ç»œé’ˆå¯¹è¾“å…¥å…¨éƒ¨æ˜¯å›¾åƒçš„æƒ…å†µï¼Œå°†ç»“æ„è°ƒæ•´å¾—æ›´åŠ åˆç†ï¼Œè·å¾—äº†ä¸å°çš„ä¼˜åŠ¿ã€‚ä¸å¸¸è§„ç¥ç»ç½‘ç»œä¸åŒï¼Œå·ç§¯ç¥ç»ç½‘ç»œçš„å„å±‚ä¸­çš„ç¥ç»å…ƒæ˜¯3ç»´æ’åˆ—çš„ï¼š<strong>å®½åº¦</strong>ã€<strong>é«˜åº¦</strong>å’Œ<strong>æ·±åº¦</strong>ï¼ˆè¿™é‡Œçš„<strong>æ·±åº¦</strong>æŒ‡çš„æ˜¯æ¿€æ´»æ•°æ®ä½“çš„ç¬¬ä¸‰ä¸ªç»´åº¦ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç½‘ç»œçš„æ·±åº¦ï¼Œæ•´ä¸ªç½‘ç»œçš„æ·±åº¦æŒ‡çš„æ˜¯ç½‘ç»œçš„å±‚æ•°ï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒCIFAR-10ä¸­çš„å›¾åƒæ˜¯ä½œä¸ºå·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œè¯¥æ•°æ®ä½“çš„ç»´åº¦æ˜¯32x32x3ï¼ˆå®½åº¦ï¼Œé«˜åº¦å’Œæ·±åº¦ï¼‰ã€‚æˆ‘ä»¬å°†çœ‹åˆ°ï¼Œå±‚ä¸­çš„ç¥ç»å…ƒå°†åªä¸å‰ä¸€å±‚ä¸­çš„ä¸€å°å—åŒºåŸŸè¿æ¥ï¼Œè€Œä¸æ˜¯é‡‡å–å…¨è¿æ¥æ–¹å¼ã€‚å¯¹äºç”¨æ¥åˆ†ç±»CIFAR-10ä¸­çš„å›¾åƒçš„å·ç§¯ç½‘ç»œï¼Œå…¶æœ€åçš„è¾“å‡ºå±‚çš„ç»´åº¦æ˜¯1x1x10ï¼Œå› ä¸ºåœ¨å·ç§¯ç¥ç»ç½‘ç»œç»“æ„çš„æœ€åéƒ¨åˆ†å°†ä¼šæŠŠå…¨å°ºå¯¸çš„å›¾åƒå‹ç¼©ä¸ºåŒ…å«åˆ†ç±»è¯„åˆ†çš„ä¸€ä¸ªå‘é‡ï¼Œå‘é‡æ˜¯åœ¨æ·±åº¦æ–¹å‘æ’åˆ—çš„ã€‚ä¸‹é¢æ˜¯ä¾‹å­ï¼š</p>
<img src="/2024/05/17/13-57-26/2ef08bb4cf60805d726b2d6db39dd985_b.jpg" class>
<p>å·¦è¾¹æ˜¯ä¸€ä¸ª3å±‚çš„ç¥ç»ç½‘ç»œã€‚å³è¾¹æ˜¯ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œå›¾ä¾‹ä¸­ç½‘ç»œå°†å®ƒçš„ç¥ç»å…ƒéƒ½æ’åˆ—æˆ3ä¸ªç»´åº¦ï¼ˆå®½ã€é«˜å’Œæ·±åº¦ï¼‰ã€‚å·ç§¯ç¥ç»ç½‘ç»œçš„æ¯ä¸€å±‚éƒ½å°†3Dçš„è¾“å…¥æ•°æ®å˜åŒ–ä¸ºç¥ç»å…ƒ3Dçš„æ¿€æ´»æ•°æ®å¹¶è¾“å‡ºã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œçº¢è‰²çš„è¾“å…¥å±‚è£…çš„æ˜¯å›¾åƒï¼Œæ‰€ä»¥å®ƒçš„å®½åº¦å’Œé«˜åº¦å°±æ˜¯å›¾åƒçš„å®½åº¦å’Œé«˜åº¦ï¼Œå®ƒçš„æ·±åº¦æ˜¯3ï¼ˆä»£è¡¨äº†çº¢ã€ç»¿ã€è“3ç§é¢œè‰²é€šé“ï¼‰ã€‚</p>
<blockquote>
<p>å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ç”±å±‚ç»„æˆçš„ã€‚æ¯ä¸€å±‚éƒ½æœ‰ä¸€ä¸ªç®€å•çš„APIï¼šç”¨ä¸€äº›å«æˆ–è€…ä¸å«å‚æ•°çš„å¯å¯¼çš„å‡½æ•°ï¼Œå°†è¾“å…¥çš„3Dæ•°æ®å˜æ¢ä¸º3Dçš„è¾“å‡ºæ•°æ®ã€‚</p>
</blockquote>
<h2 id="ç”¨æ¥æ„å»ºå·ç§¯ç½‘ç»œçš„å„ç§å±‚"><a href="#ç”¨æ¥æ„å»ºå·ç§¯ç½‘ç»œçš„å„ç§å±‚" class="headerlink" title="ç”¨æ¥æ„å»ºå·ç§¯ç½‘ç»œçš„å„ç§å±‚"></a>ç”¨æ¥æ„å»ºå·ç§¯ç½‘ç»œçš„å„ç§å±‚</h2><p>ä¸€ä¸ªç®€å•çš„å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ç”±å„ç§å±‚æŒ‰ç…§é¡ºåºæ’åˆ—ç»„æˆï¼Œç½‘ç»œä¸­çš„æ¯ä¸ªå±‚ä½¿ç”¨ä¸€ä¸ªå¯ä»¥å¾®åˆ†çš„å‡½æ•°å°†æ¿€æ´»æ•°æ®ä»ä¸€ä¸ªå±‚ä¼ é€’åˆ°å¦ä¸€ä¸ªå±‚ã€‚å·ç§¯ç¥ç»ç½‘ç»œä¸»è¦ç”±ä¸‰ç§ç±»å‹çš„å±‚æ„æˆï¼š<strong>å·ç§¯å±‚</strong>ï¼Œ<strong>æ±‡èšï¼ˆPoolingï¼‰å±‚</strong>å’Œ<strong>å…¨è¿æ¥å±‚</strong>ï¼ˆå…¨è¿æ¥å±‚å’Œå¸¸è§„ç¥ç»ç½‘ç»œä¸­çš„ä¸€æ ·ï¼‰ã€‚é€šè¿‡å°†è¿™äº›å±‚å åŠ èµ·æ¥ï¼Œå°±å¯ä»¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„å·ç§¯ç¥ç»ç½‘ç»œã€‚</p>
<p>ç½‘ç»œç»“æ„ä¾‹å­ï¼šè¿™ä»…ä»…æ˜¯ä¸ªæ¦‚è¿°ï¼Œä¸‹é¢ä¼šæ›´è¯¦è§£çš„ä»‹ç»ç»†èŠ‚ã€‚ä¸€ä¸ªç”¨äºCIFAR-10å›¾åƒæ•°æ®åˆ†ç±»çš„å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„å¯ä»¥æ˜¯[è¾“å…¥å±‚-å·ç§¯å±‚-ReLUå±‚-æ±‡èšå±‚-å…¨è¿æ¥å±‚]ã€‚ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¾“å…¥[32x32x3]å­˜æœ‰å›¾åƒçš„åŸå§‹åƒç´ å€¼ï¼Œæœ¬ä¾‹ä¸­å›¾åƒå®½é«˜å‡ä¸º32ï¼Œæœ‰3ä¸ªé¢œè‰²é€šé“ã€‚  </li>
<li>å·ç§¯å±‚ä¸­ï¼Œç¥ç»å…ƒä¸è¾“å…¥å±‚ä¸­çš„ä¸€ä¸ªå±€éƒ¨åŒºåŸŸç›¸è¿ï¼Œæ¯ä¸ªç¥ç»å…ƒéƒ½è®¡ç®—è‡ªå·±ä¸è¾“å…¥å±‚ç›¸è¿çš„å°åŒºåŸŸä¸è‡ªå·±æƒé‡çš„å†…ç§¯<strong>ï¼ˆè¿™ä¸ªå†…ç§¯ä½œä¸ºå…ƒç´ ç»„æˆä¸‹ä¸€å¼ ç‰¹å¾å›¾ï¼Œå…¶å«ä¹‰ä¸ºä¸æ¨¡ç‰ˆåŒ¹é…çš„ç¨‹åº¦ï¼‰</strong>ï¼ŒåŒæ—¶æ¯ä¸ªå·ç§¯æ ¸éƒ½æœ‰ä¸€ä¸ªåå·®é¡¹ã€‚å·ç§¯å±‚ä¼šè®¡ç®—æ‰€æœ‰ç¥ç»å…ƒçš„è¾“å‡ºã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨12ä¸ªæ»¤æ³¢å™¨ï¼ˆä¹Ÿå«ä½œæ ¸ï¼‰ï¼Œå¾—åˆ°çš„è¾“å‡ºæ•°æ®ä½“çš„ç»´åº¦å°±æ˜¯[32x32x12]ã€‚  </li>
<li>ReLUå±‚å°†ä¼šé€ä¸ªå…ƒç´ åœ°è¿›è¡Œæ¿€æ´»å‡½æ•°æ“ä½œï¼Œæ¯”å¦‚ä½¿ç”¨ä»¥0ä¸ºé˜ˆå€¼çš„$max(0,x)$ä½œä¸ºæ¿€æ´»å‡½æ•°ã€‚è¯¥å±‚å¯¹æ•°æ®å°ºå¯¸æ²¡æœ‰æ”¹å˜ï¼Œè¿˜æ˜¯[32x32x12]ã€‚  </li>
<li>æ±‡èšå±‚åœ¨åœ¨ç©ºé—´ç»´åº¦ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰ä¸Šè¿›è¡Œé™é‡‡æ ·ï¼ˆdownsamplingï¼‰æ“ä½œï¼Œæ•°æ®å°ºå¯¸å˜ä¸º[16x16x12]ã€‚  </li>
<li>å…¨è¿æ¥å±‚å°†ä¼šè®¡ç®—åˆ†ç±»è¯„åˆ†ï¼Œæ•°æ®å°ºå¯¸å˜ä¸º[1x1x10]ï¼Œå…¶ä¸­10ä¸ªæ•°å­—å¯¹åº”çš„å°±æ˜¯CIFAR-10ä¸­10ä¸ªç±»åˆ«çš„åˆ†ç±»è¯„åˆ†å€¼ã€‚æ­£å¦‚å…¶åï¼Œå…¨è¿æ¥å±‚ä¸å¸¸è§„ç¥ç»ç½‘ç»œä¸€æ ·ï¼Œå…¶ä¸­æ¯ä¸ªç¥ç»å…ƒéƒ½ä¸å‰ä¸€å±‚ä¸­æ‰€æœ‰ç¥ç»å…ƒç›¸è¿æ¥ã€‚</li>
</ul>
<p>ç”±æ­¤çœ‹æ¥ï¼Œå·ç§¯ç¥ç»ç½‘ç»œä¸€å±‚ä¸€å±‚åœ°å°†å›¾åƒä»åŸå§‹åƒç´ å€¼å˜æ¢æˆæœ€ç»ˆçš„åˆ†ç±»è¯„åˆ†å€¼ã€‚å…¶ä¸­æœ‰çš„å±‚å«æœ‰å‚æ•°ï¼Œæœ‰çš„æ²¡æœ‰ã€‚å…·ä½“è¯´æ¥ï¼Œå·ç§¯å±‚å’Œå…¨è¿æ¥å±‚ï¼ˆCONV/FCï¼‰å¯¹è¾“å…¥æ‰§è¡Œå˜æ¢æ“ä½œçš„æ—¶å€™ï¼Œä¸ä»…ä¼šç”¨åˆ°æ¿€æ´»å‡½æ•°ï¼Œè¿˜ä¼šç”¨åˆ°å¾ˆå¤šå‚æ•°ï¼ˆç¥ç»å…ƒçš„çªè§¦æƒå€¼å’Œåå·®ï¼‰ã€‚è€ŒReLUå±‚å’Œæ±‡èšå±‚åˆ™æ˜¯è¿›è¡Œä¸€ä¸ªå›ºå®šä¸å˜çš„å‡½æ•°æ“ä½œã€‚å·ç§¯å±‚å’Œå…¨è¿æ¥å±‚ä¸­çš„å‚æ•°ä¼šéšç€æ¢¯åº¦ä¸‹é™è¢«è®­ç»ƒï¼Œè¿™æ ·å·ç§¯ç¥ç»ç½‘ç»œè®¡ç®—å‡ºçš„åˆ†ç±»è¯„åˆ†å°±èƒ½å’Œè®­ç»ƒé›†ä¸­çš„æ¯ä¸ªå›¾åƒçš„æ ‡ç­¾å»åˆäº†ã€‚</p>
<p><strong>å°ç»“</strong>ï¼š</p>
<ul>
<li>ç®€å•æ¡ˆä¾‹ä¸­å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„ï¼Œå°±æ˜¯ä¸€ç³»åˆ—çš„å±‚å°†è¾“å…¥æ•°æ®å˜æ¢ä¸ºè¾“å‡ºæ•°æ®ï¼ˆæ¯”å¦‚åˆ†ç±»è¯„åˆ†ï¼‰ã€‚  </li>
<li>å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ä¸­æœ‰å‡ ç§ä¸åŒç±»å‹çš„å±‚ï¼ˆç›®å‰æœ€æµè¡Œçš„æœ‰å·ç§¯å±‚ã€å…¨è¿æ¥å±‚ã€ReLUå±‚å’Œæ±‡èšå±‚ï¼‰ã€‚  </li>
<li>æ¯ä¸ªå±‚çš„è¾“å…¥æ˜¯3Dæ•°æ®ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå¯å¯¼çš„å‡½æ•°å°†å…¶å˜æ¢ä¸º3Dçš„è¾“å‡ºæ•°æ®ã€‚  </li>
<li>æœ‰çš„å±‚æœ‰å‚æ•°ï¼Œæœ‰çš„æ²¡æœ‰ï¼ˆå·ç§¯å±‚å’Œå…¨è¿æ¥å±‚æœ‰ï¼ŒReLUå±‚å’Œæ±‡èšå±‚æ²¡æœ‰ï¼‰ã€‚</li>
<li>æœ‰çš„å±‚æœ‰é¢å¤–çš„è¶…å‚æ•°ï¼Œæœ‰çš„æ²¡æœ‰ï¼ˆå·ç§¯å±‚ã€å…¨è¿æ¥å±‚å’Œæ±‡èšå±‚æœ‰ï¼ŒReLUå±‚æ²¡æœ‰ï¼‰ã€‚</li>
</ul>
<img src="/2024/05/17/13-57-26/d9259be829b1cdb3d98a399ebc56defa_b.jpg" class>
<p>ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œçš„æ¿€æ´»è¾“å‡ºä¾‹å­ã€‚å·¦è¾¹çš„è¾“å…¥å±‚å­˜æœ‰åŸå§‹å›¾åƒåƒç´ ï¼Œå³è¾¹çš„è¾“å‡ºå±‚å­˜æœ‰ç±»åˆ«åˆ†ç±»è¯„åˆ†ã€‚åœ¨å¤„ç†æµç¨‹ä¸­çš„æ¯ä¸ªæ¿€æ´»æ•°æ®ä½“æ˜¯é“ºæˆä¸€åˆ—æ¥å±•ç¤ºçš„ã€‚å› ä¸ºå¯¹3Dæ•°æ®ä½œå›¾æ¯”è¾ƒå›°éš¾ï¼Œæˆ‘ä»¬å°±æŠŠæ¯ä¸ªæ•°æ®ä½“åˆ‡æˆå±‚ï¼Œç„¶åé“ºæˆä¸€åˆ—æ˜¾ç¤ºã€‚æœ€åä¸€å±‚è£…çš„æ˜¯é’ˆå¯¹ä¸åŒç±»åˆ«çš„åˆ†ç±»å¾—åˆ†ï¼Œè¿™é‡Œåªæ˜¾ç¤ºäº†å¾—åˆ†æœ€é«˜çš„5ä¸ªè¯„åˆ†å€¼å’Œå¯¹åº”çš„ç±»åˆ«ã€‚æœ¬ä¾‹ä¸­çš„ç»“æ„æ˜¯ä¸€ä¸ªå°çš„VGGç½‘ç»œï¼ŒVGGç½‘ç»œåé¢ä¼šæœ‰è®¨è®ºã€‚</p>
<p>ç°åœ¨è®²è§£ä¸åŒçš„å±‚ï¼Œå±‚çš„è¶…å‚æ•°å’Œè¿æ¥æƒ…å†µçš„ç»†èŠ‚ã€‚</p>
<h4 id="å·ç§¯å±‚"><a href="#å·ç§¯å±‚" class="headerlink" title="å·ç§¯å±‚"></a>å·ç§¯å±‚</h4><p>å·ç§¯å±‚æ˜¯æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒå±‚ï¼Œå®ƒäº§ç”Ÿäº†ç½‘ç»œä¸­å¤§éƒ¨åˆ†çš„è®¡ç®—é‡ã€‚</p>
<h5 id="å·ç§¯æ“ä½œ"><a href="#å·ç§¯æ“ä½œ" class="headerlink" title="å·ç§¯æ“ä½œ"></a>å·ç§¯æ“ä½œ</h5><p>ä¸€æ¬¡å·ç§¯æ“ä½œï¼Œç¤ºæ„å›¾å¦‚ä¸‹</p>
<img src="/2024/05/17/13-57-26/15.jpg" class>
<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå·ç§¯æ ¸æˆ–è€…è¿‡æ»¤å™¨ï¼Œè¿›è¡Œå·ç§¯æ“ä½œï¼Œå¹¶ä¸”å°†è¾“å‡ºç»“æœç»„æˆä¸€ä¸ªç‰¹å¾å›¾ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯çº¿æ€§çš„ï¼Œä¸€ä¸ªæ ¸å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œè¾“å‡ºç»“æœå°±æ˜¯è¿™å—å›¾åƒä¸æ¨¡ç‰ˆçš„åŒ¹é…ç¨‹åº¦</p>
<p>å®é™…ä¸Šï¼Œä¸€ä¸ªå·ç§¯æ ¸æ˜¯ä¸å¤Ÿçš„ï¼Œä¼šå­˜åœ¨å¤šä¸ªå·ç§¯æ ¸ï¼Œå¹¶ä¸”ä»¥å¤šç»´å¼ é‡çš„å½¢å¼è¡¨ç¤º</p>
<img src="/2024/05/17/13-57-26/17.jpg" class>
<p>è¿™é‡Œæœ‰å…­ä¸ªå·ç§¯æ ¸ï¼Œæ‰€ä»¥å·ç§¯æ ¸ä¸ºä¸€ä¸ªå››ç»´å¼ é‡ï¼Œæ¯ä¸ªå·ç§¯æ ¸å¤§å°ä¸º3*5*5</p>
<img src="/2024/05/17/13-57-26/23.jpg" class>
<p>å¦‚æœæˆ‘ä»¬è¿›è¡Œå¤šæ¬¡å·ç§¯æ“ä½œï¼Œé‚£ä¹ˆä¸€å¼ 3*32*32çš„å›¾ç‰‡ï¼Œç»è¿‡å¤§å°ä¸º6*3*5*5çš„å·ç§¯æ ¸å·ç§¯ï¼Œå°±å¾—åˆ°å…­å¼ ç‰¹å¾å›¾ï¼Œå¤§å°ä¸º6*28*28</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥è¿™æ ·æ“ä½œï¼Œå› ä¸ºå®é™…ä¸Šå·ç§¯æ˜¯çº¿æ€§æ“ä½œï¼Œå¤šä¸ªå·ç§¯ä»ç„¶æ˜¯çº¿æ€§ç½‘ç»œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ ä¸Šæ¿€æ´»å‡½æ•°ï¼Œè¿™æ ·æ‰å¯ä»¥æ›´å¥½çš„å­¦ä¹ </p>
<img src="/2024/05/17/13-57-26/25.jpg" class>
<p>å·ç§¯ç¥ç»ç½‘ç»œçš„æ ¸å¿ƒä¾ç„¶æ˜¯å­¦ä¹ æ¨¡æ¿ï¼Œåªä¸è¿‡æ˜¯åˆ†å±‚å­¦ä¹ ï¼Œä¸åŒå±‚çš„ç½‘ç»œå­¦ä¹ ä¸åŒçš„æ¨¡æ¿ï¼Œç¬¬ä¸€å±‚å­¦ä¹ ä¸€äº›å±€éƒ¨çš„æ¨¡æ¿ï¼ˆæ¯”å¦‚è¯´ç‰¹å®šè¾¹ç¼˜ï¼‰ï¼Œ</p>
<p><strong>æ¦‚è¿°å’Œç›´è§‚ä»‹ç»</strong>ï¼šé¦–å…ˆè®¨è®ºçš„æ˜¯ï¼Œåœ¨æ²¡æœ‰å¤§è„‘å’Œç”Ÿç‰©æ„ä¹‰ä¸Šçš„ç¥ç»å…ƒä¹‹ç±»çš„æ¯”å–»ä¸‹ï¼Œå·ç§¯å±‚åˆ°åº•åœ¨è®¡ç®—ä»€ä¹ˆã€‚å·ç§¯å±‚çš„å‚æ•°æ˜¯æœ‰ä¸€äº›å¯å­¦ä¹ çš„æ»¤æ³¢å™¨é›†åˆæ„æˆçš„ã€‚æ¯ä¸ªæ»¤æ³¢å™¨åœ¨ç©ºé—´ä¸Šï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰éƒ½æ¯”è¾ƒå°ï¼Œä½†æ˜¯æ·±åº¦å’Œè¾“å…¥æ•°æ®ä¸€è‡´ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå·ç§¯ç¥ç»ç½‘ç»œç¬¬ä¸€å±‚çš„ä¸€ä¸ªå…¸å‹çš„æ»¤æ³¢å™¨çš„å°ºå¯¸å¯ä»¥æ˜¯5x5x3ï¼ˆå®½é«˜éƒ½æ˜¯5åƒç´ ï¼Œæ·±åº¦æ˜¯3æ˜¯å› ä¸ºå›¾åƒåº”ä¸ºé¢œè‰²é€šé“ï¼Œæ‰€ä»¥æœ‰3çš„æ·±åº¦ï¼‰ã€‚åœ¨å‰å‘ä¼ æ’­çš„æ—¶å€™ï¼Œè®©æ¯ä¸ªæ»¤æ³¢å™¨éƒ½åœ¨è¾“å…¥æ•°æ®çš„å®½åº¦å’Œé«˜åº¦ä¸Šæ»‘åŠ¨ï¼ˆæ›´ç²¾ç¡®åœ°è¯´æ˜¯å·ç§¯ï¼‰ï¼Œç„¶åè®¡ç®—æ•´ä¸ªæ»¤æ³¢å™¨å’Œè¾“å…¥æ•°æ®ä»»ä¸€å¤„çš„å†…ç§¯ã€‚å½“æ»¤æ³¢å™¨æ²¿ç€è¾“å…¥æ•°æ®çš„å®½åº¦å’Œé«˜åº¦æ»‘è¿‡åï¼Œä¼šç”Ÿæˆä¸€ä¸ª2ç»´çš„æ¿€æ´»å›¾ï¼ˆactivation mapï¼‰ï¼Œæ¿€æ´»å›¾ç»™å‡ºäº†åœ¨æ¯ä¸ªç©ºé—´ä½ç½®å¤„æ»¤æ³¢å™¨çš„ååº”ã€‚ç›´è§‚åœ°æ¥è¯´ï¼Œç½‘ç»œä¼šè®©æ»¤æ³¢å™¨å­¦ä¹ åˆ°å½“å®ƒçœ‹åˆ°æŸäº›ç±»å‹çš„è§†è§‰ç‰¹å¾æ—¶å°±æ¿€æ´»ï¼Œå…·ä½“çš„è§†è§‰ç‰¹å¾å¯èƒ½æ˜¯æŸäº›æ–¹ä½ä¸Šçš„è¾¹ç•Œï¼Œæˆ–è€…åœ¨ç¬¬ä¸€å±‚ä¸ŠæŸäº›é¢œè‰²çš„æ–‘ç‚¹ï¼Œç”šè‡³å¯ä»¥æ˜¯ç½‘ç»œæ›´é«˜å±‚ä¸Šçš„èœ‚å·¢çŠ¶æˆ–è€…è½¦è½®çŠ¶å›¾æ¡ˆã€‚</p>
<p>åœ¨æ¯ä¸ªå·ç§¯å±‚ä¸Šï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€æ•´ä¸ªé›†åˆçš„æ»¤æ³¢å™¨ï¼ˆæ¯”å¦‚12ä¸ªï¼‰ï¼Œæ¯ä¸ªéƒ½ä¼šç”Ÿæˆä¸€ä¸ªä¸åŒçš„äºŒç»´æ¿€æ´»å›¾ã€‚å°†è¿™äº›æ¿€æ´»æ˜ å°„åœ¨æ·±åº¦æ–¹å‘ä¸Šå±‚å èµ·æ¥å°±ç”Ÿæˆäº†è¾“å‡ºæ•°æ®ã€‚</p>
<p><strong>ä»¥å¤§è„‘åšæ¯”å–»</strong>ï¼šå¦‚æœä½ å–œæ¬¢ç”¨å¤§è„‘å’Œç”Ÿç‰©ç¥ç»å…ƒæ¥åšæ¯”å–»ï¼Œé‚£ä¹ˆè¾“å‡ºçš„3Dæ•°æ®ä¸­çš„æ¯ä¸ªæ•°æ®é¡¹å¯ä»¥è¢«çœ‹åšæ˜¯ç¥ç»å…ƒçš„ä¸€ä¸ªè¾“å‡ºï¼Œè€Œè¯¥ç¥ç»å…ƒåªè§‚å¯Ÿè¾“å…¥æ•°æ®ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œå¹¶ä¸”å’Œç©ºé—´ä¸Šå·¦å³ä¸¤è¾¹çš„æ‰€æœ‰ç¥ç»å…ƒå…±äº«å‚æ•°ï¼ˆå› ä¸ºè¿™äº›æ•°å­—éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªæ»¤æ³¢å™¨å¾—åˆ°çš„ç»“æœï¼‰ã€‚ç°åœ¨å¼€å§‹è®¨è®ºç¥ç»å…ƒçš„è¿æ¥ï¼Œå®ƒä»¬åœ¨ç©ºé—´ä¸­çš„æ’åˆ—ï¼Œä»¥åŠå®ƒä»¬å‚æ•°å…±äº«çš„æ¨¡å¼ã€‚  </p>
<p><strong>å±€éƒ¨è¿æ¥</strong>ï¼šåœ¨å¤„ç†å›¾åƒè¿™æ ·çš„é«˜ç»´åº¦è¾“å…¥æ—¶ï¼Œè®©æ¯ä¸ªç¥ç»å…ƒéƒ½ä¸å‰ä¸€å±‚ä¸­çš„æ‰€æœ‰ç¥ç»å…ƒè¿›è¡Œå…¨è¿æ¥æ˜¯ä¸ç°å®çš„ã€‚ç›¸åï¼Œæˆ‘ä»¬è®©æ¯ä¸ªç¥ç»å…ƒåªä¸è¾“å…¥æ•°æ®çš„ä¸€ä¸ªå±€éƒ¨åŒºåŸŸè¿æ¥ã€‚è¯¥è¿æ¥çš„ç©ºé—´å¤§å°å«åšç¥ç»å…ƒçš„<strong>æ„Ÿå—é‡ï¼ˆreceptive fieldï¼‰</strong>ï¼Œå®ƒçš„å°ºå¯¸æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼ˆå…¶å®å°±æ˜¯æ»¤æ³¢å™¨çš„ç©ºé—´å°ºå¯¸ï¼‰ã€‚åœ¨æ·±åº¦æ–¹å‘ä¸Šï¼Œè¿™ä¸ªè¿æ¥çš„å¤§å°æ€»æ˜¯å’Œè¾“å…¥é‡çš„æ·±åº¦ç›¸ç­‰ã€‚éœ€è¦å†æ¬¡å¼ºè°ƒçš„æ˜¯ï¼Œæˆ‘ä»¬å¯¹å¾…ç©ºé—´ç»´åº¦ï¼ˆå®½å’Œé«˜ï¼‰ä¸æ·±åº¦ç»´åº¦æ˜¯ä¸åŒçš„ï¼šè¿æ¥åœ¨ç©ºé—´ï¼ˆå®½é«˜ï¼‰ä¸Šæ˜¯å±€éƒ¨çš„ï¼Œä½†æ˜¯åœ¨æ·±åº¦ä¸Šæ€»æ˜¯å’Œè¾“å…¥æ•°æ®çš„æ·±åº¦ä¸€è‡´ã€‚</p>
<p>_ä¾‹1_ï¼šå‡è®¾è¾“å…¥æ•°æ®ä½“å°ºå¯¸ä¸º[32x32x3]ï¼ˆæ¯”å¦‚CIFAR-10çš„RGBå›¾åƒï¼‰ï¼Œå¦‚æœæ„Ÿå—é‡ï¼ˆæˆ–æ»¤æ³¢å™¨å°ºå¯¸ï¼‰æ˜¯5x5ï¼Œé‚£ä¹ˆå·ç§¯å±‚ä¸­çš„æ¯ä¸ªç¥ç»å…ƒä¼šæœ‰è¾“å…¥æ•°æ®ä½“ä¸­[5x5x3]åŒºåŸŸçš„æƒé‡ï¼Œå…±5x5x3=75ä¸ªæƒé‡ï¼ˆè¿˜è¦åŠ ä¸€ä¸ªåå·®å‚æ•°ï¼‰ã€‚æ³¨æ„è¿™ä¸ªè¿æ¥åœ¨æ·±åº¦ç»´åº¦ä¸Šçš„å¤§å°å¿…é¡»ä¸º3ï¼Œå’Œè¾“å…¥æ•°æ®ä½“çš„æ·±åº¦ä¸€è‡´ã€‚</p>
<p>_ä¾‹2_ï¼šå‡è®¾è¾“å…¥æ•°æ®ä½“çš„å°ºå¯¸æ˜¯[16x16x20]ï¼Œæ„Ÿå—é‡å°ºå¯¸æ˜¯3x3ï¼Œé‚£ä¹ˆå·ç§¯å±‚ä¸­æ¯ä¸ªç¥ç»å…ƒå’Œè¾“å…¥æ•°æ®ä½“å°±æœ‰3x3x20=180ä¸ªè¿æ¥ã€‚å†æ¬¡æç¤ºï¼šåœ¨ç©ºé—´ä¸Šè¿æ¥æ˜¯å±€éƒ¨çš„ï¼ˆ3x3ï¼‰ï¼Œä½†æ˜¯åœ¨æ·±åº¦ä¸Šæ˜¯å’Œè¾“å…¥æ•°æ®ä½“ä¸€è‡´çš„ï¼ˆ20ï¼‰ã€‚</p>
<img src="/2024/05/17/13-57-26/ba9dcfa847a71cb695c2653230ea9147_b.jpg" class>
<p><strong>å·¦è¾¹</strong>ï¼šçº¢è‰²çš„æ˜¯è¾“å…¥æ•°æ®ä½“ï¼ˆæ¯”å¦‚CIFAR-10ä¸­çš„å›¾åƒï¼‰ï¼Œè“è‰²çš„éƒ¨åˆ†æ˜¯ç¬¬ä¸€ä¸ªå·ç§¯å±‚ä¸­çš„ç¥ç»å…ƒã€‚å·ç§¯å±‚ä¸­çš„æ¯ä¸ªç¥ç»å…ƒéƒ½åªæ˜¯ä¸è¾“å…¥æ•°æ®ä½“çš„ä¸€ä¸ªå±€éƒ¨åœ¨ç©ºé—´ä¸Šç›¸è¿ï¼Œä½†æ˜¯ä¸è¾“å…¥æ•°æ®ä½“çš„æ‰€æœ‰æ·±åº¦ç»´åº¦å…¨éƒ¨ç›¸è¿ï¼ˆæ‰€æœ‰é¢œè‰²é€šé“ï¼‰ã€‚åœ¨æ·±åº¦æ–¹å‘ä¸Šæœ‰å¤šä¸ªç¥ç»å…ƒï¼ˆæœ¬ä¾‹ä¸­5ä¸ªï¼‰ï¼Œå®ƒä»¬éƒ½æ¥å—è¾“å…¥æ•°æ®çš„åŒä¸€å—åŒºåŸŸï¼ˆ<strong>æ„Ÿå—é‡</strong>ç›¸åŒï¼‰ã€‚è‡³äºæ·±åº¦åˆ—çš„è®¨è®ºåœ¨ä¸‹æ–‡ä¸­æœ‰ã€‚</p>
<p><strong>å³è¾¹</strong>ï¼šç¥ç»ç½‘ç»œç« èŠ‚ä¸­ä»‹ç»çš„ç¥ç»å…ƒä¿æŒä¸å˜ï¼Œå®ƒä»¬è¿˜æ˜¯è®¡ç®—æƒé‡å’Œè¾“å…¥çš„å†…ç§¯ï¼Œç„¶åè¿›è¡Œæ¿€æ´»å‡½æ•°è¿ç®—ï¼Œåªæ˜¯å®ƒä»¬çš„è¿æ¥è¢«é™åˆ¶åœ¨ä¸€ä¸ªå±€éƒ¨ç©ºé—´ã€‚</p>
<p><strong>ç©ºé—´æ’åˆ—</strong>ï¼šä¸Šæ–‡è®²è§£äº†å·ç§¯å±‚ä¸­æ¯ä¸ªç¥ç»å…ƒä¸è¾“å…¥æ•°æ®ä½“ä¹‹é—´çš„è¿æ¥æ–¹å¼ï¼Œä½†æ˜¯å°šæœªè®¨è®ºè¾“å‡ºæ•°æ®ä½“ä¸­ç¥ç»å…ƒçš„æ•°é‡ï¼Œä»¥åŠå®ƒä»¬çš„æ’åˆ—æ–¹å¼ã€‚3ä¸ªè¶…å‚æ•°æ§åˆ¶ç€è¾“å‡ºæ•°æ®ä½“çš„å°ºå¯¸ï¼š<strong>æ·±åº¦ï¼ˆdepthï¼‰ï¼Œæ­¥é•¿ï¼ˆstrideï¼‰</strong>å’Œ<strong>é›¶å¡«å……ï¼ˆzero-paddingï¼‰</strong>ã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„è®¨è®ºï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œè¾“å‡ºæ•°æ®ä½“çš„æ·±åº¦æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼šå®ƒå’Œä½¿ç”¨çš„æ»¤æ³¢å™¨çš„æ•°é‡ä¸€è‡´ï¼Œè€Œæ¯ä¸ªæ»¤æ³¢å™¨åœ¨è¾“å…¥æ•°æ®ä¸­å¯»æ‰¾ä¸€äº›ä¸åŒçš„ä¸œè¥¿ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå·ç§¯å±‚çš„è¾“å…¥æ˜¯åŸå§‹å›¾åƒï¼Œé‚£ä¹ˆåœ¨æ·±åº¦ç»´åº¦ä¸Šçš„ä¸åŒç¥ç»å…ƒå°†å¯èƒ½è¢«ä¸åŒæ–¹å‘çš„è¾¹ç•Œï¼Œæˆ–è€…æ˜¯é¢œè‰²æ–‘ç‚¹æ¿€æ´»ã€‚æˆ‘ä»¬å°†è¿™äº›æ²¿ç€æ·±åº¦æ–¹å‘æ’åˆ—ã€æ„Ÿå—é‡ç›¸åŒçš„ç¥ç»å…ƒé›†åˆç§°ä¸º<strong>æ·±åº¦åˆ—ï¼ˆdepth columnï¼‰</strong>ï¼Œä¹Ÿæœ‰äººä½¿ç”¨çº¤ç»´ï¼ˆfibreï¼‰æ¥ç§°å‘¼å®ƒä»¬ã€‚</li>
<li>å…¶æ¬¡ï¼Œåœ¨æ»‘åŠ¨æ»¤æ³¢å™¨çš„æ—¶å€™ï¼Œå¿…é¡»æŒ‡å®šæ­¥é•¿ã€‚å½“æ­¥é•¿ä¸º1ï¼Œæ»¤æ³¢å™¨æ¯æ¬¡ç§»åŠ¨1ä¸ªåƒç´ ã€‚å½“æ­¥é•¿ä¸º2ï¼ˆæˆ–è€…ä¸å¸¸ç”¨çš„3ï¼Œæˆ–è€…æ›´å¤šï¼Œè¿™äº›åœ¨å®é™…ä¸­å¾ˆå°‘ä½¿ç”¨ï¼‰ï¼Œæ»¤æ³¢å™¨æ»‘åŠ¨æ—¶æ¯æ¬¡ç§»åŠ¨2ä¸ªåƒç´ ã€‚è¿™ä¸ªæ“ä½œä¼šè®©è¾“å‡ºæ•°æ®ä½“åœ¨ç©ºé—´ä¸Šå˜å°ã€‚</li>
<li>åœ¨ä¸‹æ–‡å¯ä»¥çœ‹åˆ°ï¼Œæœ‰æ—¶å€™å°†è¾“å…¥æ•°æ®ä½“ç”¨0åœ¨è¾¹ç¼˜å¤„è¿›è¡Œå¡«å……æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚è¿™ä¸ª<strong>é›¶å¡«å……ï¼ˆzero-paddingï¼‰</strong>çš„å°ºå¯¸æ˜¯ä¸€ä¸ªè¶…å‚æ•°ã€‚é›¶å¡«å……æœ‰ä¸€ä¸ªè‰¯å¥½æ€§è´¨ï¼Œå³å¯ä»¥æ§åˆ¶è¾“å‡ºæ•°æ®ä½“çš„ç©ºé—´å°ºå¯¸ï¼ˆæœ€å¸¸ç”¨çš„æ˜¯ç”¨æ¥ä¿æŒè¾“å…¥æ•°æ®ä½“åœ¨ç©ºé—´ä¸Šçš„å°ºå¯¸ï¼Œè¿™æ ·è¾“å…¥å’Œè¾“å‡ºçš„å®½é«˜éƒ½ç›¸ç­‰ï¼‰ã€‚  </li>
</ol>
<p>è¾“å‡ºæ•°æ®ä½“åœ¨ç©ºé—´ä¸Šçš„å°ºå¯¸å¯ä»¥é€šè¿‡è¾“å…¥æ•°æ®ä½“å°ºå¯¸ï¼ˆWï¼‰ï¼Œå·ç§¯å±‚ä¸­ç¥ç»å…ƒçš„æ„Ÿå—é‡å°ºå¯¸ï¼ˆFï¼‰ï¼Œæ­¥é•¿ï¼ˆSï¼‰å’Œé›¶å¡«å……çš„æ•°é‡ï¼ˆPï¼‰çš„å‡½æ•°æ¥è®¡ç®—ã€‚ï¼ˆè¿™é‡Œå‡è®¾è¾“å…¥æ•°ç»„çš„ç©ºé—´å½¢çŠ¶æ˜¯æ­£æ–¹å½¢ï¼Œå³é«˜åº¦å’Œå®½åº¦ç›¸ç­‰ï¼‰è¾“å‡ºæ•°æ®ä½“çš„ç©ºé—´å°ºå¯¸ä¸º(W-F +2P)/S+1ã€‚æ¯”å¦‚è¾“å…¥æ˜¯7x7ï¼Œæ»¤æ³¢å™¨æ˜¯3x3ï¼Œæ­¥é•¿ä¸º1ï¼Œå¡«å……ä¸º0ï¼Œé‚£ä¹ˆå°±èƒ½å¾—åˆ°ä¸€ä¸ª5x5çš„è¾“å‡ºã€‚å¦‚æœæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°±æ˜¯3x3ã€‚ä¸‹é¢æ˜¯ä¾‹å­ï¼š</p>
<img src="/2024/05/17/13-57-26/90af0bd67ba498239688c81fd61bbc66_b.jpg" class>
<p>ç©ºé—´æ’åˆ—çš„å›¾ç¤ºã€‚åœ¨æœ¬ä¾‹ä¸­åªæœ‰ä¸€ä¸ªç©ºé—´ç»´åº¦ï¼ˆxè½´ï¼‰ï¼Œç¥ç»å…ƒçš„æ„Ÿå—é‡å°ºå¯¸F=3ï¼Œè¾“å…¥å°ºå¯¸W=5ï¼Œé›¶å¡«å……P=1ã€‚å·¦è¾¹ï¼šç¥ç»å…ƒä½¿ç”¨çš„æ­¥é•¿S=1ï¼Œæ‰€ä»¥è¾“å‡ºå°ºå¯¸æ˜¯(5-3+2)/1+1=5ã€‚å³è¾¹ï¼šç¥ç»å…ƒçš„æ­¥é•¿S=2ï¼Œåˆ™è¾“å‡ºå°ºå¯¸æ˜¯(5-3+2)/2+1=3ã€‚æ³¨æ„å½“æ­¥é•¿S=3æ—¶æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œå› ä¸ºå®ƒæ— æ³•æ•´é½åœ°ç©¿è¿‡æ•°æ®ä½“ã€‚ä»ç­‰å¼ä¸Šæ¥è¯´ï¼Œå› ä¸º(5-3+2)=4æ˜¯ä¸èƒ½è¢«3æ•´é™¤çš„ã€‚</p>
<p>æœ¬ä¾‹ä¸­ï¼Œç¥ç»å…ƒçš„æƒé‡æ˜¯[1,0,-1]ï¼Œæ˜¾ç¤ºåœ¨å›¾çš„å³ä¸Šè§’ï¼Œåå·®å€¼ä¸º0ã€‚è¿™äº›æƒé‡æ˜¯è¢«æ‰€æœ‰é»„è‰²çš„ç¥ç»å…ƒå…±äº«çš„ï¼ˆå‚æ•°å…±äº«çš„å†…å®¹çœ‹ä¸‹æ–‡ç›¸å…³å†…å®¹ï¼‰ã€‚</p>
<h5 id="ä½¿ç”¨é›¶å¡«å……"><a href="#ä½¿ç”¨é›¶å¡«å……" class="headerlink" title="ä½¿ç”¨é›¶å¡«å……"></a>ä½¿ç”¨é›¶å¡«å……</h5><p>åœ¨ä¸Šé¢å·¦è¾¹ä¾‹å­ä¸­ï¼Œæ³¨æ„è¾“å…¥ç»´åº¦æ˜¯5ï¼Œè¾“å‡ºç»´åº¦ä¹Ÿæ˜¯5ã€‚ä¹‹æ‰€ä»¥å¦‚æ­¤ï¼Œæ˜¯å› ä¸ºæ„Ÿå—é‡æ˜¯3å¹¶ä¸”ä½¿ç”¨äº†1çš„é›¶å¡«å……ã€‚å¦‚æœä¸ä½¿ç”¨é›¶å¡«å……ï¼Œåˆ™è¾“å‡ºæ•°æ®ä½“çš„ç©ºé—´ç»´åº¦å°±åªæœ‰3ï¼Œå› ä¸ºè¿™å°±æ˜¯æ»¤æ³¢å™¨æ•´é½æ»‘è¿‡å¹¶è¦†ç›–åŸå§‹æ•°æ®éœ€è¦çš„æ•°ç›®ã€‚ä¸€èˆ¬è¯´æ¥ï¼Œå½“æ­¥é•¿$S=1$æ—¶ï¼Œé›¶å¡«å……çš„å€¼æ˜¯$P=(F-1)/2$ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å’Œè¾“å‡ºæ•°æ®ä½“æœ‰ç›¸åŒçš„ç©ºé—´å°ºå¯¸ã€‚è¿™æ ·åšéå¸¸å¸¸è§ï¼Œåœ¨ä»‹ç»å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„çš„æ—¶å€™æˆ‘ä»¬ä¼šè¯¦ç»†è®¨è®ºå…¶åŸå› ã€‚  </p>
<p>_æ­¥é•¿çš„é™åˆ¶_ï¼šæ³¨æ„è¿™äº›ç©ºé—´æ’åˆ—çš„è¶…å‚æ•°ä¹‹é—´æ˜¯ç›¸äº’é™åˆ¶çš„ã€‚ä¸¾ä¾‹è¯´æ¥ï¼Œå½“è¾“å…¥å°ºå¯¸$W=10$ï¼Œä¸ä½¿ç”¨é›¶å¡«å……åˆ™$P=0$ï¼Œæ»¤æ³¢å™¨å°ºå¯¸$F=3$ï¼Œè¿™æ ·æ­¥é•¿$S=2$å°±è¡Œä¸é€šï¼Œå› ä¸º$(W-F+2P)/S+1=(10-3+0)/2+1=4.5$ï¼Œç»“æœä¸æ˜¯æ•´æ•°ï¼Œè¿™å°±æ˜¯è¯´ç¥ç»å…ƒä¸èƒ½æ•´é½å¯¹ç§°åœ°æ»‘è¿‡è¾“å…¥æ•°æ®ä½“ã€‚å› æ­¤ï¼Œè¿™äº›è¶…å‚æ•°çš„è®¾å®šå°±è¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„ï¼Œä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œåº“å¯èƒ½ä¼šæŠ¥å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæˆ–è€…ä¿®æ”¹é›¶å¡«å……å€¼æ¥è®©è®¾ç½®åˆç†ï¼Œæˆ–è€…ä¿®æ”¹è¾“å…¥æ•°æ®ä½“å°ºå¯¸æ¥è®©è®¾ç½®åˆç†ï¼Œæˆ–è€…å…¶ä»–ä»€ä¹ˆæªæ–½ã€‚åœ¨åé¢çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„å°èŠ‚ä¸­ï¼Œè¯»è€…å¯ä»¥çœ‹åˆ°åˆç†åœ°è®¾ç½®ç½‘ç»œçš„å°ºå¯¸è®©æ‰€æœ‰çš„ç»´åº¦éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œè¿™ä»¶äº‹å¯æ˜¯ç›¸å½“è®©äººå¤´ç—›çš„ã€‚è€Œä½¿ç”¨é›¶å¡«å……å’Œéµå®ˆå…¶ä»–ä¸€äº›è®¾è®¡ç­–ç•¥å°†ä¼šæœ‰æ•ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚  </p>
<p>_çœŸå®æ¡ˆä¾‹_ï¼šKrizhevskyæ„æ¶èµ¢å¾—äº†2012å¹´çš„ImageNetæŒ‘æˆ˜ï¼Œå…¶è¾“å…¥å›¾åƒçš„å°ºå¯¸æ˜¯[227x227x3]ã€‚åœ¨ç¬¬ä¸€ä¸ªå·ç§¯å±‚ï¼Œç¥ç»å…ƒä½¿ç”¨çš„æ„Ÿå—é‡å°ºå¯¸$F=11$ï¼Œæ­¥é•¿$S=4$ï¼Œä¸ä½¿ç”¨é›¶å¡«å……$P=0$ã€‚å› ä¸º(227-11)/4+1=55ï¼Œå·ç§¯å±‚çš„æ·±åº¦$K=96$ï¼Œåˆ™å·ç§¯å±‚çš„è¾“å‡ºæ•°æ®ä½“å°ºå¯¸ä¸º[55x55x96]ã€‚55x55x96ä¸ªç¥ç»å…ƒä¸­ï¼Œæ¯ä¸ªéƒ½å’Œè¾“å…¥æ•°æ®ä½“ä¸­ä¸€ä¸ªå°ºå¯¸ä¸º[11x11x3]çš„åŒºåŸŸå…¨è¿æ¥ã€‚åœ¨æ·±åº¦åˆ—ä¸Šçš„96ä¸ªç¥ç»å…ƒéƒ½æ˜¯ä¸è¾“å…¥æ•°æ®ä½“ä¸­åŒä¸€ä¸ª[11x11x3]åŒºåŸŸè¿æ¥ï¼Œä½†æ˜¯æƒé‡ä¸åŒã€‚æœ‰ä¸€ä¸ªæœ‰è¶£çš„ç»†èŠ‚ï¼Œåœ¨åŸè®ºæ–‡ä¸­ï¼Œè¯´çš„è¾“å…¥å›¾åƒå°ºå¯¸æ˜¯224x224ï¼Œè¿™æ˜¯è‚¯å®šé”™è¯¯çš„ï¼Œå› ä¸º(224-11)/4+1çš„ç»“æœä¸æ˜¯æ•´æ•°ã€‚è¿™ä»¶äº‹åœ¨å·ç§¯ç¥ç»ç½‘ç»œçš„å†å²ä¸Šè®©å¾ˆå¤šäººè¿·æƒ‘ï¼Œè€Œè¿™ä¸ªé”™è¯¯åˆ°åº•æ˜¯æ€ä¹ˆå‘ç”Ÿçš„æ²¡äººçŸ¥é“ã€‚æˆ‘çš„çŒœæµ‹æ˜¯Alexå¿˜è®°åœ¨è®ºæ–‡ä¸­æŒ‡å‡ºè‡ªå·±ä½¿ç”¨äº†å°ºå¯¸ä¸º3çš„é¢å¤–çš„é›¶å¡«å……ã€‚  </p>
<p><strong>å‚æ•°å…±äº«</strong>ï¼šåœ¨å·ç§¯å±‚ä¸­ä½¿ç”¨å‚æ•°å…±äº«æ˜¯ç”¨æ¥æ§åˆ¶å‚æ•°çš„æ•°é‡ã€‚å°±ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨ç¬¬ä¸€ä¸ªå·ç§¯å±‚å°±æœ‰55x55x96=290,400ä¸ªç¥ç»å…ƒï¼Œæ¯ä¸ªæœ‰11x11x3=364ä¸ªå‚æ•°å’Œ1ä¸ªåå·®ã€‚å°†è¿™äº›åˆèµ·æ¥å°±æ˜¯290400x364=105,705,600ä¸ªå‚æ•°ã€‚å•å•ç¬¬ä¸€å±‚å°±æœ‰è¿™ä¹ˆå¤šå‚æ•°ï¼Œæ˜¾ç„¶è¿™ä¸ªæ•°ç›®æ˜¯éå¸¸å¤§çš„ã€‚</p>
<p>ä½œä¸€ä¸ªåˆç†çš„å‡è®¾ï¼šå¦‚æœä¸€ä¸ªç‰¹å¾åœ¨è®¡ç®—æŸä¸ªç©ºé—´ä½ç½®(x,y)çš„æ—¶å€™æœ‰ç”¨ï¼Œé‚£ä¹ˆå®ƒåœ¨è®¡ç®—å¦ä¸€ä¸ªä¸åŒä½ç½®(x2,y2)çš„æ—¶å€™ä¹Ÿæœ‰ç”¨ã€‚åŸºäºè¿™ä¸ªå‡è®¾ï¼Œå¯ä»¥æ˜¾è‘—åœ°å‡å°‘å‚æ•°æ•°é‡ã€‚æ¢è¨€ä¹‹ï¼Œå°±æ˜¯å°†æ·±åº¦ç»´åº¦ä¸Šä¸€ä¸ªå•ç‹¬çš„2ç»´åˆ‡ç‰‡çœ‹åš<strong>æ·±åº¦åˆ‡ç‰‡ï¼ˆdepth sliceï¼‰</strong>ï¼Œæ¯”å¦‚ä¸€ä¸ªæ•°æ®ä½“å°ºå¯¸ä¸º[55x55x96]çš„å°±æœ‰96ä¸ªæ·±åº¦åˆ‡ç‰‡ï¼Œæ¯ä¸ªå°ºå¯¸ä¸º[55x55]ã€‚åœ¨æ¯ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸Šçš„ç¥ç»å…ƒéƒ½ä½¿ç”¨åŒæ ·çš„æƒé‡å’Œåå·®ã€‚åœ¨è¿™æ ·çš„å‚æ•°å…±äº«ä¸‹ï¼Œä¾‹å­ä¸­çš„ç¬¬ä¸€ä¸ªå·ç§¯å±‚å°±åªæœ‰96ä¸ªä¸åŒçš„æƒé‡é›†äº†ï¼Œä¸€ä¸ªæƒé‡é›†å¯¹åº”ä¸€ä¸ªæ·±åº¦åˆ‡ç‰‡ï¼Œå…±æœ‰96x11x11x3=34,848ä¸ªä¸åŒçš„æƒé‡ï¼Œæˆ–34,944ä¸ªå‚æ•°ï¼ˆ+96ä¸ªåå·®ï¼‰ã€‚åœ¨æ¯ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸­çš„55x55ä¸ªæƒé‡ä½¿ç”¨çš„éƒ½æ˜¯åŒæ ·çš„å‚æ•°ã€‚åœ¨åå‘ä¼ æ’­çš„æ—¶å€™ï¼Œéƒ½è¦è®¡ç®—æ¯ä¸ªç¥ç»å…ƒå¯¹å®ƒçš„æƒé‡çš„æ¢¯åº¦ï¼Œä½†æ˜¯éœ€è¦æŠŠåŒä¸€ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸Šçš„æ‰€æœ‰ç¥ç»å…ƒå¯¹æƒé‡çš„æ¢¯åº¦ç´¯åŠ ï¼Œè¿™æ ·å°±å¾—åˆ°äº†å¯¹å…±äº«æƒé‡çš„æ¢¯åº¦ã€‚è¿™æ ·ï¼Œæ¯ä¸ªåˆ‡ç‰‡åªæ›´æ–°ä¸€ä¸ªæƒé‡é›†ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰æƒé‡éƒ½ä½¿ç”¨åŒä¸€ä¸ªæƒé‡å‘é‡ï¼Œé‚£ä¹ˆå·ç§¯å±‚çš„å‰å‘ä¼ æ’­åœ¨æ¯ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸­å¯ä»¥çœ‹åšæ˜¯åœ¨è®¡ç®—ç¥ç»å…ƒæƒé‡å’Œè¾“å…¥æ•°æ®ä½“çš„<strong>å·ç§¯</strong>ï¼ˆè¿™å°±æ˜¯â€å·ç§¯å±‚â€åå­—ç”±æ¥ï¼‰ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ€»æ˜¯å°†è¿™äº›æƒé‡é›†åˆç§°ä¸º<strong>æ»¤æ³¢å™¨ï¼ˆfilterï¼‰</strong>ï¼ˆæˆ–<strong>å·ç§¯æ ¸ï¼ˆkernelï¼‰</strong>ï¼‰ï¼Œå› ä¸ºå®ƒä»¬å’Œè¾“å…¥è¿›è¡Œäº†å·ç§¯ã€‚</p>
<img src="/2024/05/17/13-57-26/dd62e1d75bda9b592dabb91627d68aa6_b.jpg" class>
<p>Krizhevskyç­‰å­¦ä¹ åˆ°çš„æ»¤æ³¢å™¨ä¾‹å­ã€‚è¿™96ä¸ªæ»¤æ³¢å™¨çš„å°ºå¯¸éƒ½æ˜¯[11x11x3]ï¼Œåœ¨ä¸€ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸­ï¼Œæ¯ä¸ªæ»¤æ³¢å™¨éƒ½è¢«55x55ä¸ªç¥ç»å…ƒå…±äº«ã€‚æ³¨æ„å‚æ•°å…±äº«çš„å‡è®¾æ˜¯æœ‰é“ç†çš„ï¼šå¦‚æœåœ¨å›¾åƒæŸäº›åœ°æ–¹æ¢æµ‹åˆ°ä¸€ä¸ªæ°´å¹³çš„è¾¹ç•Œæ˜¯å¾ˆé‡è¦çš„ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–ä¸€äº›åœ°æ–¹ä¹Ÿä¼šåŒæ ·æ˜¯æœ‰ç”¨çš„ï¼Œè¿™æ˜¯å› ä¸ºå›¾åƒç»“æ„å…·æœ‰å¹³ç§»ä¸å˜æ€§ã€‚æ‰€ä»¥åœ¨å·ç§¯å±‚çš„è¾“å‡ºæ•°æ®ä½“çš„55x55ä¸ªä¸åŒä½ç½®ä¸­ï¼Œå°±æ²¡æœ‰å¿…è¦é‡æ–°å­¦ä¹ å»æ¢æµ‹ä¸€ä¸ªæ°´å¹³è¾¹ç•Œäº†ã€‚</p>
<p>æ³¨æ„æœ‰æ—¶å€™å‚æ•°å…±äº«å‡è®¾å¯èƒ½æ²¡æœ‰æ„ä¹‰ï¼Œç‰¹åˆ«æ˜¯å½“å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å…¥å›¾åƒæ˜¯ä¸€äº›æ˜ç¡®çš„ä¸­å¿ƒç»“æ„æ—¶å€™ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±åº”è¯¥æœŸæœ›åœ¨å›¾ç‰‡çš„ä¸åŒä½ç½®å­¦ä¹ åˆ°å®Œå…¨ä¸åŒçš„ç‰¹å¾ã€‚ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å°±æ˜¯è¾“å…¥å›¾åƒæ˜¯äººè„¸ï¼Œäººè„¸ä¸€èˆ¬éƒ½å¤„äºå›¾ç‰‡ä¸­å¿ƒã€‚ä½ å¯èƒ½æœŸæœ›ä¸åŒçš„ç‰¹å¾ï¼Œæ¯”å¦‚çœ¼ç›ç‰¹å¾æˆ–è€…å¤´å‘ç‰¹å¾å¯èƒ½ï¼ˆä¹Ÿåº”è¯¥ï¼‰ä¼šåœ¨å›¾ç‰‡çš„ä¸åŒä½ç½®è¢«å­¦ä¹ ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé€šå¸¸å°±æ”¾æ¾å‚æ•°å…±äº«çš„é™åˆ¶ï¼Œå°†å±‚ç§°ä¸º<strong>å±€éƒ¨è¿æ¥å±‚</strong>ï¼ˆLocally-Connected Layerï¼‰ã€‚</p>
<p><strong>Numpyä¾‹å­</strong>ï¼šä¸ºäº†è®©è®¨è®ºæ›´åŠ çš„å…·ä½“ï¼Œæˆ‘ä»¬ç”¨ä»£ç æ¥å±•ç¤ºä¸Šè¿°æ€è·¯ã€‚å‡è®¾è¾“å…¥æ•°æ®ä½“æ˜¯numpyæ•°ç»„<strong>X</strong>ã€‚é‚£ä¹ˆï¼š</p>
<ul>
<li>ä¸€ä¸ªä½äº<strong>(x,y)</strong>çš„æ·±åº¦åˆ—ï¼ˆæˆ–çº¤ç»´ï¼‰å°†ä¼šæ˜¯<strong>X[x,y,:]</strong>ã€‚  </li>
<li>åœ¨æ·±åº¦ä¸º<strong>d</strong>å¤„çš„æ·±åº¦åˆ‡ç‰‡ï¼Œæˆ–æ¿€æ´»å›¾åº”è¯¥æ˜¯<strong>X[:,:,d]</strong>ã€‚  </li>
</ul>
<p>_å·ç§¯å±‚ä¾‹å­_ï¼šå‡è®¾è¾“å…¥æ•°æ®ä½“<strong>X</strong>çš„å°ºå¯¸<strong>X.shape:(11,11,4)</strong>ï¼Œä¸ä½¿ç”¨é›¶å¡«å……ï¼ˆ$P=0$ï¼‰ï¼Œæ»¤æ³¢å™¨çš„å°ºå¯¸æ˜¯$F=5$ï¼Œæ­¥é•¿$S=2$ã€‚é‚£ä¹ˆè¾“å‡ºæ•°æ®ä½“çš„ç©ºé—´å°ºå¯¸å°±æ˜¯(11-5)/2+1=4ï¼Œå³è¾“å‡ºæ•°æ®ä½“çš„å®½åº¦å’Œé«˜åº¦éƒ½æ˜¯4ã€‚é‚£ä¹ˆåœ¨è¾“å‡ºæ•°æ®ä½“ä¸­çš„æ¿€æ´»æ˜ å°„ï¼ˆç§°å…¶ä¸º<strong>V</strong>ï¼‰çœ‹èµ·æ¥å°±æ˜¯ä¸‹é¢è¿™æ ·ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªæœ‰éƒ¨åˆ†å…ƒç´ è¢«è®¡ç®—ï¼‰ï¼š</p>
<ul>
<li><strong>V[0,0,0] = np.sum(X[:5,:5,:] * W0) + b0  
</strong></li>
<li><strong>V[1,0,0] = np.sum(X[2:7,:5,:] * W0) + b0  
</strong></li>
<li><strong>V[2,0,0] = np.sum(X[4:9,:5,:] * W0) + b0  
</strong></li>
<li><strong>V[3,0,0] = np.sum(X[6:11,:5,:] * W0) + b0</strong>  </li>
</ul>
<p>åœ¨numpyä¸­ï¼Œ<strong>*</strong>æ“ä½œæ˜¯è¿›è¡Œæ•°ç»„é—´çš„é€å…ƒç´ ç›¸ä¹˜ã€‚æƒé‡å‘é‡<strong>W0</strong>æ˜¯è¯¥ç¥ç»å…ƒçš„æƒé‡ï¼Œ<strong>b0</strong>æ˜¯å…¶åå·®ã€‚åœ¨è¿™é‡Œï¼Œ<strong>W0</strong>è¢«å‡è®¾å°ºå¯¸æ˜¯<strong>W0.shape: (5,5,4)</strong>ï¼Œå› ä¸ºæ»¤æ³¢å™¨çš„å®½é«˜æ˜¯5ï¼Œè¾“å…¥æ•°æ®é‡çš„æ·±åº¦æ˜¯4ã€‚æ³¨æ„åœ¨æ¯ä¸€ä¸ªç‚¹ï¼Œè®¡ç®—ç‚¹ç§¯çš„æ–¹å¼å’Œä¹‹å‰çš„å¸¸è§„ç¥ç»ç½‘ç»œæ˜¯ä¸€æ ·çš„ã€‚åŒæ—¶ï¼Œè®¡ç®—å†…ç§¯çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªæƒé‡å’Œåå·®ï¼ˆå› ä¸ºå‚æ•°å…±äº«ï¼‰ï¼Œåœ¨å®½åº¦æ–¹å‘çš„æ•°å­—æ¯æ¬¡ä¸Šå‡2ï¼ˆå› ä¸ºæ­¥é•¿ä¸º2ï¼‰ã€‚è¦æ„å»ºè¾“å‡ºæ•°æ®ä½“ä¸­çš„ç¬¬äºŒå¼ æ¿€æ´»å›¾ï¼Œä»£ç åº”è¯¥æ˜¯ï¼š</p>
<ul>
<li><strong>V[0,0,1] = np.sum(X[:5,:5,:] * W1) + b1  
</strong></li>
<li><strong>V[1,0,1] = np.sum(X[2:7,:5,:] * W1) + b1  
</strong></li>
<li><strong>V[2,0,1] = np.sum(X[4:9,:5,:] * W1) + b1  
</strong></li>
<li><strong>V[3,0,1] = np.sum(X[6:11,:5,:] * W1) + b1</strong>  </li>
<li><strong>V[0,1,1] = np.sum(X[:5,2:7,:] * W1) + b1 </strong>ï¼ˆåœ¨yæ–¹å‘ä¸Šï¼‰  </li>
<li><strong>V[2,3,1] = np.sum(X[4:9,6:11,:] * W1) + b1 </strong>ï¼ˆæˆ–ä¸¤ä¸ªæ–¹å‘ä¸ŠåŒæ—¶ï¼‰</li>
</ul>
<p>æˆ‘ä»¬è®¿é—®çš„æ˜¯<strong>V</strong>çš„æ·±åº¦ç»´åº¦ä¸Šçš„ç¬¬äºŒå±‚ï¼ˆå³index1ï¼‰ï¼Œå› ä¸ºæ˜¯åœ¨è®¡ç®—ç¬¬äºŒä¸ªæ¿€æ´»å›¾ï¼Œæ‰€ä»¥è¿™æ¬¡è¯•ç”¨çš„å‚æ•°é›†å°±æ˜¯<strong>W1</strong>äº†ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸ºäº†ç®€æ´ç•¥å»äº†å·ç§¯å±‚å¯¹äºè¾“å‡ºæ•°ç»„<strong>V</strong>ä¸­å…¶ä»–éƒ¨åˆ†çš„æ“ä½œã€‚è¿˜æœ‰ï¼Œè¦è®°å¾—è¿™äº›å·ç§¯æ“ä½œé€šå¸¸åé¢æ¥çš„æ˜¯ReLUå±‚ï¼Œå¯¹æ¿€æ´»å›¾ä¸­çš„æ¯ä¸ªå…ƒç´ åšæ¿€æ´»å‡½æ•°è¿ç®—ï¼Œè¿™é‡Œæ²¡æœ‰æ˜¾ç¤ºã€‚</p>
<p><strong>å°ç»“</strong>ï¼š æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹å·ç§¯å±‚çš„æ€§è´¨ï¼š</p>
<ul>
<li>è¾“å…¥æ•°æ®ä½“çš„å°ºå¯¸ä¸º$W_1times H_1times D_1$</li>
<li>4ä¸ªè¶…å‚æ•°ï¼š<ul>
<li>æ»¤æ³¢å™¨çš„æ•°é‡$K$</li>
<li>æ»¤æ³¢å™¨çš„ç©ºé—´å°ºå¯¸$F$</li>
<li>æ­¥é•¿$S$</li>
<li>é›¶å¡«å……æ•°é‡$P$</li>
</ul>
</li>
<li>è¾“å‡ºæ•°æ®ä½“çš„å°ºå¯¸ä¸º$W_2 \times H_2 \times D_2$ ï¼Œå…¶ä¸­ï¼š<br>$W_2=(W_1-F+2P)/S+1$<ul>
<li>$H_2=(H_1-F+2P)/S+1$ ï¼ˆå®½åº¦å’Œé«˜åº¦çš„è®¡ç®—æ–¹æ³•ç›¸åŒï¼‰<br>$D_2=K$</li>
</ul>
</li>
<li>ç”±äºå‚æ•°å…±äº«ï¼Œæ¯ä¸ªæ»¤æ³¢å™¨åŒ…å«$F \cdot F \cdot D_1$ä¸ªæƒé‡ï¼Œå·ç§¯å±‚ä¸€å…±æœ‰$F \cdot F \cdot D_1 \cdot K$ä¸ªæƒé‡å’Œ$K$ä¸ªåç½®ã€‚</li>
<li>åœ¨è¾“å‡ºæ•°æ®ä½“ä¸­ï¼Œç¬¬$d$ä¸ªæ·±åº¦åˆ‡ç‰‡ï¼ˆç©ºé—´å°ºå¯¸æ˜¯$W_2 \times H_2$ï¼‰ï¼Œç”¨ç¬¬$d$ä¸ªæ»¤æ³¢å™¨å’Œè¾“å…¥æ•°æ®è¿›è¡Œæœ‰æ•ˆå·ç§¯è¿ç®—çš„ç»“æœï¼ˆä½¿ç”¨æ­¥é•¿$S$ï¼‰ï¼Œæœ€ååœ¨åŠ ä¸Šç¬¬$d$ä¸ªåå·®ã€‚</li>
</ul>
<p>å¯¹è¿™äº›è¶…å‚æ•°ï¼Œå¸¸è§çš„è®¾ç½®æ˜¯$F=3$ï¼Œ$S=1$ï¼Œ$P=1$ã€‚åŒæ—¶è®¾ç½®è¿™äº›è¶…å‚æ•°ä¹Ÿæœ‰ä¸€äº›çº¦å®šä¿—æˆçš„æƒ¯ä¾‹å’Œç»éªŒï¼Œå¯ä»¥åœ¨ä¸‹é¢çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ç« èŠ‚ä¸­æŸ¥çœ‹ã€‚</p>
<p>å·ç§¯å±‚æ¼”ç¤ºï¼šä¸‹é¢æ˜¯ä¸€ä¸ªå·ç§¯å±‚çš„è¿è¡Œæ¼”ç¤ºã€‚å› ä¸º3Dæ•°æ®éš¾ä»¥å¯è§†åŒ–ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°æ®ï¼ˆè¾“å…¥æ•°æ®ä½“æ˜¯è“è‰²ï¼Œæƒé‡æ•°æ®ä½“æ˜¯çº¢è‰²ï¼Œè¾“å‡ºæ•°æ®ä½“æ˜¯ç»¿è‰²ï¼‰éƒ½é‡‡å–å°†æ·±åº¦åˆ‡ç‰‡æŒ‰ç…§åˆ—çš„æ–¹å¼æ’åˆ—å±•ç°ã€‚è¾“å…¥æ•°æ®ä½“çš„å°ºå¯¸æ˜¯$W_1=5,H_1=5,D_1=3$ï¼Œå·ç§¯å±‚å‚æ•°$K=2,F=3,S=2,P=1$ã€‚å°±æ˜¯è¯´ï¼Œæœ‰2ä¸ªæ»¤æ³¢å™¨ï¼Œæ»¤æ³¢å™¨çš„å°ºå¯¸æ˜¯$3 \cdot 3$ï¼Œå®ƒä»¬çš„æ­¥é•¿æ˜¯2.å› æ­¤ï¼Œè¾“å‡ºæ•°æ®ä½“çš„ç©ºé—´å°ºå¯¸æ˜¯(5-3+2)/2+1=3ã€‚æ³¨æ„è¾“å…¥æ•°æ®ä½“ä½¿ç”¨äº†é›¶å¡«å……$P=1$ï¼Œæ‰€ä»¥è¾“å…¥æ•°æ®ä½“å¤–è¾¹ç¼˜ä¸€åœˆéƒ½æ˜¯0ã€‚ä¸‹é¢çš„ä¾‹å­åœ¨ç»¿è‰²çš„è¾“å‡ºæ¿€æ´»æ•°æ®ä¸Šå¾ªç¯æ¼”ç¤ºï¼Œå±•ç¤ºäº†å…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å…ˆé€šè¿‡è“è‰²çš„è¾“å…¥æ•°æ®å’Œçº¢è‰²çš„æ»¤æ³¢å™¨é€å…ƒç´ ç›¸ä¹˜ï¼Œç„¶åæ±‚å…¶æ€»å’Œï¼Œæœ€ååŠ ä¸Šåå·®å¾—æ¥ã€‚  </p>
<img src="/2024/05/17/13-57-26/333077b83ed421d6bd53eb7a44fd5799_b.jpg" class>
<p><strong>ç”¨çŸ©é˜µä¹˜æ³•å®ç°</strong>ï¼šå·ç§¯è¿ç®—æœ¬è´¨ä¸Šå°±æ˜¯åœ¨æ»¤æ³¢å™¨å’Œè¾“å…¥æ•°æ®çš„å±€éƒ¨åŒºåŸŸé—´åšç‚¹ç§¯ã€‚å·ç§¯å±‚çš„å¸¸ç”¨å®ç°æ–¹å¼å°±æ˜¯åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå°†å·ç§¯å±‚çš„å‰å‘ä¼ æ’­å˜æˆä¸€ä¸ªå·¨å¤§çš„çŸ©é˜µä¹˜æ³•ï¼š</p>
<ol>
<li><p>è¾“å…¥å›¾åƒçš„å±€éƒ¨åŒºåŸŸè¢«<strong>im2col</strong>æ“ä½œæ‹‰ä¼¸ä¸ºåˆ—ã€‚æ¯”å¦‚ï¼Œå¦‚æœè¾“å…¥æ˜¯[227x227x3]ï¼Œè¦ä¸å°ºå¯¸ä¸º11x11x3çš„æ»¤æ³¢å™¨ä»¥æ­¥é•¿ä¸º4è¿›è¡Œå·ç§¯ï¼Œå°±å–è¾“å…¥ä¸­çš„[11x11x3]æ•°æ®å—ï¼Œç„¶åå°†å…¶æ‹‰ä¼¸ä¸ºé•¿åº¦ä¸º11x11x3=363çš„åˆ—å‘é‡ã€‚é‡å¤è¿›è¡Œè¿™ä¸€è¿‡ç¨‹ï¼Œå› ä¸ºæ­¥é•¿ä¸º4ï¼Œæ‰€ä»¥è¾“å‡ºçš„å®½é«˜ä¸º(227-11)/4+1=55ï¼Œæ‰€ä»¥å¾—åˆ°_im2col_æ“ä½œçš„è¾“å‡ºçŸ©é˜µ<strong>X_col</strong>çš„å°ºå¯¸æ˜¯[363x3025]ï¼Œå…¶ä¸­æ¯åˆ—æ˜¯æ‹‰ä¼¸çš„æ„Ÿå—é‡ï¼Œå…±æœ‰55x55=3,025ä¸ªã€‚æ³¨æ„å› ä¸ºæ„Ÿå—é‡ä¹‹é—´æœ‰é‡å ï¼Œæ‰€ä»¥è¾“å…¥æ•°æ®ä½“ä¸­çš„æ•°å­—åœ¨ä¸åŒçš„åˆ—ä¸­å¯èƒ½æœ‰é‡å¤ã€‚  </p>
</li>
<li><p>å·ç§¯å±‚çš„æƒé‡ä¹ŸåŒæ ·è¢«æ‹‰ä¼¸æˆè¡Œã€‚ä¸¾ä¾‹ï¼Œå¦‚æœæœ‰96ä¸ªå°ºå¯¸ä¸º[11x11x3]çš„æ»¤æ³¢å™¨ï¼Œå°±ç”Ÿæˆä¸€ä¸ªçŸ©é˜µ<strong>W_row</strong>ï¼Œå°ºå¯¸ä¸º[96x363]ã€‚  </p>
</li>
<li><p>ç°åœ¨å·ç§¯çš„ç»“æœå’Œè¿›è¡Œä¸€ä¸ªå¤§çŸ©é˜µä¹˜<strong>np.dot(W_row, X_col)</strong>æ˜¯ç­‰ä»·çš„äº†ï¼Œèƒ½å¾—åˆ°æ¯ä¸ªæ»¤æ³¢å™¨å’Œæ¯ä¸ªæ„Ÿå—é‡é—´çš„ç‚¹ç§¯ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™ä¸ªæ“ä½œçš„è¾“å‡ºæ˜¯[96x3025]ï¼Œç»™å‡ºäº†æ¯ä¸ªæ»¤æ³¢å™¨åœ¨æ¯ä¸ªä½ç½®çš„ç‚¹ç§¯è¾“å‡ºã€‚  </p>
</li>
<li><p>ç»“æœæœ€åå¿…é¡»è¢«é‡æ–°å˜ä¸ºåˆç†çš„è¾“å‡ºå°ºå¯¸[55x55x96]ã€‚</p>
</li>
</ol>
<p>è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹å°±æ˜¯å ç”¨å†…å­˜å¤ªå¤šï¼Œå› ä¸ºåœ¨è¾“å…¥æ•°æ®ä½“ä¸­çš„æŸäº›å€¼åœ¨<strong>X_col</strong>ä¸­è¢«å¤åˆ¶äº†å¤šæ¬¡ã€‚ä½†æ˜¯ï¼Œå…¶ä¼˜ç‚¹æ˜¯çŸ©é˜µä¹˜æ³•æœ‰éå¸¸å¤šçš„é«˜æ•ˆå®ç°æ–¹å¼ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨ï¼ˆæ¯”å¦‚å¸¸ç”¨çš„BLAS APIï¼‰ã€‚è¿˜æœ‰ï¼ŒåŒæ ·çš„_im2col_æ€è·¯å¯ä»¥ç”¨åœ¨æ±‡èšæ“ä½œä¸­ã€‚</p>
<p>åå‘ä¼ æ’­ï¼šå·ç§¯æ“ä½œçš„åå‘ä¼ æ’­ï¼ˆåŒæ—¶å¯¹äºæ•°æ®å’Œæƒé‡ï¼‰è¿˜æ˜¯ä¸€ä¸ªå·ç§¯ï¼ˆä½†æ˜¯æ˜¯å’Œç©ºé—´ä¸Šç¿»è½¬çš„æ»¤æ³¢å™¨ï¼‰ã€‚ä½¿ç”¨ä¸€ä¸ª1ç»´çš„ä¾‹å­æ¯”è¾ƒå®¹æ˜“æ¼”ç¤ºã€‚  </p>
<p><strong>1x1å·ç§¯</strong>ï¼šä¸€äº›è®ºæ–‡ä¸­ä½¿ç”¨äº†1x1çš„å·ç§¯ï¼Œè¿™ä¸ªæ–¹æ³•æœ€æ—©æ˜¯åœ¨è®ºæ–‡Network in Networkä¸­å‡ºç°ã€‚äººä»¬åˆšå¼€å§‹çœ‹è§è¿™ä¸ª1x1å·ç§¯çš„æ—¶å€™æ¯”è¾ƒå›°æƒ‘ï¼Œå°¤å…¶æ˜¯é‚£äº›å…·æœ‰ä¿¡å·å¤„ç†ä¸“ä¸šèƒŒæ™¯çš„äººã€‚å› ä¸ºä¿¡å·æ˜¯2ç»´çš„ï¼Œæ‰€ä»¥1x1å·ç§¯å°±æ²¡æœ‰æ„ä¹‰ã€‚ä½†æ˜¯ï¼Œåœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ä¸æ˜¯è¿™æ ·ï¼Œå› ä¸ºè¿™é‡Œæ˜¯å¯¹3ä¸ªç»´åº¦è¿›è¡Œæ“ä½œï¼Œæ»¤æ³¢å™¨å’Œè¾“å…¥æ•°æ®ä½“çš„æ·±åº¦æ˜¯ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œå¦‚æœè¾“å…¥æ˜¯[32x32x3]ï¼Œé‚£ä¹ˆ1x1å·ç§¯å°±æ˜¯åœ¨é«˜æ•ˆåœ°è¿›è¡Œ3ç»´ç‚¹ç§¯ï¼ˆå› ä¸ºè¾“å…¥æ·±åº¦æ˜¯3ä¸ªé€šé“ï¼‰ã€‚  </p>
<p><strong>æ‰©å¼ å·ç§¯</strong>ï¼šæœ€è¿‘ä¸€ä¸ªç ”ç©¶ï¼ˆFisher Yuå’ŒVladlen Koltunçš„è®ºæ–‡ï¼‰ç»™å·ç§¯å±‚å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å«_æ‰©å¼ ï¼ˆdilationï¼‰_çš„è¶…å‚æ•°ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªè®¨è®ºäº†å·ç§¯å±‚æ»¤æ³¢å™¨æ˜¯è¿ç»­çš„æƒ…å†µã€‚ä½†æ˜¯ï¼Œè®©æ»¤æ³¢å™¨ä¸­å…ƒç´ ä¹‹é—´æœ‰é—´éš™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™å°±å«åšæ‰©å¼ ã€‚ä¸¾ä¾‹ï¼Œåœ¨æŸä¸ªç»´åº¦ä¸Šæ»¤æ³¢å™¨<strong>w</strong>çš„å°ºå¯¸æ˜¯3ï¼Œé‚£ä¹ˆè®¡ç®—è¾“å…¥<strong>x</strong>çš„æ–¹å¼æ˜¯ï¼š<strong>w[0]<em>x[0] + w[1]</em>x[1] + w[2]*x[2]</strong>ï¼Œæ­¤æ—¶æ‰©å¼ ä¸º0ã€‚å¦‚æœæ‰©å¼ ä¸º1ï¼Œé‚£ä¹ˆè®¡ç®—ä¸ºï¼š <strong>w[0]<em>x[0] + w[1]</em>x[2] + w[2]*x[4]</strong>ã€‚æ¢å¥è¯è¯´ï¼Œæ“ä½œä¸­å­˜åœ¨1çš„é—´éš™ã€‚åœ¨æŸäº›è®¾ç½®ä¸­ï¼Œæ‰©å¼ å·ç§¯ä¸æ­£å¸¸å·ç§¯ç»“åˆèµ·æ¥éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºåœ¨å¾ˆå°‘çš„å±‚æ•°å†…æ›´å¿«åœ°æ±‡é›†è¾“å…¥å›¾ç‰‡çš„å¤§å°ºåº¦ç‰¹å¾ã€‚æ¯”å¦‚ï¼Œå¦‚æœä¸Šä¸‹é‡å 2ä¸ª3x3çš„å·ç§¯å±‚ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªå·ç§¯å±‚çš„ç¥ç»å…ƒçš„æ„Ÿå—é‡æ˜¯è¾“å…¥æ•°æ®ä½“ä¸­5x5çš„åŒºåŸŸï¼ˆå¯ä»¥æˆè¿™äº›ç¥ç»å…ƒçš„_æœ‰æ•ˆæ„Ÿå—é‡_æ˜¯5x5ï¼‰ã€‚å¦‚æœæˆ‘ä»¬å¯¹å·ç§¯è¿›è¡Œæ‰©å¼ ï¼Œé‚£ä¹ˆè¿™ä¸ªæœ‰æ•ˆæ„Ÿå—é‡å°±ä¼šè¿…é€Ÿå¢é•¿ã€‚  </p>
<h4 id="æ±‡èšå±‚"><a href="#æ±‡èšå±‚" class="headerlink" title="æ±‡èšå±‚"></a>æ±‡èšå±‚</h4><p>é€šå¸¸ï¼Œåœ¨è¿ç»­çš„å·ç§¯å±‚ä¹‹é—´ä¼šå‘¨æœŸæ€§åœ°æ’å…¥ä¸€ä¸ªæ±‡èšå±‚ã€‚å®ƒçš„ä½œç”¨æ˜¯é€æ¸é™ä½æ•°æ®ä½“çš„ç©ºé—´å°ºå¯¸ï¼Œè¿™æ ·çš„è¯å°±èƒ½å‡å°‘ç½‘ç»œä¸­å‚æ•°çš„æ•°é‡ï¼Œä½¿å¾—è®¡ç®—èµ„æºè€—è´¹å˜å°‘ï¼Œä¹Ÿèƒ½æœ‰æ•ˆæ§åˆ¶è¿‡æ‹Ÿåˆã€‚æ±‡èšå±‚ä½¿ç”¨MAXæ“ä½œï¼Œå¯¹è¾“å…¥æ•°æ®ä½“çš„æ¯ä¸€ä¸ªæ·±åº¦åˆ‡ç‰‡ç‹¬ç«‹è¿›è¡Œæ“ä½œï¼Œæ”¹å˜å®ƒçš„ç©ºé—´å°ºå¯¸ã€‚æœ€å¸¸è§çš„å½¢å¼æ˜¯æ±‡èšå±‚ä½¿ç”¨å°ºå¯¸2x2çš„æ»¤æ³¢å™¨ï¼Œä»¥æ­¥é•¿ä¸º2æ¥å¯¹æ¯ä¸ªæ·±åº¦åˆ‡ç‰‡è¿›è¡Œé™é‡‡æ ·ï¼Œå°†å…¶ä¸­75%çš„æ¿€æ´»ä¿¡æ¯éƒ½ä¸¢æ‰ã€‚æ¯ä¸ªMAXæ“ä½œæ˜¯ä»4ä¸ªæ•°å­—ä¸­å–æœ€å¤§å€¼ï¼ˆä¹Ÿå°±æ˜¯åœ¨æ·±åº¦åˆ‡ç‰‡ä¸­æŸä¸ª2x2çš„åŒºåŸŸï¼‰ã€‚æ·±åº¦ä¿æŒä¸å˜ã€‚æ±‡èšå±‚çš„ä¸€äº›å…¬å¼ï¼š</p>
<ul>
<li>è¾“å…¥æ•°æ®ä½“å°ºå¯¸$W_1 \cdot H_1 \cdot D_1$  </li>
<li><p>æœ‰ä¸¤ä¸ªè¶…å‚æ•°ï¼š  </p>
<ul>
<li>ç©ºé—´å¤§å°$F$</li>
<li>æ­¥é•¿$S$</li>
</ul>
</li>
<li><p>è¾“å‡ºæ•°æ®ä½“å°ºå¯¸$W_2 \cdot H_2 \cdot D_2$ï¼Œå…¶ä¸­<br>$W_2=(W_1-F)/S+1$<br>$H_2=(H_1-F)/S+1$<br>$D_2=D_1$</p>
</li>
<li><p>å› ä¸ºå¯¹è¾“å…¥è¿›è¡Œçš„æ˜¯å›ºå®šå‡½æ•°è®¡ç®—ï¼Œæ‰€ä»¥æ²¡æœ‰å¼•å…¥å‚æ•°  </p>
</li>
<li>åœ¨æ±‡èšå±‚ä¸­å¾ˆå°‘ä½¿ç”¨é›¶å¡«å……  </li>
</ul>
<p>åœ¨å®è·µä¸­ï¼Œæœ€å¤§æ±‡èšå±‚é€šå¸¸åªæœ‰ä¸¤ç§å½¢å¼ï¼šä¸€ç§æ˜¯$F=3,S=2$ï¼Œä¹Ÿå«é‡å æ±‡èšï¼ˆoverlapping poolingï¼‰ï¼Œå¦ä¸€ä¸ªæ›´å¸¸ç”¨çš„æ˜¯$F=2,S=2$ã€‚å¯¹æ›´å¤§æ„Ÿå—é‡è¿›è¡Œæ±‡èšéœ€è¦çš„æ±‡èšå°ºå¯¸ä¹Ÿæ›´å¤§ï¼Œè€Œä¸”å¾€å¾€å¯¹ç½‘ç»œæœ‰ç ´åæ€§ã€‚</p>
<p><strong>æ™®é€šæ±‡èšï¼ˆGeneral Poolingï¼‰</strong>ï¼šé™¤äº†æœ€å¤§æ±‡èšï¼Œæ±‡èšå•å…ƒè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„å‡½æ•°ï¼Œæ¯”å¦‚_å¹³å‡_æ±‡èš_ï¼ˆaverage poolingï¼‰_æˆ–_L-2èŒƒå¼_æ±‡èš_ï¼ˆL2-norm poolingï¼‰_ã€‚å¹³å‡æ±‡èšå†å²ä¸Šæ¯”è¾ƒå¸¸ç”¨ï¼Œä½†æ˜¯ç°åœ¨å·²ç»å¾ˆå°‘ä½¿ç”¨äº†ã€‚å› ä¸ºå®è·µè¯æ˜ï¼Œæœ€å¤§æ±‡èšçš„æ•ˆæœæ¯”å¹³å‡æ±‡èšè¦å¥½ã€‚</p>
<img src="/2024/05/17/13-57-26/641c8846abcb02d35938660cf96cef1b_b.jpg" class>
<p>æ±‡èšå±‚åœ¨è¾“å…¥æ•°æ®ä½“çš„æ¯ä¸ªæ·±åº¦åˆ‡ç‰‡ä¸Šï¼Œç‹¬ç«‹åœ°å¯¹å…¶è¿›è¡Œç©ºé—´ä¸Šçš„é™é‡‡æ ·ã€‚å·¦è¾¹ï¼šæœ¬ä¾‹ä¸­ï¼Œè¾“å…¥æ•°æ®ä½“å°ºå¯¸[224x224x64]è¢«é™é‡‡æ ·åˆ°äº†[112x112x64]ï¼Œé‡‡å–çš„æ»¤æ³¢å™¨å°ºå¯¸æ˜¯2ï¼Œæ­¥é•¿ä¸º2ï¼Œè€Œæ·±åº¦ä¸å˜ã€‚å³è¾¹ï¼šæœ€å¸¸ç”¨çš„é™é‡‡æ ·æ“ä½œæ˜¯å–æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§æ±‡èšï¼Œè¿™é‡Œæ­¥é•¿ä¸º2ï¼Œæ¯ä¸ªå–æœ€å¤§å€¼æ“ä½œæ˜¯ä»4ä¸ªæ•°å­—ä¸­é€‰å–ï¼ˆå³2x2çš„æ–¹å—åŒºåŸŸä¸­ï¼‰ã€‚</p>
<p><strong>åå‘ä¼ æ’­ï¼š</strong>å›é¡¾ä¸€ä¸‹åå‘ä¼ æ’­çš„å†…å®¹ï¼Œå…¶ä¸­$max(x,y)$å‡½æ•°çš„åå‘ä¼ æ’­å¯ä»¥ç®€å•ç†è§£ä¸ºå°†æ¢¯åº¦åªæ²¿æœ€å¤§çš„æ•°å›ä¼ ã€‚å› æ­¤ï¼Œåœ¨å‘å‰ä¼ æ’­ç»è¿‡æ±‡èšå±‚çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šæŠŠæ± ä¸­æœ€å¤§å…ƒç´ çš„ç´¢å¼•è®°å½•ä¸‹æ¥ï¼ˆæœ‰æ—¶è¿™ä¸ªä¹Ÿå«ä½œ<strong>é“å²”ï¼ˆswitchesï¼‰</strong>ï¼‰ï¼Œè¿™æ ·åœ¨åå‘ä¼ æ’­çš„æ—¶å€™æ¢¯åº¦çš„è·¯ç”±å°±å¾ˆé«˜æ•ˆã€‚</p>
<p><strong>ä¸ä½¿ç”¨æ±‡èšå±‚</strong>ï¼šå¾ˆå¤šäººä¸å–œæ¬¢æ±‡èšæ“ä½œï¼Œè®¤ä¸ºå¯ä»¥ä¸ä½¿ç”¨å®ƒã€‚æ¯”å¦‚åœ¨Striving for Simplicity: The All Convolutional Netä¸€æ–‡ä¸­ï¼Œæå‡ºä½¿ç”¨ä¸€ç§åªæœ‰é‡å¤çš„å·ç§¯å±‚ç»„æˆçš„ç»“æ„ï¼ŒæŠ›å¼ƒæ±‡èšå±‚ã€‚é€šè¿‡åœ¨å·ç§¯å±‚ä¸­ä½¿ç”¨æ›´å¤§çš„æ­¥é•¿æ¥é™ä½æ•°æ®ä½“çš„å°ºå¯¸ã€‚æœ‰å‘ç°è®¤ä¸ºï¼Œåœ¨è®­ç»ƒä¸€ä¸ªè‰¯å¥½çš„ç”Ÿæˆæ¨¡å‹æ—¶ï¼Œå¼ƒç”¨æ±‡èšå±‚ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚æ¯”å¦‚å˜åŒ–è‡ªç¼–ç å™¨ï¼ˆVAEsï¼švariational autoencodersï¼‰å’Œç”Ÿæˆæ€§å¯¹æŠ—ç½‘ç»œï¼ˆGANsï¼šgenerative adversarial networksï¼‰ã€‚ç°åœ¨çœ‹èµ·æ¥ï¼Œæœªæ¥çš„å·ç§¯ç½‘ç»œç»“æ„ä¸­ï¼Œæ— æ±‡èšå±‚çš„ç»“æ„ä¸å¤ªå¯èƒ½æ‰®æ¼”é‡è¦çš„è§’è‰²ã€‚</p>
<h4 id="å½’ä¸€åŒ–å±‚"><a href="#å½’ä¸€åŒ–å±‚" class="headerlink" title="å½’ä¸€åŒ–å±‚"></a>å½’ä¸€åŒ–å±‚</h4><p>å½’ä¸€åŒ–æ–¹å¼çš„ä½œç”¨ï¼Œå°±æ˜¯ä½¿å¾—ç¥ç»ç½‘ç»œæ›´å®¹æ˜“è®­ç»ƒï¼ˆæˆ–è€…è¯´å¯ä»¥ä½¿å¾—è¾“å‡ºå…·æœ‰é›¶å‡å€¼å’Œå•ä½æ–¹å·®ï¼‰ï¼Œå¸¸è§çš„æ–¹å¼ç§°ä¸ºæ‰¹é‡å½’ä¸€åŒ–ï¼Œå³Batch Normalization</p>
<p>è¿™ç§æ–¹å¼å‡å°‘äº†ä¸€ç§ç§°ä¸ºå†…éƒ¨åå˜åç§»çš„ä¸œè¥¿ï¼Œæœ‰åˆ©äºä¼˜åŒ–</p>
<p>ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼ŒåŠ ä¸Šå½’ä¸€åŒ–å±‚ä¹‹åï¼Œæ›´æœ‰åˆ©äºæ¨¡å‹æ”¶æ•›</p>
<img src="/2024/05/17/13-57-26/87.jpg" class>
<p>è¿™æ˜¯å› ä¸ºï¼Œæ¯ä¸€å±‚çœ‹åˆ°çš„éƒ½æ˜¯ä¸Šä¸€å±‚çš„è¾“å‡ºï¼Œä½†æ˜¯ä¸Šä¸€å±‚çš„æƒé‡æ˜¯ä¼šè¿›è¡Œå­¦ä¹ çš„ï¼Œä¸Šä¸€æ¬¡è¾“å‡ºçš„åˆ†å¸ƒä¹Ÿæ˜¯ä¼šæ”¹å˜çš„ï¼ŒæŸç§æ„ä¹‰ä¸Šä¸åˆ©äºä¼˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦æ ‡å‡†åŒ–æ‰€æœ‰å±‚</p>
<p>åœ¨å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„ä¸­ï¼Œæå‡ºäº†å¾ˆå¤šä¸åŒç±»å‹çš„å½’ä¸€åŒ–å±‚ï¼Œæœ‰æ—¶å€™æ˜¯ä¸ºäº†å®ç°åœ¨ç”Ÿç‰©å¤§è„‘ä¸­è§‚æµ‹åˆ°çš„æŠ‘åˆ¶æœºåˆ¶ã€‚ä½†æ˜¯è¿™äº›å±‚æ¸æ¸éƒ½ä¸å†æµè¡Œï¼Œå› ä¸ºå®è·µè¯æ˜å®ƒä»¬çš„æ•ˆæœå³ä½¿å­˜åœ¨ï¼Œä¹Ÿæ˜¯æå…¶æœ‰é™çš„ã€‚å¯¹äºä¸åŒç±»å‹çš„å½’ä¸€åŒ–å±‚ï¼Œå¯ä»¥çœ‹çœ‹Alex Krizhevskyçš„å…³äºcuda-convnet library APIçš„è®¨è®ºã€‚  </p>
<h4 id="å…¨è¿æ¥å±‚"><a href="#å…¨è¿æ¥å±‚" class="headerlink" title="å…¨è¿æ¥å±‚"></a>å…¨è¿æ¥å±‚</h4><p>åœ¨å…¨è¿æ¥å±‚ä¸­ï¼Œç¥ç»å…ƒå¯¹äºå‰ä¸€å±‚ä¸­çš„æ‰€æœ‰æ¿€æ´»æ•°æ®æ˜¯å…¨éƒ¨è¿æ¥çš„ï¼Œè¿™ä¸ªå¸¸è§„ç¥ç»ç½‘ç»œä¸­ä¸€æ ·ã€‚å®ƒä»¬çš„æ¿€æ´»å¯ä»¥å…ˆç”¨çŸ©é˜µä¹˜æ³•ï¼Œå†åŠ ä¸Šåå·®ã€‚æ›´å¤šç»†èŠ‚è¯·æŸ¥çœ‹_ç¥ç»ç½‘ç»œ_ç« èŠ‚ã€‚</p>
<h2 id="æŠŠå…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚"><a href="#æŠŠå…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚" class="headerlink" title="æŠŠå…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚"></a>æŠŠå…¨è¿æ¥å±‚è½¬åŒ–æˆå·ç§¯å±‚</h2><p>å…¨è¿æ¥å±‚å’Œå·ç§¯å±‚ä¹‹é—´å”¯ä¸€çš„ä¸åŒå°±æ˜¯å·ç§¯å±‚ä¸­çš„ç¥ç»å…ƒåªä¸è¾“å…¥æ•°æ®ä¸­çš„ä¸€ä¸ªå±€éƒ¨åŒºåŸŸè¿æ¥ï¼Œå¹¶ä¸”åœ¨å·ç§¯åˆ—ä¸­çš„ç¥ç»å…ƒå…±äº«å‚æ•°ã€‚ç„¶è€Œåœ¨ä¸¤ç±»å±‚ä¸­ï¼Œç¥ç»å…ƒéƒ½æ˜¯è®¡ç®—ç‚¹ç§¯ï¼Œæ‰€ä»¥å®ƒä»¬çš„å‡½æ•°å½¢å¼æ˜¯ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œå°†æ­¤ä¸¤è€…ç›¸äº’è½¬åŒ–æ˜¯å¯èƒ½çš„ï¼š</p>
<ul>
<li>å¯¹äºä»»ä¸€ä¸ªå·ç§¯å±‚ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªèƒ½å®ç°å’Œå®ƒä¸€æ ·çš„å‰å‘ä¼ æ’­å‡½æ•°çš„å…¨è¿æ¥å±‚ã€‚æƒé‡çŸ©é˜µæ˜¯ä¸€ä¸ªå·¨å¤§çš„çŸ©é˜µï¼Œé™¤äº†æŸäº›ç‰¹å®šå—ï¼ˆè¿™æ˜¯å› ä¸ºæœ‰å±€éƒ¨è¿æ¥ï¼‰ï¼Œå…¶ä½™éƒ¨åˆ†éƒ½æ˜¯é›¶ã€‚è€Œåœ¨å…¶ä¸­å¤§éƒ¨åˆ†å—ä¸­ï¼Œå…ƒç´ éƒ½æ˜¯ç›¸ç­‰çš„ï¼ˆå› ä¸ºå‚æ•°å…±äº«ï¼‰ã€‚  </li>
<li>ç›¸åï¼Œä»»ä½•å…¨è¿æ¥å±‚éƒ½å¯ä»¥è¢«è½¬åŒ–ä¸ºå·ç§¯å±‚ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ª$K=4096$çš„å…¨è¿æ¥å±‚ï¼Œè¾“å…¥æ•°æ®ä½“çš„å°ºå¯¸æ˜¯$7 \times 7 \times 512$ï¼Œè¿™ä¸ªå…¨è¿æ¥å±‚å¯ä»¥è¢«ç­‰æ•ˆåœ°çœ‹åšä¸€ä¸ª$F=7,P=0,S=1,K=4096$çš„å·ç§¯å±‚ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†æ»¤æ³¢å™¨çš„å°ºå¯¸è®¾ç½®ä¸ºå’Œè¾“å…¥æ•°æ®ä½“çš„å°ºå¯¸ä¸€è‡´äº†ã€‚å› ä¸ºåªæœ‰ä¸€ä¸ªå•ç‹¬çš„æ·±åº¦åˆ—è¦†ç›–å¹¶æ»‘è¿‡è¾“å…¥æ•°æ®ä½“ï¼Œæ‰€ä»¥è¾“å‡ºå°†å˜æˆ$1 \times 1 \times 4096$ï¼Œè¿™ä¸ªç»“æœå°±å’Œä½¿ç”¨åˆå§‹çš„é‚£ä¸ªå…¨è¿æ¥å±‚ä¸€æ ·äº†ã€‚  </li>
</ul>
<p><strong>å…¨è¿æ¥å±‚è½¬åŒ–ä¸ºå·ç§¯å±‚</strong>ï¼šåœ¨ä¸¤ç§å˜æ¢ä¸­ï¼Œå°†å…¨è¿æ¥å±‚è½¬åŒ–ä¸ºå·ç§¯å±‚åœ¨å®é™…è¿ç”¨ä¸­æ›´åŠ æœ‰ç”¨ã€‚å‡è®¾ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯224x224x3çš„å›¾åƒï¼Œä¸€ç³»åˆ—çš„å·ç§¯å±‚å’Œæ±‡èšå±‚å°†å›¾åƒæ•°æ®å˜ä¸ºå°ºå¯¸ä¸º7x7x512çš„æ¿€æ´»æ•°æ®ä½“ï¼ˆåœ¨AlexNetä¸­å°±æ˜¯è¿™æ ·ï¼Œé€šè¿‡ä½¿ç”¨5ä¸ªæ±‡èšå±‚æ¥å¯¹è¾“å…¥æ•°æ®è¿›è¡Œç©ºé—´ä¸Šçš„é™é‡‡æ ·ï¼Œæ¯æ¬¡å°ºå¯¸ä¸‹é™ä¸€åŠï¼Œæ‰€ä»¥æœ€ç»ˆç©ºé—´å°ºå¯¸ä¸º224/2/2/2/2/2=7ï¼‰ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒAlexNetä½¿ç”¨äº†ä¸¤ä¸ªå°ºå¯¸ä¸º4096çš„å…¨è¿æ¥å±‚ï¼Œæœ€åä¸€ä¸ªæœ‰1000ä¸ªç¥ç»å…ƒçš„å…¨è¿æ¥å±‚ç”¨äºè®¡ç®—åˆ†ç±»è¯„åˆ†ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™3ä¸ªå…¨è¿æ¥å±‚ä¸­çš„ä»»æ„ä¸€ä¸ªè½¬åŒ–ä¸ºå·ç§¯å±‚ï¼š  </p>
<ul>
<li>é’ˆå¯¹ç¬¬ä¸€ä¸ªè¿æ¥åŒºåŸŸæ˜¯[7x7x512]çš„å…¨è¿æ¥å±‚ï¼Œä»¤å…¶æ»¤æ³¢å™¨å°ºå¯¸ä¸º$F=7$ï¼Œè¿™æ ·è¾“å‡ºæ•°æ®ä½“å°±ä¸º[1x1x4096]äº†ã€‚  </li>
<li>é’ˆå¯¹ç¬¬äºŒä¸ªå…¨è¿æ¥å±‚ï¼Œä»¤å…¶æ»¤æ³¢å™¨å°ºå¯¸ä¸º$F=1$ï¼Œè¿™æ ·è¾“å‡ºæ•°æ®ä½“ä¸º[1x1x4096]ã€‚  </li>
<li>å¯¹æœ€åä¸€ä¸ªå…¨è¿æ¥å±‚ä¹Ÿåšç±»ä¼¼çš„ï¼Œä»¤å…¶$F=1$ï¼Œæœ€ç»ˆè¾“å‡ºä¸º[1x1x1000]  </li>
</ul>
<p>å®é™…æ“ä½œä¸­ï¼Œæ¯æ¬¡è¿™æ ·çš„å˜æ¢éƒ½éœ€è¦æŠŠå…¨è¿æ¥å±‚çš„æƒé‡Wé‡å¡‘æˆå·ç§¯å±‚çš„æ»¤æ³¢å™¨ã€‚é‚£ä¹ˆè¿™æ ·çš„è½¬åŒ–æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿå®ƒåœ¨ä¸‹é¢çš„æƒ…å†µä¸‹å¯ä»¥æ›´é«˜æ•ˆï¼šè®©å·ç§¯ç½‘ç»œåœ¨ä¸€å¼ æ›´å¤§çš„è¾“å…¥å›¾ç‰‡ä¸Šæ»‘åŠ¨ï¼ˆ_<strong>è¯‘è€…æ³¨</strong>ï¼šå³æŠŠä¸€å¼ æ›´å¤§çš„å›¾ç‰‡çš„ä¸åŒåŒºåŸŸéƒ½åˆ†åˆ«å¸¦å…¥åˆ°å·ç§¯ç½‘ç»œï¼Œå¾—åˆ°æ¯ä¸ªåŒºåŸŸçš„å¾—åˆ†_ï¼‰ï¼Œå¾—åˆ°å¤šä¸ªè¾“å‡ºï¼Œè¿™æ ·çš„è½¬åŒ–å¯ä»¥è®©æˆ‘ä»¬åœ¨å•ä¸ªå‘å‰ä¼ æ’­çš„è¿‡ç¨‹ä¸­å®Œæˆä¸Šè¿°çš„æ“ä½œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©224x224å°ºå¯¸çš„æµ®çª—ï¼Œä»¥æ­¥é•¿ä¸º32åœ¨384x384çš„å›¾ç‰‡ä¸Šæ»‘åŠ¨ï¼ŒæŠŠæ¯ä¸ªç»åœçš„ä½ç½®éƒ½å¸¦å…¥å·ç§¯ç½‘ç»œï¼Œæœ€åå¾—åˆ°6x6ä¸ªä½ç½®çš„ç±»åˆ«å¾—åˆ†ã€‚ä¸Šè¿°çš„æŠŠå…¨è¿æ¥å±‚è½¬æ¢æˆå·ç§¯å±‚çš„åšæ³•ä¼šæ›´ç®€ä¾¿ã€‚å¦‚æœ224x224çš„è¾“å…¥å›¾ç‰‡ç»è¿‡å·ç§¯å±‚å’Œæ±‡èšå±‚ä¹‹åå¾—åˆ°äº†[7x7x512]çš„æ•°ç»„ï¼Œé‚£ä¹ˆï¼Œ384x384çš„å¤§å›¾ç‰‡ç›´æ¥ç»è¿‡åŒæ ·çš„å·ç§¯å±‚å’Œæ±‡èšå±‚ä¹‹åä¼šå¾—åˆ°[12x12x512]çš„æ•°ç»„ï¼ˆå› ä¸ºé€”å¾„5ä¸ªæ±‡èšå±‚ï¼Œå°ºå¯¸å˜ä¸º384/2/2/2/2/2 = 12ï¼‰ã€‚ç„¶åå†ç»è¿‡ä¸Šé¢ç”±3ä¸ªå…¨è¿æ¥å±‚è½¬åŒ–å¾—åˆ°çš„3ä¸ªå·ç§¯å±‚ï¼Œæœ€ç»ˆå¾—åˆ°[6x6x1000]çš„è¾“å‡ºï¼ˆå› ä¸º(12 - 7)/1 + 1 = 6ï¼‰ã€‚è¿™ä¸ªç»“æœæ­£æ˜¯æµ®çª—åœ¨åŸå›¾ç»åœçš„6x6ä¸ªä½ç½®çš„å¾—åˆ†ï¼ï¼ˆ_<strong>è¯‘è€…æ³¨</strong>ï¼šè¿™ä¸€æ®µçš„ç¿»è¯‘ä¸åŸæ–‡ä¸åŒï¼Œç»è¿‡äº†è¯‘è€…è¾ƒå¤šçš„ä¿®æ”¹ï¼Œä½¿æ›´å®¹æ˜“ç†è§£_ï¼‰</p>
<blockquote>
<p>é¢å¯¹384x384çš„å›¾åƒï¼Œè®©ï¼ˆå«å…¨è¿æ¥å±‚ï¼‰çš„åˆå§‹å·ç§¯ç¥ç»ç½‘ç»œä»¥32åƒç´ çš„æ­¥é•¿ç‹¬ç«‹å¯¹å›¾åƒä¸­çš„224x224å—è¿›è¡Œå¤šæ¬¡è¯„ä»·ï¼Œå…¶æ•ˆæœå’Œä½¿ç”¨æŠŠå…¨è¿æ¥å±‚å˜æ¢ä¸ºå·ç§¯å±‚åçš„å·ç§¯ç¥ç»ç½‘ç»œè¿›è¡Œä¸€æ¬¡å‰å‘ä¼ æ’­æ˜¯ä¸€æ ·çš„ã€‚</p>
</blockquote>
<p>è‡ªç„¶ï¼Œç›¸è¾ƒäºä½¿ç”¨è¢«è½¬åŒ–å‰çš„åŸå§‹å·ç§¯ç¥ç»ç½‘ç»œå¯¹æ‰€æœ‰36ä¸ªä½ç½®è¿›è¡Œè¿­ä»£è®¡ç®—ï¼Œä½¿ç”¨è½¬åŒ–åçš„å·ç§¯ç¥ç»ç½‘ç»œè¿›è¡Œä¸€æ¬¡å‰å‘ä¼ æ’­è®¡ç®—è¦é«˜æ•ˆå¾—å¤šï¼Œå› ä¸º36æ¬¡è®¡ç®—éƒ½åœ¨å…±äº«è®¡ç®—èµ„æºã€‚è¿™ä¸€æŠ€å·§åœ¨å®è·µä¸­ç»å¸¸ä½¿ç”¨ï¼Œä¸€æ¬¡æ¥è·å¾—æ›´å¥½çš„ç»“æœã€‚æ¯”å¦‚ï¼Œé€šå¸¸å°†ä¸€å¼ å›¾åƒå°ºå¯¸å˜å¾—æ›´å¤§ï¼Œç„¶åä½¿ç”¨å˜æ¢åçš„å·ç§¯ç¥ç»ç½‘ç»œæ¥å¯¹ç©ºé—´ä¸Šå¾ˆå¤šä¸åŒä½ç½®è¿›è¡Œè¯„ä»·å¾—åˆ°åˆ†ç±»è¯„åˆ†ï¼Œç„¶ååœ¨æ±‚è¿™äº›åˆ†å€¼çš„å¹³å‡å€¼ã€‚</p>
<p>æœ€åï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç”¨æ­¥é•¿å°äº32çš„æµ®çª—æ€ä¹ˆåŠï¼Ÿç”¨å¤šæ¬¡çš„å‘å‰ä¼ æ’­å°±å¯ä»¥è§£å†³ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³ç”¨æ­¥é•¿ä¸º16çš„æµ®çª—ã€‚é‚£ä¹ˆå…ˆä½¿ç”¨åŸå›¾åœ¨è½¬åŒ–åçš„å·ç§¯ç½‘ç»œæ‰§è¡Œå‘å‰ä¼ æ’­ï¼Œç„¶ååˆ†åˆ«æ²¿å®½åº¦ï¼Œæ²¿é«˜åº¦ï¼Œæœ€ååŒæ—¶æ²¿å®½åº¦å’Œé«˜åº¦ï¼ŒæŠŠåŸå§‹å›¾ç‰‡åˆ†åˆ«å¹³ç§»16ä¸ªåƒç´ ï¼Œç„¶åæŠŠè¿™äº›å¹³ç§»ä¹‹åçš„å›¾åˆ†åˆ«å¸¦å…¥å·ç§¯ç½‘ç»œã€‚ï¼ˆ_<strong>è¯‘è€…æ³¨</strong>ï¼šè¿™ä¸€æ®µçš„ç¿»è¯‘ä¸åŸæ–‡ä¸åŒï¼Œç»è¿‡äº†è¯‘è€…è¾ƒå¤šçš„ä¿®æ”¹ï¼Œä½¿æ›´å®¹æ˜“ç†è§£_ï¼‰</p>
<ul>
<li>Net Surgeryä¸Šä¸€ä¸ªä½¿ç”¨Caffeæ¼”ç¤ºå¦‚ä½•åœ¨è¿›è¡Œå˜æ¢çš„IPython Noteæ•™ç¨‹ã€‚  </li>
</ul>
<h3 id="å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„"><a href="#å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„"></a><strong>å·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„</strong></h3><p>å·ç§¯ç¥ç»ç½‘ç»œé€šå¸¸æ˜¯ç”±ä¸‰ç§å±‚æ„æˆï¼šå·ç§¯å±‚ï¼Œæ±‡èšå±‚ï¼ˆé™¤éç‰¹åˆ«è¯´æ˜ï¼Œä¸€èˆ¬å°±æ˜¯æœ€å¤§å€¼æ±‡èšï¼‰å’Œå…¨è¿æ¥å±‚ï¼ˆç®€ç§°FCï¼‰ã€‚ReLUæ¿€æ´»å‡½æ•°ä¹Ÿåº”è¯¥ç®—æ˜¯æ˜¯ä¸€å±‚ï¼Œå®ƒé€å…ƒç´ åœ°è¿›è¡Œæ¿€æ´»å‡½æ•°æ“ä½œã€‚åœ¨æœ¬èŠ‚ä¸­å°†è®¨è®ºåœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­è¿™äº›å±‚é€šå¸¸æ˜¯å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·çš„ã€‚</p>
<h4 id="å±‚çš„æ’åˆ—è§„å¾‹"><a href="#å±‚çš„æ’åˆ—è§„å¾‹" class="headerlink" title="å±‚çš„æ’åˆ—è§„å¾‹"></a>å±‚çš„æ’åˆ—è§„å¾‹</h4><p>å·ç§¯ç¥ç»ç½‘ç»œæœ€å¸¸è§çš„å½¢å¼å°±æ˜¯å°†ä¸€äº›å·ç§¯å±‚å’ŒReLUå±‚æ”¾åœ¨ä¸€èµ·ï¼Œå…¶åç´§è·Ÿæ±‡èšå±‚ï¼Œç„¶åé‡å¤å¦‚æ­¤ç›´åˆ°å›¾åƒåœ¨ç©ºé—´ä¸Šè¢«ç¼©å°åˆ°ä¸€ä¸ªè¶³å¤Ÿå°çš„å°ºå¯¸ï¼Œåœ¨æŸä¸ªåœ°æ–¹è¿‡æ¸¡æˆæˆå…¨è¿æ¥å±‚ä¹Ÿè¾ƒä¸ºå¸¸è§ã€‚æœ€åçš„å…¨è¿æ¥å±‚å¾—åˆ°è¾“å‡ºï¼Œæ¯”å¦‚åˆ†ç±»è¯„åˆ†ç­‰ã€‚æ¢å¥è¯è¯´ï¼Œæœ€å¸¸è§çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„å¦‚ä¸‹ï¼š</p>
<p><strong>INPUT -&gt; [[CONV -&gt; RELU]<em>N -&gt; POOL?]</em>M -&gt; [FC -&gt; RELU]*K -&gt; FC</strong></p>
<p>å…¶ä¸­<strong>*</strong>æŒ‡çš„æ˜¯é‡å¤æ¬¡æ•°ï¼Œ<strong>POOL?</strong>æŒ‡çš„æ˜¯ä¸€ä¸ªå¯é€‰çš„æ±‡èšå±‚ã€‚å…¶ä¸­<strong>N &gt;=0</strong>,é€šå¸¸<strong>N&lt;=3</strong>,<strong>M&gt;=0</strong>,<strong>K&gt;=0</strong>,é€šå¸¸<strong>K&lt;3</strong>ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ç½‘ç»œç»“æ„è§„å¾‹ï¼š</p>
<ul>
<li><strong>INPUT -&gt; FC</strong>,å®ç°ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œæ­¤å¤„<strong>N = M = K = 0</strong>ã€‚  </li>
<li><strong>INPUT -&gt; CONV -&gt; RELU -&gt; FC</strong>  </li>
<li><strong>INPUT -&gt; [CONV -&gt; RELU -&gt; POOL]*2 -&gt; FC -&gt; RELU -&gt; FC</strong>ã€‚æ­¤å¤„åœ¨æ¯ä¸ªæ±‡èšå±‚ä¹‹é—´æœ‰ä¸€ä¸ªå·ç§¯å±‚ã€‚  </li>
<li><strong>INPUT -&gt; [CONV -&gt; RELU -&gt; CONV -&gt; RELU -&gt; POOL]<em>3 -&gt; [FC -&gt; RELU]</em>2 -&gt; FC</strong>ã€‚æ­¤å¤„æ¯ä¸ªæ±‡èšå±‚å‰æœ‰ä¸¤ä¸ªå·ç§¯å±‚ï¼Œè¿™ä¸ªæ€è·¯é€‚ç”¨äºæ›´å¤§æ›´æ·±çš„ç½‘ç»œï¼Œå› ä¸ºåœ¨æ‰§è¡Œå…·æœ‰ç ´åæ€§çš„æ±‡èšæ“ä½œå‰ï¼Œå¤šé‡çš„å·ç§¯å±‚å¯ä»¥ä»è¾“å…¥æ•°æ®ä¸­å­¦ä¹ åˆ°æ›´å¤šçš„å¤æ‚ç‰¹å¾ã€‚  </li>
</ul>
<p>_å‡ ä¸ªå°æ»¤æ³¢å™¨å·ç§¯å±‚çš„ç»„åˆæ¯”ä¸€ä¸ªå¤§æ»¤æ³¢å™¨å·ç§¯å±‚å¥½_ï¼šå‡è®¾ä½ ä¸€å±‚ä¸€å±‚åœ°é‡å äº†3ä¸ª3x3çš„å·ç§¯å±‚ï¼ˆå±‚ä¸å±‚ä¹‹é—´æœ‰éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼‰ã€‚åœ¨è¿™ä¸ªæ’åˆ—ä¸‹ï¼Œç¬¬ä¸€ä¸ªå·ç§¯å±‚ä¸­çš„æ¯ä¸ªç¥ç»å…ƒéƒ½å¯¹è¾“å…¥æ•°æ®ä½“æœ‰ä¸€ä¸ª3x3çš„è§†é‡ã€‚ç¬¬äºŒä¸ªå·ç§¯å±‚ä¸Šçš„ç¥ç»å…ƒå¯¹ç¬¬ä¸€ä¸ªå·ç§¯å±‚æœ‰ä¸€ä¸ª3x3çš„è§†é‡ï¼Œä¹Ÿå°±æ˜¯å¯¹è¾“å…¥æ•°æ®ä½“æœ‰5x5çš„è§†é‡ã€‚åŒæ ·ï¼Œåœ¨ç¬¬ä¸‰ä¸ªå·ç§¯å±‚ä¸Šçš„ç¥ç»å…ƒå¯¹ç¬¬äºŒä¸ªå·ç§¯å±‚æœ‰3x3çš„è§†é‡ï¼Œä¹Ÿå°±æ˜¯å¯¹è¾“å…¥æ•°æ®ä½“æœ‰7x7çš„è§†é‡ã€‚å‡è®¾ä¸é‡‡ç”¨è¿™3ä¸ª3x3çš„å·ç§¯å±‚ï¼ŒäºŒæ˜¯ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„æœ‰7x7çš„æ„Ÿå—é‡çš„å·ç§¯å±‚ï¼Œé‚£ä¹ˆæ‰€æœ‰ç¥ç»å…ƒçš„æ„Ÿå—é‡ä¹Ÿæ˜¯7x7ï¼Œä½†æ˜¯å°±æœ‰ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼Œå¤šä¸ªå·ç§¯å±‚ä¸éçº¿æ€§çš„æ¿€æ´»å±‚äº¤æ›¿çš„ç»“æ„ï¼Œæ¯”å•ä¸€å·ç§¯å±‚çš„ç»“æ„æ›´èƒ½æå–å‡ºæ·±å±‚çš„æ›´å¥½çš„ç‰¹å¾ã€‚å…¶æ¬¡ï¼Œå‡è®¾æ‰€æœ‰çš„æ•°æ®æœ‰$C$ä¸ªé€šé“ï¼Œé‚£ä¹ˆå•ç‹¬çš„7x7å·ç§¯å±‚å°†ä¼šåŒ…å«$C \times (7 \times 7 \times C)=49C^2$ä¸ªå‚æ•°ï¼Œè€Œ3ä¸ª3x3çš„å·ç§¯å±‚çš„ç»„åˆä»…æœ‰$3 \times (C \times (3 \times 3 \times C))=27C^2$ä¸ªå‚æ•°ã€‚ç›´è§‚è¯´æ¥ï¼Œæœ€å¥½é€‰æ‹©å¸¦æœ‰å°æ»¤æ³¢å™¨çš„å·ç§¯å±‚ç»„åˆï¼Œè€Œä¸æ˜¯ç”¨ä¸€ä¸ªå¸¦æœ‰å¤§çš„æ»¤æ³¢å™¨çš„å·ç§¯å±‚ã€‚å‰è€…å¯ä»¥è¡¨è¾¾å‡ºè¾“å…¥æ•°æ®ä¸­æ›´å¤šä¸ªå¼ºåŠ›ç‰¹å¾ï¼Œä½¿ç”¨çš„å‚æ•°ä¹Ÿæ›´å°‘ã€‚å”¯ä¸€çš„ä¸è¶³æ˜¯ï¼Œåœ¨è¿›è¡Œåå‘ä¼ æ’­æ—¶ï¼Œä¸­é—´çš„å·ç§¯å±‚å¯èƒ½ä¼šå¯¼è‡´å ç”¨æ›´å¤šçš„å†…å­˜ã€‚</p>
<p>æœ€æ–°è¿›å±•ï¼šä¼ ç»Ÿçš„å°†å±‚æŒ‰ç…§çº¿æ€§è¿›è¡Œæ’åˆ—çš„æ–¹æ³•å·²ç»å—åˆ°äº†æŒ‘æˆ˜ï¼ŒæŒ‘æˆ˜æ¥è‡ªè°·æ­Œçš„Inceptionç»“æ„å’Œå¾®è½¯äºšæ´²ç ”ç©¶é™¢çš„æ®‹å·®ç½‘ç»œï¼ˆResidual Netï¼‰ç»“æ„ã€‚è¿™ä¸¤ä¸ªç½‘ç»œï¼ˆä¸‹æ–‡æ¡ˆä¾‹å­¦ä¹ å°èŠ‚ä¸­æœ‰ç»†èŠ‚ï¼‰çš„ç‰¹å¾æ›´åŠ å¤æ‚ï¼Œè¿æ¥ç»“æ„ä¹Ÿä¸åŒã€‚</p>
<h4 id="å±‚çš„å°ºå¯¸è®¾ç½®è§„å¾‹"><a href="#å±‚çš„å°ºå¯¸è®¾ç½®è§„å¾‹" class="headerlink" title="å±‚çš„å°ºå¯¸è®¾ç½®è§„å¾‹"></a>å±‚çš„å°ºå¯¸è®¾ç½®è§„å¾‹</h4><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬éƒ½æ²¡æœ‰æåŠå·ç§¯ç¥ç»ç½‘ç»œä¸­æ¯å±‚çš„è¶…å‚æ•°çš„ä½¿ç”¨ã€‚ç°åœ¨å…ˆä»‹ç»è®¾ç½®ç»“æ„å°ºå¯¸çš„ä¸€èˆ¬æ€§è§„åˆ™ï¼Œç„¶åæ ¹æ®è¿™äº›è§„åˆ™è¿›è¡Œè®¨è®ºï¼š</p>
<p><strong>è¾“å…¥å±‚</strong>ï¼ˆåŒ…å«å›¾åƒçš„ï¼‰åº”è¯¥èƒ½è¢«2æ•´é™¤å¾ˆå¤šæ¬¡ã€‚å¸¸ç”¨æ•°å­—åŒ…æ‹¬32ï¼ˆæ¯”å¦‚CIFAR-10ï¼‰ï¼Œ64ï¼Œ96ï¼ˆæ¯”å¦‚STL-10ï¼‰æˆ–224ï¼ˆæ¯”å¦‚ImageNetå·ç§¯ç¥ç»ç½‘ç»œï¼‰ï¼Œ384å’Œ512ã€‚</p>
<p><strong>å·ç§¯å±‚</strong>åº”è¯¥ä½¿ç”¨å°å°ºå¯¸æ»¤æ³¢å™¨ï¼ˆæ¯”å¦‚3x3æˆ–æœ€å¤š5x5ï¼‰ï¼Œä½¿ç”¨æ­¥é•¿$S=1$ã€‚è¿˜æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå°±æ˜¯å¯¹è¾“å…¥æ•°æ®è¿›è¡Œé›¶å¡«å……ï¼Œè¿™æ ·å·ç§¯å±‚å°±ä¸ä¼šæ”¹å˜è¾“å…¥æ•°æ®åœ¨ç©ºé—´ç»´åº¦ä¸Šçš„å°ºå¯¸ã€‚æ¯”å¦‚ï¼Œå½“$F=3$ï¼Œé‚£å°±ä½¿ç”¨$P=1$æ¥ä¿æŒè¾“å…¥å°ºå¯¸ã€‚å½“$F=5,P=2$ï¼Œä¸€èˆ¬å¯¹äºä»»æ„$F$ï¼Œå½“$P=(F-1)/2$çš„æ—¶å€™èƒ½ä¿æŒè¾“å…¥å°ºå¯¸ã€‚å¦‚æœå¿…é¡»ä½¿ç”¨æ›´å¤§çš„æ»¤æ³¢å™¨å°ºå¯¸ï¼ˆæ¯”å¦‚7x7ä¹‹ç±»ï¼‰ï¼Œé€šå¸¸åªç”¨åœ¨ç¬¬ä¸€ä¸ªé¢å¯¹åŸå§‹å›¾åƒçš„å·ç§¯å±‚ä¸Šã€‚</p>
<p><strong>æ±‡èšå±‚</strong>è´Ÿè´£å¯¹è¾“å…¥æ•°æ®çš„ç©ºé—´ç»´åº¦è¿›è¡Œé™é‡‡æ ·ã€‚æœ€å¸¸ç”¨çš„è®¾ç½®æ˜¯ç”¨ç”¨2x2æ„Ÿå—é‡ï¼ˆå³$F=2$ï¼‰çš„æœ€å¤§å€¼æ±‡èšï¼Œæ­¥é•¿ä¸º2ï¼ˆ$S=2$ï¼‰ã€‚æ³¨æ„è¿™ä¸€æ“ä½œå°†ä¼šæŠŠè¾“å…¥æ•°æ®ä¸­75%çš„æ¿€æ´»æ•°æ®ä¸¢å¼ƒï¼ˆå› ä¸ºå¯¹å®½åº¦å’Œé«˜åº¦éƒ½è¿›è¡Œäº†2çš„é™é‡‡æ ·ï¼‰ã€‚å¦ä¸€ä¸ªä¸é‚£ä¹ˆå¸¸ç”¨çš„è®¾ç½®æ˜¯ä½¿ç”¨3x3çš„æ„Ÿå—é‡ï¼Œæ­¥é•¿ä¸º2ã€‚æœ€å¤§å€¼æ±‡èšçš„æ„Ÿå—é‡å°ºå¯¸å¾ˆå°‘æœ‰è¶…è¿‡3çš„ï¼Œå› ä¸ºæ±‡èšæ“ä½œè¿‡äºæ¿€çƒˆï¼Œæ˜“é€ æˆæ•°æ®ä¿¡æ¯ä¸¢å¤±ï¼Œè¿™é€šå¸¸ä¼šå¯¼è‡´ç®—æ³•æ€§èƒ½å˜å·®ã€‚</p>
<p>_å‡å°‘å°ºå¯¸è®¾ç½®çš„é—®é¢˜_ï¼šä¸Šæ–‡ä¸­å±•ç¤ºçš„ä¸¤ç§è®¾ç½®æ˜¯å¾ˆå¥½çš„ï¼Œå› ä¸ºæ‰€æœ‰çš„å·ç§¯å±‚éƒ½èƒ½ä¿æŒå…¶è¾“å…¥æ•°æ®çš„ç©ºé—´å°ºå¯¸ï¼Œæ±‡èšå±‚åªè´Ÿè´£å¯¹æ•°æ®ä½“ä»ç©ºé—´ç»´åº¦è¿›è¡Œé™é‡‡æ ·ã€‚å¦‚æœä½¿ç”¨çš„æ­¥é•¿å¤§äº1å¹¶ä¸”ä¸å¯¹å·ç§¯å±‚çš„è¾“å…¥æ•°æ®ä½¿ç”¨é›¶å¡«å……ï¼Œé‚£ä¹ˆå°±å¿…é¡»éå¸¸ä»”ç»†åœ°ç›‘ç£è¾“å…¥æ•°æ®ä½“é€šè¿‡æ•´ä¸ªå·ç§¯ç¥ç»ç½‘ç»œç»“æ„çš„è¿‡ç¨‹ï¼Œç¡®è®¤æ‰€æœ‰çš„æ­¥é•¿å’Œæ»¤æ³¢å™¨éƒ½å°ºå¯¸äº’ç›¸å»åˆï¼Œå·ç§¯ç¥ç»ç½‘ç»œçš„ç»“æ„ç¾å¦™å¯¹ç§°åœ°è”ç³»åœ¨ä¸€èµ·ã€‚</p>
<p>_ä¸ºä»€ä¹ˆåœ¨å·ç§¯å±‚ä½¿ç”¨1çš„æ­¥é•¿_ï¼Ÿåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ›´å°çš„æ­¥é•¿æ•ˆæœæ›´å¥½ã€‚ä¸Šæ–‡ä¹Ÿå·²ç»æè¿‡ï¼Œæ­¥é•¿ä¸º1å¯ä»¥è®©ç©ºé—´ç»´åº¦çš„é™é‡‡æ ·å…¨éƒ¨ç”±æ±‡èšå±‚è´Ÿè´£ï¼Œå·ç§¯å±‚åªè´Ÿè´£å¯¹è¾“å…¥æ•°æ®ä½“çš„æ·±åº¦è¿›è¡Œå˜æ¢ã€‚</p>
<p>_ä¸ºä½•ä½¿ç”¨é›¶å¡«å……_ï¼Ÿä½¿ç”¨é›¶å¡«å……é™¤äº†å‰é¢æåˆ°çš„å¯ä»¥è®©å·ç§¯å±‚çš„è¾“å‡ºæ•°æ®ä¿æŒå’Œè¾“å…¥æ•°æ®åœ¨ç©ºé—´ç»´åº¦çš„ä¸å˜ï¼Œè¿˜å¯ä»¥æé«˜ç®—æ³•æ€§èƒ½ã€‚å¦‚æœå·ç§¯å±‚å€¼è¿›è¡Œå·ç§¯è€Œä¸è¿›è¡Œé›¶å¡«å……ï¼Œé‚£ä¹ˆæ•°æ®ä½“çš„å°ºå¯¸å°±ä¼šç•¥å¾®å‡å°ï¼Œé‚£ä¹ˆå›¾åƒè¾¹ç¼˜çš„ä¿¡æ¯å°±ä¼šè¿‡å¿«åœ°æŸå¤±æ‰ã€‚</p>
<p>_å› ä¸ºå†…å­˜é™åˆ¶æ‰€åšçš„å¦¥å_ï¼šåœ¨æŸäº›æ¡ˆä¾‹ï¼ˆå°¤å…¶æ˜¯æ—©æœŸçš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ï¼‰ä¸­ï¼ŒåŸºäºå‰é¢çš„å„ç§è§„åˆ™ï¼Œå†…å­˜çš„ä½¿ç”¨é‡è¿…é€Ÿé£™å‡ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨64ä¸ªå°ºå¯¸ä¸º3x3çš„æ»¤æ³¢å™¨å¯¹224x224x3çš„å›¾åƒè¿›è¡Œå·ç§¯ï¼Œé›¶å¡«å……ä¸º1ï¼Œå¾—åˆ°çš„æ¿€æ´»æ•°æ®ä½“å°ºå¯¸æ˜¯[224x224x64]ã€‚è¿™ä¸ªæ•°é‡å°±æ˜¯ä¸€åƒä¸‡çš„æ¿€æ´»æ•°æ®ï¼Œæˆ–è€…å°±æ˜¯72MBçš„å†…å­˜ï¼ˆæ¯å¼ å›¾å°±æ˜¯è¿™ä¹ˆå¤šï¼Œæ¿€æ´»å‡½æ•°å’Œæ¢¯åº¦éƒ½æ˜¯ï¼‰ã€‚å› ä¸ºGPUé€šå¸¸å› ä¸ºå†…å­˜å¯¼è‡´æ€§èƒ½ç“¶é¢ˆï¼Œæ‰€ä»¥åšå‡ºä¸€äº›å¦¥åæ˜¯å¿…é¡»çš„ã€‚åœ¨å®è·µä¸­ï¼Œäººä»¬å€¾å‘äºåœ¨ç½‘ç»œçš„ç¬¬ä¸€ä¸ªå·ç§¯å±‚åšå‡ºå¦¥åã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å¦¥åå¯èƒ½æ˜¯åœ¨ç¬¬ä¸€ä¸ªå·ç§¯å±‚ä½¿ç”¨æ­¥é•¿ä¸º2ï¼Œå°ºå¯¸ä¸º7x7çš„æ»¤æ³¢å™¨ï¼ˆæ¯”å¦‚åœ¨ZFnetä¸­ï¼‰ã€‚åœ¨AlexNetä¸­ï¼Œæ»¤æ³¢å™¨çš„å°ºå¯¸çš„11x11ï¼Œæ­¥é•¿ä¸º4ã€‚</p>
<h4 id="æ¡ˆä¾‹å­¦ä¹ "><a href="#æ¡ˆä¾‹å­¦ä¹ " class="headerlink" title="æ¡ˆä¾‹å­¦ä¹ "></a>æ¡ˆä¾‹å­¦ä¹ </h4><p>ä¸‹é¢æ˜¯å·ç§¯ç¥ç»ç½‘ç»œé¢†åŸŸä¸­æ¯”è¾ƒæœ‰åçš„å‡ ç§ç»“æ„ï¼š</p>
<ul>
<li><strong>LeNet</strong>ï¼š ç¬¬ä¸€ä¸ªæˆåŠŸçš„å·ç§¯ç¥ç»ç½‘ç»œåº”ç”¨ï¼Œæ˜¯Yann LeCunåœ¨ä¸Šä¸–çºª90å¹´ä»£å®ç°çš„ã€‚å½“ç„¶ï¼Œæœ€è‘—åè¿˜æ˜¯è¢«åº”ç”¨åœ¨è¯†åˆ«æ•°å­—å’Œé‚®æ”¿ç¼–ç ç­‰çš„LeNetç»“æ„ã€‚</li>
<li><strong>AlexNet</strong>ï¼šAlexNetå·ç§¯ç¥ç»ç½‘ç»œåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­å—åˆ°æ¬¢è¿ï¼Œå®ƒç”±Alex Krizhevskyï¼ŒIlya Sutskeverå’ŒGeoff Hintonå®ç°ã€‚AlexNetåœ¨2012å¹´çš„ImageNet ILSVRC ç«èµ›ä¸­å¤ºå† ï¼Œæ€§èƒ½è¿œè¿œè¶…å‡ºç¬¬äºŒåï¼ˆ16%çš„top5é”™è¯¯ç‡ï¼Œç¬¬äºŒåæ˜¯26%çš„top5é”™è¯¯ç‡ï¼‰ã€‚è¿™ä¸ªç½‘ç»œçš„ç»“æ„å’ŒLeNetéå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯æ›´æ·±æ›´å¤§ï¼Œå¹¶ä¸”ä½¿ç”¨äº†å±‚å çš„å·ç§¯å±‚æ¥è·å–ç‰¹å¾ï¼ˆä¹‹å‰é€šå¸¸æ˜¯åªç”¨ä¸€ä¸ªå·ç§¯å±‚å¹¶ä¸”åœ¨å…¶åé©¬ä¸Šè·Ÿç€ä¸€ä¸ªæ±‡èšå±‚ï¼‰ã€‚</li>
<li><strong>ZF Net</strong>ï¼šMatthew Zeilerå’ŒRob Ferguså‘æ˜çš„ç½‘ç»œåœ¨ILSVRC 2013æ¯”èµ›ä¸­å¤ºå† ï¼Œå®ƒè¢«ç§°ä¸º ZFNetï¼ˆZeiler &amp; Fergus Netçš„ç®€ç§°ï¼‰ã€‚å®ƒé€šè¿‡ä¿®æ”¹ç»“æ„ä¸­çš„è¶…å‚æ•°æ¥å®ç°å¯¹AlexNetçš„æ”¹è‰¯ï¼Œå…·ä½“è¯´æ¥å°±æ˜¯å¢åŠ äº†ä¸­é—´å·ç§¯å±‚çš„å°ºå¯¸ï¼Œè®©ç¬¬ä¸€å±‚çš„æ­¥é•¿å’Œæ»¤æ³¢å™¨å°ºå¯¸æ›´å°ã€‚</li>
<li><strong>GoogLeNet</strong>ï¼šILSVRC 2014çš„èƒœåˆ©è€…æ˜¯è°·æ­Œçš„Szegedç­‰å®ç°çš„å·ç§¯ç¥ç»ç½‘ç»œã€‚å®ƒä¸»è¦çš„è´¡çŒ®å°±æ˜¯å®ç°äº†ä¸€ä¸ª_å¥ åŸºæ¨¡å—_ï¼Œå®ƒèƒ½å¤Ÿæ˜¾è‘—åœ°å‡å°‘ç½‘ç»œä¸­å‚æ•°çš„æ•°é‡ï¼ˆAlexNetä¸­æœ‰60Mï¼Œè¯¥ç½‘ç»œä¸­åªæœ‰4Mï¼‰ã€‚è¿˜æœ‰ï¼Œè¿™ä¸ªè®ºæ–‡ä¸­æ²¡æœ‰ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œé¡¶éƒ¨ä½¿ç”¨å…¨è¿æ¥å±‚ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå¹³å‡æ±‡èšï¼ŒæŠŠå¤§é‡ä¸æ˜¯å¾ˆé‡è¦çš„å‚æ•°éƒ½å»é™¤æ‰äº†ã€‚GooLeNetè¿˜æœ‰å‡ ç§æ”¹è¿›çš„ç‰ˆæœ¬ï¼Œæœ€æ–°çš„ä¸€ä¸ªæ˜¯Inception-v4ã€‚</li>
<li><strong>VGGNet</strong>ï¼šILSVRC 2014çš„ç¬¬äºŒåæ˜¯Karen Simonyanå’Œ Andrew Zissermanå®ç°çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œç°åœ¨ç§°å…¶ä¸ºVGGNetã€‚å®ƒä¸»è¦çš„è´¡çŒ®æ˜¯å±•ç¤ºå‡ºç½‘ç»œçš„æ·±åº¦æ˜¯ç®—æ³•ä¼˜è‰¯æ€§èƒ½çš„å…³é”®éƒ¨åˆ†ã€‚ä»–ä»¬æœ€å¥½çš„ç½‘ç»œåŒ…å«äº†16ä¸ªå·ç§¯/å…¨è¿æ¥å±‚ã€‚ç½‘ç»œçš„ç»“æ„éå¸¸ä¸€è‡´ï¼Œä»å¤´åˆ°å°¾å…¨éƒ¨ä½¿ç”¨çš„æ˜¯3x3çš„å·ç§¯å’Œ2x2çš„æ±‡èšã€‚ä»–ä»¬çš„é¢„è®­ç»ƒæ¨¡å‹æ˜¯å¯ä»¥åœ¨ç½‘ç»œä¸Šè·å¾—å¹¶åœ¨Caffeä¸­ä½¿ç”¨çš„ã€‚VGGNetä¸å¥½çš„ä¸€ç‚¹æ˜¯å®ƒè€—è´¹æ›´å¤šè®¡ç®—èµ„æºï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ›´å¤šçš„å‚æ•°ï¼Œå¯¼è‡´æ›´å¤šçš„å†…å­˜å ç”¨ï¼ˆ140Mï¼‰ã€‚å…¶ä¸­ç»å¤§å¤šæ•°çš„å‚æ•°éƒ½æ˜¯æ¥è‡ªäºç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚ã€‚åæ¥å‘ç°è¿™äº›å…¨è¿æ¥å±‚å³ä½¿è¢«å»é™¤ï¼Œå¯¹äºæ€§èƒ½ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå½±å“ï¼Œè¿™æ ·å°±æ˜¾è‘—é™ä½äº†å‚æ•°æ•°é‡ã€‚</li>
<li><strong>ResNet</strong>ï¼šæ®‹å·®ç½‘ç»œï¼ˆResidual Networkï¼‰æ˜¯ILSVRC2015çš„èƒœåˆ©è€…ï¼Œç”±ä½•æºæ˜ç­‰å®ç°ã€‚å®ƒä½¿ç”¨äº†ç‰¹æ®Šçš„_è·³è·ƒé“¾æ¥_ï¼Œå¤§é‡ä½¿ç”¨äº†æ‰¹é‡å½’ä¸€åŒ–ï¼ˆbatch normalizationï¼‰ã€‚è¿™ä¸ªç»“æ„åŒæ ·åœ¨æœ€åæ²¡æœ‰ä½¿ç”¨å…¨è¿æ¥å±‚ã€‚è¯»è€…å¯ä»¥æŸ¥çœ‹ä½•æºæ˜çš„çš„æ¼”è®²ï¼Œä»¥åŠä¸€äº›ä½¿ç”¨Torché‡ç°ç½‘ç»œçš„å®éªŒã€‚ResNetå½“å‰æœ€å¥½çš„å·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼ˆ2016å¹´äº”æœˆï¼‰ã€‚ä½•å¼€æ˜ç­‰æœ€è¿‘çš„å·¥ä½œæ˜¯å¯¹åŸå§‹ç»“æ„åšä¸€äº›ä¼˜åŒ–ï¼Œå¯ä»¥çœ‹è®ºæ–‡Identity Mappings in Deep Residual Networksï¼Œ2016å¹´3æœˆå‘è¡¨ã€‚</li>
</ul>
<p><strong>VGGNetçš„ç»†èŠ‚ï¼š</strong>æˆ‘ä»¬è¿›ä¸€æ­¥å¯¹VGGNetçš„ç»†èŠ‚è¿›è¡Œåˆ†æå­¦ä¹ ã€‚æ•´ä¸ªVGGNetä¸­çš„å·ç§¯å±‚éƒ½æ˜¯ä»¥æ­¥é•¿ä¸º1è¿›è¡Œ3x3çš„å·ç§¯ï¼Œä½¿ç”¨äº†1çš„é›¶å¡«å……ï¼Œæ±‡èšå±‚éƒ½æ˜¯ä»¥æ­¥é•¿ä¸º2è¿›è¡Œäº†2x2çš„æœ€å¤§å€¼æ±‡èšã€‚å¯ä»¥å†™å‡ºå¤„ç†è¿‡ç¨‹ä¸­æ¯ä¸€æ­¥æ•°æ®ä½“å°ºå¯¸çš„å˜åŒ–ï¼Œç„¶åå¯¹æ•°æ®å°ºå¯¸å’Œæ•´ä½“æƒé‡çš„æ•°é‡è¿›è¡ŒæŸ¥çœ‹ï¼š</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">INPUT: [224x224x3]        memory:  <span class="number">224</span>*<span class="number">224</span>*<span class="number">3</span>=150K   weights: <span class="number">0</span></span><br><span class="line">CONV3-<span class="number">64</span>: [224x224x64]  memory:  <span class="number">224</span>*<span class="number">224</span>*<span class="number">64</span>=<span class="number">3.2</span>M   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">3</span>)*<span class="number">64</span> = <span class="number">1</span>,<span class="number">728</span></span><br><span class="line">CONV3-<span class="number">64</span>: [224x224x64]  memory:  <span class="number">224</span>*<span class="number">224</span>*<span class="number">64</span>=<span class="number">3.2</span>M   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">64</span>)*<span class="number">64</span> = <span class="number">36</span>,<span class="number">864</span></span><br><span class="line">POOL2: [112x112x64]  memory:  <span class="number">112</span>*<span class="number">112</span>*<span class="number">64</span>=800K   weights: <span class="number">0</span></span><br><span class="line">CONV3-<span class="number">128</span>: [112x112x128]  memory:  <span class="number">112</span>*<span class="number">112</span>*<span class="number">128</span>=<span class="number">1.6</span>M   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">64</span>)*<span class="number">128</span> = <span class="number">73</span>,<span class="number">728</span></span><br><span class="line">CONV3-<span class="number">128</span>: [112x112x128]  memory:  <span class="number">112</span>*<span class="number">112</span>*<span class="number">128</span>=<span class="number">1.6</span>M   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">128</span>)*<span class="number">128</span> = <span class="number">147</span>,<span class="number">456</span></span><br><span class="line">POOL2: [56x56x128]  memory:  <span class="number">56</span>*<span class="number">56</span>*<span class="number">128</span>=400K   weights: <span class="number">0</span></span><br><span class="line">CONV3-<span class="number">256</span>: [56x56x256]  memory:  <span class="number">56</span>*<span class="number">56</span>*<span class="number">256</span>=800K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">128</span>)*<span class="number">256</span> = <span class="number">294</span>,<span class="number">912</span></span><br><span class="line">CONV3-<span class="number">256</span>: [56x56x256]  memory:  <span class="number">56</span>*<span class="number">56</span>*<span class="number">256</span>=800K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">256</span>)*<span class="number">256</span> = <span class="number">589</span>,<span class="number">824</span></span><br><span class="line">CONV3-<span class="number">256</span>: [56x56x256]  memory:  <span class="number">56</span>*<span class="number">56</span>*<span class="number">256</span>=800K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">256</span>)*<span class="number">256</span> = <span class="number">589</span>,<span class="number">824</span></span><br><span class="line">POOL2: [28x28x256]  memory:  <span class="number">28</span>*<span class="number">28</span>*<span class="number">256</span>=200K   weights: <span class="number">0</span></span><br><span class="line">CONV3-<span class="number">512</span>: [28x28x512]  memory:  <span class="number">28</span>*<span class="number">28</span>*<span class="number">512</span>=400K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">256</span>)*<span class="number">512</span> = <span class="number">1</span>,<span class="number">179</span>,<span class="number">648</span></span><br><span class="line">CONV3-<span class="number">512</span>: [28x28x512]  memory:  <span class="number">28</span>*<span class="number">28</span>*<span class="number">512</span>=400K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">512</span>)*<span class="number">512</span> = <span class="number">2</span>,<span class="number">359</span>,<span class="number">296</span></span><br><span class="line">CONV3-<span class="number">512</span>: [28x28x512]  memory:  <span class="number">28</span>*<span class="number">28</span>*<span class="number">512</span>=400K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">512</span>)*<span class="number">512</span> = <span class="number">2</span>,<span class="number">359</span>,<span class="number">296</span></span><br><span class="line">POOL2: [14x14x512]  memory:  <span class="number">14</span>*<span class="number">14</span>*<span class="number">512</span>=100K   weights: <span class="number">0</span></span><br><span class="line">CONV3-<span class="number">512</span>: [14x14x512]  memory:  <span class="number">14</span>*<span class="number">14</span>*<span class="number">512</span>=100K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">512</span>)*<span class="number">512</span> = <span class="number">2</span>,<span class="number">359</span>,<span class="number">296</span></span><br><span class="line">CONV3-<span class="number">512</span>: [14x14x512]  memory:  <span class="number">14</span>*<span class="number">14</span>*<span class="number">512</span>=100K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">512</span>)*<span class="number">512</span> = <span class="number">2</span>,<span class="number">359</span>,<span class="number">296</span></span><br><span class="line">CONV3-<span class="number">512</span>: [14x14x512]  memory:  <span class="number">14</span>*<span class="number">14</span>*<span class="number">512</span>=100K   weights: (<span class="number">3</span>*<span class="number">3</span>*<span class="number">512</span>)*<span class="number">512</span> = <span class="number">2</span>,<span class="number">359</span>,<span class="number">296</span></span><br><span class="line">POOL2: [7x7x512]  memory:  <span class="number">7</span>*<span class="number">7</span>*<span class="number">512</span>=25K  weights: <span class="number">0</span></span><br><span class="line">FC: [1x1x4096]  memory:  <span class="number">4096</span>  weights: <span class="number">7</span>*<span class="number">7</span>*<span class="number">512</span>*<span class="number">4096</span> = <span class="number">102</span>,<span class="number">760</span>,<span class="number">448</span></span><br><span class="line">FC: [1x1x4096]  memory:  <span class="number">4096</span>  weights: <span class="number">4096</span>*<span class="number">4096</span> = <span class="number">16</span>,<span class="number">777</span>,<span class="number">216</span></span><br><span class="line">FC: [1x1x1000]  memory:  <span class="number">1000</span> weights: <span class="number">4096</span>*<span class="number">1000</span> = <span class="number">4</span>,096,<span class="number">000</span></span><br><span class="line"></span><br><span class="line">TOTAL memory: 24M * <span class="number">4</span> <span class="built_in">bytes</span> ~= 93MB / image (only forward! ~*<span class="number">2</span> <span class="keyword">for</span> bwd)</span><br><span class="line">TOTAL params: 138M parameters</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼Œå¤§éƒ¨åˆ†çš„å†…å­˜å’Œè®¡ç®—æ—¶é—´éƒ½è¢«å‰é¢çš„å·ç§¯å±‚å ç”¨ï¼Œå¤§éƒ¨åˆ†çš„å‚æ•°éƒ½ç”¨åœ¨åé¢çš„å…¨è¿æ¥å±‚ï¼Œè¿™åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå…¨éƒ¨å‚æ•°æœ‰140Mï¼Œä½†ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚å°±åŒ…å«äº†100Mçš„å‚æ•°ã€‚</p>
<h2 id="è®¡ç®—ä¸Šçš„è€ƒé‡"><a href="#è®¡ç®—ä¸Šçš„è€ƒé‡" class="headerlink" title="è®¡ç®—ä¸Šçš„è€ƒé‡"></a>è®¡ç®—ä¸Šçš„è€ƒé‡</h2><p>åœ¨æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œç»“æ„æ—¶ï¼Œæœ€å¤§çš„ç“¶é¢ˆæ˜¯å†…å­˜ç“¶é¢ˆã€‚å¤§éƒ¨åˆ†ç°ä»£GPUçš„å†…å­˜æ˜¯3/4/6GBï¼Œæœ€å¥½çš„GPUå¤§çº¦æœ‰12GBçš„å†…å­˜ã€‚è¦æ³¨æ„ä¸‰ç§å†…å­˜å ç”¨æ¥æºï¼š</p>
<ul>
<li>æ¥è‡ªä¸­é—´æ•°æ®ä½“å°ºå¯¸ï¼šå·ç§¯ç¥ç»ç½‘ç»œä¸­çš„æ¯ä¸€å±‚ä¸­éƒ½æœ‰æ¿€æ´»æ•°æ®ä½“çš„åŸå§‹æ•°å€¼ï¼Œä»¥åŠæŸå¤±å‡½æ•°å¯¹å®ƒä»¬çš„æ¢¯åº¦ï¼ˆå’Œæ¿€æ´»æ•°æ®ä½“å°ºå¯¸ä¸€è‡´ï¼‰ã€‚é€šå¸¸ï¼Œå¤§éƒ¨åˆ†æ¿€æ´»æ•°æ®éƒ½æ˜¯åœ¨ç½‘ç»œä¸­é å‰çš„å±‚ä¸­ï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªå·ç§¯å±‚ï¼‰ã€‚åœ¨è®­ç»ƒæ—¶ï¼Œè¿™äº›æ•°æ®éœ€è¦æ”¾åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºåå‘ä¼ æ’­çš„æ—¶å€™è¿˜ä¼šç”¨åˆ°ã€‚ä½†æ˜¯åœ¨æµ‹è¯•æ—¶å¯ä»¥èªæ˜ç‚¹ï¼šè®©ç½‘ç»œåœ¨æµ‹è¯•è¿è¡Œæ—¶å€™æ¯å±‚éƒ½åªå­˜å‚¨å½“å‰çš„æ¿€æ´»æ•°æ®ï¼Œç„¶åä¸¢å¼ƒå‰é¢å±‚çš„æ¿€æ´»æ•°æ®ï¼Œè¿™æ ·å°±èƒ½å‡å°‘å·¨å¤§çš„æ¿€æ´»æ•°æ®é‡ã€‚  </li>
<li>æ¥è‡ªå‚æ•°å°ºå¯¸ï¼šå³æ•´ä¸ªç½‘ç»œçš„å‚æ•°çš„æ•°é‡ï¼Œåœ¨åå‘ä¼ æ’­æ—¶å®ƒä»¬çš„æ¢¯åº¦å€¼ï¼Œä»¥åŠä½¿ç”¨momentumã€Adagradæˆ–RMSPropç­‰æ–¹æ³•è¿›è¡Œæœ€ä¼˜åŒ–æ—¶çš„æ¯ä¸€æ­¥è®¡ç®—ç¼“å­˜ã€‚å› æ­¤ï¼Œå­˜å‚¨å‚æ•°å‘é‡çš„å†…å­˜é€šå¸¸éœ€è¦åœ¨å‚æ•°å‘é‡çš„å®¹é‡åŸºç¡€ä¸Šä¹˜ä»¥3æˆ–è€…æ›´å¤šã€‚  </li>
<li>å·ç§¯ç¥ç»ç½‘ç»œå®ç°è¿˜æœ‰å„ç§é›¶æ•£çš„å†…å­˜å ç”¨ï¼Œæ¯”å¦‚æˆæ‰¹çš„è®­ç»ƒæ•°æ®ï¼Œæ‰©å……çš„æ•°æ®ç­‰ç­‰ã€‚  </li>
</ul>
<p>ä¸€æ—¦å¯¹äºæ‰€æœ‰è¿™äº›æ•°å€¼çš„æ•°é‡æœ‰äº†ä¸€ä¸ªå¤§ç•¥ä¼°è®¡ï¼ˆåŒ…å«æ¿€æ´»æ•°æ®ï¼Œæ¢¯åº¦å’Œå„ç§æ‚é¡¹ï¼‰ï¼Œæ•°é‡åº”è¯¥è½¬åŒ–ä¸ºä»¥GBä¸ºè®¡é‡å•ä½ã€‚æŠŠè¿™ä¸ªå€¼ä¹˜ä»¥4ï¼Œå¾—åˆ°åŸå§‹çš„å­—èŠ‚æ•°ï¼ˆå› ä¸ºæ¯ä¸ªæµ®ç‚¹æ•°å ç”¨4ä¸ªå­—èŠ‚ï¼Œå¦‚æœæ˜¯åŒç²¾åº¦æµ®ç‚¹æ•°é‚£å°±æ˜¯å ç”¨8ä¸ªå­—èŠ‚ï¼‰ï¼Œç„¶åå¤šæ¬¡é™¤ä»¥1024åˆ†åˆ«å¾—åˆ°å ç”¨å†…å­˜çš„KBï¼ŒMBï¼Œæœ€åæ˜¯GBè®¡é‡ã€‚å¦‚æœä½ çš„ç½‘ç»œå·¥ä½œå¾—ä¸å¥½ï¼Œä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•æ˜¯é™ä½æ‰¹å°ºå¯¸ï¼ˆbatch sizeï¼‰ï¼Œå› ä¸ºç»å¤§å¤šæ•°çš„å†…å­˜éƒ½æ˜¯è¢«æ¿€æ´»æ•°æ®æ¶ˆè€—æ‰äº†ã€‚</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ åå‘ä¼ æ’­</title>
    <url>/2024/05/17/13-29-46/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.17ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<p>å†…å®¹åˆ—è¡¨ï¼š</p>
<ul>
<li>ç®€ä»‹</li>
<li>ç®€å•è¡¨è¾¾å¼å’Œç†è§£æ¢¯åº¦</li>
<li>å¤åˆè¡¨è¾¾å¼ï¼Œé“¾å¼æ³•åˆ™ï¼Œåå‘ä¼ æ’­</li>
<li>ç›´è§‚ç†è§£åå‘ä¼ æ’­</li>
<li>æ¨¡å—ï¼šSigmoidä¾‹å­</li>
<li>åå‘ä¼ æ’­å®è·µï¼šåˆ†æ®µè®¡ç®—</li>
<li>å›ä¼ æµä¸­çš„æ¨¡å¼</li>
<li>ç”¨æˆ·å‘é‡åŒ–æ“ä½œçš„æ¢¯åº¦</li>
<li>å°ç»“</li>
</ul>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong>ç›®æ ‡</strong>ï¼šæœ¬èŠ‚å°†å¸®åŠ©è¯»è€…å¯¹<strong>åå‘ä¼ æ’­</strong>å½¢æˆç›´è§‚è€Œä¸“ä¸šçš„ç†è§£ã€‚åå‘ä¼ æ’­æ˜¯åˆ©ç”¨<strong>é“¾å¼æ³•åˆ™</strong>é€’å½’è®¡ç®—è¡¨è¾¾å¼çš„æ¢¯åº¦çš„æ–¹æ³•ã€‚ç†è§£åå‘ä¼ æ’­è¿‡ç¨‹åŠå…¶ç²¾å¦™ä¹‹å¤„ï¼Œå¯¹äºç†è§£ã€å®ç°ã€è®¾è®¡å’Œè°ƒè¯•ç¥ç»ç½‘ç»œéå¸¸<strong>å…³é”®</strong>ã€‚  </p>
<p><strong>é—®é¢˜é™ˆè¿°</strong>ï¼šè¿™èŠ‚çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šç»™å®šå‡½æ•°$f(x)$, å…¶ä¸­$x$æ˜¯è¾“å…¥æ•°æ®çš„å‘é‡ï¼Œéœ€è¦è®¡ç®—å‡½æ•°$f$å…³äº$x$çš„æ¢¯åº¦ï¼Œä¹Ÿå°±æ˜¯$\nabla f(x)$ã€‚</p>
<p><strong>ç›®æ ‡</strong>ï¼šä¹‹æ‰€ä»¥å…³æ³¨ä¸Šè¿°é—®é¢˜ï¼Œæ˜¯å› ä¸ºåœ¨ç¥ç»ç½‘ç»œä¸­$f$å¯¹åº”çš„æ˜¯æŸå¤±å‡½æ•°ï¼ˆ$L$ï¼‰ï¼Œè¾“å…¥$x$é‡Œé¢åŒ…å«è®­ç»ƒæ•°æ®å’Œç¥ç»ç½‘ç»œçš„æƒé‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒæŸå¤±å‡½æ•°å¯ä»¥æ˜¯SVMçš„æŸå¤±å‡½æ•°ï¼Œè¾“å…¥åˆ™åŒ…å«äº†è®­ç»ƒæ•°æ®$(x_i,y_i),i=1â€¦N$ã€æƒé‡$W$å’Œåå·®$b$ã€‚æ³¨æ„è®­ç»ƒé›†æ˜¯ç»™å®šçš„ï¼ˆåœ¨æœºå™¨å­¦ä¹ ä¸­é€šå¸¸éƒ½æ˜¯è¿™æ ·ï¼‰ï¼Œè€Œæƒé‡æ˜¯å¯ä»¥æ§åˆ¶çš„å˜é‡ã€‚å› æ­¤ï¼Œå³ä½¿èƒ½ç”¨åå‘ä¼ æ’­è®¡ç®—è¾“å…¥æ•°æ®$x_i$ ä¸Šçš„æ¢¯åº¦ï¼Œä½†åœ¨å®è·µä¸ºäº†è¿›è¡Œå‚æ•°æ›´æ–°ï¼Œé€šå¸¸ä¹Ÿåªè®¡ç®—å‚æ•°ï¼ˆæ¯”å¦‚$W,b$ï¼‰çš„æ¢¯åº¦ã€‚ç„¶è€Œ$x_i$çš„æ¢¯åº¦æœ‰æ—¶ä»ç„¶æ˜¯æœ‰ç”¨çš„ï¼šæ¯”å¦‚å°†ç¥ç»ç½‘ç»œæ‰€åšçš„äº‹æƒ…å¯è§†åŒ–ä¾¿äºç›´è§‚ç†è§£çš„æ—¶å€™ï¼Œå°±èƒ½ç”¨ä¸Šã€‚</p>
<p>å¦‚æœè¯»è€…ä¹‹å‰å¯¹äºåˆ©ç”¨é“¾å¼æ³•åˆ™è®¡ç®—åå¾®åˆ†å·²ç»å¾ˆç†Ÿç»ƒï¼Œä»ç„¶å»ºè®®æµè§ˆæœ¬ç¯‡ç¬”è®°ã€‚å› ä¸ºå®ƒå‘ˆç°äº†ä¸€ä¸ªç›¸å¯¹æˆç†Ÿçš„åå‘ä¼ æ’­è§†è§’ï¼Œåœ¨è¯¥è§†è§’ä¸­èƒ½çœ‹è§åŸºäºå®æ•°å€¼å›è·¯çš„åå‘ä¼ æ’­è¿‡ç¨‹ï¼Œè€Œå¯¹å…¶ç»†èŠ‚çš„ç†è§£å’Œæ”¶è·å°†å¸®åŠ©è¯»è€…æ›´å¥½åœ°é€šè¿‡æœ¬è¯¾ç¨‹ã€‚  </p>
<h2 id="ç®€å•è¡¨è¾¾å¼å’Œç†è§£æ¢¯åº¦"><a href="#ç®€å•è¡¨è¾¾å¼å’Œç†è§£æ¢¯åº¦" class="headerlink" title="ç®€å•è¡¨è¾¾å¼å’Œç†è§£æ¢¯åº¦"></a>ç®€å•è¡¨è¾¾å¼å’Œç†è§£æ¢¯åº¦</h2><p>ä»ç®€å•è¡¨è¾¾å¼å…¥æ‰‹å¯ä»¥ä¸ºå¤æ‚è¡¨è¾¾å¼æ‰“å¥½ç¬¦å·å’Œè§„åˆ™åŸºç¡€ã€‚å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„äºŒå…ƒä¹˜æ³•å‡½æ•°$f(x,y)=xy$ã€‚å¯¹ä¸¤ä¸ªè¾“å…¥å˜é‡åˆ†åˆ«æ±‚åå¯¼æ•°è¿˜æ˜¯å¾ˆç®€å•çš„ï¼š  </p>
<p>$\displaystyle f(x,y)=xy \to \frac {df}{dx}=y \quad \frac {df}{dy}=x$  </p>
<p><strong>è§£é‡Š</strong>ï¼šç‰¢è®°è¿™äº›å¯¼æ•°çš„æ„ä¹‰ï¼šå‡½æ•°å˜é‡åœ¨æŸä¸ªç‚¹å‘¨å›´çš„æå°åŒºåŸŸå†…å˜åŒ–ï¼Œè€Œå¯¼æ•°å°±æ˜¯å˜é‡å˜åŒ–å¯¼è‡´çš„å‡½æ•°åœ¨è¯¥æ–¹å‘ä¸Šçš„å˜åŒ–ç‡ã€‚  </p>
<p>$\displaystyle \frac{df(x)}{dx}= \lim_{h \to 0}\frac{f(x+h)-f(x)}{h}$</p>
<p>æ³¨æ„ç­‰å·å·¦è¾¹çš„åˆ†å·å’Œç­‰å·å³è¾¹çš„åˆ†å·ä¸åŒï¼Œä¸æ˜¯ä»£è¡¨åˆ†æ•°ã€‚ç›¸åï¼Œè¿™ä¸ªç¬¦å·è¡¨ç¤ºæ“ä½œç¬¦$\frac{d}{dx}$è¢«åº”ç”¨äºå‡½æ•°$f$ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸åŒçš„å‡½æ•°ï¼ˆå¯¼æ•°ï¼‰ã€‚å¯¹äºä¸Šè¿°å…¬å¼ï¼Œå¯ä»¥è®¤ä¸º$h$å€¼éå¸¸å°ï¼Œå‡½æ•°å¯ä»¥è¢«ä¸€æ¡ç›´çº¿è¿‘ä¼¼ï¼Œè€Œå¯¼æ•°å°±æ˜¯è¿™æ¡ç›´çº¿çš„æ–œç‡ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªå˜é‡çš„å¯¼æ•°æŒ‡æ˜äº†æ•´ä¸ªè¡¨è¾¾å¼å¯¹äºè¯¥å˜é‡çš„å€¼çš„æ•æ„Ÿç¨‹åº¦ã€‚æ¯”å¦‚ï¼Œè‹¥$x=4,y=-3$ï¼Œåˆ™$f(x,y)=-12$ï¼Œ$x$çš„å¯¼æ•°$\frac{\partial f}{\partial x}=-3$ã€‚è¿™å°±è¯´æ˜å¦‚æœå°†å˜é‡$x$çš„å€¼å˜å¤§ä¸€ç‚¹ï¼Œæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼å°±ä¼šå˜å°ï¼ˆåŸå› åœ¨äºè´Ÿå·ï¼‰ï¼Œè€Œä¸”å˜å°çš„é‡æ˜¯$x$å˜å¤§çš„é‡çš„ä¸‰å€ã€‚é€šè¿‡é‡æ–°æ’åˆ—å…¬å¼å¯ä»¥çœ‹åˆ°è¿™ä¸€ç‚¹ï¼ˆ$f(x+h)=f(x)+h \frac{df(x)}{dx}$ï¼‰ã€‚åŒæ ·ï¼Œå› ä¸º$\frac{\partial f}{\partial y}=4$ï¼Œå¯ä»¥çŸ¥é“å¦‚æœå°†$y$çš„å€¼å¢åŠ $h$ï¼Œé‚£ä¹ˆå‡½æ•°çš„è¾“å‡ºä¹Ÿå°†å¢åŠ ï¼ˆåŸå› åœ¨äºæ­£å·ï¼‰ï¼Œä¸”å¢åŠ é‡æ˜¯$4h$ã€‚  </p>
<p>&gt; å‡½æ•°å…³äºæ¯ä¸ªå˜é‡çš„å¯¼æ•°æŒ‡æ˜äº†æ•´ä¸ªè¡¨è¾¾å¼å¯¹äºè¯¥å˜é‡çš„æ•æ„Ÿç¨‹åº¦ã€‚  </p>
<p>å¦‚ä¸Šæ‰€è¿°ï¼Œæ¢¯åº¦$\nabla f$æ˜¯åå¯¼æ•°çš„å‘é‡ï¼Œæ‰€ä»¥æœ‰$\nabla f(x)=[\frac{\partial f}{\partial x},\frac{\partial f}{\partial y}]=[y,x]$ã€‚å³ä½¿æ˜¯æ¢¯åº¦å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‘é‡ï¼Œä»ç„¶é€šå¸¸ä½¿ç”¨ç±»ä¼¼â€xä¸Šçš„æ¢¯åº¦â€çš„æœ¯è¯­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¦‚â€xçš„åå¯¼æ•°â€çš„æ­£ç¡®è¯´æ³•ï¼ŒåŸå› æ˜¯å› ä¸ºå‰è€…è¯´èµ·æ¥ç®€å•ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹åŠ æ³•æ“ä½œæ±‚å¯¼ï¼š  </p>
<p>$\displaystyle f(x,y)=x+y \to \frac {df}{dx}=1 \quad \frac {df}{dy}=1$</p>
<p>è¿™å°±æ˜¯è¯´ï¼Œæ— è®ºå…¶å€¼å¦‚ä½•ï¼Œ$x,y$çš„å¯¼æ•°å‡ä¸º1ã€‚è¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºæ— è®ºå¢åŠ $x,y$ä¸­ä»»ä¸€ä¸ªçš„å€¼ï¼Œå‡½æ•°$f$çš„å€¼éƒ½ä¼šå¢åŠ ï¼Œå¹¶ä¸”å¢åŠ çš„å˜åŒ–ç‡ç‹¬ç«‹äº$[x,y]$çš„å…·ä½“å€¼ï¼ˆæƒ…å†µå’Œä¹˜æ³•æ“ä½œä¸åŒï¼‰ã€‚å–æœ€å¤§å€¼æ“ä½œä¹Ÿæ˜¯å¸¸å¸¸ä½¿ç”¨çš„ï¼š<br>$\displaystyle f(x,y)=max(x,y) \to \frac {df}{dx}=1 (x&gt;=y) \quad \frac {df}{dy}=1 (y&gt;=x)$ </p>
<p>ä¸Šå¼æ˜¯è¯´ï¼Œå¦‚æœè¯¥å˜é‡æ¯”å¦ä¸€ä¸ªå˜é‡å¤§ï¼Œé‚£ä¹ˆæ¢¯åº¦æ˜¯1ï¼Œåä¹‹ä¸º0ã€‚ä¾‹å¦‚ï¼Œè‹¥$x=4,y=2$ï¼Œé‚£ä¹ˆ$max$æ˜¯4ï¼Œæ‰€ä»¥å‡½æ•°å¯¹äº$y$å°±ä¸æ•æ„Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨$y$ä¸Šå¢åŠ $h$ï¼Œå‡½æ•°è¿˜æ˜¯è¾“å‡ºä¸º4ï¼Œæ‰€ä»¥æ¢¯åº¦æ˜¯0ï¼šå› ä¸ºå¯¹äºå‡½æ•°è¾“å‡ºæ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚å½“ç„¶ï¼Œå¦‚æœç»™$y$å¢åŠ ä¸€ä¸ªå¾ˆå¤§çš„é‡ï¼Œæ¯”å¦‚å¤§äº2ï¼Œé‚£ä¹ˆå‡½æ•°$f$çš„å€¼å°±å˜åŒ–äº†ï¼Œä½†æ˜¯å¯¼æ•°å¹¶æ²¡æœ‰æŒ‡æ˜è¾“å…¥é‡æœ‰å·¨å¤§å˜åŒ–æƒ…å†µå¯¹äºå‡½æ•°çš„æ•ˆæœï¼Œä»–ä»¬åªé€‚ç”¨äºè¾“å…¥é‡å˜åŒ–æå°æ—¶çš„æƒ…å†µï¼Œå› ä¸ºå®šä¹‰å·²ç»æŒ‡æ˜ï¼š$\displaystyle \lim_{h \to 0}$ã€‚  </p>
<h2 id="ä½¿ç”¨é“¾å¼æ³•åˆ™è®¡ç®—å¤åˆè¡¨è¾¾å¼"><a href="#ä½¿ç”¨é“¾å¼æ³•åˆ™è®¡ç®—å¤åˆè¡¨è¾¾å¼" class="headerlink" title="ä½¿ç”¨é“¾å¼æ³•åˆ™è®¡ç®—å¤åˆè¡¨è¾¾å¼"></a>ä½¿ç”¨é“¾å¼æ³•åˆ™è®¡ç®—å¤åˆè¡¨è¾¾å¼</h2><p>ç°åœ¨è€ƒè™‘æ›´å¤æ‚çš„åŒ…å«å¤šä¸ªå‡½æ•°çš„å¤åˆå‡½æ•°ï¼Œæ¯”å¦‚$f(x,y,z)=(x+y)z$ã€‚è™½ç„¶è¿™ä¸ªè¡¨è¾¾è¶³å¤Ÿç®€å•ï¼Œå¯ä»¥ç›´æ¥å¾®åˆ†ï¼Œä½†æ˜¯åœ¨æ­¤ä½¿ç”¨ä¸€ç§æœ‰åŠ©äºè¯»è€…ç›´è§‚ç†è§£åå‘ä¼ æ’­çš„æ–¹æ³•ã€‚å°†å…¬å¼åˆ†æˆä¸¤éƒ¨åˆ†ï¼š$q=x+y$å’Œ$f=qz$ã€‚åœ¨å‰é¢å·²ç»ä»‹ç»è¿‡å¦‚ä½•å¯¹è¿™åˆ†å¼€çš„ä¸¤ä¸ªå…¬å¼è¿›è¡Œè®¡ç®—ï¼Œå› ä¸º$f$æ˜¯$q$å’Œ$z$ç›¸ä¹˜ï¼Œæ‰€ä»¥$\displaystyle \frac{\partial f}{\partial q}=z,\frac{\partial f}{\partial z}=q$ï¼Œåˆå› ä¸º$q$æ˜¯$x$åŠ $y$ï¼Œæ‰€ä»¥$\displaystyle \frac{\partial q}{\partial x}=1,\frac{\partial q}{\partial y}=1$ã€‚ç„¶è€Œï¼Œå¹¶ä¸éœ€è¦å…³å¿ƒä¸­é—´é‡$q$çš„æ¢¯åº¦ï¼Œå› ä¸º$\frac{\partial f}{\partial q}$æ²¡æœ‰ç”¨ã€‚ç›¸åï¼Œå‡½æ•°$f$å…³äº$x,y,z$çš„æ¢¯åº¦æ‰æ˜¯éœ€è¦å…³æ³¨çš„ã€‚<strong>é“¾å¼æ³•åˆ™</strong>æŒ‡å‡ºå°†è¿™äº›æ¢¯åº¦è¡¨è¾¾å¼é“¾æ¥èµ·æ¥çš„æ­£ç¡®æ–¹å¼æ˜¯ç›¸ä¹˜ï¼Œæ¯”å¦‚$\displaystyle \frac{\partial f}{\partial x}=\frac{\partial f}{\partial q}\frac{\partial q}{\partial x}$ã€‚åœ¨å®é™…æ“ä½œä¸­ï¼Œè¿™åªæ˜¯ç®€å•åœ°å°†ä¸¤ä¸ªæ¢¯åº¦æ•°å€¼ç›¸ä¹˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®è¾“å…¥å€¼</span></span><br><span class="line">x = -<span class="number">2</span>; y = <span class="number">5</span>; z = -<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œå‰å‘ä¼ æ’­</span></span><br><span class="line">q = x + y <span class="comment"># q becomes 3</span></span><br><span class="line">f = q * z <span class="comment"># f becomes -12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œåå‘ä¼ æ’­:</span></span><br><span class="line"><span class="comment"># é¦–å…ˆå›ä¼ åˆ° f = q * z</span></span><br><span class="line">dfdz = q <span class="comment"># df/dz = q, æ‰€ä»¥å…³äºzçš„æ¢¯åº¦æ˜¯3</span></span><br><span class="line">dfdq = z <span class="comment"># df/dq = z, æ‰€ä»¥å…³äºqçš„æ¢¯åº¦æ˜¯-4</span></span><br><span class="line"><span class="comment"># ç°åœ¨å›ä¼ åˆ°q = x + y</span></span><br><span class="line">dfdx = <span class="number">1.0</span> * dfdq <span class="comment"># dq/dx = 1. è¿™é‡Œçš„ä¹˜æ³•æ˜¯å› ä¸ºé“¾å¼æ³•åˆ™</span></span><br><span class="line">dfdy = <span class="number">1.0</span> * dfdq <span class="comment"># dq/dy = 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>æœ€åå¾—åˆ°å˜é‡çš„æ¢¯åº¦[<strong>dfdx, dfdy, dfdz]</strong>ï¼Œå®ƒä»¬å‘Šè¯‰æˆ‘ä»¬å‡½æ•°<strong>f</strong>å¯¹äºå˜é‡[<strong>x, y, z]</strong>çš„æ•æ„Ÿç¨‹åº¦ã€‚è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„åå‘ä¼ æ’­ã€‚ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€ä¸ªæ›´ç®€æ´çš„è¡¨è¾¾ç¬¦å·ï¼Œè¿™æ ·å°±ä¸ç”¨å†™<strong>df</strong>äº†ã€‚è¿™å°±æ˜¯è¯´ï¼Œç”¨<strong>dq</strong>æ¥ä»£æ›¿<strong>dfdq</strong>ï¼Œä¸”æ€»æ˜¯å‡è®¾æ¢¯åº¦æ˜¯å…³äºæœ€ç»ˆè¾“å‡ºçš„ã€‚</p>
<p>è¿™æ¬¡è®¡ç®—å¯ä»¥è¢«å¯è§†åŒ–ä¸ºå¦‚ä¸‹è®¡ç®—çº¿è·¯å›¾åƒï¼š  </p>
<img src="/2024/05/17/13-29-46/213da7f66594510b45989bd134fc2d8b_b.jpg" class>
<p>ä¸Šå›¾çš„çœŸå®å€¼è®¡ç®—çº¿è·¯å±•ç¤ºäº†è®¡ç®—çš„è§†è§‰åŒ–è¿‡ç¨‹ã€‚<strong>å‰å‘ä¼ æ’­</strong>ä»è¾“å…¥è®¡ç®—åˆ°è¾“å‡ºï¼ˆç»¿è‰²ï¼‰ï¼Œ<strong>åå‘ä¼ æ’­</strong>ä»å°¾éƒ¨å¼€å§‹ï¼Œæ ¹æ®é“¾å¼æ³•åˆ™é€’å½’åœ°å‘å‰è®¡ç®—æ¢¯åº¦ï¼ˆæ˜¾ç¤ºä¸ºçº¢è‰²ï¼‰ï¼Œä¸€ç›´åˆ°ç½‘ç»œçš„è¾“å…¥ç«¯ã€‚å¯ä»¥è®¤ä¸ºï¼Œæ¢¯åº¦æ˜¯ä»è®¡ç®—é“¾è·¯ä¸­å›æµã€‚</p>
<h2 id="åå‘ä¼ æ’­çš„ç›´è§‚ç†è§£"><a href="#åå‘ä¼ æ’­çš„ç›´è§‚ç†è§£" class="headerlink" title="åå‘ä¼ æ’­çš„ç›´è§‚ç†è§£"></a>åå‘ä¼ æ’­çš„ç›´è§‚ç†è§£</h2><p>åå‘ä¼ æ’­æ˜¯ä¸€ä¸ªä¼˜ç¾çš„å±€éƒ¨è¿‡ç¨‹ã€‚åœ¨æ•´ä¸ªè®¡ç®—çº¿è·¯å›¾ä¸­ï¼Œæ¯ä¸ªé—¨å•å…ƒéƒ½ä¼šå¾—åˆ°ä¸€äº›è¾“å…¥å¹¶ç«‹å³è®¡ç®—ä¸¤ä¸ªä¸œè¥¿ï¼š1. è¿™ä¸ªé—¨çš„è¾“å‡ºå€¼ï¼Œå’Œ2.å…¶è¾“å‡ºå€¼å…³äºè¾“å…¥å€¼çš„å±€éƒ¨æ¢¯åº¦ã€‚é—¨å•å…ƒå®Œæˆè¿™ä¸¤ä»¶äº‹æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå®ƒä¸éœ€è¦çŸ¥é“è®¡ç®—çº¿è·¯ä¸­çš„å…¶ä»–ç»†èŠ‚ã€‚ç„¶è€Œï¼Œä¸€æ—¦å‰å‘ä¼ æ’­å®Œæ¯•ï¼Œåœ¨åå‘ä¼ æ’­çš„è¿‡ç¨‹ä¸­ï¼Œé—¨å•å…ƒé—¨å°†æœ€ç»ˆè·å¾—æ•´ä¸ªç½‘ç»œçš„æœ€ç»ˆè¾“å‡ºå€¼åœ¨è‡ªå·±çš„è¾“å‡ºå€¼ä¸Šçš„æ¢¯åº¦ã€‚é“¾å¼æ³•åˆ™æŒ‡å‡ºï¼Œé—¨å•å…ƒåº”è¯¥å°†å›ä¼ çš„æ¢¯åº¦ä¹˜ä»¥å®ƒå¯¹å…¶çš„è¾“å…¥çš„å±€éƒ¨æ¢¯åº¦ï¼Œä»è€Œå¾—åˆ°æ•´ä¸ªç½‘ç»œçš„è¾“å‡ºå¯¹è¯¥é—¨å•å…ƒçš„æ¯ä¸ªè¾“å…¥å€¼çš„æ¢¯åº¦ã€‚</p>
<p>&gt; è¿™é‡Œå¯¹äºæ¯ä¸ªè¾“å…¥çš„ä¹˜æ³•æ“ä½œæ˜¯åŸºäºé“¾å¼æ³•åˆ™çš„ã€‚è¯¥æ“ä½œè®©ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„é—¨å•å…ƒå˜æˆå¤æ‚è®¡ç®—çº¿è·¯ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ªå¤æ‚è®¡ç®—çº¿è·¯å¯ä»¥æ˜¯ç¥ç»ç½‘ç»œç­‰ã€‚  </p>
<p>ä¸‹é¢é€šè¿‡ä¾‹å­æ¥å¯¹è¿™ä¸€è¿‡ç¨‹è¿›è¡Œç†è§£ã€‚åŠ æ³•é—¨æ”¶åˆ°äº†è¾“å…¥[-2, 5]ï¼Œè®¡ç®—è¾“å‡ºæ˜¯3ã€‚æ—¢ç„¶è¿™ä¸ªé—¨æ˜¯åŠ æ³•æ“ä½œï¼Œé‚£ä¹ˆå¯¹äºä¸¤ä¸ªè¾“å…¥çš„å±€éƒ¨æ¢¯åº¦éƒ½æ˜¯+1ã€‚ç½‘ç»œçš„å…¶ä½™éƒ¨åˆ†è®¡ç®—å‡ºæœ€ç»ˆå€¼ä¸º-12ã€‚åœ¨åå‘ä¼ æ’­æ—¶å°†é€’å½’åœ°ä½¿ç”¨é“¾å¼æ³•åˆ™ï¼Œç®—åˆ°åŠ æ³•é—¨ï¼ˆæ˜¯ä¹˜æ³•é—¨çš„è¾“å…¥ï¼‰çš„æ—¶å€™ï¼ŒçŸ¥é“åŠ æ³•é—¨çš„è¾“å‡ºçš„æ¢¯åº¦æ˜¯-4ã€‚å¦‚æœç½‘ç»œå¦‚æœæƒ³è¦è¾“å‡ºå€¼æ›´é«˜ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºå®ƒä¼šæƒ³è¦åŠ æ³•é—¨çš„è¾“å‡ºæ›´å°ä¸€ç‚¹ï¼ˆå› ä¸ºè´Ÿå·ï¼‰ï¼Œè€Œä¸”è¿˜æœ‰ä¸€ä¸ª4çš„å€æ•°ã€‚ç»§ç»­é€’å½’å¹¶å¯¹æ¢¯åº¦ä½¿ç”¨é“¾å¼æ³•åˆ™ï¼ŒåŠ æ³•é—¨æ‹¿åˆ°æ¢¯åº¦ï¼Œç„¶åæŠŠè¿™ä¸ªæ¢¯åº¦åˆ†åˆ«ä¹˜åˆ°æ¯ä¸ªè¾“å…¥å€¼çš„å±€éƒ¨æ¢¯åº¦ï¼ˆå°±æ˜¯è®©-4ä¹˜ä»¥<strong>x</strong>å’Œ<strong>y</strong>çš„å±€éƒ¨æ¢¯åº¦ï¼Œxå’Œyçš„å±€éƒ¨æ¢¯åº¦éƒ½æ˜¯1ï¼Œæ‰€ä»¥æœ€ç»ˆéƒ½æ˜¯-4ï¼‰ã€‚å¯ä»¥çœ‹åˆ°å¾—åˆ°äº†æƒ³è¦çš„æ•ˆæœï¼šå¦‚æœ<strong>xï¼Œyå‡å°</strong>ï¼ˆå®ƒä»¬çš„æ¢¯åº¦ä¸ºè´Ÿï¼‰ï¼Œé‚£ä¹ˆåŠ æ³•é—¨çš„è¾“å‡ºå€¼å‡å°ï¼Œè¿™ä¼šè®©ä¹˜æ³•é—¨çš„è¾“å‡ºå€¼å¢å¤§ã€‚  </p>
<p>å› æ­¤ï¼Œåå‘ä¼ æ’­å¯ä»¥çœ‹åšæ˜¯é—¨å•å…ƒä¹‹é—´åœ¨é€šè¿‡æ¢¯åº¦ä¿¡å·ç›¸äº’é€šä¿¡ï¼Œåªè¦è®©å®ƒä»¬çš„è¾“å…¥æ²¿ç€æ¢¯åº¦æ–¹å‘å˜åŒ–ï¼Œæ— è®ºå®ƒä»¬è‡ªå·±çš„è¾“å‡ºå€¼åœ¨ä½•ç§ç¨‹åº¦ä¸Šå‡æˆ–é™ä½ï¼Œéƒ½æ˜¯ä¸ºäº†è®©æ•´ä¸ªç½‘ç»œçš„è¾“å‡ºå€¼æ›´é«˜ã€‚  </p>
<h2 id="æ¨¡å—åŒ–ï¼šSigmoidä¾‹å­"><a href="#æ¨¡å—åŒ–ï¼šSigmoidä¾‹å­" class="headerlink" title="æ¨¡å—åŒ–ï¼šSigmoidä¾‹å­"></a>æ¨¡å—åŒ–ï¼šSigmoidä¾‹å­</h2><p>ä¸Šé¢ä»‹ç»çš„é—¨æ˜¯ç›¸å¯¹éšæ„çš„ã€‚ä»»ä½•å¯å¾®åˆ†çš„å‡½æ•°éƒ½å¯ä»¥çœ‹åšé—¨ã€‚å¯ä»¥å°†å¤šä¸ªé—¨ç»„åˆæˆä¸€ä¸ªé—¨ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å°†ä¸€ä¸ªå‡½æ•°åˆ†æ‹†æˆå¤šä¸ªé—¨ã€‚ç°åœ¨çœ‹çœ‹ä¸€ä¸ªè¡¨è¾¾å¼ï¼š  </p>
<p>$\displaystyle f(w,x)=\frac{1}{1+e^{-(w_0x_0+w_1x_1+w_2)}}$</p>
<p>åœ¨åé¢çš„è¯¾ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè¡¨è¾¾å¼æè¿°äº†ä¸€ä¸ªå«è¾“å…¥<strong>x</strong>å’Œæƒé‡<strong>w</strong>çš„2ç»´çš„ç¥ç»å…ƒï¼Œè¯¥ç¥ç»å…ƒä½¿ç”¨äº†_sigmoidæ¿€æ´»_å‡½æ•°ã€‚ä½†æ˜¯ç°åœ¨åªæ˜¯çœ‹åšæ˜¯ä¸€ä¸ªç®€å•çš„è¾“å…¥ä¸º$x$å’Œ$w$ï¼Œè¾“å‡ºä¸ºä¸€ä¸ªæ•°å­—çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ˜¯ç”±å¤šä¸ªé—¨ç»„æˆçš„ã€‚é™¤äº†ä¸Šæ–‡ä»‹ç»çš„åŠ æ³•é—¨ï¼Œä¹˜æ³•é—¨ï¼Œå–æœ€å¤§å€¼é—¨ï¼Œè¿˜æœ‰ä¸‹é¢è¿™4ç§ï¼š</p>
<p>$\displaystyle f(x)=frac{1}{x} \to \frac{df}{dx}=-1/x^2$<br>$\displaystyle f_c(x)=c+x \to \frac{df}{dx}=1$<br>$\displaystyle f(x)=e^x \to \frac{df}{dx}=e^x$<br>$\displaystyle f_a(x)=ax \to \frac{df}{dx}=a$</p>
<p>å…¶ä¸­ï¼Œå‡½æ•°$f_c$ä½¿ç”¨å¯¹è¾“å…¥å€¼è¿›è¡Œäº†å¸¸é‡$c$çš„å¹³ç§»ï¼Œ$f_a$å°†è¾“å…¥å€¼æ‰©å¤§äº†å¸¸é‡$a$å€ã€‚å®ƒä»¬æ˜¯åŠ æ³•å’Œä¹˜æ³•çš„ç‰¹ä¾‹ï¼Œä½†æ˜¯è¿™é‡Œå°†å…¶çœ‹åšä¸€å…ƒé—¨å•å…ƒï¼Œå› ä¸ºç¡®å®éœ€è¦è®¡ç®—å¸¸é‡$c,a$çš„æ¢¯åº¦ã€‚æ•´ä¸ªè®¡ç®—çº¿è·¯å¦‚ä¸‹ï¼š</p>
<img src="/2024/05/17/13-29-46/0799b3d6e5e92245ee937db3c26d1b80_b.png" class>
<p>ä½¿ç”¨sigmoidæ¿€æ´»å‡½æ•°çš„2ç»´ç¥ç»å…ƒçš„ä¾‹å­ã€‚è¾“å…¥æ˜¯[x0, x1]ï¼Œå¯å­¦ä¹ çš„æƒé‡æ˜¯[w0, w1, w2]ã€‚ä¸€ä¼šå„¿ä¼šçœ‹è§ï¼Œè¿™ä¸ªç¥ç»å…ƒå¯¹è¾“å…¥æ•°æ®åšç‚¹ç§¯è¿ç®—ï¼Œç„¶åå…¶æ¿€æ´»æ•°æ®è¢«sigmoidå‡½æ•°æŒ¤å‹åˆ°0åˆ°1ä¹‹é—´ã€‚  </p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹è§ä¸€ä¸ªå‡½æ•°æ“ä½œçš„é•¿é“¾æ¡ï¼Œé“¾æ¡ä¸Šçš„é—¨éƒ½å¯¹<strong>w</strong>å’Œ<strong>x</strong>çš„ç‚¹ç§¯ç»“æœè¿›è¡Œæ“ä½œã€‚è¯¥å‡½æ•°è¢«ç§°ä¸ºsigmoidå‡½æ•°$\sigma (x)$ã€‚sigmoidå‡½æ•°å…³äºå…¶è¾“å…¥çš„æ±‚å¯¼æ˜¯å¯ä»¥ç®€åŒ–çš„(ä½¿ç”¨äº†åœ¨åˆ†å­ä¸Šå…ˆåŠ åå‡1çš„æŠ€å·§)ï¼š</p>
<p>$\displaystyle \sigma(x)=\frac{1}{1+e^{-x}}$<br>$\displaystyle \to \frac{d \sigma(x)}{dx}=\frac{e^{-x}}{(1+e^{-x})^2}=(\frac{1+e^{-x}-1}{1+e^{-x}})(\frac{1}{1+e^{-x}})=(1-\sigma(x))\sigma(x)$</p>
<p>å¯ä»¥çœ‹åˆ°æ¢¯åº¦è®¡ç®—ç®€å•äº†å¾ˆå¤šã€‚ä¸¾ä¸ªä¾‹å­ï¼Œsigmoidè¡¨è¾¾å¼è¾“å…¥ä¸º1.0ï¼Œåˆ™åœ¨å‰å‘ä¼ æ’­ä¸­è®¡ç®—å‡ºè¾“å‡ºä¸º0.73ã€‚æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œå±€éƒ¨æ¢¯åº¦ä¸º(1-0.73)*0.73~=0.2ï¼Œå’Œä¹‹å‰çš„è®¡ç®—æµç¨‹æ¯”èµ·æ¥ï¼Œç°åœ¨çš„è®¡ç®—ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„ç®€å•è¡¨è¾¾å¼å³å¯ã€‚å› æ­¤ï¼Œåœ¨å®é™…çš„åº”ç”¨ä¸­å°†è¿™äº›æ“ä½œè£…è¿›ä¸€ä¸ªå•ç‹¬çš„é—¨å•å…ƒä¸­å°†ä¼šéå¸¸æœ‰ç”¨ã€‚è¯¥ç¥ç»å…ƒåå‘ä¼ æ’­çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">w = [<span class="number">2</span>,-<span class="number">3</span>,-<span class="number">3</span>] <span class="comment"># å‡è®¾ä¸€äº›éšæœºæ•°æ®å’Œæƒé‡</span></span><br><span class="line">x = [-<span class="number">1</span>, -<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">dot = w[<span class="number">0</span>]*x[<span class="number">0</span>] + w[<span class="number">1</span>]*x[<span class="number">1</span>] + w[<span class="number">2</span>]</span><br><span class="line">f = <span class="number">1.0</span> / (<span class="number">1</span> + math.exp(-dot)) <span class="comment"># sigmoidå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹ç¥ç»å…ƒåå‘ä¼ æ’­</span></span><br><span class="line">ddot = (<span class="number">1</span> - f) * f <span class="comment"># ç‚¹ç§¯å˜é‡çš„æ¢¯åº¦, ä½¿ç”¨sigmoidå‡½æ•°æ±‚å¯¼</span></span><br><span class="line">dx = [w[<span class="number">0</span>] * ddot, w[<span class="number">1</span>] * ddot] <span class="comment"># å›ä¼ åˆ°x</span></span><br><span class="line">dw = [x[<span class="number">0</span>] * ddot, x[<span class="number">1</span>] * ddot, <span class="number">1.0</span> * ddot] <span class="comment"># å›ä¼ åˆ°w</span></span><br><span class="line"><span class="comment"># å®Œæˆï¼å¾—åˆ°è¾“å…¥çš„æ¢¯åº¦</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><br><strong>å®ç°æç¤ºï¼šåˆ†æ®µåå‘ä¼ æ’­</strong>ã€‚ä¸Šé¢çš„ä»£ç å±•ç¤ºäº†åœ¨å®é™…æ“ä½œä¸­ï¼Œä¸ºäº†ä½¿åå‘ä¼ æ’­è¿‡ç¨‹æ›´åŠ ç®€æ´ï¼ŒæŠŠå‘å‰ä¼ æ’­åˆ†æˆä¸åŒçš„é˜¶æ®µå°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä¸­é—´å˜é‡<strong>dot</strong>ï¼Œå®ƒè£…ç€<strong>w</strong>å’Œ<strong>x</strong>çš„ç‚¹ä¹˜ç»“æœã€‚åœ¨åå‘ä¼ æ’­çš„æ—¶ï¼Œå°±å¯ä»¥ï¼ˆåå‘åœ°ï¼‰è®¡ç®—å‡ºè£…ç€<strong>w</strong>å’Œ<strong>x</strong>ç­‰çš„æ¢¯åº¦çš„å¯¹åº”çš„å˜é‡ï¼ˆæ¯”å¦‚<strong>ddot</strong>ï¼Œ<strong>dx</strong>å’Œ<strong>dw</strong>ï¼‰ã€‚</p>
<p>æœ¬èŠ‚çš„è¦ç‚¹å°±æ˜¯å±•ç¤ºåå‘ä¼ æ’­çš„ç»†èŠ‚è¿‡ç¨‹ï¼Œä»¥åŠå‰å‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œå“ªäº›å‡½æ•°å¯ä»¥è¢«ç»„åˆæˆé—¨ï¼Œä»è€Œå¯ä»¥è¿›è¡Œç®€åŒ–ã€‚çŸ¥é“è¡¨è¾¾å¼ä¸­å“ªéƒ¨åˆ†çš„å±€éƒ¨æ¢¯åº¦è®¡ç®—æ¯”è¾ƒç®€æ´éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·ä»–ä»¬å¯ä»¥â€é“¾â€åœ¨ä¸€èµ·ï¼Œè®©ä»£ç é‡æ›´å°‘ï¼Œæ•ˆç‡æ›´é«˜ã€‚  </p>
<h2 id="åå‘ä¼ æ’­å®è·µï¼šåˆ†æ®µè®¡ç®—"><a href="#åå‘ä¼ æ’­å®è·µï¼šåˆ†æ®µè®¡ç®—" class="headerlink" title="åå‘ä¼ æ’­å®è·µï¼šåˆ†æ®µè®¡ç®—"></a>åå‘ä¼ æ’­å®è·µï¼šåˆ†æ®µè®¡ç®—</h2><p>çœ‹å¦ä¸€ä¸ªä¾‹å­ã€‚å‡è®¾æœ‰å¦‚ä¸‹å‡½æ•°ï¼š  </p>
<p>$\displaystyle f(x,y)=\frac{x+\sigma(y)}{\sigma(x)+(x+y)^2}$</p>
<p>é¦–å…ˆè¦è¯´çš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°å®Œå…¨æ²¡ç”¨ï¼Œè¯»è€…æ˜¯ä¸ä¼šç”¨åˆ°å®ƒæ¥è¿›è¡Œæ¢¯åº¦è®¡ç®—çš„ï¼Œè¿™é‡Œåªæ˜¯ç”¨æ¥ä½œä¸ºå®è·µåå‘ä¼ æ’­çš„ä¸€ä¸ªä¾‹å­ï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œå¦‚æœå¯¹$x$æˆ–$y$è¿›è¡Œå¾®åˆ†è¿ç®—ï¼Œè¿ç®—ç»“æŸåä¼šå¾—åˆ°ä¸€ä¸ªå·¨å¤§è€Œå¤æ‚çš„è¡¨è¾¾å¼ã€‚ç„¶è€Œåšå¦‚æ­¤å¤æ‚çš„è¿ç®—å®é™…ä¸Šå¹¶æ— å¿…è¦ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦ä¸€ä¸ªæ˜ç¡®çš„å‡½æ•°æ¥è®¡ç®—æ¢¯åº¦ï¼Œåªéœ€çŸ¥é“å¦‚ä½•ä½¿ç”¨åå‘ä¼ æ’­è®¡ç®—æ¢¯åº¦å³å¯ã€‚ä¸‹é¢æ˜¯æ„å»ºå‰å‘ä¼ æ’­çš„ä»£ç æ¨¡å¼ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">x = <span class="number">3</span> <span class="comment"># ä¾‹å­æ•°å€¼</span></span><br><span class="line">y = -<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">sigy = <span class="number">1.0</span> / (<span class="number">1</span> + math.exp(-y)) <span class="comment"># åˆ†å­ä¸­çš„sigmoi          #(1)</span></span><br><span class="line">num = x + sigy <span class="comment"># åˆ†å­                                    #(2)</span></span><br><span class="line">sigx = <span class="number">1.0</span> / (<span class="number">1</span> + math.exp(-x)) <span class="comment"># åˆ†æ¯ä¸­çš„sigmoid         #(3)</span></span><br><span class="line">xpy = x + y                                              <span class="comment">#(4)</span></span><br><span class="line">xpysqr = xpy**<span class="number">2</span>                                          <span class="comment">#(5)</span></span><br><span class="line">den = sigx + xpysqr <span class="comment"># åˆ†æ¯                                #(6)</span></span><br><span class="line">invden = <span class="number">1.0</span> / den                                       <span class="comment">#(7)</span></span><br><span class="line">f = num * invden <span class="comment"># æå®šï¼                                 #(8)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>åˆ°äº†è¡¨è¾¾å¼çš„æœ€åï¼Œå°±å®Œæˆäº†å‰å‘ä¼ æ’­ã€‚æ³¨æ„åœ¨æ„å»ºä»£ç sæ—¶åˆ›å»ºäº†å¤šä¸ªä¸­é—´å˜é‡ï¼Œæ¯ä¸ªéƒ½æ˜¯æ¯”è¾ƒç®€å•çš„è¡¨è¾¾å¼ï¼Œå®ƒä»¬è®¡ç®—å±€éƒ¨æ¢¯åº¦çš„æ–¹æ³•æ˜¯å·²çŸ¥çš„ã€‚è¿™æ ·è®¡ç®—åå‘ä¼ æ’­å°±ç®€å•äº†ï¼šæˆ‘ä»¬å¯¹å‰å‘ä¼ æ’­æ—¶äº§ç”Ÿæ¯ä¸ªå˜é‡(<strong>sigy, num, sigx, xpy, xpysqr, den, invden</strong>)è¿›è¡Œå›ä¼ ã€‚æˆ‘ä»¬ä¼šæœ‰åŒæ ·æ•°é‡çš„å˜é‡ï¼Œä½†æ˜¯éƒ½ä»¥<strong>d</strong>å¼€å¤´ï¼Œç”¨æ¥å­˜å‚¨å¯¹åº”å˜é‡çš„æ¢¯åº¦ã€‚æ³¨æ„åœ¨åå‘ä¼ æ’­çš„æ¯ä¸€å°å—ä¸­éƒ½å°†åŒ…å«äº†è¡¨è¾¾å¼çš„å±€éƒ¨æ¢¯åº¦ï¼Œç„¶åæ ¹æ®ä½¿ç”¨é“¾å¼æ³•åˆ™ä¹˜ä»¥ä¸Šæ¸¸æ¢¯åº¦ã€‚å¯¹äºæ¯è¡Œä»£ç ï¼Œæˆ‘ä»¬å°†æŒ‡æ˜å…¶å¯¹åº”çš„æ˜¯å‰å‘ä¼ æ’­çš„å“ªéƒ¨åˆ†ã€‚</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å›ä¼  f = num * invden</span></span><br><span class="line">dnum = invden <span class="comment"># åˆ†å­çš„æ¢¯åº¦                                         #(8)</span></span><br><span class="line">dinvden = num                                                     <span class="comment">#(8)</span></span><br><span class="line"><span class="comment"># å›ä¼  invden = 1.0 / den </span></span><br><span class="line">dden = (-<span class="number">1.0</span> / (den**<span class="number">2</span>)) * dinvden                                <span class="comment">#(7)</span></span><br><span class="line"><span class="comment"># å›ä¼  den = sigx + xpysqr</span></span><br><span class="line">dsigx = (<span class="number">1</span>) * dden                                                <span class="comment">#(6)</span></span><br><span class="line">dxpysqr = (<span class="number">1</span>) * dden                                              <span class="comment">#(6)</span></span><br><span class="line"><span class="comment"># å›ä¼  xpysqr = xpy**2</span></span><br><span class="line">dxpy = (<span class="number">2</span> * xpy) * dxpysqr                                        <span class="comment">#(5)</span></span><br><span class="line"><span class="comment"># å›ä¼  xpy = x + y</span></span><br><span class="line">dx = (<span class="number">1</span>) * dxpy                                                   <span class="comment">#(4)</span></span><br><span class="line">dy = (<span class="number">1</span>) * dxpy                                                   <span class="comment">#(4)</span></span><br><span class="line"><span class="comment"># å›ä¼  sigx = 1.0 / (1 + math.exp(-x))</span></span><br><span class="line">dx += ((<span class="number">1</span> - sigx) * sigx) * dsigx <span class="comment"># Notice += !! See notes below  #(3)</span></span><br><span class="line"><span class="comment"># å›ä¼  num = x + sigy</span></span><br><span class="line">dx += (<span class="number">1</span>) * dnum                                                  <span class="comment">#(2)</span></span><br><span class="line">dsigy = (<span class="number">1</span>) * dnum                                                <span class="comment">#(2)</span></span><br><span class="line"><span class="comment"># å›ä¼  sigy = 1.0 / (1 + math.exp(-y))</span></span><br><span class="line">dy += ((<span class="number">1</span> - sigy) * sigy) * dsigy                                 <span class="comment">#(1)</span></span><br><span class="line"><span class="comment"># å®Œæˆ! å—·~~</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>éœ€è¦æ³¨æ„çš„ä¸€äº›ä¸œè¥¿ï¼š</p>
<p><strong>å¯¹å‰å‘ä¼ æ’­å˜é‡è¿›è¡Œç¼“å­˜</strong>ï¼šåœ¨è®¡ç®—åå‘ä¼ æ’­æ—¶ï¼Œå‰å‘ä¼ æ’­è¿‡ç¨‹ä¸­å¾—åˆ°çš„ä¸€äº›ä¸­é—´å˜é‡éå¸¸æœ‰ç”¨ã€‚åœ¨å®é™…æ“ä½œä¸­ï¼Œæœ€å¥½ä»£ç å®ç°å¯¹äºè¿™äº›ä¸­é—´å˜é‡çš„ç¼“å­˜ï¼Œè¿™æ ·åœ¨åå‘ä¼ æ’­çš„æ—¶å€™ä¹Ÿèƒ½ç”¨ä¸Šå®ƒä»¬ã€‚å¦‚æœè¿™æ ·åšè¿‡äºå›°éš¾ï¼Œä¹Ÿå¯ä»¥ï¼ˆä½†æ˜¯æµªè´¹è®¡ç®—èµ„æºï¼‰é‡æ–°è®¡ç®—å®ƒä»¬ã€‚</p>
<p><strong>åœ¨ä¸åŒåˆ†æ”¯çš„æ¢¯åº¦è¦ç›¸åŠ </strong>ï¼šå¦‚æœå˜é‡xï¼Œyåœ¨å‰å‘ä¼ æ’­çš„è¡¨è¾¾å¼ä¸­å‡ºç°å¤šæ¬¡ï¼Œé‚£ä¹ˆè¿›è¡Œåå‘ä¼ æ’­çš„æ—¶å€™å°±è¦éå¸¸å°å¿ƒï¼Œä½¿ç”¨ <strong>+=</strong> è€Œä¸æ˜¯ <strong>=</strong> æ¥ç´¯è®¡è¿™äº›å˜é‡çš„æ¢¯åº¦ï¼ˆä¸ç„¶å°±ä¼šé€ æˆè¦†å†™ï¼‰ã€‚è¿™æ˜¯éµå¾ªäº†åœ¨å¾®ç§¯åˆ†ä¸­çš„_å¤šå…ƒé“¾å¼æ³•åˆ™_ï¼Œè¯¥æ³•åˆ™æŒ‡å‡ºå¦‚æœå˜é‡åœ¨çº¿è·¯ä¸­åˆ†æ”¯èµ°å‘ä¸åŒçš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆæ¢¯åº¦åœ¨å›ä¼ çš„æ—¶å€™ï¼Œå°±åº”è¯¥è¿›è¡Œç´¯åŠ ã€‚</p>
<h2 id="å›ä¼ æµä¸­çš„æ¨¡å¼"><a href="#å›ä¼ æµä¸­çš„æ¨¡å¼" class="headerlink" title="å›ä¼ æµä¸­çš„æ¨¡å¼"></a>å›ä¼ æµä¸­çš„æ¨¡å¼</h2><p>ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡æ˜¯åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œåå‘ä¼ æ’­ä¸­çš„æ¢¯åº¦å¯ä»¥è¢«å¾ˆç›´è§‚åœ°è§£é‡Šã€‚ä¾‹å¦‚ç¥ç»ç½‘ç»œä¸­æœ€å¸¸ç”¨çš„åŠ æ³•ã€ä¹˜æ³•å’Œå–æœ€å¤§å€¼è¿™ä¸‰ä¸ªé—¨å•å…ƒï¼Œå®ƒä»¬åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­çš„è¡Œä¸ºéƒ½æœ‰éå¸¸ç®€å•çš„è§£é‡Šã€‚å…ˆçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š  </p>
<img src="/2024/05/17/13-29-46/39162d0c528144362cc09f1965d710d1_b.jpg" class>
<p>ä¸€ä¸ªå±•ç¤ºåå‘ä¼ æ’­çš„ä¾‹å­ã€‚åŠ æ³•æ“ä½œå°†æ¢¯åº¦ç›¸ç­‰åœ°åˆ†å‘ç»™å®ƒçš„è¾“å…¥ã€‚å–æœ€å¤§æ“ä½œå°†æ¢¯åº¦è·¯ç”±ç»™æ›´å¤§çš„è¾“å…¥ã€‚ä¹˜æ³•é—¨æ‹¿å–è¾“å…¥æ¿€æ´»æ•°æ®ï¼Œå¯¹å®ƒä»¬è¿›è¡Œäº¤æ¢ï¼Œç„¶åä¹˜ä»¥æ¢¯åº¦ã€‚  </p>
<p>ä»ä¸Šä¾‹å¯çŸ¥ï¼š</p>
<p><strong>åŠ æ³•é—¨å•å…ƒ</strong>æŠŠè¾“å‡ºçš„æ¢¯åº¦ç›¸ç­‰åœ°åˆ†å‘ç»™å®ƒæ‰€æœ‰çš„è¾“å…¥ï¼Œè¿™ä¸€è¡Œä¸ºä¸è¾“å…¥å€¼åœ¨å‰å‘ä¼ æ’­æ—¶çš„å€¼æ— å…³ã€‚è¿™æ˜¯å› ä¸ºåŠ æ³•æ“ä½œçš„å±€éƒ¨æ¢¯åº¦éƒ½æ˜¯ç®€å•çš„+1ï¼Œæ‰€ä»¥æ‰€æœ‰è¾“å…¥çš„æ¢¯åº¦å®é™…ä¸Šå°±ç­‰äºè¾“å‡ºçš„æ¢¯åº¦ï¼Œå› ä¸ºä¹˜ä»¥1.0ä¿æŒä¸å˜ã€‚ä¸Šä¾‹ä¸­ï¼ŒåŠ æ³•é—¨æŠŠæ¢¯åº¦2.00ä¸å˜ä¸”ç›¸ç­‰åœ°è·¯ç”±ç»™äº†ä¸¤ä¸ªè¾“å…¥ã€‚</p>
<p><strong>å–æœ€å¤§å€¼é—¨å•å…ƒ</strong>å¯¹æ¢¯åº¦åšè·¯ç”±ã€‚å’ŒåŠ æ³•é—¨ä¸åŒï¼Œå–æœ€å¤§å€¼é—¨å°†æ¢¯åº¦è½¬ç»™å…¶ä¸­ä¸€ä¸ªè¾“å…¥ï¼Œè¿™ä¸ªè¾“å…¥æ˜¯åœ¨å‰å‘ä¼ æ’­ä¸­å€¼æœ€å¤§çš„é‚£ä¸ªè¾“å…¥ã€‚è¿™æ˜¯å› ä¸ºåœ¨å–æœ€å¤§å€¼é—¨ä¸­ï¼Œæœ€é«˜å€¼çš„å±€éƒ¨æ¢¯åº¦æ˜¯1.0ï¼Œå…¶ä½™çš„æ˜¯0ã€‚ä¸Šä¾‹ä¸­ï¼Œå–æœ€å¤§å€¼é—¨å°†æ¢¯åº¦2.00è½¬ç»™äº†<strong>z</strong>å˜é‡ï¼Œå› ä¸º<strong>z</strong>çš„å€¼æ¯”<strong>w</strong>é«˜ï¼Œäºæ˜¯<strong>w</strong>çš„æ¢¯åº¦ä¿æŒä¸º0ã€‚</p>
<p><strong>ä¹˜æ³•é—¨å•å…ƒ</strong>ç›¸å¯¹ä¸å®¹æ˜“è§£é‡Šã€‚å®ƒçš„å±€éƒ¨æ¢¯åº¦å°±æ˜¯è¾“å…¥å€¼ï¼Œä½†æ˜¯æ˜¯ç›¸äº’äº¤æ¢ä¹‹åçš„ï¼Œç„¶åæ ¹æ®é“¾å¼æ³•åˆ™ä¹˜ä»¥è¾“å‡ºå€¼çš„æ¢¯åº¦ã€‚ä¸Šä¾‹ä¸­ï¼Œ<strong>x</strong>çš„æ¢¯åº¦æ˜¯-4.00x2.00=-8.00ã€‚<br>$f=x*y\ \frac{\partial f}{\partial x}=y$<br>_éç›´è§‚å½±å“åŠå…¶ç»“æœ_ã€‚æ³¨æ„ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„æƒ…å†µï¼Œå¦‚æœä¹˜æ³•é—¨å•å…ƒçš„å…¶ä¸­ä¸€ä¸ªè¾“å…¥éå¸¸å°ï¼Œè€Œå¦ä¸€ä¸ªè¾“å…¥éå¸¸å¤§ï¼Œé‚£ä¹ˆä¹˜æ³•é—¨çš„æ“ä½œå°†ä¼šä¸æ˜¯é‚£ä¹ˆç›´è§‚ï¼šå®ƒå°†ä¼šæŠŠå¤§çš„æ¢¯åº¦åˆ†é…ç»™å°çš„è¾“å…¥ï¼ŒæŠŠå°çš„æ¢¯åº¦åˆ†é…ç»™å¤§çš„è¾“å…¥ã€‚åœ¨çº¿æ€§åˆ†ç±»å™¨ä¸­ï¼Œæƒé‡å’Œè¾“å…¥æ˜¯è¿›è¡Œç‚¹ç§¯$w^Tx_i$ï¼Œè¿™è¯´æ˜è¾“å…¥æ•°æ®çš„å¤§å°å¯¹äºæƒé‡æ¢¯åº¦çš„å¤§å°æœ‰å½±å“ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­å¯¹æ‰€æœ‰è¾“å…¥æ•°æ®æ ·æœ¬$x_i$ä¹˜ä»¥1000ï¼Œé‚£ä¹ˆæƒé‡çš„æ¢¯åº¦å°†ä¼šå¢å¤§1000å€ï¼Œè¿™æ ·å°±å¿…é¡»é™ä½å­¦ä¹ ç‡æ¥å¼¥è¡¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ•°æ®é¢„å¤„ç†å…³ç³»é‡å¤§ï¼Œå®ƒå³ä½¿åªæ˜¯æœ‰å¾®å°å˜åŒ–ï¼Œä¹Ÿä¼šäº§ç”Ÿå·¨å¤§å½±å“ã€‚å¯¹äºæ¢¯åº¦åœ¨è®¡ç®—çº¿è·¯ä¸­æ˜¯å¦‚ä½•æµåŠ¨çš„æœ‰ä¸€ä¸ªç›´è§‚çš„ç†è§£ï¼Œå¯ä»¥å¸®åŠ©è¯»è€…è°ƒè¯•ç½‘ç»œã€‚</p>
<h2 id="ç”¨å‘é‡åŒ–æ“ä½œè®¡ç®—æ¢¯åº¦"><a href="#ç”¨å‘é‡åŒ–æ“ä½œè®¡ç®—æ¢¯åº¦" class="headerlink" title="ç”¨å‘é‡åŒ–æ“ä½œè®¡ç®—æ¢¯åº¦"></a>ç”¨å‘é‡åŒ–æ“ä½œè®¡ç®—æ¢¯åº¦</h2><p>ä¸Šè¿°å†…å®¹è€ƒè™‘çš„éƒ½æ˜¯å•ä¸ªå˜é‡æƒ…å†µï¼Œä½†æ˜¯æ‰€æœ‰æ¦‚å¿µéƒ½é€‚ç”¨äºçŸ©é˜µå’Œå‘é‡æ“ä½œã€‚ç„¶è€Œï¼Œåœ¨æ“ä½œçš„æ—¶å€™è¦æ³¨æ„å…³æ³¨ç»´åº¦å’Œè½¬ç½®æ“ä½œã€‚</p>
<p>å…³äºå‘é‡çš„æ±‚å¯¼ä¸­ç»´åº¦çš„å˜åŒ–ï¼Œå…¬å¼å¦‚ä¸‹<br><img src="/2024/05/17/13-29-46/69-1682754437671-1.jpg" class></p>
<p>å¾—åˆ°çš„å®é™…ä¸Šæ˜¯é›…å…‹æ¯”çŸ©é˜µï¼Œè¿™ä¸ªçŸ©é˜µå¯ä»¥æè¿°æ¯ä¸ªè¾“å‡ºå¯¹è¾“å…¥çš„å½±å“</p>
<p><strong>çŸ©é˜µç›¸ä¹˜çš„æ¢¯åº¦</strong>ï¼šå¯èƒ½æœ€æœ‰æŠ€å·§çš„æ“ä½œæ˜¯çŸ©é˜µç›¸ä¹˜ï¼ˆä¹Ÿé€‚ç”¨äºçŸ©é˜µå’Œå‘é‡ï¼Œå‘é‡å’Œå‘é‡ç›¸ä¹˜ï¼‰çš„ä¹˜æ³•æ“ä½œï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‰å‘ä¼ æ’­</span></span><br><span class="line">W = np.random.randn(<span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">X = np.random.randn(<span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">D = W.dot(X)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡è®¾æˆ‘ä»¬å¾—åˆ°äº†Dçš„æ¢¯åº¦</span></span><br><span class="line">dD = np.random.randn(*D.shape) <span class="comment"># å’ŒDä¸€æ ·çš„å°ºå¯¸</span></span><br><span class="line">dW = dD.dot(X.T) <span class="comment">#.Tå°±æ˜¯å¯¹çŸ©é˜µè¿›è¡Œè½¬ç½®</span></span><br><span class="line">dX = W.T.dot(dD)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>_æç¤ºï¼šè¦åˆ†æç»´åº¦ï¼_æ³¨æ„ä¸éœ€è¦å»è®°å¿†<strong>dW</strong>å’Œ<strong>dX</strong>çš„è¡¨è¾¾ï¼Œå› ä¸ºå®ƒä»¬å¾ˆå®¹æ˜“é€šè¿‡ç»´åº¦æ¨å¯¼å‡ºæ¥ã€‚ä¾‹å¦‚ï¼Œæƒé‡çš„æ¢¯åº¦dWçš„å°ºå¯¸è‚¯å®šå’Œæƒé‡çŸ©é˜µWçš„å°ºå¯¸æ˜¯ä¸€æ ·çš„ï¼Œè€Œè¿™åˆæ˜¯ç”±<strong>X</strong>å’Œ<strong>dD</strong>çš„çŸ©é˜µä¹˜æ³•å†³å®šçš„ï¼ˆåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­<strong>X</strong>å’Œ<strong>W</strong>éƒ½æ˜¯æ•°å­—ä¸æ˜¯çŸ©é˜µï¼‰ã€‚æ€»æœ‰ä¸€ä¸ªæ–¹å¼æ˜¯èƒ½å¤Ÿè®©ç»´åº¦ä¹‹é—´èƒ½å¤Ÿå¯¹çš„ä¸Šçš„ã€‚ä¾‹å¦‚ï¼Œ<strong>X</strong>çš„å°ºå¯¸æ˜¯[10x3]ï¼Œ<strong>dD</strong>çš„å°ºå¯¸æ˜¯[5x3]ï¼Œå¦‚æœä½ æƒ³è¦dWå’ŒWçš„å°ºå¯¸æ˜¯[5x10]ï¼Œé‚£å°±è¦<strong>dD.dot(X.T)</strong>ã€‚</p>
<p><strong>ä½¿ç”¨å°è€Œå…·ä½“çš„ä¾‹å­</strong>ï¼šæœ‰äº›è¯»è€…å¯èƒ½è§‰å¾—å‘é‡åŒ–æ“ä½œçš„æ¢¯åº¦è®¡ç®—æ¯”è¾ƒå›°éš¾ï¼Œå»ºè®®æ˜¯å†™å‡ºä¸€ä¸ªå¾ˆå°å¾ˆæ˜ç¡®çš„å‘é‡åŒ–ä¾‹å­ï¼Œåœ¨çº¸ä¸Šæ¼”ç®—æ¢¯åº¦ï¼Œç„¶åå¯¹å…¶ä¸€èˆ¬åŒ–ï¼Œå¾—åˆ°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ–æ“ä½œå½¢å¼ã€‚  </p>
<p><strong>çŸ©é˜µç›¸ä¹˜åå‘ä¼ æ’­çš„é€šç”¨ç­–ç•¥</strong></p>
<p>é‚£ä¹ˆåœ¨å®é™…æ“ä½œä¸­ï¼Œå¦‚ä½•å®ç°åå‘ä¼ æ’­å‘¢ï¼Ÿä¸‹é¢è¿™ä¸ªæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä»æ¥æ”¶åˆ°çš„ä¸Šæ¸¸æ¢¯åº¦ï¼ˆå®é™…ä¸Šæ˜¯ä¸€ä¸ªN*Mçš„çŸ©é˜µï¼‰<br>$<br>\frac{\mathrm{d} L }{\mathrm{d} y}:[N\times M]<br>$<br>è¿™ä¸ªçŸ©é˜µå¯ä»¥å‘Šè¯‰æˆ‘ä»¬ï¼Œyå¯¹Lçš„å½±å“æ˜¯ä»€ä¹ˆæ ·çš„</p>
<p>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§éšå¼çš„è®¡ç®—çš„æ–¹å¼<br><img src="/2024/05/17/13-29-46/88.jpg" class></p>
<p>æˆ‘ä»¬å…ˆä»è¾“å…¥çš„ä¸€ä¸ªå…ƒç´ å¼€å§‹è€ƒè™‘ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªå…ƒç´ ä¸º<br>$<br>x_{11}<br>$<br>æˆ‘ä»¬ä»è¿™ä¸ªå…ƒç´ å¼€å§‹è€ƒè™‘ï¼Œè¿™æ—¶å€™æœ‰<br>$<br>\frac{\mathrm{d} L }{\mathrm{d} x_{11}}=\frac{\mathrm{d} y }{\mathrm{d} x_{11}}\cdot \frac{\mathrm{d} L }{\mathrm{d} y}<br>$<br>å…¶ä¸­ä¸Šæµæ¢¯åº¦ä¸€æ”¯ï¼Œæˆ‘ä»¬åªéœ€æ±‚yå¯¹xçš„æ¢¯åº¦å³å¯</p>
<img src="/2024/05/17/13-29-46/92.jpg" class>
<p>ç„¶åæˆ‘ä»¬æ ¹æ®çŸ©é˜µä¹˜æ³•å¯çŸ¥ï¼Œyçš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„å…ƒç´ æ˜¯xç¬¬ä¸€è¡Œä¸wç¬¬ä¸€åˆ—çš„ä¹˜ç§¯ï¼Œå¯¹x_11æ±‚å¯¼çš„ç»“æœå°±æ˜¯w_11</p>
<p>ç±»ä¼¼çš„å¯ä»¥æ¨å¹¿åˆ°yçš„æ‰€æœ‰å…ƒç´ ï¼Œç„¶åå°±å¯ä»¥å¾—åˆ°yå¯¹x_11çš„å¯¼æ•°ä»¥åŠyå¯¹xçš„å¯¼æ•°</p>
<img src="/2024/05/17/13-29-46/6-105.jpg" class>
<p>çŸ©é˜µä¹˜æ³•ä¾‹å­ä¸‹çš„éšå¼é›…å…‹æ¯”çŸ©é˜µè®¡ç®—ï¼Œè®¡ç®—ç¨€ç–çŸ©é˜µçš„æœ‰æ•ˆæ–¹æ³•</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>å¯¹æ¢¯åº¦çš„å«ä¹‰æœ‰äº†ç›´è§‚ç†è§£ï¼ŒçŸ¥é“äº†æ¢¯åº¦æ˜¯å¦‚ä½•åœ¨ç½‘ç»œä¸­åå‘ä¼ æ’­çš„ï¼ŒçŸ¥é“äº†å®ƒä»¬æ˜¯å¦‚ä½•ä¸ç½‘ç»œçš„ä¸åŒéƒ¨åˆ†é€šä¿¡å¹¶æ§åˆ¶å…¶å‡é«˜æˆ–è€…é™ä½ï¼Œå¹¶ä½¿å¾—æœ€ç»ˆè¾“å‡ºå€¼æ›´é«˜çš„ã€‚</li>
<li>è®¨è®ºäº†<strong>åˆ†æ®µè®¡ç®—</strong>åœ¨åå‘ä¼ æ’­çš„å®ç°ä¸­çš„é‡è¦æ€§ã€‚åº”è¯¥å°†å‡½æ•°åˆ†æˆä¸åŒçš„æ¨¡å—ï¼Œè¿™æ ·è®¡ç®—å±€éƒ¨æ¢¯åº¦ç›¸å¯¹å®¹æ˜“ï¼Œç„¶ååŸºäºé“¾å¼æ³•åˆ™å°†å…¶â€é“¾â€èµ·æ¥ã€‚é‡è¦çš„æ˜¯ï¼Œä¸éœ€è¦æŠŠè¿™äº›è¡¨è¾¾å¼å†™åœ¨çº¸ä¸Šç„¶åæ¼”ç®—å®ƒçš„å®Œæ•´æ±‚å¯¼å…¬å¼ï¼Œå› ä¸ºå®é™…ä¸Šå¹¶ä¸éœ€è¦å…³äºè¾“å…¥å˜é‡çš„æ¢¯åº¦çš„æ•°å­¦å…¬å¼ã€‚åªéœ€è¦å°†è¡¨è¾¾å¼åˆ†æˆä¸åŒçš„å¯ä»¥æ±‚å¯¼çš„æ¨¡å—ï¼ˆæ¨¡å—å¯ä»¥æ˜¯çŸ©é˜µå‘é‡çš„ä¹˜æ³•æ“ä½œï¼Œæˆ–è€…å–æœ€å¤§å€¼æ“ä½œï¼Œæˆ–è€…åŠ æ³•æ“ä½œç­‰ï¼‰ï¼Œç„¶ååœ¨åå‘ä¼ æ’­ä¸­ä¸€æ­¥ä¸€æ­¥åœ°è®¡ç®—æ¢¯åº¦ã€‚</li>
</ul>
<p>åœ¨ä¸‹èŠ‚è¯¾ä¸­ï¼Œå°†ä¼šå¼€å§‹å®šä¹‰ç¥ç»ç½‘ç»œï¼Œè€Œåå‘ä¼ æ’­ä½¿æˆ‘ä»¬èƒ½é«˜æ•ˆè®¡ç®—ç¥ç»ç½‘ç»œå„ä¸ªèŠ‚ç‚¹å…³äºæŸå¤±å‡½æ•°çš„æ¢¯åº¦ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»å‡†å¤‡å¥½è®­ç»ƒç¥ç»ç½‘ç»œäº†ï¼Œæœ¬è¯¾ç¨‹æœ€å›°éš¾çš„éƒ¨åˆ†å·²ç»è¿‡å»äº†ï¼ConvNetsç›¸æ¯”åªæ˜¯å‘å‰èµ°äº†ä¸€å°æ­¥ã€‚</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ ç¥ç»ç½‘ç»œ</title>
    <url>/2024/05/07/12-17-20/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.07ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="ç‰¹å¾å˜æ¢"><a href="#ç‰¹å¾å˜æ¢" class="headerlink" title="ç‰¹å¾å˜æ¢"></a>ç‰¹å¾å˜æ¢</h2><p>æˆ‘ä»¬ä»å‡ ä½•å­¦çš„è§’åº¦çœ‹åˆ°äº†è¿™ä¸€ç‚¹ï¼Œè®°å¾—ä»çº¿æ€§åˆ†ç±»å™¨çš„å‡ ä½•å­¦è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬è®¤ä¸ºçº¿æ€§åˆ†ç±»å™¨æ˜¯åœ¨ç”»é«˜ç»´è¶…å¹³é¢ï¼Œå°†è¿™ä¸ªé«˜ç»´çš„æ¬§å‡ é‡Œå¾—ç©ºé—´åˆ†å‰²æˆä¸¤å—</p>
<p>å½“æˆ‘ä»¬ä»è§†è§‰è§’åº¦è€ƒè™‘çº¿æ€§åˆ†ç±»å™¨æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºçº¿æ€§åˆ†ç±»å™¨åªä¸ºæ¯ä¸ªç±»åˆ«å­¦ä¹ ä¸€ä¸ªæ¨¡æ¿ï¼Œå› æ­¤å®ƒä»¬æ— æ³•ä»£è¡¨åŒä¸€å¯¹è±¡ç±»åˆ«çš„å¤šç§æ¨¡å¼ã€‚</p>
<p>æ€»ä¹‹ï¼Œæ¨¡æ¿æ˜¯ä¸€ç§ç”¨äºè¡¨ç¤ºç›®æ ‡å¯¹è±¡ç‰¹å¾çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é‡‡ç”¨å¤šç§å½¢å¼ã€‚åœ¨æ¨¡æ¿åŒ¹é…å’Œæ¨¡æ¿å­¦ä¹ ä»»åŠ¡ä¸­ï¼Œæ¨¡æ¿è¢«ç”¨æ¥åœ¨è¾“å…¥æ•°æ®ä¸­æœç´¢å’Œè¯†åˆ«ç›®æ ‡å¯¹è±¡</p>
<p>å¯¹äºæŸäº›çº¿æ€§ä¸å¯åˆ†çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬å¯ä»¥æå‡ºä¸€ç§ç‰¹å¾å˜æ¢çš„æ–¹å¼ï¼ˆfeature transformï¼‰ï¼Œå°†è¿™äº›æ•°æ®æ˜ å°„åˆ°ç‰¹å¾ç©ºé—´å»è¿›è¡Œåˆ†ç±»ï¼Œæˆ–è€…è¯´æ‰¾åˆ°ä¸€ç§åˆé€‚åˆ†ç±»çš„æ˜ å°„æ–¹å¼æ¥å®Œæˆåˆ†ç±»ä»»åŠ¡ï¼Œè¿™æ ·å°±å¯ä»¥å…‹æœçº¿æ€§åˆ†ç±»å™¨çš„ä¸€äº›ç¼ºç‚¹ï¼›åœ¨è¿™é‡Œæˆ‘ä»¬æ˜¯åœ¨ç‰¹å¾ç©ºé—´ä¸­è®­ç»ƒåˆ†ç±»å™¨</p>
<img src="/2024/05/07/12-17-20/image-20230425220806741.png" class>
<p>è¿™å°±æ˜¯ä¸€ä¸ªå°†ç¬›å¡å°”åæ ‡ç³»å˜æ¢åˆ°æåæ ‡ç³»ä¸‹çš„ä¾‹å­ï¼Œè¿™æ ·çš„è¯ï¼ŒåŸæœ¬åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸‹çº¿æ€§ä¸å¯åˆ†çš„æ•°æ®é›†ï¼Œåœ¨æåæ ‡ç³»ä¸‹çº¿æ€§å¯åˆ†äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥åœ¨ç‰¹å¾ç©ºé—´ä¸‹æ„å»ºçº¿æ€§åˆ†ç±»å™¨</p>
<p>ç‰¹å¾å˜æ¢çš„æ€æƒ³åœ¨è®¡ç®—æœºè§†è§‰ä¸­åº”ç”¨å¹¿æ³›ï¼Œä¸€ç§å°±æ˜¯é¢œè‰²ç›´æ–¹å›¾çš„æ¦‚å¿µ</p>
<p>æˆ‘ä»¬å¯ä»¥å°†å›¾åƒä¸­çš„é¢œè‰²ç©ºé—´çš„RGBå…‰è°±è¿›è¡Œåˆ†è§£ä¸ç»Ÿè®¡ï¼Œç„¶åå¾—åˆ°é¢œè‰²ç›´æ–¹å›¾ï¼Œè¿™ç§æ–¹å¼ä¸¢å¼ƒäº†å›¾åƒä¸­çš„ç©ºé—´ä¿¡æ¯ï¼Œåªå…³å¿ƒå›¾åƒä¸­çš„é¢œè‰²åˆ†å¸ƒï¼Œæ›´å…·æœ‰ç©ºé—´ä¸å˜æ€§ï¼ˆå¯¹ä¸åŒä½ç½®çš„ç›¸åŒç‰¹å¾å¯ä»¥å¾ˆå¥½çš„å¤„ç†ï¼‰</p>
<h2 id="å›¾åƒç‰¹å¾ï¼šå®šå‘æ¢¯åº¦ç›´æ–¹å›¾"><a href="#å›¾åƒç‰¹å¾ï¼šå®šå‘æ¢¯åº¦ç›´æ–¹å›¾" class="headerlink" title="å›¾åƒç‰¹å¾ï¼šå®šå‘æ¢¯åº¦ç›´æ–¹å›¾"></a>å›¾åƒç‰¹å¾ï¼šå®šå‘æ¢¯åº¦ç›´æ–¹å›¾</h2><p>è¿˜æœ‰ä¸€ç§è¿›è¡Œå›¾åƒç‰¹å¾æå–çš„æ–¹å¼å°±æ˜¯å®šå‘æ¢¯åº¦ç›´æ–¹å›¾</p>
<img src="/2024/05/07/12-17-20/10.jpg" class>
<p>è¿™ç§æ–¹å¼å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—å¤„ç†å¾—åˆ°å›¾åƒçš„å±€éƒ¨æ¢¯åº¦ä¿¡æ¯ï¼Œå…·æœ‰å¾ˆå¥½çš„åŒºåˆ†æ€§å’Œé²æ£’æ€§ï¼Œç„¶åï¼Œè¿™äº›ç‰¹å¾å¯ä»¥è¢«ç”¨äºè®­ç»ƒåˆ†ç±»å™¨</p>
<h2 id="å›¾åƒç‰¹å¾ï¼šè¯è¢‹æ¨¡å‹ï¼ˆæ•°æ®é©±åŠ¨ï¼‰"><a href="#å›¾åƒç‰¹å¾ï¼šè¯è¢‹æ¨¡å‹ï¼ˆæ•°æ®é©±åŠ¨ï¼‰" class="headerlink" title="å›¾åƒç‰¹å¾ï¼šè¯è¢‹æ¨¡å‹ï¼ˆæ•°æ®é©±åŠ¨ï¼‰"></a>å›¾åƒç‰¹å¾ï¼šè¯è¢‹æ¨¡å‹ï¼ˆæ•°æ®é©±åŠ¨ï¼‰</h2><p>æ•°æ®é©±åŠ¨ï¼Œå®é™…ä¸Šæ˜¯ç”±æˆ‘ä»¬åœ¨è®­ç»ƒé›†ä¸­çœ‹åˆ°çš„æ•°æ®é©±åŠ¨çš„ï¼Œè€Œæ•°æ®é©±åŠ¨çš„ç‰¹å¾è½¬æ¢çš„ä¸€ä¸ªä¾‹å­å°±æ˜¯è§†è§‰è¯è¢‹æ¨¡å‹</p>
<p>æƒ³æ³•æ˜¯æœ‰ä¸€ä¸ªå¤§å‹è®­ç»ƒæ•°æ®é›†ï¼Œå¯ä»¥æå–å¤§é‡ä¸åŒæ¯”ä¾‹å’Œå¤§å°çš„éšæœºè¡¥ä¸ï¼ˆä¹Ÿå°±æ˜¯ä»å›¾åƒä¸Šéšæœºåˆ‡ä¸‹ä¸€å°å—ï¼‰ï¼Œç„¶åæˆ‘ä»¬å¯¹è¿™äº›éšæœºè¡¥ä¸è¿›è¡Œèšç±»ï¼Œå°±è·å¾—äº†æ‰€è°“çš„å¯†ç æœ¬æˆ–è€…ä¸€ç»„è§†è§‰è¯ï¼Œä»–ä»¬å¯ä»¥è¡¨ç¤ºå›¾åƒä¸­å€¾å‘äºå‡ºç°å“ªç§ç‰¹å¾ï¼Œå¦‚æœè¿™äº›è¡¥ä¸åœ¨è®­ç»ƒé›†ä¸­å¤§é‡å‡ºç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›å¯ä»¥å­¦ä¹ æŸç§è§†è§‰è¯è¡¨ç¤ºï¼Œå®ƒå¯ä»¥è¯†åˆ«ä½ çš„è®­ç»ƒé›†ä¸­çš„æ¯ä¸€ä¸ªå¸¸è§ç‰¹å¾</p>
<p>ä¹‹åçš„æ­¥éª¤æ˜¯æ„å»ºè§†è§‰è¯çš„ä»£ç æœ¬ï¼Œä½¿ç”¨å­¦ä¹ åˆ°çš„è§†è§‰è¯çš„ä»£ç æœ¬æ¥ç¼–ç ä½ çš„å›¾åƒï¼Œæ¥è¡¨ç¤ºæ¯ä¸ªè§†è§‰è¯åœ¨å•ä¸ªè¾“å…¥å›¾åƒä¸­å‡ºç°äº†å¤šå°‘æ¬¡</p>
<img src="/2024/05/07/12-17-20/16.jpg" class>
<p>å®é™…ä¸Šï¼Œ2011å¹´çš„ImageNetæŒ‘æˆ˜èµ›é‡Œé¢çš„å† å†›æ–¹æ¡ˆï¼Œå°±æ˜¯åŸºäºè¿™ç§æ¨¡å‹ï¼›ä»–ä»¬çš„æ–¹æ¡ˆåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç‰¹å¾æå–å™¨å’Œå¯å­¦ä¹ åˆ†ç±»å™¨</p>
<h2 id="ç¥ç»ç½‘ç»œæ¦‚è¿°"><a href="#ç¥ç»ç½‘ç»œæ¦‚è¿°" class="headerlink" title="ç¥ç»ç½‘ç»œæ¦‚è¿°"></a>ç¥ç»ç½‘ç»œæ¦‚è¿°</h2><p>åœ¨ä¸è¯‰è¯¸å¤§è„‘çš„ç±»æ¯”çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶æ˜¯å¯ä»¥å¯¹ç¥ç»ç½‘ç»œç®—æ³•è¿›è¡Œä»‹ç»çš„ã€‚åœ¨çº¿æ€§åˆ†ç±»ä¸€èŠ‚ä¸­ï¼Œåœ¨ç»™å‡ºå›¾åƒçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä½¿ç”¨$s=Wx$æ¥è®¡ç®—ä¸åŒè§†è§‰ç±»åˆ«çš„è¯„åˆ†ï¼Œå…¶ä¸­$W$æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œ$x$æ˜¯ä¸€ä¸ªè¾“å…¥åˆ—å‘é‡ï¼Œå®ƒåŒ…å«äº†å›¾åƒçš„å…¨éƒ¨åƒç´ æ•°æ®ã€‚åœ¨ä½¿ç”¨æ•°æ®åº“CIFAR-10çš„æ¡ˆä¾‹ä¸­ï¼Œ$x$æ˜¯ä¸€ä¸ª[3072x1]çš„åˆ—å‘é‡ï¼Œ$W$æ˜¯ä¸€ä¸ª[10x3072]çš„çŸ©é˜µï¼Œæ‰€ä»¥è¾“å‡ºçš„è¯„åˆ†æ˜¯ä¸€ä¸ªåŒ…å«10ä¸ªåˆ†ç±»è¯„åˆ†çš„å‘é‡ã€‚</p>
<p>åœ¨ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨çº¿æ€§åˆ†ç±»å™¨è¿›è¡Œåˆ†ç±»ï¼Œä½†æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ä¸€ç§ä¸¤å±‚ç¥ç»ç½‘ç»œæ¥è¿›è¡Œå­¦ä¹ </p>
<p>ç¥ç»ç½‘ç»œç®—æ³•ä¸åŒäºçº¿æ€§ç½‘ç»œï¼Œå®ƒçš„è®¡ç®—å…¬å¼æ˜¯$s=W_2max(0,W_1x)$ã€‚å…¶ä¸­$W_1$çš„å«ä¹‰æ˜¯è¿™æ ·çš„ï¼šä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ª[100x3072]çš„çŸ©é˜µï¼Œå…¶ä½œç”¨æ˜¯å°†å›¾åƒè½¬åŒ–ä¸ºä¸€ä¸ª100ç»´çš„è¿‡æ¸¡å‘é‡ã€‚å‡½æ•°$max(0,-)$æ˜¯éçº¿æ€§çš„ï¼Œå®ƒä¼šä½œç”¨åˆ°æ¯ä¸ªå…ƒç´ ã€‚è¿™ä¸ªéçº¿æ€§å‡½æ•°æœ‰å¤šç§é€‰æ‹©ï¼Œåç»­å°†ä¼šå­¦åˆ°ã€‚ä½†è¿™ä¸ªå½¢å¼æ˜¯ä¸€ä¸ªæœ€å¸¸ç”¨çš„é€‰æ‹©ï¼Œå®ƒå°±æ˜¯ç®€å•åœ°è®¾ç½®é˜ˆå€¼ï¼Œå°†æ‰€æœ‰å°äº0çš„å€¼å˜æˆ0ã€‚æœ€ç»ˆï¼ŒçŸ©é˜µ$W_2$çš„å°ºå¯¸æ˜¯[10x100]ï¼Œå› æ­¤å°†å¾—åˆ°10ä¸ªæ•°å­—ï¼Œè¿™10ä¸ªæ•°å­—å¯ä»¥è§£é‡Šä¸ºæ˜¯åˆ†ç±»çš„è¯„åˆ†ã€‚æ³¨æ„éçº¿æ€§å‡½æ•°åœ¨è®¡ç®—ä¸Šæ˜¯è‡³å…³é‡è¦çš„ï¼Œå¦‚æœç•¥å»è¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆä¸¤ä¸ªçŸ©é˜µå°†ä¼šåˆäºŒä¸ºä¸€ï¼Œå¯¹äºåˆ†ç±»çš„è¯„åˆ†è®¡ç®—å°†é‡æ–°å˜æˆå…³äºè¾“å…¥çš„çº¿æ€§å‡½æ•°ã€‚è¿™ä¸ªéçº¿æ€§å‡½æ•°å°±æ˜¯æ”¹å˜çš„å…³é”®ç‚¹ã€‚å‚æ•°$W_1,W_2$å°†é€šè¿‡éšæœºæ¢¯åº¦ä¸‹é™æ¥å­¦ä¹ åˆ°ï¼Œä»–ä»¬çš„æ¢¯åº¦åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡é“¾å¼æ³•åˆ™æ¥æ±‚å¯¼è®¡ç®—å¾—å‡ºã€‚</p>
<p>ä¸€ä¸ªä¸‰å±‚çš„ç¥ç»ç½‘ç»œå¯ä»¥ç±»æ¯”åœ°çœ‹åš$s=W_3max(0,W_2max(0,W_1x))$ï¼Œå…¶ä¸­$W_1,W_2,W_3$æ˜¯éœ€è¦è¿›è¡Œå­¦ä¹ çš„å‚æ•°ã€‚ä¸­é—´éšå±‚çš„å°ºå¯¸æ˜¯ç½‘ç»œçš„è¶…å‚æ•°ï¼Œåç»­å°†å­¦ä¹ å¦‚ä½•è®¾ç½®å®ƒä»¬ã€‚ç°åœ¨è®©æˆ‘ä»¬å…ˆä»ç¥ç»å…ƒæˆ–è€…ç½‘ç»œçš„è§’åº¦ç†è§£ä¸Šè¿°è®¡ç®—</p>
<p>ä¹‹å‰çš„çº¿æ€§å‡½æ•°ä¸º<br>$<br>\begin{split}<br>f=Wx<br>\end{split}<br>$<br>ç°åœ¨ä½¿ç”¨çš„ä¸¤å±‚ç¥ç»ç½‘ç»œä¸º<br>$<br>\begin{split}<br>f=W_2\max(0,W_1x)\\<br>W_2\in \mathbb{R}^{C\times H}\quad<br>W_1\in \mathbb{R}^{H\times D}\quad<br>x\in \mathbb{R}^{D}<br>\end{split}<br>$<br>å…¶ä¸­åŒ…æ‹¬ä¸¤ä¸ªå¯å­¦ä¹ çš„æƒé‡çŸ©é˜µ$W_1,W_2$ï¼Œå½“ç„¶åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œè¿™äº›å‘é‡ä¹˜æ³•éƒ½ä¼šéšå¼çš„åŒ…å«ä¸€ä¸ªå¯å­¦ä¹ çš„åå·®é¡¹</p>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§å›¾å½¢åŒ–çš„å½¢å¼æ¥è¡¨ç¤ºç¥ç»ç½‘ç»œï¼Œå› ä¸ºå…¶ä¸­çš„æ¯ä¸ªéƒ¨åˆ†éƒ½ç›¸äº’è¿æ¥ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç§°ä¸ºå…¨è¿æ¥ç¥ç»ç½‘ç»œ</p>
<img src="/2024/05/07/12-17-20/24.jpg" class>
<p>è¿™ä¸ªæ¿€æ´»å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯å¯ä»¥æ‹“å®½ç¥ç»ç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›ï¼Œå› ä¸ºå¦‚æœæœ‰å¤šä¸ªçº¿æ€§åˆ†ç±»å™¨ç»„åˆï¼Œé‚£ä¹ˆç»“æœè¿˜æ˜¯ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œå¤šä¸ªåˆ†ç±»å™¨ç­‰äºä¸€ä¸ªåˆ†ç±»å™¨</p>
<h2 id="å¿«é€Ÿç®€ä»‹"><a href="#å¿«é€Ÿç®€ä»‹" class="headerlink" title="å¿«é€Ÿç®€ä»‹"></a>å¿«é€Ÿç®€ä»‹</h2><h2 id="ç¥ç»ç½‘ç»œçš„å‡ ä½•è§£é‡Š"><a href="#ç¥ç»ç½‘ç»œçš„å‡ ä½•è§£é‡Š" class="headerlink" title="ç¥ç»ç½‘ç»œçš„å‡ ä½•è§£é‡Š"></a>ç¥ç»ç½‘ç»œçš„å‡ ä½•è§£é‡Š</h2><p>é¢å¯¹ä¸€ä¸ªçº¿æ€§å¯åˆ†çš„æ•°æ®é›†ï¼Œçº¿æ€§åˆ†ç±»å™¨çš„åŠŸèƒ½å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæˆ–è€…å¤šä¸ªè¶…å¹³é¢ï¼Œå¯ä»¥å¯¹ä¸åŒçš„æ•°æ®è¿›è¡Œåˆ†å‰²ï¼Œä½†æ˜¯å­˜åœ¨æŸäº›çº¿æ€§ä¸å¯åˆ†çš„æ•°æ®é›†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æ— æ³•ä½¿ç”¨è¶…å¹³é¢è¿›è¡Œåˆ†å‰²äº†ï¼Œæˆ–è€…è¯´æ‰¾ä¸åˆ°ä¸€ç§çº¿æ€§æ–¹å¼è¿›è¡Œåˆ†å‰²ï¼Œæ¯”å¦‚è¯´ä¸‹é¢çš„æ•°æ®é›†</p>
<img src="/2024/05/07/12-17-20/55.jpg" class>
<p>æˆ‘ä»¬å‘ç°ï¼Œæ‰¾ä¸åˆ°ä¸€ä¸ªåˆé€‚çš„å˜æ¢çŸ©é˜µ$W$æ¥åˆ†å‰²è¿™ä¸ªæ•°æ®é›†ï¼Œæ‰€ä»¥å°±éœ€è¦æ‰¾åˆ°ä¸€ç§éçº¿æ€§æ–¹å¼æ¥åˆ†å‰²ï¼Œä¹Ÿå°±æ˜¯æ¿€æ´»å‡½æ•°çš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥å®ŒæˆæŸäº›æ— æ³•çº¿æ€§åˆ†å‰²çš„æ•°æ®é›†çš„åˆ†å‰²ï¼Œæ¯”å¦‚è¯´ä¸‹é¢è¿™ç§æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨ReLuå‡½æ•°è¿›è¡Œç‰¹å¾å˜æ¢ï¼Œç„¶åå¯ä»¥çœ‹åˆ°ï¼ŒBCDä¸‰ä¸ªåŒºé—´éƒ½å¹¶ä¸å¯¹åº”æ–°ç©ºé—´ä¸‹çš„ä¸‰ä¸ªè±¡é™ï¼Œè€Œæ˜¯åˆ†åˆ«è½åœ¨åæ ‡è½´å’ŒåŸç‚¹ä¸Š</p>
<img src="/2024/05/07/12-17-20/60-1682664488898-3.jpg" class>
<p>è¿™æ ·ï¼Œå°±å¯ä»¥å®ŒæˆæŸäº›æ•°æ®é›†çš„åˆ†å‰²äº†ï¼Œæ¯”å¦‚è¯´ä¸‹å›¾</p>
<img src="/2024/05/07/12-17-20/64.jpg" class>
<h1 id="å•ä¸ªç¥ç»å…ƒå»ºæ¨¡"><a href="#å•ä¸ªç¥ç»å…ƒå»ºæ¨¡" class="headerlink" title="å•ä¸ªç¥ç»å…ƒå»ºæ¨¡"></a>å•ä¸ªç¥ç»å…ƒå»ºæ¨¡</h1><p>ç¥ç»ç½‘ç»œç®—æ³•é¢†åŸŸæœ€åˆæ˜¯è¢«å¯¹ç”Ÿç‰©ç¥ç»ç³»ç»Ÿå»ºæ¨¡è¿™ä¸€ç›®æ ‡å¯å‘ï¼Œä½†éšåä¸å…¶åˆ†é“æ‰¬é•³ï¼Œæˆä¸ºä¸€ä¸ªå·¥ç¨‹é—®é¢˜ï¼Œå¹¶åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå–å¾—è‰¯å¥½æ•ˆæœã€‚ç„¶è€Œï¼Œè®¨è®ºå°†è¿˜æ˜¯ä»å¯¹ç”Ÿç‰©ç³»ç»Ÿçš„ä¸€ä¸ªé«˜å±‚æ¬¡çš„ç®€ç•¥æè¿°å¼€å§‹ï¼Œå› ä¸ºç¥ç»ç½‘ç»œæ¯•ç«Ÿæ˜¯ä»è¿™é‡Œå¾—åˆ°äº†å¯å‘ã€‚  </p>
<h2 id="ç”Ÿç‰©åŠ¨æœºä¸è¿æ¥"><a href="#ç”Ÿç‰©åŠ¨æœºä¸è¿æ¥" class="headerlink" title="ç”Ÿç‰©åŠ¨æœºä¸è¿æ¥"></a>ç”Ÿç‰©åŠ¨æœºä¸è¿æ¥</h2><p>å¤§è„‘çš„åŸºæœ¬è®¡ç®—å•ä½æ˜¯<strong>ç¥ç»å…ƒï¼ˆneuronï¼‰</strong>ã€‚äººç±»çš„ç¥ç»ç³»ç»Ÿä¸­å¤§çº¦æœ‰860äº¿ä¸ªç¥ç»å…ƒï¼Œå®ƒä»¬è¢«å¤§çº¦$10^{14}-10^{15}$ä¸ª<strong>çªè§¦ï¼ˆsynapsesï¼‰</strong>è¿æ¥èµ·æ¥ã€‚ä¸‹é¢å›¾è¡¨çš„å·¦è¾¹å±•ç¤ºäº†ä¸€ä¸ªç”Ÿç‰©å­¦çš„ç¥ç»å…ƒï¼Œå³è¾¹å±•ç¤ºäº†ä¸€ä¸ªå¸¸ç”¨çš„æ•°å­¦æ¨¡å‹ã€‚æ¯ä¸ªç¥ç»å…ƒéƒ½ä»å®ƒçš„<strong>æ ‘çª</strong>è·å¾—è¾“å…¥ä¿¡å·ï¼Œç„¶åæ²¿ç€å®ƒå”¯ä¸€çš„<strong>è½´çªï¼ˆaxonï¼‰</strong>äº§ç”Ÿè¾“å‡ºä¿¡å·ã€‚è½´çªåœ¨æœ«ç«¯ä¼šé€æ¸åˆ†æï¼Œé€šè¿‡çªè§¦å’Œå…¶ä»–ç¥ç»å…ƒçš„æ ‘çªç›¸è¿ã€‚</p>
<p>åœ¨ç¥ç»å…ƒçš„è®¡ç®—æ¨¡å‹ä¸­ï¼Œæ²¿ç€è½´çªä¼ æ’­çš„ä¿¡å·ï¼ˆæ¯”å¦‚$x_0$ï¼‰å°†åŸºäºçªè§¦çš„çªè§¦å¼ºåº¦ï¼ˆæ¯”å¦‚$w_0$ï¼‰ï¼Œä¸å…¶ä»–ç¥ç»å…ƒçš„æ ‘çªè¿›è¡Œä¹˜æ³•äº¤äº’ï¼ˆæ¯”å¦‚$w_0x_0$ï¼‰ã€‚å…¶è§‚ç‚¹æ˜¯ï¼Œçªè§¦çš„å¼ºåº¦ï¼ˆä¹Ÿå°±æ˜¯æƒé‡$w$ï¼‰ï¼Œæ˜¯å¯å­¦ä¹ çš„ä¸”å¯ä»¥æ§åˆ¶ä¸€ä¸ªç¥ç»å…ƒå¯¹äºå¦ä¸€ä¸ªç¥ç»å…ƒçš„å½±å“å¼ºåº¦ï¼ˆè¿˜å¯ä»¥æ§åˆ¶å½±å“æ–¹å‘ï¼šä½¿å…¶å…´å¥‹ï¼ˆæ­£æƒé‡ï¼‰æˆ–ä½¿å…¶æŠ‘åˆ¶ï¼ˆè´Ÿæƒé‡ï¼‰ï¼‰ã€‚åœ¨åŸºæœ¬æ¨¡å‹ä¸­ï¼Œæ ‘çªå°†ä¿¡å·ä¼ é€’åˆ°ç»†èƒä½“ï¼Œä¿¡å·åœ¨ç»†èƒä½“ä¸­ç›¸åŠ ã€‚å¦‚æœæœ€ç»ˆä¹‹å’Œé«˜äºæŸä¸ªé˜ˆå€¼ï¼Œé‚£ä¹ˆç¥ç»å…ƒå°†ä¼šæ¿€æ´»ï¼Œå‘å…¶è½´çªè¾“å‡ºä¸€ä¸ªå³°å€¼ä¿¡å·ã€‚åœ¨è®¡ç®—æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å‡è®¾å³°å€¼ä¿¡å·çš„å‡†ç¡®æ—¶é—´ç‚¹ä¸é‡è¦ï¼Œæ˜¯æ¿€æ´»ä¿¡å·çš„é¢‘ç‡åœ¨äº¤æµä¿¡æ¯ã€‚åŸºäºè¿™ä¸ªé€Ÿç‡ç¼–ç çš„è§‚ç‚¹ï¼Œå°†ç¥ç»å…ƒçš„æ¿€æ´»ç‡å»ºæ¨¡ä¸º<strong>æ¿€æ´»å‡½æ•°ï¼ˆactivation functionï¼‰$f$</strong>ï¼Œå®ƒè¡¨è¾¾äº†è½´çªä¸Šæ¿€æ´»ä¿¡å·çš„é¢‘ç‡ã€‚ç”±äºå†å²åŸå› ï¼Œæ¿€æ´»å‡½æ•°å¸¸å¸¸é€‰æ‹©ä½¿ç”¨<strong>sigmoidå‡½æ•°$\sigma$</strong>ï¼Œè¯¥å‡½æ•°è¾“å…¥å®æ•°å€¼ï¼ˆæ±‚å’Œåçš„ä¿¡å·å¼ºåº¦ï¼‰ï¼Œç„¶åå°†è¾“å…¥å€¼å‹ç¼©åˆ°0-1ä¹‹é—´ã€‚åœ¨æœ¬èŠ‚åé¢éƒ¨åˆ†ä¼šçœ‹åˆ°è¿™äº›æ¿€æ´»å‡½æ•°çš„å„ç§ç»†èŠ‚ã€‚</p>
<img src="/2024/05/07/12-17-20/d0cbce2f2654b8e70fe201fec2982c7d_b.png" class>
<p>å·¦è¾¹æ˜¯ç”Ÿç‰©ç¥ç»å…ƒï¼Œå³è¾¹æ˜¯æ•°å­¦æ¨¡å‹ã€‚  </p>
<p>ä¸€ä¸ªç¥ç»å…ƒå‰å‘ä¼ æ’­çš„å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Neuron</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">  <span class="comment"># ... </span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">inputs</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; å‡è®¾è¾“å…¥å’Œæƒé‡æ˜¯1-Dçš„numpyæ•°ç»„ï¼Œåå·®æ˜¯ä¸€ä¸ªæ•°å­— &quot;&quot;&quot;</span></span><br><span class="line">    cell_body_sum = np.<span class="built_in">sum</span>(inputs * self.weights) + self.bias</span><br><span class="line">    firing_rate = <span class="number">1.0</span> / (<span class="number">1.0</span> + math.exp(-cell_body_sum)) <span class="comment"># sigmoidæ¿€æ´»å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> firing_rate</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªç¥ç»å…ƒéƒ½å¯¹å®ƒçš„è¾“å…¥å’Œæƒé‡è¿›è¡Œç‚¹ç§¯ï¼Œç„¶ååŠ ä¸Šåå·®ï¼Œæœ€åä½¿ç”¨éçº¿æ€§å‡½æ•°ï¼ˆæˆ–ç§°ä¸ºæ¿€æ´»å‡½æ•°ï¼‰ã€‚æœ¬ä¾‹ä¸­ä½¿ç”¨çš„æ˜¯sigmoidå‡½æ•°$\sigma(x)=1/(1+e^{-x})$ã€‚åœ¨æœ¬èŠ‚çš„æœ«å°¾éƒ¨åˆ†å°†ä»‹ç»ä¸åŒæ¿€æ´»å‡½æ•°çš„ç»†èŠ‚ã€‚</p>
<p><strong>ç²—ç³™æ¨¡å‹</strong>ï¼šè¦æ³¨æ„è¿™ä¸ªå¯¹äºç”Ÿç‰©ç¥ç»å…ƒçš„å»ºæ¨¡æ˜¯éå¸¸ç²—ç³™çš„ï¼šåœ¨å®é™…ä¸­ï¼Œæœ‰å¾ˆå¤šä¸åŒç±»å‹çš„ç¥ç»å…ƒï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„å±æ€§ã€‚ç”Ÿç‰©ç¥ç»å…ƒçš„æ ‘çªå¯ä»¥è¿›è¡Œå¤æ‚çš„éçº¿æ€§è®¡ç®—ã€‚çªè§¦å¹¶ä¸å°±æ˜¯ä¸€ä¸ªç®€å•çš„æƒé‡ï¼Œå®ƒä»¬æ˜¯å¤æ‚çš„éçº¿æ€§åŠ¨æ€ç³»ç»Ÿã€‚å¾ˆå¤šç³»ç»Ÿä¸­ï¼Œè¾“å‡ºçš„å³°å€¼ä¿¡å·çš„ç²¾ç¡®æ—¶é—´ç‚¹éå¸¸é‡è¦ï¼Œè¯´æ˜é€Ÿç‡ç¼–ç çš„è¿‘ä¼¼æ˜¯ä¸å¤Ÿå…¨é¢çš„ã€‚é‰´äºæ‰€æœ‰è¿™äº›å·²ç»ä»‹ç»å’Œæ›´å¤šæœªä»‹ç»çš„ç®€åŒ–ï¼Œå¦‚æœä½ ç”»å‡ºäººç±»å¤§è„‘å’Œç¥ç»ç½‘ç»œä¹‹é—´çš„ç±»æ¯”ï¼Œæœ‰ç¥ç»ç§‘å­¦èƒŒæ™¯çš„äººå¯¹ä½ çš„æ¿ä¹¦èµ·å“„ä¹Ÿæ˜¯éå¸¸è‡ªç„¶çš„ã€‚</p>
<h2 id="ä½œä¸ºçº¿æ€§åˆ†ç±»å™¨çš„å•ä¸ªç¥ç»å…ƒ"><a href="#ä½œä¸ºçº¿æ€§åˆ†ç±»å™¨çš„å•ä¸ªç¥ç»å…ƒ" class="headerlink" title="ä½œä¸ºçº¿æ€§åˆ†ç±»å™¨çš„å•ä¸ªç¥ç»å…ƒ"></a>ä½œä¸ºçº¿æ€§åˆ†ç±»å™¨çš„å•ä¸ªç¥ç»å…ƒ</h2><p>ç¥ç»å…ƒæ¨¡å‹çš„å‰å‘è®¡ç®—æ•°å­¦å…¬å¼çœ‹èµ·æ¥å¯èƒ½æ¯”è¾ƒçœ¼ç†Ÿã€‚å°±åƒåœ¨çº¿æ€§åˆ†ç±»å™¨ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œç¥ç»å…ƒæœ‰èƒ½åŠ›â€å–œæ¬¢â€ï¼ˆæ¿€æ´»å‡½æ•°å€¼æ¥è¿‘1ï¼‰ï¼Œæˆ–è€…ä¸å–œæ¬¢ï¼ˆæ¿€æ´»å‡½æ•°å€¼æ¥è¿‘0ï¼‰è¾“å…¥ç©ºé—´ä¸­çš„æŸäº›çº¿æ€§åŒºåŸŸã€‚å› æ­¤ï¼Œåªè¦åœ¨ç¥ç»å…ƒçš„è¾“å‡ºç«¯æœ‰ä¸€ä¸ªåˆé€‚çš„æŸå¤±å‡½æ•°ï¼Œå°±èƒ½è®©å•ä¸ªç¥ç»å…ƒå˜æˆä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ã€‚</p>
<p><strong>äºŒåˆ†ç±»Softmaxåˆ†ç±»å™¨</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯ä»¥æŠŠ$\displaystyle\sigma(\sigma_iw_ix_i+b)$çœ‹åšå…¶ä¸­ä¸€ä¸ªåˆ†ç±»çš„æ¦‚ç‡$P(y_i=1|x_i;w)$ï¼Œå…¶ä»–åˆ†ç±»çš„æ¦‚ç‡ä¸º$P(y_i=0|x_i;w)=1-P(y_i=1|x_i;w)$ï¼Œå› ä¸ºå®ƒä»¬åŠ èµ·æ¥å¿…é¡»ä¸º1ã€‚æ ¹æ®è¿™ç§ç†è§£ï¼Œå¯ä»¥å¾—åˆ°äº¤å‰ç†µæŸå¤±ï¼Œè¿™ä¸ªåœ¨çº¿æ€§åˆ†ä¸€èŠ‚ä¸­å·²ç»ä»‹ç»ã€‚ç„¶åå°†å®ƒæœ€ä¼˜åŒ–ä¸ºäºŒåˆ†ç±»çš„Softmaxåˆ†ç±»å™¨ï¼ˆä¹Ÿå°±æ˜¯é€»è¾‘å›å½’ï¼‰ã€‚å› ä¸ºsigmoidå‡½æ•°è¾“å‡ºé™å®šåœ¨0-1ä¹‹é—´ï¼Œæ‰€ä»¥åˆ†ç±»å™¨åšå‡ºé¢„æµ‹çš„åŸºå‡†æ˜¯ç¥ç»å…ƒçš„è¾“å‡ºæ˜¯å¦å¤§äº0.5ã€‚  </p>
<p><strong>äºŒåˆ†ç±»SVMåˆ†ç±»å™¨</strong>ã€‚æˆ–è€…å¯ä»¥åœ¨ç¥ç»å…ƒçš„è¾“å‡ºå¤–å¢åŠ ä¸€ä¸ªæœ€å¤§è¾¹ç•ŒæŠ˜å¶æŸå¤±ï¼ˆmax-margin hinge lossï¼‰å‡½æ•°ï¼Œå°†å…¶è®­ç»ƒæˆä¸€ä¸ªäºŒåˆ†ç±»çš„æ”¯æŒå‘é‡æœºã€‚  </p>
<p><strong>ç†è§£æ­£åˆ™åŒ–</strong>ã€‚åœ¨SVM/Softmaxçš„ä¾‹å­ä¸­ï¼Œæ­£åˆ™åŒ–æŸå¤±ä»ç”Ÿç‰©å­¦è§’åº¦å¯ä»¥çœ‹åšé€æ¸é—å¿˜ï¼Œå› ä¸ºå®ƒçš„æ•ˆæœæ˜¯è®©æ‰€æœ‰çªè§¦æƒé‡$w$åœ¨å‚æ•°æ›´æ–°è¿‡ç¨‹ä¸­é€æ¸å‘ç€0å˜åŒ–ã€‚  </p>
<p>&gt; ä¸€ä¸ªå•ç‹¬çš„ç¥ç»å…ƒå¯ä»¥ç”¨æ¥å®ç°ä¸€ä¸ªäºŒåˆ†ç±»åˆ†ç±»å™¨ï¼Œæ¯”å¦‚äºŒåˆ†ç±»çš„Softmaxæˆ–è€…SVMåˆ†ç±»å™¨ã€‚  </p>
<h2 id="å¸¸ç”¨æ¿€æ´»å‡½æ•°"><a href="#å¸¸ç”¨æ¿€æ´»å‡½æ•°" class="headerlink" title="å¸¸ç”¨æ¿€æ´»å‡½æ•°"></a>å¸¸ç”¨æ¿€æ´»å‡½æ•°</h2><p>æ¿€æ´»å‡½æ•°æ˜¯ä¸€ç§å¾ˆæœ‰ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥å¢å¼ºæ¨¡å‹çš„æ‹Ÿåˆèƒ½åŠ›ï¼Œæ¥å®Œæˆå¯¹å„ç§æ•°æ®çš„æ‹Ÿåˆ</p>
<p>æ¯ä¸ªæ¿€æ´»å‡½æ•°ï¼ˆæˆ–éçº¿æ€§å‡½æ•°ï¼‰çš„è¾“å…¥éƒ½æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒæŸç§å›ºå®šçš„æ•°å­¦æ“ä½œã€‚ä¸‹é¢æ˜¯åœ¨å®è·µä¸­å¯èƒ½é‡åˆ°çš„å‡ ç§æ¿€æ´»å‡½æ•°ï¼š  </p>
<img src="/2024/05/07/12-17-20/677187e96671a4cac9c95352743b3806_b.png" class>
<p>å·¦è¾¹æ˜¯Sigmoidéçº¿æ€§å‡½æ•°ï¼Œå°†å®æ•°å‹ç¼©åˆ°[0,1]ä¹‹é—´ã€‚å³è¾¹æ˜¯tanhå‡½æ•°ï¼Œå°†å®æ•°å‹ç¼©åˆ°[-1,1]ã€‚  </p>
<p><strong>Sigmoidã€‚</strong>sigmoidéçº¿æ€§å‡½æ•°çš„æ•°å­¦å…¬å¼æ˜¯$\displaystyle\sigma(x)=1/(1+e^{-x})$ï¼Œå‡½æ•°å›¾åƒå¦‚ä¸Šå›¾çš„å·¦è¾¹æ‰€ç¤ºã€‚åœ¨å‰ä¸€èŠ‚ä¸­å·²ç»æåˆ°è¿‡ï¼Œå®ƒè¾“å…¥å®æ•°å€¼å¹¶å°†å…¶â€æŒ¤å‹â€åˆ°0åˆ°1èŒƒå›´å†…ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œå¾ˆå¤§çš„è´Ÿæ•°å˜æˆ0ï¼Œå¾ˆå¤§çš„æ­£æ•°å˜æˆ1ã€‚åœ¨å†å²ä¸Šï¼Œsigmoidå‡½æ•°éå¸¸å¸¸ç”¨ï¼Œè¿™æ˜¯å› ä¸ºå®ƒå¯¹äºç¥ç»å…ƒçš„æ¿€æ´»é¢‘ç‡æœ‰è‰¯å¥½çš„è§£é‡Šï¼šä»å®Œå…¨ä¸æ¿€æ´»ï¼ˆ0ï¼‰åˆ°åœ¨æ±‚å’Œåçš„æœ€å¤§é¢‘ç‡å¤„çš„å®Œå…¨é¥±å’Œï¼ˆ<strong>saturated</strong>ï¼‰çš„æ¿€æ´»ï¼ˆ1ï¼‰ã€‚ç„¶è€Œç°åœ¨sigmoidå‡½æ•°å·²ç»ä¸å¤ªå—æ¬¢è¿ï¼Œå®é™…å¾ˆå°‘ä½¿ç”¨äº†ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæœ‰ä¸¤ä¸ªä¸»è¦ç¼ºç‚¹ï¼š</p>
<ul>
<li>_ Sigmoidå‡½æ•°é¥±å’Œä½¿æ¢¯åº¦æ¶ˆå¤±_ã€‚sigmoidç¥ç»å…ƒæœ‰ä¸€ä¸ªä¸å¥½çš„ç‰¹æ€§ï¼Œå°±æ˜¯å½“ç¥ç»å…ƒçš„æ¿€æ´»åœ¨æ¥è¿‘0æˆ–1å¤„æ—¶ä¼šé¥±å’Œï¼šåœ¨è¿™äº›åŒºåŸŸï¼Œæ¢¯åº¦å‡ ä¹ä¸º0ã€‚å›å¿†ä¸€ä¸‹ï¼Œåœ¨åå‘ä¼ æ’­çš„æ—¶å€™ï¼Œè¿™ä¸ªï¼ˆå±€éƒ¨ï¼‰æ¢¯åº¦å°†ä¼šä¸æ•´ä¸ªæŸå¤±å‡½æ•°å…³äºè¯¥é—¨å•å…ƒè¾“å‡ºçš„æ¢¯åº¦ç›¸ä¹˜ã€‚å› æ­¤ï¼Œå¦‚æœå±€éƒ¨æ¢¯åº¦éå¸¸å°ï¼Œé‚£ä¹ˆç›¸ä¹˜çš„ç»“æœä¹Ÿä¼šæ¥è¿‘é›¶ï¼Œè¿™ä¼šæœ‰æ•ˆåœ°â€æ€æ­»â€æ¢¯åº¦ï¼Œå‡ ä¹å°±æœ‰æ²¡æœ‰ä¿¡å·é€šè¿‡ç¥ç»å…ƒä¼ åˆ°æƒé‡å†åˆ°æ•°æ®äº†ã€‚è¿˜æœ‰ï¼Œä¸ºäº†é˜²æ­¢é¥±å’Œï¼Œå¿…é¡»å¯¹äºæƒé‡çŸ©é˜µåˆå§‹åŒ–ç‰¹åˆ«ç•™æ„ã€‚æ¯”å¦‚ï¼Œå¦‚æœåˆå§‹åŒ–æƒé‡è¿‡å¤§ï¼Œé‚£ä¹ˆå¤§å¤šæ•°ç¥ç»å…ƒå°†ä¼šé¥±å’Œï¼Œå¯¼è‡´ç½‘ç»œå°±å‡ ä¹ä¸å­¦ä¹ äº†ã€‚</li>
<li>_Sigmoidå‡½æ•°çš„è¾“å‡ºä¸æ˜¯é›¶ä¸­å¿ƒçš„_ã€‚è¿™ä¸ªæ€§è´¨å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› ä¸ºåœ¨ç¥ç»ç½‘ç»œåé¢å±‚ä¸­çš„ç¥ç»å…ƒå¾—åˆ°çš„æ•°æ®å°†ä¸æ˜¯é›¶ä¸­å¿ƒçš„ã€‚è¿™ä¸€æƒ…å†µå°†å½±å“æ¢¯åº¦ä¸‹é™çš„è¿ä½œï¼Œå› ä¸ºå¦‚æœè¾“å…¥ç¥ç»å…ƒçš„æ•°æ®æ€»æ˜¯æ­£æ•°ï¼ˆæ¯”å¦‚åœ¨$f=w^Tx+b$ä¸­æ¯ä¸ªå…ƒç´ éƒ½$x&gt;0$ï¼‰ï¼Œé‚£ä¹ˆå…³äº$w$çš„æ¢¯åº¦åœ¨åå‘ä¼ æ’­çš„è¿‡ç¨‹ä¸­ï¼Œå°†ä¼šè¦ä¹ˆå…¨éƒ¨æ˜¯æ­£æ•°ï¼Œè¦ä¹ˆå…¨éƒ¨æ˜¯è´Ÿæ•°ï¼ˆå…·ä½“ä¾æ•´ä¸ªè¡¨è¾¾å¼$f$è€Œå®šï¼‰ã€‚è¿™å°†ä¼šå¯¼è‡´æ¢¯åº¦ä¸‹é™æƒé‡æ›´æ–°æ—¶å‡ºç°zå­—å‹çš„ä¸‹é™ã€‚ç„¶è€Œï¼Œå¯ä»¥çœ‹åˆ°æ•´ä¸ªæ‰¹é‡çš„æ•°æ®çš„æ¢¯åº¦è¢«åŠ èµ·æ¥åï¼Œå¯¹äºæƒé‡çš„æœ€ç»ˆæ›´æ–°å°†ä¼šæœ‰ä¸åŒçš„æ­£è´Ÿï¼Œè¿™æ ·å°±ä»ä¸€å®šç¨‹åº¦ä¸Šå‡è½»äº†è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œè¯¥é—®é¢˜ç›¸å¯¹äºä¸Šé¢çš„ç¥ç»å…ƒé¥±å’Œé—®é¢˜æ¥è¯´åªæ˜¯ä¸ªå°éº»çƒ¦ï¼Œæ²¡æœ‰é‚£ä¹ˆä¸¥é‡ã€‚</li>
</ul>
<p><strong>Tanhã€‚</strong>tanhéçº¿æ€§å‡½æ•°å›¾åƒå¦‚ä¸Šå›¾å³è¾¹æ‰€ç¤ºã€‚å®ƒå°†å®æ•°å€¼å‹ç¼©åˆ°[-1,1]ä¹‹é—´ã€‚å’Œsigmoidç¥ç»å…ƒä¸€æ ·ï¼Œå®ƒä¹Ÿå­˜åœ¨é¥±å’Œé—®é¢˜ï¼Œä½†æ˜¯å’Œsigmoidç¥ç»å…ƒä¸åŒçš„æ˜¯ï¼Œå®ƒçš„è¾“å‡ºæ˜¯é›¶ä¸­å¿ƒçš„ã€‚å› æ­¤ï¼Œåœ¨å®é™…æ“ä½œä¸­ï¼Œ_tanhéçº¿æ€§å‡½æ•°æ¯”sigmoidéçº¿æ€§å‡½æ•°æ›´å—æ¬¢è¿_ã€‚æ³¨æ„tanhç¥ç»å…ƒæ˜¯ä¸€ä¸ªç®€å•æ”¾å¤§çš„sigmoidç¥ç»å…ƒï¼Œå…·ä½“è¯´æ¥å°±æ˜¯ï¼š$tanh(x)=2\sigma(2x)-1$ã€‚  </p>
<img src="/2024/05/07/12-17-20/83682a138f6224230f5b0292d9c01bd2_b.png" class>
<p>å·¦è¾¹æ˜¯ReLUï¼ˆæ ¡æ­£çº¿æ€§å•å…ƒï¼šRectified Linear Unitï¼‰æ¿€æ´»å‡½æ•°ï¼Œå½“$x=0$æ—¶å‡½æ•°å€¼ä¸º0ã€‚å½“$x&gt;0$å‡½æ•°çš„æ–œç‡ä¸º1ã€‚</p>
<p><strong>ReLUã€‚</strong>åœ¨è¿‘äº›å¹´ReLUå˜å¾—éå¸¸æµè¡Œã€‚å®ƒçš„å‡½æ•°å…¬å¼æ˜¯$f(x)=max(0,x)$ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæ¿€æ´»å‡½æ•°å°±æ˜¯ä¸€ä¸ªå…³äº0çš„é˜ˆå€¼ï¼ˆå¦‚ä¸Šå›¾å·¦ä¾§ï¼‰ã€‚ä½¿ç”¨ReLUæœ‰ä»¥ä¸‹ä¸€äº›ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>ä¼˜ç‚¹ï¼šç›¸è¾ƒäºsigmoidå’Œtanhå‡½æ•°ï¼ŒReLUå¯¹äºéšæœºæ¢¯åº¦ä¸‹é™çš„æ”¶æ•›æœ‰å·¨å¤§çš„åŠ é€Ÿä½œç”¨ã€‚æ®ç§°è¿™æ˜¯ç”±å®ƒçš„çº¿æ€§ï¼Œéé¥±å’Œçš„å…¬å¼å¯¼è‡´çš„ã€‚</li>
<li>ä¼˜ç‚¹ï¼šsigmoidå’Œtanhç¥ç»å…ƒå«æœ‰æŒ‡æ•°è¿ç®—ç­‰è€—è´¹è®¡ç®—èµ„æºçš„æ“ä½œï¼Œè€ŒReLUå¯ä»¥ç®€å•åœ°é€šè¿‡å¯¹ä¸€ä¸ªçŸ©é˜µè¿›è¡Œé˜ˆå€¼è®¡ç®—å¾—åˆ°ã€‚</li>
<li>ç¼ºç‚¹ï¼šåœ¨è®­ç»ƒçš„æ—¶å€™ï¼ŒReLUå•å…ƒæ¯”è¾ƒè„†å¼±å¹¶ä¸”å¯èƒ½â€æ­»æ‰â€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“ä¸€ä¸ªå¾ˆå¤§çš„æ¢¯åº¦æµè¿‡ReLUçš„ç¥ç»å…ƒçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ›´æ–°åˆ°ä¸€ç§ç‰¹åˆ«çš„çŠ¶æ€ï¼Œåœ¨è¿™ç§çŠ¶æ€ä¸‹ç¥ç»å…ƒå°†æ— æ³•è¢«å…¶ä»–ä»»ä½•æ•°æ®ç‚¹å†æ¬¡æ¿€æ´»ã€‚å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿï¼Œé‚£ä¹ˆä»æ­¤æ‰€ä»¥æµè¿‡è¿™ä¸ªç¥ç»å…ƒçš„æ¢¯åº¦å°†éƒ½å˜æˆ0ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªReLUå•å…ƒåœ¨è®­ç»ƒä¸­å°†ä¸å¯é€†è½¬çš„æ­»äº¡ï¼Œå› ä¸ºè¿™å¯¼è‡´äº†æ•°æ®å¤šæ ·åŒ–çš„ä¸¢å¤±ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå­¦ä¹ ç‡è®¾ç½®å¾—å¤ªé«˜ï¼Œå¯èƒ½ä¼šå‘ç°ç½‘ç»œä¸­40%çš„ç¥ç»å…ƒéƒ½ä¼šæ­»æ‰ï¼ˆåœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸­è¿™äº›ç¥ç»å…ƒéƒ½ä¸ä¼šè¢«æ¿€æ´»ï¼‰ã€‚é€šè¿‡åˆç†è®¾ç½®å­¦ä¹ ç‡ï¼Œè¿™ç§æƒ…å†µçš„å‘ç”Ÿæ¦‚ç‡ä¼šé™ä½ã€‚</li>
</ul>
<p><strong>Leaky ReLUã€‚</strong>Leaky ReLUæ˜¯ä¸ºè§£å†³â€ReLUæ­»äº¡â€é—®é¢˜çš„å°è¯•ã€‚ReLUä¸­å½“x&lt;0æ—¶ï¼Œå‡½æ•°å€¼ä¸º0ã€‚è€ŒLeaky ReLUåˆ™æ˜¯ç»™å‡ºä¸€ä¸ªå¾ˆå°çš„è´Ÿæ•°æ¢¯åº¦å€¼ï¼Œæ¯”å¦‚0.01ã€‚æ‰€ä»¥å…¶å‡½æ•°å…¬å¼ä¸º$f(x)=max(0,x)+\alpha\cdot min(0,x)$å…¶ä¸­$\alpha$æ˜¯ä¸€ä¸ªå°çš„å¸¸é‡ã€‚æœ‰äº›ç ”ç©¶è€…çš„è®ºæ–‡æŒ‡å‡ºè¿™ä¸ªæ¿€æ´»å‡½æ•°è¡¨ç°å¾ˆä¸é”™ï¼Œä½†æ˜¯å…¶æ•ˆæœå¹¶ä¸æ˜¯å¾ˆç¨³å®šã€‚Kaiming Heç­‰äººåœ¨2015å¹´å‘å¸ƒçš„è®ºæ–‡ä¸­ä»‹ç»äº†ä¸€ç§æ–°æ–¹æ³•PReLUï¼ŒæŠŠè´ŸåŒºé—´ä¸Šçš„æ–œç‡å½“åšæ¯ä¸ªç¥ç»å…ƒä¸­çš„ä¸€ä¸ªå‚æ•°ã€‚ç„¶è€Œè¯¥æ¿€æ´»å‡½æ•°åœ¨åœ¨ä¸åŒä»»åŠ¡ä¸­å‡æœ‰ç›Šå¤„çš„ä¸€è‡´æ€§å¹¶æ²¡æœ‰ç‰¹åˆ«æ¸…æ™°ã€‚</p>
<p><strong>Maxoutã€‚</strong>ä¸€äº›å…¶ä»–ç±»å‹çš„å•å…ƒè¢«æäº†å‡ºæ¥ï¼Œå®ƒä»¬å¯¹äºæƒé‡å’Œæ•°æ®çš„å†…ç§¯ç»“æœä¸å†ä½¿ç”¨$f(w^Tx+b)$å‡½æ•°å½¢å¼ã€‚ä¸€ä¸ªç›¸å…³çš„æµè¡Œé€‰æ‹©æ˜¯Maxoutç¥ç»å…ƒã€‚Maxoutæ˜¯å¯¹ReLUå’Œleaky ReLUçš„ä¸€èˆ¬åŒ–å½’çº³ï¼Œå®ƒçš„å‡½æ•°æ˜¯ï¼š$max(w^T_1x+b_1,w^T_2x+b_2)$ã€‚ReLUå’ŒLeaky ReLUéƒ½æ˜¯è¿™ä¸ªå…¬å¼çš„ç‰¹æ®Šæƒ…å†µï¼ˆæ¯”å¦‚ReLUå°±æ˜¯å½“$w_1,b_1=0$çš„æ—¶å€™ï¼‰ã€‚è¿™æ ·Maxoutç¥ç»å…ƒå°±æ‹¥æœ‰ReLUå•å…ƒçš„æ‰€æœ‰ä¼˜ç‚¹ï¼ˆçº¿æ€§æ“ä½œå’Œä¸é¥±å’Œï¼‰ï¼Œè€Œæ²¡æœ‰å®ƒçš„ç¼ºç‚¹ï¼ˆæ­»äº¡çš„ReLUå•å…ƒï¼‰ã€‚ç„¶è€Œå’ŒReLUå¯¹æ¯”ï¼Œå®ƒæ¯ä¸ªç¥ç»å…ƒçš„å‚æ•°æ•°é‡å¢åŠ äº†ä¸€å€ï¼Œè¿™å°±å¯¼è‡´æ•´ä½“å‚æ•°çš„æ•°é‡æ¿€å¢ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯ä¸€äº›å¸¸ç”¨çš„ç¥ç»å…ƒåŠå…¶æ¿€æ´»å‡½æ•°ã€‚æœ€åéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­æ··åˆä½¿ç”¨ä¸åŒç±»å‹çš„ç¥ç»å…ƒæ˜¯éå¸¸å°‘è§çš„ï¼Œè™½ç„¶æ²¡æœ‰ä»€ä¹ˆæ ¹æœ¬æ€§é—®é¢˜æ¥ç¦æ­¢è¿™æ ·åšã€‚  </p>
<p><strong>ä¸€å¥è¯</strong>ï¼šâ€é‚£ä¹ˆè¯¥ç”¨é‚£ç§å‘¢ï¼Ÿâ€ç”¨ReLUéçº¿æ€§å‡½æ•°ã€‚æ³¨æ„è®¾ç½®å¥½å­¦ä¹ ç‡ï¼Œæˆ–è®¸å¯ä»¥ç›‘æ§ä½ çš„ç½‘ç»œä¸­æ­»äº¡çš„ç¥ç»å…ƒå çš„æ¯”ä¾‹ã€‚å¦‚æœå•å…ƒæ­»äº¡é—®é¢˜å›°æ‰°ä½ ï¼Œå°±è¯•è¯•Leaky ReLUæˆ–è€…Maxoutï¼Œä¸è¦å†ç”¨sigmoidäº†ã€‚ä¹Ÿå¯ä»¥è¯•è¯•tanhï¼Œä½†æ˜¯å…¶æ•ˆæœåº”è¯¥ä¸å¦‚ReLUæˆ–è€…Maxoutã€‚  </p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ æœ€ä¼˜åŒ–</title>
    <url>/2024/05/07/11-38-48/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.07ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­çš„ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š</p>
<ol>
<li>åŸºäºå‚æ•°çš„<strong>è¯„åˆ†å‡½æ•°ã€‚</strong>è¯¥å‡½æ•°å°†åŸå§‹å›¾åƒåƒç´ æ˜ å°„ä¸ºåˆ†ç±»è¯„åˆ†å€¼ï¼ˆä¾‹å¦‚ï¼šä¸€ä¸ªçº¿æ€§å‡½æ•°ï¼‰ã€‚</li>
<li><strong>æŸå¤±å‡½æ•°</strong>ã€‚è¯¥å‡½æ•°èƒ½å¤Ÿæ ¹æ®åˆ†ç±»è¯„åˆ†å’Œè®­ç»ƒé›†å›¾åƒæ•°æ®å®é™…åˆ†ç±»çš„ä¸€è‡´æ€§ï¼Œè¡¡é‡æŸä¸ªå…·ä½“å‚æ•°é›†çš„è´¨é‡å¥½åã€‚æŸå¤±å‡½æ•°æœ‰å¤šç§ç‰ˆæœ¬å’Œä¸åŒçš„å®ç°æ–¹å¼ï¼ˆä¾‹å¦‚ï¼šSoftmaxæˆ–SVMï¼‰ã€‚</li>
</ol>
<p>ä¸ŠèŠ‚ä¸­ï¼Œçº¿æ€§å‡½æ•°çš„å½¢å¼æ˜¯$f(x_i, W)=Wx_i$ï¼Œè€ŒSVMå®ç°çš„å…¬å¼æ˜¯ï¼š  </p>
<p>$L=\frac1N\sum_i\sum_{j\neq y_i}[max(0,f(x_i;W)_j-f(x_i;W)_{y_i}+1)]+\alpha R(W)$</p>
<p>å¯¹äºå›¾åƒæ•°æ®$x_i$ï¼Œå¦‚æœåŸºäºå‚æ•°é›†$W$åšå‡ºçš„åˆ†ç±»é¢„æµ‹ä¸çœŸå®æƒ…å†µæ¯”è¾ƒä¸€è‡´ï¼Œé‚£ä¹ˆè®¡ç®—å‡ºæ¥çš„æŸå¤±å€¼$L$å°±å¾ˆä½ã€‚ç°åœ¨ä»‹ç»ç¬¬ä¸‰ä¸ªï¼Œä¹Ÿæ˜¯æœ€åä¸€ä¸ªå…³é”®éƒ¨åˆ†ï¼š<strong>æœ€ä¼˜åŒ–Optimization</strong>ã€‚æœ€ä¼˜åŒ–æ˜¯å¯»æ‰¾èƒ½ä½¿å¾—æŸå¤±å‡½æ•°å€¼æœ€å°åŒ–çš„å‚æ•°$W$çš„è¿‡ç¨‹ã€‚</p>
<p><strong>é“ºå«</strong>ï¼šä¸€æ—¦ç†è§£äº†è¿™ä¸‰ä¸ªéƒ¨åˆ†æ˜¯å¦‚ä½•ç›¸äº’è¿ä½œçš„ï¼Œæˆ‘ä»¬å°†ä¼šå›åˆ°ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼ˆåŸºäºå‚æ•°çš„å‡½æ•°æ˜ å°„ï¼‰ï¼Œç„¶åå°†å…¶æ‹“å±•ä¸ºä¸€ä¸ªè¿œæ¯”çº¿æ€§å‡½æ•°å¤æ‚çš„å‡½æ•°ï¼šé¦–å…ˆæ˜¯ç¥ç»ç½‘ç»œï¼Œç„¶åæ˜¯å·ç§¯ç¥ç»ç½‘ç»œã€‚è€ŒæŸå¤±å‡½æ•°å’Œæœ€ä¼˜åŒ–è¿‡ç¨‹è¿™ä¸¤ä¸ªéƒ¨åˆ†å°†ä¼šä¿æŒç›¸å¯¹ç¨³å®šã€‚</p>
<h2 id="æŸå¤±å‡½æ•°å¯è§†åŒ–"><a href="#æŸå¤±å‡½æ•°å¯è§†åŒ–" class="headerlink" title="æŸå¤±å‡½æ•°å¯è§†åŒ–"></a>æŸå¤±å‡½æ•°å¯è§†åŒ–</h2><p>æœ¬è¯¾ä¸­è®¨è®ºçš„æŸå¤±å‡½æ•°ä¸€èˆ¬éƒ½æ˜¯å®šä¹‰åœ¨é«˜ç»´åº¦çš„ç©ºé—´ä¸­ï¼ˆæ¯”å¦‚ï¼Œåœ¨CIFAR-10ä¸­ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨çš„æƒé‡çŸ©é˜µå¤§å°æ˜¯[10x3073]ï¼Œå°±æœ‰30730ä¸ªå‚æ•°ï¼‰ï¼Œè¿™æ ·è¦å°†å…¶å¯è§†åŒ–å°±å¾ˆå›°éš¾ã€‚ç„¶è€ŒåŠæ³•è¿˜æ˜¯æœ‰çš„ï¼Œåœ¨1ä¸ªç»´åº¦æˆ–è€…2ä¸ªç»´åº¦çš„æ–¹å‘ä¸Šå¯¹é«˜ç»´ç©ºé—´è¿›è¡Œåˆ‡ç‰‡ï¼Œå°±èƒ½å¾—åˆ°ä¸€äº›ç›´è§‚æ„Ÿå—ã€‚ä¾‹å¦‚ï¼Œéšæœºç”Ÿæˆä¸€ä¸ªæƒé‡çŸ©é˜µ$W$ï¼Œè¯¥çŸ©é˜µå°±ä¸é«˜ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹å¯¹åº”ã€‚ç„¶åæ²¿ç€æŸä¸ªç»´åº¦æ–¹å‘å‰è¿›çš„åŒæ—¶è®°å½•æŸå¤±å‡½æ•°å€¼çš„å˜åŒ–ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç”Ÿæˆä¸€ä¸ªéšæœºçš„æ–¹å‘$W_1$å¹¶ä¸”æ²¿ç€æ­¤æ–¹å‘è®¡ç®—æŸå¤±å€¼ï¼Œè®¡ç®—æ–¹æ³•æ˜¯æ ¹æ®ä¸åŒçš„$a$å€¼æ¥è®¡ç®—$L(W+aW_1)$ã€‚è¿™ä¸ªè¿‡ç¨‹å°†ç”Ÿæˆä¸€ä¸ªå›¾è¡¨ï¼Œå…¶$x$è½´æ˜¯$a$å€¼ï¼Œ$y$è½´æ˜¯æŸå¤±å‡½æ•°å€¼ã€‚åŒæ ·çš„æ–¹æ³•è¿˜å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šï¼Œé€šè¿‡æ”¹å˜$a,b$æ¥è®¡ç®—æŸå¤±å€¼$L(W+aW_1+bW_2)$ï¼Œä»è€Œç»™å‡ºäºŒç»´çš„å›¾åƒã€‚åœ¨å›¾åƒä¸­ï¼Œ$a,b$å¯ä»¥åˆ†åˆ«ç”¨xå’Œyè½´è¡¨ç¤ºï¼Œè€ŒæŸå¤±å‡½æ•°çš„å€¼å¯ä»¥ç”¨é¢œè‰²å˜åŒ–è¡¨ç¤ºï¼š</p>
<img src="/2024/05/07/11-38-48/94dd0714f65ef94b3cbfff4780b1988d_b.png" class>
<p>ä¸€ä¸ªæ— æ­£åˆ™åŒ–çš„å¤šç±»SVMçš„æŸå¤±å‡½æ•°çš„å›¾ç¤ºã€‚å·¦è¾¹å’Œä¸­é—´åªæœ‰ä¸€ä¸ªæ ·æœ¬æ•°æ®ï¼Œå³è¾¹æ˜¯CIFAR-10ä¸­çš„100ä¸ªæ•°æ®ã€‚<strong>å·¦</strong>ï¼šaå€¼å˜åŒ–åœ¨æŸä¸ªç»´åº¦æ–¹å‘ä¸Šå¯¹åº”çš„çš„æŸå¤±å€¼å˜åŒ–ã€‚<strong>ä¸­å’Œå³</strong>ï¼šä¸¤ä¸ªç»´åº¦æ–¹å‘ä¸Šçš„æŸå¤±å€¼åˆ‡ç‰‡å›¾ï¼Œè“è‰²éƒ¨åˆ†æ˜¯ä½æŸå¤±å€¼åŒºåŸŸï¼Œçº¢è‰²éƒ¨åˆ†æ˜¯é«˜æŸå¤±å€¼åŒºåŸŸã€‚æ³¨æ„æŸå¤±å‡½æ•°çš„åˆ†æ®µçº¿æ€§ç»“æ„ã€‚å¤šä¸ªæ ·æœ¬çš„æŸå¤±å€¼æ˜¯æ€»ä½“çš„å¹³å‡å€¼ï¼Œæ‰€ä»¥å³è¾¹çš„ç¢—çŠ¶ç»“æ„æ˜¯å¾ˆå¤šçš„åˆ†æ®µçº¿æ€§ç»“æ„çš„å¹³å‡ï¼ˆæ¯”å¦‚ä¸­é—´è¿™ä¸ªå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°å­¦å…¬å¼æ¥è§£é‡ŠæŸå¤±å‡½æ•°çš„åˆ†æ®µçº¿æ€§ç»“æ„ã€‚å¯¹äºä¸€ä¸ªå•ç‹¬çš„æ•°æ®ï¼Œæœ‰æŸå¤±å‡½æ•°çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š  </p>
<p>$\large Li=\sum_{j\neq y_i}[max(0,w_j^Tx_i-w_{y_i}^Tx_i+1)]$</p>
<p>é€šè¿‡å…¬å¼å¯è§ï¼Œæ¯ä¸ªæ ·æœ¬çš„æ•°æ®æŸå¤±å€¼æ˜¯ä»¥$W$ä¸ºå‚æ•°çš„çº¿æ€§å‡½æ•°çš„æ€»å’Œï¼ˆé›¶é˜ˆå€¼æ¥æºäº$max(0,-)$å‡½æ•°ï¼‰ã€‚$W$çš„æ¯ä¸€è¡Œï¼ˆå³$w_j$ï¼‰ï¼Œæœ‰æ—¶å€™å®ƒå‰é¢æ˜¯ä¸€ä¸ªæ­£å·ï¼ˆæ¯”å¦‚å½“å®ƒå¯¹åº”é”™è¯¯åˆ†ç±»çš„æ—¶å€™ï¼‰ï¼Œæœ‰æ—¶å€™å®ƒå‰é¢æ˜¯ä¸€ä¸ªè´Ÿå·ï¼ˆæ¯”å¦‚å½“å®ƒæ˜¯æ˜¯æ­£ç¡®åˆ†ç±»çš„æ—¶å€™ï¼‰ã€‚ä¸ºè¿›ä¸€æ­¥é˜æ˜ï¼Œå‡è®¾æœ‰ä¸€ä¸ªç®€å•çš„æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«æœ‰3ä¸ªåªæœ‰1ä¸ªç»´åº¦çš„ç‚¹ï¼Œæ•°æ®é›†æ•°æ®ç‚¹æœ‰3ä¸ªç±»åˆ«ã€‚é‚£ä¹ˆå®Œæ•´çš„æ— æ­£åˆ™åŒ–SVMçš„æŸå¤±å€¼è®¡ç®—å¦‚ä¸‹ï¼š</p>
<p>$L_0=max(0,w^T_1x_0-w^T_0x_0+1)+max(0,w^T_2x_0-w^T_0x_0+1)$<br>$L_1=max(0,w^T_0x_1-w^T_1x_1+1)+max(0,w^T_2x_1-w^T_1x_1+1)$<br>$L_2=max(0,w^T_0x_2-w^T_2x_2+1)+max(0,w^T_1x_2-w^T_2x_2+1)$<br>$L=(L_0+L_1+L_2)/3$</p>
<p>å› ä¸ºè¿™äº›ä¾‹å­éƒ½æ˜¯ä¸€ç»´çš„ï¼Œæ‰€ä»¥æ•°æ®$x_i$å’Œæƒé‡$w_j$éƒ½æ˜¯æ•°å­—ã€‚è§‚å¯Ÿ$w_0$ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å¼å­ä¸­ä¸€äº›é¡¹æ˜¯$w_0$çš„çº¿æ€§å‡½æ•°ï¼Œä¸”æ¯ä¸€é¡¹éƒ½ä¼šä¸0æ¯”è¾ƒï¼Œå–ä¸¤è€…çš„æœ€å¤§å€¼ã€‚å¯ä½œå›¾å¦‚ä¸‹ï¼š</p>
<img src="/2024/05/07/11-38-48/3f6fbcd487b1c214e8fea1ea66eb413e_b.png" class>
<p>ä»ä¸€ä¸ªç»´åº¦æ–¹å‘ä¸Šå¯¹æ•°æ®æŸå¤±å€¼çš„å±•ç¤ºã€‚xè½´æ–¹å‘å°±æ˜¯ä¸€ä¸ªæƒé‡ï¼Œyè½´å°±æ˜¯æŸå¤±å€¼ã€‚æ•°æ®æŸå¤±æ˜¯å¤šä¸ªéƒ¨åˆ†ç»„åˆè€Œæˆã€‚å…¶ä¸­æ¯ä¸ªéƒ¨åˆ†è¦ä¹ˆæ˜¯æŸä¸ªæƒé‡çš„ç‹¬ç«‹éƒ¨åˆ†ï¼Œè¦ä¹ˆæ˜¯è¯¥æƒé‡çš„çº¿æ€§å‡½æ•°ä¸0é˜ˆå€¼çš„æ¯”è¾ƒã€‚å®Œæ•´çš„SVMæ•°æ®æŸå¤±å°±æ˜¯è¿™ä¸ªå½¢çŠ¶çš„30730ç»´ç‰ˆæœ¬ã€‚  </p>
<p>éœ€è¦å¤šè¯´ä¸€å¥çš„æ˜¯ï¼Œä½ å¯èƒ½æ ¹æ®SVMçš„æŸå¤±å‡½æ•°çš„ç¢—çŠ¶å¤–è§‚çŒœå‡ºå®ƒæ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ã€‚ã€‚ä½†æ˜¯ä¸€æ—¦æˆ‘ä»¬å°†$f$å‡½æ•°æ‰©å±•åˆ°ç¥ç»ç½‘ç»œï¼Œç›®æ ‡å‡½æ•°å°±å°±ä¸å†æ˜¯å‡¸å‡½æ•°äº†ï¼Œå›¾åƒä¹Ÿä¸ä¼šåƒä¸Šé¢é‚£æ ·æ˜¯ä¸ªç¢—çŠ¶ï¼Œè€Œæ˜¯å‡¹å‡¸ä¸å¹³çš„å¤æ‚åœ°å½¢å½¢çŠ¶ã€‚  </p>
<p>ä¸å¯å¯¼çš„æŸå¤±å‡½æ•°ã€‚ä½œä¸ºä¸€ä¸ªæŠ€æœ¯ç¬”è®°ï¼Œä½ è¦æ³¨æ„åˆ°ï¼šç”±äºmaxæ“ä½œï¼ŒæŸå¤±å‡½æ•°ä¸­å­˜åœ¨ä¸€äº›ä¸å¯å¯¼ç‚¹ï¼ˆkinksï¼‰ï¼Œè¿™äº›ç‚¹ä½¿å¾—æŸå¤±å‡½æ•°ä¸å¯å¾®ï¼Œå› ä¸ºåœ¨è¿™äº›ä¸å¯å¯¼ç‚¹ï¼Œæ¢¯åº¦æ˜¯æ²¡æœ‰å®šä¹‰çš„ã€‚ä½†æ˜¯æ¬¡æ¢¯åº¦ï¼ˆsubgradientï¼‰ä¾ç„¶å­˜åœ¨ä¸”å¸¸å¸¸è¢«ä½¿ç”¨ã€‚åœ¨æœ¬è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†äº¤æ¢ä½¿ç”¨æ¬¡æ¢¯åº¦å’Œæ¢¯åº¦ä¸¤ä¸ªæœ¯è¯­ã€‚  </p>
<h2 id="æœ€ä¼˜åŒ–-Optimization"><a href="#æœ€ä¼˜åŒ–-Optimization" class="headerlink" title="æœ€ä¼˜åŒ– Optimization"></a>æœ€ä¼˜åŒ– Optimization</h2><p>é‡ç”³ä¸€ä¸‹ï¼šæŸå¤±å‡½æ•°å¯ä»¥é‡åŒ–æŸä¸ªå…·ä½“æƒé‡é›†<strong>W</strong>çš„è´¨é‡ã€‚è€Œæœ€ä¼˜åŒ–çš„ç›®æ ‡å°±æ˜¯æ‰¾åˆ°èƒ½å¤Ÿæœ€å°åŒ–æŸå¤±å‡½æ•°å€¼çš„<strong>W</strong> ã€‚æˆ‘ä»¬ç°åœ¨å°±æœç€è¿™ä¸ªç›®æ ‡å‰è¿›ï¼Œå®ç°ä¸€ä¸ªèƒ½å¤Ÿæœ€ä¼˜åŒ–æŸå¤±å‡½æ•°çš„æ–¹æ³•ã€‚å¯¹äºæœ‰ä¸€äº›ç»éªŒçš„åŒå­¦ï¼Œè¿™èŠ‚è¯¾çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼Œå› ä¸ºä½¿ç”¨çš„ä¾‹å­ï¼ˆSVM æŸå¤±å‡½æ•°ï¼‰æ˜¯ä¸€ä¸ªå‡¸å‡½æ•°é—®é¢˜ã€‚ä½†æ˜¯è¦è®°å¾—ï¼Œæœ€ç»ˆçš„ç›®æ ‡æ˜¯ä¸ä»…ä»…å¯¹å‡¸å‡½æ•°åšæœ€ä¼˜åŒ–ï¼Œè€Œæ˜¯èƒ½å¤Ÿæœ€ä¼˜åŒ–ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œè€Œå¯¹äºç¥ç»ç½‘ç»œæ˜¯ä¸èƒ½ç®€å•çš„ä½¿ç”¨å‡¸å‡½æ•°çš„æœ€ä¼˜åŒ–æŠ€å·§çš„ã€‚  </p>
<p><strong>ç­–ç•¥#1ï¼šä¸€ä¸ªå·®åŠ²çš„åˆå§‹æ–¹æ¡ˆï¼šéšæœºæœç´¢</strong></p>
<p>æ—¢ç„¶ç¡®è®¤å‚æ•°é›†<strong>W</strong>çš„å¥½åè›®ç®€å•çš„ï¼Œé‚£ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„ï¼ˆå·®åŠ²ï¼‰æ–¹æ³•ï¼Œå°±æ˜¯å¯ä»¥éšæœºå°è¯•å¾ˆå¤šä¸åŒçš„æƒé‡ï¼Œç„¶åçœ‹å…¶ä¸­å“ªä¸ªæœ€å¥½ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">    <span class="comment"># å‡è®¾X_trainçš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªæ•°æ®æ ·æœ¬ï¼ˆæ¯”å¦‚3073 x 50000ï¼‰</span></span><br><span class="line">    <span class="comment"># å‡è®¾Y_trainæ˜¯æ•°æ®æ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾ï¼ˆæ¯”å¦‚ä¸€ä¸ªé•¿50000çš„ä¸€ç»´æ•°ç»„ï¼‰</span></span><br><span class="line">    <span class="comment"># å‡è®¾å‡½æ•°Lå¯¹æŸå¤±å‡½æ•°è¿›è¡Œè¯„ä»·</span></span><br><span class="line">    </span><br><span class="line">    bestloss = <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>) <span class="comment"># Python assigns the highest possible float value</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> xrange(<span class="number">1000</span>):</span><br><span class="line">      W = np.random.randn(<span class="number">10</span>, <span class="number">3073</span>) * <span class="number">0.0001</span> <span class="comment"># generate random parameters</span></span><br><span class="line">      loss = L(X_train, Y_train, W) <span class="comment"># get the loss over the entire training set</span></span><br><span class="line">      <span class="keyword">if</span> loss &amp;lt; bestloss: <span class="comment"># keep track of the best solution</span></span><br><span class="line">        bestloss = loss</span><br><span class="line">        bestW = W</span><br><span class="line">      <span class="built_in">print</span> <span class="string">&#x27;in attempt %d the loss was %f, best %f&#x27;</span> % (num, loss, bestloss)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¾“å‡º:</span></span><br><span class="line">    <span class="comment"># in attempt 0 the loss was 9.401632, best 9.401632</span></span><br><span class="line">    <span class="comment"># in attempt 1 the loss was 8.959668, best 8.959668</span></span><br><span class="line">    <span class="comment"># in attempt 2 the loss was 9.044034, best 8.959668</span></span><br><span class="line">    <span class="comment"># in attempt 3 the loss was 9.278948, best 8.959668</span></span><br><span class="line">    <span class="comment"># in attempt 4 the loss was 8.857370, best 8.857370</span></span><br><span class="line">    <span class="comment"># in attempt 5 the loss was 8.943151, best 8.857370</span></span><br><span class="line">    <span class="comment"># in attempt 6 the loss was 8.605604, best 8.605604</span></span><br><span class="line">    <span class="comment"># ... (trunctated: continues for 1000 lines)</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°è¯•äº†è‹¥å¹²éšæœºç”Ÿæˆçš„æƒé‡çŸ©é˜µ**W**ï¼Œå…¶ä¸­æŸäº›çš„æŸå¤±å€¼è¾ƒå°ï¼Œè€Œå¦ä¸€äº›çš„æŸå¤±å€¼å¤§äº›ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™æ¬¡éšæœºæœç´¢ä¸­æ‰¾åˆ°çš„æœ€å¥½çš„æƒé‡**W**å–å‡ºï¼Œç„¶åå»è·‘æµ‹è¯•é›†ï¼š  </span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å‡è®¾X_testå°ºå¯¸æ˜¯[3073 x 10000], Y_testå°ºå¯¸æ˜¯[10000 x 1]</span></span><br><span class="line">    scores = Wbest.dot(Xte_cols) <span class="comment"># 10 x 10000, the class scores for all test examples</span></span><br><span class="line">    <span class="comment"># æ‰¾åˆ°åœ¨æ¯åˆ—ä¸­è¯„åˆ†å€¼æœ€å¤§çš„ç´¢å¼•ï¼ˆå³é¢„æµ‹çš„åˆ†ç±»ï¼‰</span></span><br><span class="line">    Yte_predict = np.argmax(scores, axis = <span class="number">0</span>)</span><br><span class="line">    <span class="comment"># ä»¥åŠè®¡ç®—å‡†ç¡®ç‡</span></span><br><span class="line">    np.mean(Yte_predict == Yte)</span><br><span class="line">    <span class="comment"># è¿”å› 0.1555</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>éªŒè¯é›†ä¸Šè¡¨ç°æœ€å¥½çš„æƒé‡<strong>W</strong>è·‘æµ‹è¯•é›†çš„å‡†ç¡®ç‡æ˜¯<strong>15.5%ï¼Œ</strong>è€Œå®Œå…¨éšæœºçŒœçš„å‡†ç¡®ç‡æ˜¯10%ï¼Œå¦‚æ­¤çœ‹æ¥ï¼Œè¿™ä¸ªå‡†ç¡®ç‡å¯¹äºè¿™æ ·ä¸€ä¸ªä¸ç»è¿‡å¤§è„‘çš„ç­–ç•¥æ¥è¯´ï¼Œè¿˜ç®—ä¸é”™å˜›ï¼  </p>
<p><strong>æ ¸å¿ƒæ€è·¯ï¼šè¿­ä»£ä¼˜åŒ–</strong>ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è‚¯å®šèƒ½åšå¾—æ›´å¥½äº›ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼šè™½ç„¶æ‰¾åˆ°æœ€ä¼˜çš„æƒé‡<strong>W</strong>éå¸¸å›°éš¾ï¼Œç”šè‡³æ˜¯ä¸å¯èƒ½çš„ï¼ˆå°¤å…¶å½“<strong>W</strong>ä¸­å­˜çš„æ˜¯æ•´ä¸ªç¥ç»ç½‘ç»œçš„æƒé‡çš„æ—¶å€™ï¼‰ï¼Œä½†å¦‚æœé—®é¢˜è½¬åŒ–ä¸ºï¼šå¯¹ä¸€ä¸ªæƒé‡çŸ©é˜µé›†<strong>W</strong>å–ä¼˜ï¼Œä½¿å…¶æŸå¤±å€¼ç¨å¾®å‡å°‘ã€‚é‚£ä¹ˆé—®é¢˜çš„éš¾åº¦å°±å¤§å¤§é™ä½äº†ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»ä¸€ä¸ªéšæœºçš„<strong>W</strong>å¼€å§‹ï¼Œç„¶åå¯¹å…¶è¿­ä»£å–ä¼˜ï¼Œæ¯æ¬¡éƒ½è®©å®ƒçš„æŸå¤±å€¼å˜å¾—æ›´å°ä¸€ç‚¹ã€‚  </p>
<p>&gt; æˆ‘ä»¬çš„ç­–ç•¥æ˜¯ä»éšæœºæƒé‡å¼€å§‹ï¼Œç„¶åè¿­ä»£å–ä¼˜ï¼Œä»è€Œè·å¾—æ›´ä½çš„æŸå¤±å€¼ã€‚  </p>
<p><strong>è’™çœ¼å¾’æ­¥è€…çš„æ¯”å–»</strong>ï¼šä¸€ä¸ªåŠ©äºç†è§£çš„æ¯”å–»æ˜¯æŠŠä½ è‡ªå·±æƒ³è±¡æˆä¸€ä¸ªè’™ç€çœ¼ç›çš„å¾’æ­¥è€…ï¼Œæ­£èµ°åœ¨å±±åœ°åœ°å½¢ä¸Šï¼Œç›®æ ‡æ˜¯è¦æ…¢æ…¢èµ°åˆ°å±±åº•ã€‚åœ¨CIFAR-10çš„ä¾‹å­ä¸­ï¼Œè¿™å±±æ˜¯30730ç»´çš„ï¼ˆå› ä¸º<strong>W</strong>æ˜¯3073x10ï¼‰ã€‚æˆ‘ä»¬åœ¨å±±ä¸Šè¸©çš„æ¯ä¸€ç‚¹éƒ½å¯¹åº”ä¸€ä¸ªçš„æŸå¤±å€¼ï¼Œè¯¥æŸå¤±å€¼å¯ä»¥çœ‹åšè¯¥ç‚¹çš„æµ·æ‹”é«˜åº¦ã€‚  </p>
<p><strong>ç­–ç•¥#2ï¼šéšæœºæœ¬åœ°æœç´¢</strong></p>
<p>ç¬¬ä¸€ä¸ªç­–ç•¥å¯ä»¥çœ‹åšæ˜¯æ¯èµ°ä¸€æ­¥éƒ½å°è¯•å‡ ä¸ªéšæœºæ–¹å‘ï¼Œå¦‚æœæŸä¸ªæ–¹å‘æ˜¯å‘å±±ä¸‹çš„ï¼Œå°±å‘è¯¥æ–¹å‘èµ°ä¸€æ­¥ã€‚è¿™æ¬¡æˆ‘ä»¬ä»ä¸€ä¸ªéšæœº$W$å¼€å§‹ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªéšæœºçš„æ‰°åŠ¨$\delta W$ ï¼Œåªæœ‰å½“$W+\delta W$çš„æŸå¤±å€¼å˜ä½ï¼Œæˆ‘ä»¬æ‰ä¼šæ›´æ–°ã€‚</p>
<img src="/2024/05/07/11-38-48/4_1.jpg" class>
<blockquote>
<p>åŠ å…¥æ‰°åŠ¨åçš„æ¢¯åº¦è®¡ç®—å¦‚å›¾æ‰€ç¤º<br>è¿™ä¸ªè¿‡ç¨‹çš„å…·ä½“ä»£ç å¦‚ä¸‹ï¼š  </p>
</blockquote>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">W = np.random.randn(<span class="number">10</span>, <span class="number">3073</span>) * <span class="number">0.001</span> <span class="comment"># ç”Ÿæˆéšæœºåˆå§‹W</span></span><br><span class="line">bestloss = <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1000</span>):</span><br><span class="line">  step_size = <span class="number">0.0001</span></span><br><span class="line">  Wtry = W + np.random.randn(<span class="number">10</span>, <span class="number">3073</span>) * step_size</span><br><span class="line">  loss = L(Xtr_cols, Ytr, Wtry)</span><br><span class="line">  <span class="keyword">if</span> loss &amp;lt; bestloss:</span><br><span class="line">    W = Wtry</span><br><span class="line">    bestloss = loss</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&#x27;iter %d loss is %f&#x27;</span> % (i, bestloss)</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨åŒæ ·çš„æ•°æ®ï¼ˆ1000ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥å¾—åˆ°<strong>21.4%</strong>çš„åˆ†ç±»å‡†ç¡®ç‡ã€‚è¿™ä¸ªæ¯”ç­–ç•¥ä¸€å¥½ï¼Œä½†æ˜¯ä¾ç„¶è¿‡äºæµªè´¹è®¡ç®—èµ„æºã€‚  </p>
<p><strong>ç­–ç•¥#3ï¼šè·Ÿéšæ¢¯åº¦</strong>  </p>
<p>å‰ä¸¤ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬æ˜¯å°è¯•åœ¨æƒé‡ç©ºé—´ä¸­æ‰¾åˆ°ä¸€ä¸ªæ–¹å‘ï¼Œæ²¿ç€è¯¥æ–¹å‘èƒ½é™ä½æŸå¤±å‡½æ•°çš„æŸå¤±å€¼ã€‚å…¶å®ä¸éœ€è¦éšæœºå¯»æ‰¾æ–¹å‘ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥è®¡ç®—å‡ºæœ€å¥½çš„æ–¹å‘ï¼Œè¿™å°±æ˜¯ä»æ•°å­¦ä¸Šè®¡ç®—å‡ºæœ€é™¡å³­çš„æ–¹å‘ã€‚è¿™ä¸ªæ–¹å‘å°±æ˜¯æŸå¤±å‡½æ•°çš„<strong>æ¢¯åº¦ï¼ˆgradientï¼‰</strong>ã€‚åœ¨è’™çœ¼å¾’æ­¥è€…çš„æ¯”å–»ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•å°±å¥½æ¯”æ˜¯æ„Ÿå—æˆ‘ä»¬è„šä¸‹å±±ä½“çš„å€¾æ–œç¨‹åº¦ï¼Œç„¶åå‘ç€æœ€é™¡å³­çš„ä¸‹é™æ–¹å‘ä¸‹å±±ã€‚</p>
<p>åœ¨ä¸€ç»´å‡½æ•°ä¸­ï¼Œæ–œç‡æ˜¯å‡½æ•°åœ¨æŸä¸€ç‚¹çš„ç¬æ—¶å˜åŒ–ç‡ã€‚æ¢¯åº¦æ˜¯å‡½æ•°çš„æ–œç‡çš„ä¸€èˆ¬åŒ–è¡¨è¾¾ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªå‘é‡ã€‚åœ¨è¾“å…¥ç©ºé—´ä¸­ï¼Œæ¢¯åº¦æ˜¯å„ä¸ªç»´åº¦çš„æ–œç‡ç»„æˆçš„å‘é‡ï¼ˆæˆ–è€…ç§°ä¸ºå¯¼æ•°<strong>derivatives</strong>ï¼‰ã€‚å¯¹ä¸€ç»´å‡½æ•°çš„æ±‚å¯¼å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$\frac{df(x)}{dx}=\displaystyle\lim_{h\to0}\frac{f(x+h)-f(x)}{h}$</p>
<p>å½“å‡½æ•°æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°å¯¼æ•°ä¸ºåå¯¼æ•°ã€‚è€Œæ¢¯åº¦å°±æ˜¯åœ¨æ¯ä¸ªç»´åº¦ä¸Šåå¯¼æ•°æ‰€å½¢æˆçš„å‘é‡ã€‚</p>
<h2 id="æ¢¯åº¦è®¡ç®—"><a href="#æ¢¯åº¦è®¡ç®—" class="headerlink" title="æ¢¯åº¦è®¡ç®—"></a>æ¢¯åº¦è®¡ç®—</h2><p>è®¡ç®—æ¢¯åº¦æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€ä¸ªæ˜¯ç¼“æ…¢çš„è¿‘ä¼¼æ–¹æ³•ï¼ˆ<strong>æ•°å€¼æ¢¯åº¦æ³•</strong>ï¼‰ï¼Œä½†å®ç°ç›¸å¯¹ç®€å•ã€‚å¦ä¸€ä¸ªæ–¹æ³•ï¼ˆ<strong>åˆ†ææ¢¯åº¦æ³•</strong>ï¼‰è®¡ç®—è¿…é€Ÿï¼Œç»“æœç²¾ç¡®ï¼Œä½†æ˜¯å®ç°æ—¶å®¹æ˜“å‡ºé”™ï¼Œä¸”éœ€è¦ä½¿ç”¨å¾®åˆ†ã€‚ç°åœ¨å¯¹ä¸¤ç§æ–¹æ³•è¿›è¡Œä»‹ç»ï¼š</p>
<p><strong>åˆ©ç”¨æœ‰é™å·®å€¼è®¡ç®—æ¢¯åº¦</strong></p>
<p>ä¸ŠèŠ‚ä¸­çš„å…¬å¼å·²ç»ç»™å‡ºæ•°å€¼è®¡ç®—æ¢¯åº¦çš„æ–¹æ³•ã€‚ä¸‹é¢ä»£ç æ˜¯ä¸€ä¸ªè¾“å…¥ä¸ºå‡½æ•°<strong>f</strong>å’Œå‘é‡<strong>xï¼Œ</strong>è®¡ç®—<strong>f</strong>çš„æ¢¯åº¦çš„é€šç”¨å‡½æ•°ï¼Œå®ƒè¿”å›å‡½æ•°<strong>f</strong>åœ¨ç‚¹<strong>xå¤„</strong>çš„æ¢¯åº¦ï¼š</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">eval_numerical_gradient</span>(<span class="params">f, x</span>):</span><br><span class="line">  <span class="string">&quot;&quot;&quot;  </span></span><br><span class="line"><span class="string">  ä¸€ä¸ªfåœ¨xå¤„çš„æ•°å€¼æ¢¯åº¦æ³•çš„ç®€å•å®ç°</span></span><br><span class="line"><span class="string">  - fæ˜¯åªæœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="string">  - xæ˜¯è®¡ç®—æ¢¯åº¦çš„ç‚¹</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span> </span><br><span class="line"></span><br><span class="line">  fx = f(x) <span class="comment"># åœ¨åŸç‚¹è®¡ç®—å‡½æ•°å€¼</span></span><br><span class="line">  grad = np.zeros(x.shape)</span><br><span class="line">  h = <span class="number">0.00001</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># å¯¹xä¸­æ‰€æœ‰çš„ç´¢å¼•è¿›è¡Œè¿­ä»£</span></span><br><span class="line">  it = np.nditer(x, flags=[<span class="string">&#x27;multi_index&#x27;</span>], op_flags=[<span class="string">&#x27;readwrite&#x27;</span>])</span><br><span class="line">  <span class="keyword">while</span> <span class="keyword">not</span> it.finished:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—x+hå¤„çš„å‡½æ•°å€¼</span></span><br><span class="line">    ix = it.multi_index</span><br><span class="line">    old_value = x[ix]</span><br><span class="line">    x[ix] = old_value + h <span class="comment"># å¢åŠ h</span></span><br><span class="line">    fxh = f(x) <span class="comment"># è®¡ç®—f(x + h)</span></span><br><span class="line">    x[ix] = old_value <span class="comment"># å­˜åˆ°å‰ä¸€ä¸ªå€¼ä¸­ (éå¸¸é‡è¦)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—åå¯¼æ•°</span></span><br><span class="line">    grad[ix] = (fxh - fx) / h <span class="comment"># å¡åº¦</span></span><br><span class="line">    it.iternext() <span class="comment"># åˆ°ä¸‹ä¸ªç»´åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> grad</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>æ ¹æ®ä¸Šé¢çš„æ¢¯åº¦å…¬å¼ï¼Œä»£ç å¯¹æ‰€æœ‰ç»´åº¦è¿›è¡Œè¿­ä»£ï¼Œåœ¨æ¯ä¸ªç»´åº¦ä¸Šäº§ç”Ÿä¸€ä¸ªå¾ˆå°çš„å˜åŒ–$h$ï¼Œé€šè¿‡è§‚å¯Ÿå‡½æ•°å€¼å˜åŒ–ï¼Œè®¡ç®—å‡½æ•°åœ¨è¯¥ç»´åº¦ä¸Šçš„åå¯¼æ•°ã€‚æœ€åï¼Œæ‰€æœ‰çš„æ¢¯åº¦å­˜å‚¨åœ¨å˜é‡$grad$ä¸­ã€‚</p>
<p><strong>å®è·µè€ƒé‡</strong>ï¼šæ³¨æ„åœ¨æ•°å­¦å…¬å¼ä¸­ï¼Œ$h$çš„å–å€¼æ˜¯è¶‹è¿‘äº0çš„ï¼Œç„¶è€Œåœ¨å®é™…ä¸­ï¼Œç”¨ä¸€ä¸ªå¾ˆå°çš„æ•°å€¼ï¼ˆæ¯”å¦‚ä¾‹å­ä¸­çš„1e-5ï¼‰å°±è¶³å¤Ÿäº†ã€‚åœ¨ä¸äº§ç”Ÿæ•°å€¼è®¡ç®—å‡ºé”™çš„ç†æƒ³å‰æä¸‹ï¼Œä½ ä¼šä½¿ç”¨å°½å¯èƒ½å°çš„$h$ã€‚è¿˜æœ‰ï¼Œå®é™…ä¸­ç”¨<strong>ä¸­å¿ƒå·®å€¼å…¬å¼ï¼ˆcentered difference formulaï¼‰</strong>$[f(x+h)-f(x-h)]/2h$æ•ˆæœè¾ƒå¥½ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ä¸Šé¢è¿™ä¸ªå…¬å¼æ¥è®¡ç®—ä»»æ„å‡½æ•°åœ¨ä»»æ„ç‚¹ä¸Šçš„æ¢¯åº¦ã€‚ä¸‹é¢è®¡ç®—æƒé‡ç©ºé—´ä¸­çš„æŸäº›éšæœºç‚¹ä¸Šï¼ŒCIFAR-10æŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼š</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¦ä½¿ç”¨ä¸Šé¢çš„ä»£ç æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="comment"># (åœ¨è¿™é‡Œå‚æ•°å°±æ˜¯æƒé‡)æ‰€ä»¥ä¹ŸåŒ…å«äº†X_trainå’ŒY_train</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">CIFAR10_loss_fun</span>(<span class="params">W</span>):</span><br><span class="line">  <span class="keyword">return</span> L(X_train, Y_train, W)</span><br><span class="line"></span><br><span class="line">W = np.random.rand(<span class="number">10</span>, <span class="number">3073</span>) * <span class="number">0.001</span> <span class="comment"># éšæœºæƒé‡å‘é‡</span></span><br><span class="line">df = eval_numerical_gradient(CIFAR10_loss_fun, W) <span class="comment"># å¾—åˆ°æ¢¯åº¦</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>æ¢¯åº¦å‘Šè¯‰æˆ‘ä»¬æŸå¤±å‡½æ•°åœ¨æ¯ä¸ªç»´åº¦ä¸Šçš„æ–œç‡ï¼Œä»¥æ­¤æ¥è¿›è¡Œæ›´æ–°ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">loss_original = CIFAR10_loss_fun(W) <span class="comment"># åˆå§‹æŸå¤±å€¼</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;original loss: %f&#x27;</span> % (loss_original, )</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¸åŒæ­¥é•¿çš„æ•ˆæœ</span></span><br><span class="line"><span class="keyword">for</span> step_size_log <span class="keyword">in</span> [-<span class="number">10</span>, -<span class="number">9</span>, -<span class="number">8</span>, -<span class="number">7</span>, -<span class="number">6</span>, -<span class="number">5</span>,-<span class="number">4</span>,-<span class="number">3</span>,-<span class="number">2</span>,-<span class="number">1</span>]:</span><br><span class="line">  step_size = <span class="number">10</span> ** step_size_log</span><br><span class="line">  W_new = W - step_size * df <span class="comment"># æƒé‡ç©ºé—´ä¸­çš„æ–°ä½ç½®</span></span><br><span class="line">  loss_new = CIFAR10_loss_fun(W_new)</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&#x27;for step size %f new loss: %f&#x27;</span> % (step_size, loss_new)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º:</span></span><br><span class="line"><span class="comment"># original loss: 2.200718</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-10 new loss: 2.200652</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-09 new loss: 2.200057</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-08 new loss: 2.194116</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-07 new loss: 2.135493</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-06 new loss: 1.647802</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-05 new loss: 2.844355</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-04 new loss: 25.558142</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-03 new loss: 254.086573</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-02 new loss: 2539.370888</span></span><br><span class="line"><span class="comment"># for step size 1.000000e-01 new loss: 25392.214036</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p><strong>åœ¨æ¢¯åº¦è´Ÿæ–¹å‘ä¸Šæ›´æ–°</strong>ï¼šåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸ºäº†è®¡ç®—$W_new$ï¼Œè¦æ³¨æ„æˆ‘ä»¬æ˜¯å‘ç€æ¢¯åº¦$df$çš„è´Ÿæ–¹å‘å»æ›´æ–°ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›æŸå¤±å‡½æ•°å€¼æ˜¯é™ä½è€Œä¸æ˜¯å‡é«˜ã€‚</p>
<p><strong>æ­¥é•¿çš„å½±å“</strong>ï¼šæ¢¯åº¦æŒ‡æ˜äº†å‡½æ•°åœ¨å“ªä¸ªæ–¹å‘æ˜¯å˜åŒ–ç‡æœ€å¤§çš„ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡æ˜åœ¨è¿™ä¸ªæ–¹å‘ä¸Šåº”è¯¥èµ°å¤šè¿œã€‚åœ¨åç»­çš„è¯¾ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé€‰æ‹©æ­¥é•¿ï¼ˆä¹Ÿå«ä½œ_ä¹ ç‡ï¼‰å°†ä¼šæ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒä¸­æœ€é‡è¦çš„è¶…å‚æ•°è®¾å®šä¹‹ä¸€ã€‚è¿˜æ˜¯ç”¨è’™çœ¼å¾’æ­¥è€…ä¸‹å±±çš„æ¯”å–»ï¼Œè¿™å°±å¥½æ¯”æˆ‘ä»¬å¯ä»¥æ„Ÿè§‰åˆ°è„šæœå‘çš„ä¸åŒæ–¹å‘ä¸Šï¼Œåœ°å½¢çš„å€¾æ–œç¨‹åº¦ä¸åŒã€‚ä½†æ˜¯è¯¥è·¨å‡ºå¤šé•¿çš„æ­¥é•¿å‘¢ï¼Ÿä¸ç¡®å®šã€‚å¦‚æœè°¨æ…åœ°å°æ­¥èµ°ï¼Œæƒ…å†µå¯èƒ½æ¯”è¾ƒç¨³å®šä½†æ˜¯è¿›å±•è¾ƒæ…¢ï¼ˆè¿™å°±æ˜¯æ­¥é•¿è¾ƒå°çš„æƒ…å†µï¼‰ã€‚ç›¸åï¼Œå¦‚æœæƒ³å°½å¿«ä¸‹å±±ï¼Œé‚£å°±å¤§æ­¥èµ°å§ï¼Œä½†ç»“æœä¹Ÿä¸ä¸€å®šå°½å¦‚äººæ„ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­å°±èƒ½çœ‹è§åä¾‹ï¼Œåœ¨æŸäº›ç‚¹å¦‚æœæ­¥é•¿è¿‡å¤§ï¼Œåè€Œå¯èƒ½è¶Šè¿‡æœ€ä½ç‚¹å¯¼è‡´æ›´é«˜çš„æŸå¤±å€¼ã€‚</p>
<img src="/2024/05/07/11-38-48/d8b52b9b9ca31e2132c436c39af2943c_b.jpg" class>
<p>å°†æ­¥é•¿æ•ˆæœè§†è§‰åŒ–çš„å›¾ä¾‹ã€‚ä»æŸä¸ªå…·ä½“çš„ç‚¹Wå¼€å§‹è®¡ç®—æ¢¯åº¦ï¼ˆç™½ç®­å¤´æ–¹å‘æ˜¯è´Ÿæ¢¯åº¦æ–¹å‘ï¼‰ï¼Œæ¢¯åº¦å‘Šè¯‰äº†æˆ‘ä»¬æŸå¤±å‡½æ•°ä¸‹é™æœ€é™¡å³­çš„æ–¹å‘ã€‚å°æ­¥é•¿ä¸‹é™ç¨³å®šä½†è¿›åº¦æ…¢ï¼Œå¤§æ­¥é•¿è¿›å±•å¿«ä½†æ˜¯é£é™©æ›´å¤§ã€‚é‡‡å–å¤§æ­¥é•¿å¯èƒ½å¯¼è‡´é”™è¿‡æœ€ä¼˜ç‚¹ï¼Œè®©æŸå¤±å€¼ä¸Šå‡ã€‚æ­¥é•¿ï¼ˆåé¢ä¼šç§°å…¶ä¸º<strong>å­¦ä¹ ç‡</strong>ï¼‰å°†ä¼šæ˜¯æˆ‘ä»¬åœ¨è°ƒå‚ä¸­æœ€é‡è¦çš„è¶…å‚æ•°ä¹‹ä¸€ã€‚  </p>
<p><strong>æ•ˆç‡é—®é¢˜</strong>ï¼šä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œè®¡ç®—æ•°å€¼æ¢¯åº¦çš„å¤æ‚æ€§å’Œå‚æ•°çš„é‡çº¿æ€§ç›¸å…³ã€‚åœ¨æœ¬ä¾‹ä¸­æœ‰30730ä¸ªå‚æ•°ï¼Œæ‰€ä»¥æŸå¤±å‡½æ•°æ¯èµ°ä¸€æ­¥å°±éœ€è¦è®¡ç®—30731æ¬¡æŸå¤±å‡½æ•°çš„æ¢¯åº¦ã€‚ç°ä»£ç¥ç»ç½‘ç»œå¾ˆå®¹æ˜“å°±æœ‰ä¸Šåƒä¸‡çš„å‚æ•°ï¼Œå› æ­¤è¿™ä¸ªé—®é¢˜åªä¼šè¶Šå‘ä¸¥å³»ã€‚æ˜¾ç„¶è¿™ä¸ªç­–ç•¥ä¸é€‚åˆå¤§è§„æ¨¡æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¥½çš„ç­–ç•¥ã€‚</p>
<h3 id="å¾®åˆ†åˆ†æè®¡ç®—æ¢¯åº¦"><a href="#å¾®åˆ†åˆ†æè®¡ç®—æ¢¯åº¦" class="headerlink" title="å¾®åˆ†åˆ†æè®¡ç®—æ¢¯åº¦"></a>å¾®åˆ†åˆ†æè®¡ç®—æ¢¯åº¦</h3><p>ä½¿ç”¨æœ‰é™å·®å€¼è¿‘ä¼¼è®¡ç®—æ¢¯åº¦æ¯”è¾ƒç®€å•ï¼Œä½†ç¼ºç‚¹åœ¨äºç»ˆç©¶åªæ˜¯è¿‘ä¼¼ï¼ˆå› ä¸ºæˆ‘ä»¬å¯¹äº$h$å€¼æ˜¯é€‰å–äº†ä¸€ä¸ªå¾ˆå°çš„æ•°å€¼ï¼Œä½†çœŸæ­£çš„æ¢¯åº¦å®šä¹‰ä¸­$h$è¶‹å‘0çš„æé™ï¼‰ï¼Œä¸”è€—è´¹è®¡ç®—èµ„æºå¤ªå¤šã€‚ç¬¬äºŒä¸ªæ¢¯åº¦è®¡ç®—æ–¹æ³•æ˜¯åˆ©ç”¨å¾®åˆ†æ¥åˆ†æï¼Œèƒ½å¾—åˆ°è®¡ç®—æ¢¯åº¦çš„å…¬å¼ï¼ˆä¸æ˜¯è¿‘ä¼¼ï¼‰ï¼Œç”¨å…¬å¼è®¡ç®—æ¢¯åº¦é€Ÿåº¦å¾ˆå¿«ï¼Œå”¯ä¸€ä¸å¥½çš„å°±æ˜¯å®ç°çš„æ—¶å€™å®¹æ˜“å‡ºé”™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å®é™…æ“ä½œæ—¶å¸¸å¸¸å°†åˆ†ææ¢¯åº¦æ³•çš„ç»“æœå’Œæ•°å€¼æ¢¯åº¦æ³•çš„ç»“æœä½œæ¯”è¾ƒï¼Œä»¥æ­¤æ¥æ£€æŸ¥å…¶å®ç°çš„æ­£ç¡®æ€§ï¼Œè¿™ä¸ªæ­¥éª¤å«åš<strong>æ¢¯åº¦æ£€æŸ¥</strong>ã€‚</p>
<p>ç”¨SVMçš„æŸå¤±å‡½æ•°åœ¨æŸä¸ªæ•°æ®ç‚¹ä¸Šçš„è®¡ç®—æ¥ä¸¾ä¾‹ï¼š</p>
<p>$L_i=\displaystyle\sum_{j\not =y_i}[max(0,w^T_jx_i-w^T_{y_i}x_i+\delta)]$ </p>
<p>å¯ä»¥å¯¹å‡½æ•°è¿›è¡Œå¾®åˆ†ã€‚æ¯”å¦‚ï¼Œå¯¹$w_{y_i}$è¿›è¡Œå¾®åˆ†å¾—åˆ°ï¼š</p>
<p>$\displaystyle\nabla_{w_{y_i}}L_i=-(\sum_{j\not=y_i}\mathbb{1}(w^T_jx_i-w^T_{y_i}x_i+\delta&gt;0))x_i$</p>
<p>å…¶ä¸­$\mathbb{1}$æ˜¯ä¸€ä¸ªç¤ºæ€§å‡½æ•°ï¼Œå¦‚æœæ‹¬å·ä¸­çš„æ¡ä»¶ä¸ºçœŸï¼Œé‚£ä¹ˆå‡½æ•°å€¼ä¸º1ï¼Œå¦‚æœä¸ºå‡ï¼Œåˆ™å‡½æ•°å€¼ä¸º0ã€‚è™½ç„¶ä¸Šè¿°å…¬å¼çœ‹èµ·æ¥å¤æ‚ï¼Œä½†åœ¨ä»£ç å®ç°çš„æ—¶å€™æ¯”è¾ƒç®€å•ï¼šåªéœ€è¦è®¡ç®—æ²¡æœ‰æ»¡è¶³è¾¹ç•Œå€¼çš„åˆ†ç±»çš„æ•°é‡ï¼ˆå› æ­¤å¯¹æŸå¤±å‡½æ•°äº§ç”Ÿäº†è´¡çŒ®ï¼‰ï¼Œç„¶åä¹˜ä»¥$x_i$å°±æ˜¯æ¢¯åº¦äº†ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ¢¯åº¦åªæ˜¯å¯¹åº”æ­£ç¡®åˆ†ç±»çš„Wçš„è¡Œå‘é‡çš„æ¢¯åº¦ï¼Œé‚£äº›$j\not =y_i$è¡Œçš„æ¢¯åº¦æ˜¯ï¼š  </p>
<p>$\displaystyle\nabla_{w_j}L_i=\mathbb{1}(w^T_jx_i-w^T_{y_i}x_i+\delta&gt;0)x_i$  </p>
<p>ä¸€æ—¦å°†æ¢¯åº¦çš„å…¬å¼å¾®åˆ†å‡ºæ¥ï¼Œä»£ç å®ç°å…¬å¼å¹¶ç”¨äºæ¢¯åº¦æ›´æ–°å°±æ¯”è¾ƒé¡ºç•…äº†ã€‚  </p>
<h2 id="æ¢¯åº¦ä¸‹é™"><a href="#æ¢¯åº¦ä¸‹é™" class="headerlink" title="æ¢¯åº¦ä¸‹é™"></a>æ¢¯åº¦ä¸‹é™</h2><p>ç°åœ¨å¯ä»¥è®¡ç®—æŸå¤±å‡½æ•°çš„æ¢¯åº¦äº†ï¼Œç¨‹åºé‡å¤åœ°è®¡ç®—æ¢¯åº¦ç„¶åå¯¹å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œè¿™ä¸€è¿‡ç¨‹ç§°ä¸ºæ¢¯åº¦ä¸‹é™ï¼Œä»–çš„<strong>æ™®é€š</strong>ç‰ˆæœ¬æ˜¯è¿™æ ·çš„ï¼š  </p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ™®é€šçš„æ¢¯åº¦ä¸‹é™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  weights_grad = evaluate_gradient(loss_fun, data, weights)</span><br><span class="line">  weights += - step_size * weights_grad <span class="comment"># è¿›è¡Œæ¢¯åº¦æ›´æ–°</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªç®€å•çš„å¾ªç¯åœ¨æ‰€æœ‰çš„ç¥ç»ç½‘ç»œæ ¸å¿ƒåº“ä¸­éƒ½æœ‰ã€‚è™½ç„¶ä¹Ÿæœ‰å…¶ä»–å®ç°æœ€ä¼˜åŒ–çš„æ–¹æ³•ï¼ˆæ¯”å¦‚LBFGSï¼‰ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ¢¯åº¦ä¸‹é™æ˜¯å¯¹ç¥ç»ç½‘ç»œçš„æŸå¤±å‡½æ•°æœ€ä¼˜åŒ–ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨å®ƒçš„å¾ªç¯ç»†èŠ‚å¢åŠ ä¸€äº›æ–°çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚æ›´æ–°çš„å…·ä½“å…¬å¼ï¼‰ï¼Œä½†æ˜¯æ ¸å¿ƒæ€æƒ³ä¸å˜ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ä¸€ç›´è·Ÿç€æ¢¯åº¦èµ°ï¼Œç›´åˆ°ç»“æœä¸å†å˜åŒ–ã€‚</p>
<p><strong>å°æ‰¹é‡æ•°æ®æ¢¯åº¦ä¸‹é™ï¼ˆMini-batch gradient descentï¼‰</strong>ï¼šåœ¨å¤§è§„æ¨¡çš„åº”ç”¨ä¸­ï¼ˆæ¯”å¦‚ILSVRCæŒ‘æˆ˜èµ›ï¼‰ï¼Œè®­ç»ƒæ•°æ®å¯ä»¥è¾¾åˆ°ç™¾ä¸‡çº§é‡çº§ã€‚å¦‚æœåƒè¿™æ ·è®¡ç®—æ•´ä¸ªè®­ç»ƒé›†ï¼Œæ¥è·å¾—ä»…ä»…ä¸€ä¸ªå‚æ•°çš„æ›´æ–°å°±å¤ªæµªè´¹äº†ã€‚ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•æ˜¯è®¡ç®—è®­ç»ƒé›†ä¸­çš„<strong>å°æ‰¹é‡ï¼ˆbatchesï¼‰</strong>æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨ç›®å‰æœ€é«˜æ°´å¹³çš„å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œä¸€ä¸ªå…¸å‹çš„å°æ‰¹é‡åŒ…å«256ä¸ªä¾‹å­ï¼Œè€Œæ•´ä¸ªè®­ç»ƒé›†æ˜¯å¤šå°‘å‘¢ï¼Ÿä¸€ç™¾äºŒåä¸‡ä¸ªã€‚è¿™ä¸ªå°æ‰¹é‡æ•°æ®å°±ç”¨æ¥å®ç°ä¸€ä¸ªå‚æ•°æ›´æ–°ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ™®é€šçš„å°æ‰¹é‡æ•°æ®æ¢¯åº¦ä¸‹é™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  data_batch = sample_training_data(data, <span class="number">256</span>) <span class="comment"># 256ä¸ªæ•°æ®</span></span><br><span class="line">  weights_grad = evaluate_gradient(loss_fun, data_batch, weights)</span><br><span class="line">  weights += - step_size * weights_grad <span class="comment"># å‚æ•°æ›´æ–°</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•ä¹‹æ‰€ä»¥æ•ˆæœä¸é”™ï¼Œæ˜¯å› ä¸ºè®­ç»ƒé›†ä¸­çš„æ•°æ®éƒ½æ˜¯ç›¸å…³çš„ã€‚è¦ç†è§£è¿™ä¸€ç‚¹ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸ªæç«¯æƒ…å†µï¼šåœ¨ILSVRCä¸­çš„120ä¸‡ä¸ªå›¾åƒæ˜¯1000å¼ ä¸åŒå›¾ç‰‡çš„å¤åˆ¶ï¼ˆæ¯ä¸ªç±»åˆ«1å¼ å›¾ç‰‡ï¼Œæ¯å¼ å›¾ç‰‡æœ‰1200å¼ å¤åˆ¶ï¼‰ã€‚é‚£ä¹ˆæ˜¾ç„¶è®¡ç®—è¿™1200å¼ å¤åˆ¶å›¾åƒçš„æ¢¯åº¦å°±åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚å¯¹æ¯”120ä¸‡å¼ å›¾ç‰‡çš„æ•°æ®æŸå¤±çš„å‡å€¼ä¸åªè®¡ç®—1000å¼ çš„å­é›†çš„æ•°æ®æŸå¤±å‡å€¼æ—¶ï¼Œç»“æœåº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚å®é™…æƒ…å†µä¸­ï¼Œæ•°æ®é›†è‚¯å®šä¸ä¼šåŒ…å«é‡å¤å›¾åƒï¼Œé‚£ä¹ˆå°æ‰¹é‡æ•°æ®çš„æ¢¯åº¦å°±æ˜¯å¯¹æ•´ä¸ªæ•°æ®é›†æ¢¯åº¦çš„ä¸€ä¸ªè¿‘ä¼¼ã€‚å› æ­¤ï¼Œåœ¨å®è·µä¸­é€šè¿‡è®¡ç®—å°æ‰¹é‡æ•°æ®çš„æ¢¯åº¦å¯ä»¥å®ç°æ›´å¿«é€Ÿåœ°æ”¶æ•›ï¼Œå¹¶ä»¥æ­¤æ¥è¿›è¡Œæ›´é¢‘ç¹çš„å‚æ•°æ›´æ–°ã€‚</p>
<p>å°æ‰¹é‡æ•°æ®ç­–ç•¥æœ‰ä¸ªæç«¯æƒ…å†µï¼Œé‚£å°±æ˜¯æ¯ä¸ªæ‰¹é‡ä¸­åªæœ‰1ä¸ªæ•°æ®æ ·æœ¬ï¼Œè¿™ç§ç­–ç•¥è¢«ç§°ä¸º<strong>éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆStochastic Gradient Descent ç®€ç§°SGDï¼‰</strong>ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºåœ¨çº¿æ¢¯åº¦ä¸‹é™ã€‚è¿™ç§ç­–ç•¥åœ¨å®é™…æƒ…å†µä¸­ç›¸å¯¹å°‘è§ï¼Œå› ä¸ºå‘é‡åŒ–æ“ä½œçš„ä»£ç ä¸€æ¬¡è®¡ç®—100ä¸ªæ•°æ® æ¯”100æ¬¡è®¡ç®—1ä¸ªæ•°æ®è¦é«˜æ•ˆå¾ˆå¤šã€‚å³ä½¿SGDåœ¨æŠ€æœ¯ä¸Šæ˜¯æŒ‡æ¯æ¬¡ä½¿ç”¨1ä¸ªæ•°æ®æ¥è®¡ç®—æ¢¯åº¦ï¼Œä½ è¿˜æ˜¯ä¼šå¬åˆ°äººä»¬ä½¿ç”¨SGDæ¥æŒ‡ä»£å°æ‰¹é‡æ•°æ®æ¢¯åº¦ä¸‹é™ï¼ˆæˆ–è€…ç”¨MGDæ¥æŒ‡ä»£å°æ‰¹é‡æ•°æ®æ¢¯åº¦ä¸‹é™ï¼Œè€ŒBGDæ¥æŒ‡ä»£åˆ™ç›¸å¯¹å°‘è§ï¼‰ã€‚å°æ‰¹é‡æ•°æ®çš„å¤§å°æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œä½†æ˜¯ä¸€èˆ¬å¹¶ä¸éœ€è¦é€šè¿‡äº¤å‰éªŒè¯æ¥è°ƒå‚ã€‚å®ƒä¸€èˆ¬ç”±å­˜å‚¨å™¨çš„é™åˆ¶æ¥å†³å®šçš„ï¼Œæˆ–è€…å¹²è„†è®¾ç½®ä¸ºåŒæ ·å¤§å°ï¼Œæ¯”å¦‚32ï¼Œ64ï¼Œ128ç­‰ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨2çš„æŒ‡æ•°ï¼Œæ˜¯å› ä¸ºåœ¨å®é™…ä¸­è®¸å¤šå‘é‡åŒ–æ“ä½œå®ç°çš„æ—¶å€™ï¼Œå¦‚æœè¾“å…¥æ•°æ®é‡æ˜¯2çš„å€æ•°ï¼Œé‚£ä¹ˆè¿ç®—æ›´å¿«ã€‚</p>
<p><strong>ä¸¤ä¸ªæ½œåœ¨é—®é¢˜ï¼š</strong></p>
<ul>
<li>å­¦ä¹ ç‡å¦‚æœè¿‡å¤§ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°éœ‡è¡çš„æƒ…å†µï¼Œå­¦ä¹ ç‡è¿‡å°çš„è¯ï¼Œè™½ç„¶æ²¡æœ‰éœ‡è¡æƒ…å†µå‡ºç°ï¼Œä½†æ˜¯å­¦ä¹ é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œè¿™ä¸ªé—®é¢˜åœ¨æŠ€æœ¯ä¸Šæœ‰æ—¶å€™è¢«ç§°ä¸ºå…·æœ‰é«˜æ¡ä»¶æ•°çš„é—®é¢˜</li>
<li>å­˜åœ¨å±€éƒ¨æœ€å°ç‚¹å’Œéç‚¹ï¼Œåœ¨æŸäº›ç»´åº¦ä¸Šå¯èƒ½æ— æ³•ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯é«˜ç»´åº¦ä¸‹ä¼˜åŒ–éš¾é¢˜ï¼Œè¿™æ ·æ¨¡å‹æ— æ³•è¾¾åˆ°æœ€ä½³</li>
</ul>
<p>æˆ–è€…å¯ä»¥ä½¿ç”¨åŠ¨é‡æ³•è¿›è¡Œä¼˜åŒ–ï¼Œå°è¯•è¶Šè¿‡éç‚¹å’Œå±€éƒ¨æœ€å°ç‚¹ï¼Œä¼šäº§ç”Ÿå¾ˆä¸é”™çš„æ•ˆæœï¼ŒåŒæ—¶è¿˜å¯ä»¥æŠ‘åˆ¶éœ‡è¡ï¼Œæ˜¯ä¸€ç§å¾ˆæœ‰ç”¨çš„æ–¹æ³•</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><img src="/2024/05/07/11-38-48/03b3eccf18ee3760e219f9f95ec14305_b.png" class>
<p>ä¿¡æ¯æµçš„æ€»ç»“å›¾ä¾‹ã€‚æ•°æ®é›†ä¸­çš„$(x,y)$æ˜¯ç»™å®šçš„ã€‚æƒé‡ä»ä¸€ä¸ªéšæœºæ•°å­—å¼€å§‹ï¼Œä¸”å¯ä»¥æ”¹å˜ã€‚åœ¨å‰å‘ä¼ æ’­æ—¶ï¼Œè¯„åˆ†å‡½æ•°è®¡ç®—å‡ºç±»åˆ«çš„åˆ†ç±»è¯„åˆ†å¹¶å­˜å‚¨åœ¨å‘é‡$f$ä¸­ã€‚æŸå¤±å‡½æ•°åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ•°æ®æŸå¤±å’Œæ­£åˆ™åŒ–æŸå¤±ã€‚å…¶ä¸­ï¼Œæ•°æ®æŸå¤±è®¡ç®—çš„æ˜¯åˆ†ç±»è¯„åˆ†$f$å’Œå®é™…æ ‡ç­¾$y$ä¹‹é—´çš„å·®å¼‚ï¼Œæ­£åˆ™åŒ–æŸå¤±åªæ˜¯ä¸€ä¸ªå…³äºæƒé‡çš„å‡½æ•°ã€‚åœ¨æ¢¯åº¦ä¸‹é™è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®¡ç®—æƒé‡çš„æ¢¯åº¦ï¼ˆå¦‚æœæ„¿æ„çš„è¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—æ•°æ®ä¸Šçš„æ¢¯åº¦ï¼‰ï¼Œç„¶åä½¿ç”¨å®ƒä»¬æ¥å®ç°å‚æ•°çš„æ›´æ–°ã€‚</p>
<p>åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼š</p>
<ul>
<li>å°†æŸå¤±å‡½æ•°æ¯”ä½œäº†ä¸€ä¸ª<strong>é«˜ç»´åº¦çš„æœ€ä¼˜åŒ–åœ°å½¢</strong>ï¼Œå¹¶å°è¯•åˆ°è¾¾å®ƒçš„æœ€åº•éƒ¨ã€‚æœ€ä¼˜åŒ–çš„å·¥ä½œè¿‡ç¨‹å¯ä»¥çœ‹åšä¸€ä¸ªè’™ç€çœ¼ç›çš„å¾’æ­¥è€…å¸Œæœ›æ‘¸ç´¢ç€èµ°åˆ°å±±çš„åº•éƒ¨ã€‚åœ¨ä¾‹å­ä¸­ï¼Œå¯è§SVMçš„æŸå¤±å‡½æ•°æ˜¯åˆ†æ®µçº¿æ€§çš„ï¼Œå¹¶ä¸”æ˜¯ç¢—çŠ¶çš„ã€‚</li>
<li>æå‡ºäº†è¿­ä»£ä¼˜åŒ–çš„æ€æƒ³ï¼Œä»ä¸€ä¸ªéšæœºçš„æƒé‡å¼€å§‹ï¼Œç„¶åä¸€æ­¥æ­¥åœ°è®©æŸå¤±å€¼å˜å°ï¼Œç›´åˆ°æœ€å°ã€‚</li>
<li>å‡½æ•°çš„<strong>æ¢¯åº¦</strong>ç»™å‡ºäº†è¯¥å‡½æ•°æœ€é™¡å³­çš„ä¸Šå‡æ–¹å‘ã€‚ä»‹ç»äº†åˆ©ç”¨æœ‰é™çš„å·®å€¼æ¥è¿‘ä¼¼è®¡ç®—æ¢¯åº¦çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®ç°ç®€å•ä½†æ˜¯æ•ˆç‡è¾ƒä½ï¼ˆæœ‰é™å·®å€¼å°±æ˜¯$h$ï¼Œç”¨æ¥è®¡ç®—æ•°å€¼æ¢¯åº¦ï¼‰ã€‚</li>
<li>å‚æ•°æ›´æ–°éœ€è¦æœ‰æŠ€å·§åœ°è®¾ç½®<strong>æ­¥é•¿</strong>ã€‚ä¹Ÿå«å­¦ä¹ ç‡ã€‚å¦‚æœæ­¥é•¿å¤ªå°ï¼Œè¿›åº¦ç¨³å®šä½†æ˜¯ç¼“æ…¢ï¼Œå¦‚æœæ­¥é•¿å¤ªå¤§ï¼Œè¿›åº¦å¿«ä½†æ˜¯å¯èƒ½æœ‰é£é™©ã€‚</li>
<li>è®¨è®ºæƒè¡¡äº†æ•°å€¼æ¢¯åº¦æ³•å’Œåˆ†ææ¢¯åº¦æ³•ã€‚æ•°å€¼æ¢¯åº¦æ³•è®¡ç®—ç®€å•ï¼Œä½†ç»“æœåªæ˜¯è¿‘ä¼¼ä¸”è€—è´¹è®¡ç®—èµ„æºã€‚åˆ†ææ¢¯åº¦æ³•è®¡ç®—å‡†ç¡®è¿…é€Ÿä½†æ˜¯å®ç°å®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”éœ€è¦å¯¹æ¢¯åº¦å…¬å¼è¿›è¡Œæ¨å¯¼çš„æ•°å­¦åŸºæœ¬åŠŸã€‚å› æ­¤ï¼Œåœ¨å®é™…ä¸­ä½¿ç”¨åˆ†ææ¢¯åº¦æ³•ï¼Œç„¶åä½¿ç”¨<strong>æ¢¯åº¦æ£€æŸ¥</strong>æ¥æ£€æŸ¥å…¶å®ç°æ­£ç¡®ä¸å¦ï¼Œå…¶æœ¬è´¨å°±æ˜¯å°†åˆ†ææ¢¯åº¦æ³•çš„ç»“æœä¸æ•°å€¼æ¢¯åº¦æ³•çš„è®¡ç®—ç»“æœå¯¹æ¯”ã€‚</li>
</ul>
<ul>
<li>ä»‹ç»äº†<strong>æ¢¯åº¦ä¸‹é™</strong>ç®—æ³•ï¼Œå®ƒåœ¨å¾ªç¯ä¸­è¿­ä»£åœ°è®¡ç®—æ¢¯åº¦å¹¶æ›´æ–°å‚æ•°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ çº¿æ€§åˆ†ç±»å™¨</title>
    <url>/2024/05/06/15-22-39/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.06ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="çº¿æ€§åˆ†ç±»"><a href="#çº¿æ€§åˆ†ç±»" class="headerlink" title="çº¿æ€§åˆ†ç±»"></a>çº¿æ€§åˆ†ç±»</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä¸Šä¸€ç¯‡ç¬”è®°ä»‹ç»äº†å›¾åƒåˆ†ç±»é—®é¢˜ã€‚å›¾åƒåˆ†ç±»çš„ä»»åŠ¡ï¼Œå°±æ˜¯ä»å·²æœ‰çš„å›ºå®šåˆ†ç±»æ ‡ç­¾é›†åˆä¸­é€‰æ‹©ä¸€ä¸ªå¹¶åˆ†é…ç»™ä¸€å¼ å›¾åƒã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†k-Nearest Neighbor ï¼ˆk-NNï¼‰åˆ†ç±»å™¨ï¼Œè¯¥åˆ†ç±»å™¨çš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡å°†æµ‹è¯•å›¾åƒä¸è®­ç»ƒé›†å¸¦æ ‡ç­¾çš„å›¾åƒè¿›è¡Œæ¯”è¾ƒï¼Œæ¥ç»™æµ‹è¯•å›¾åƒæ‰“ä¸Šåˆ†ç±»æ ‡ç­¾ã€‚k-Nearest Neighboråˆ†ç±»å™¨å­˜åœ¨ä»¥ä¸‹ä¸è¶³ï¼š</p>
<ul>
<li>åˆ†ç±»å™¨å¿…é¡»è®°ä½æ‰€æœ‰è®­ç»ƒæ•°æ®å¹¶å°†å…¶å­˜å‚¨èµ·æ¥ï¼Œä»¥ä¾¿äºæœªæ¥æµ‹è¯•æ•°æ®ç”¨äºæ¯”è¾ƒã€‚è¿™åœ¨å­˜å‚¨ç©ºé—´ä¸Šæ˜¯ä½æ•ˆçš„ï¼Œæ•°æ®é›†çš„å¤§å°å¾ˆå®¹æ˜“å°±ä»¥GBè®¡ã€‚</li>
<li>å¯¹ä¸€ä¸ªæµ‹è¯•å›¾åƒè¿›è¡Œåˆ†ç±»éœ€è¦å’Œæ‰€æœ‰è®­ç»ƒå›¾åƒä½œæ¯”è¾ƒï¼Œç®—æ³•è®¡ç®—èµ„æºè€—è´¹é«˜ã€‚</li>
</ul>
<p>æ‰€æœ‰æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ç§æ›´å¹¿æ³›çš„æ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯å‚æ•°æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•çš„æƒ³æ³•æ˜¯å‚æ•°å¯å­¦ä¹ </p>
<p><strong>æ¦‚è¿°</strong>ï¼šæˆ‘ä»¬å°†è¦å®ç°ä¸€ç§æ›´å¼ºå¤§çš„æ–¹æ³•æ¥è§£å†³å›¾åƒåˆ†ç±»é—®é¢˜ï¼Œè¯¥æ–¹æ³•å¯ä»¥è‡ªç„¶åœ°å»¶ä¼¸åˆ°ç¥ç»ç½‘ç»œå’Œå·ç§¯ç¥ç»ç½‘ç»œä¸Šã€‚è¿™ç§æ–¹æ³•ä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªæ˜¯<strong>è¯„åˆ†å‡½æ•°ï¼ˆscore functionï¼‰</strong>ï¼Œå®ƒæ˜¯åŸå§‹å›¾åƒæ•°æ®åˆ°ç±»åˆ«åˆ†å€¼çš„æ˜ å°„ã€‚å¦ä¸€ä¸ªæ˜¯<strong>æŸå¤±å‡½æ•°ï¼ˆloss functionï¼‰</strong>ï¼Œå®ƒæ˜¯ç”¨æ¥é‡åŒ–é¢„æµ‹åˆ†ç±»æ ‡ç­¾çš„å¾—åˆ†ä¸çœŸå®æ ‡ç­¾ä¹‹é—´ä¸€è‡´æ€§çš„ã€‚è¯¥æ–¹æ³•å¯è½¬åŒ–ä¸ºä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ï¼Œåœ¨æœ€ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå°†é€šè¿‡æ›´æ–°è¯„åˆ†å‡½æ•°çš„å‚æ•°æ¥æœ€å°åŒ–æŸå¤±å‡½æ•°å€¼ã€‚</p>
<h2 id="ä»å›¾åƒåˆ°æ ‡ç­¾åˆ†å€¼çš„å‚æ•°åŒ–æ˜ å°„"><a href="#ä»å›¾åƒåˆ°æ ‡ç­¾åˆ†å€¼çš„å‚æ•°åŒ–æ˜ å°„" class="headerlink" title="ä»å›¾åƒåˆ°æ ‡ç­¾åˆ†å€¼çš„å‚æ•°åŒ–æ˜ å°„"></a>ä»å›¾åƒåˆ°æ ‡ç­¾åˆ†å€¼çš„å‚æ•°åŒ–æ˜ å°„</h2><p>è¯¥æ–¹æ³•çš„ç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯å®šä¹‰ä¸€ä¸ªè¯„åˆ†å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†å›¾åƒçš„åƒç´ å€¼æ˜ å°„ä¸ºå„ä¸ªåˆ†ç±»ç±»åˆ«çš„å¾—åˆ†ï¼Œå¾—åˆ†é«˜ä½ä»£è¡¨å›¾åƒå±äºè¯¥ç±»åˆ«çš„å¯èƒ½æ€§é«˜ä½ã€‚ä¸‹é¢ä¼šåˆ©ç”¨ä¸€ä¸ªå…·ä½“ä¾‹å­æ¥å±•ç¤ºè¯¥æ–¹æ³•ã€‚ç°åœ¨å‡è®¾æœ‰ä¸€ä¸ªåŒ…å«å¾ˆå¤šå›¾åƒçš„è®­ç»ƒé›†$x_{i}\in R^{D}$ï¼Œæ¯ä¸ªå›¾åƒéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„åˆ†ç±»æ ‡ç­¾$y_{i}$ã€‚è¿™é‡Œ$y=1,2,3â€¦N$å¹¶ä¸”$y_{i}\in 1â€¦K$ã€‚è¿™å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æœ‰<strong>N</strong>ä¸ªå›¾åƒæ ·ä¾‹ï¼Œæ¯ä¸ªå›¾åƒçš„ç»´åº¦æ˜¯<strong>D</strong>ï¼Œå…±æœ‰<strong>K</strong>ç§ä¸åŒçš„åˆ†ç±»ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨CIFAR-10ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong>N</strong>=50000çš„è®­ç»ƒé›†ï¼Œæ¯ä¸ªå›¾åƒæœ‰<strong>D</strong>=32x32x3=3072ä¸ªåƒç´ ï¼Œè€Œ<strong>K</strong>=10ï¼Œè¿™æ˜¯å› ä¸ºå›¾ç‰‡è¢«åˆ†ä¸º10ä¸ªä¸åŒçš„ç±»åˆ«ï¼ˆç‹—ï¼ŒçŒ«ï¼Œæ±½è½¦ç­‰ï¼‰ã€‚æˆ‘ä»¬ç°åœ¨å®šä¹‰è¯„åˆ†å‡½æ•°ä¸ºï¼š$f:R^{D}\rightarrow R^{K}$ï¼Œè¯¥å‡½æ•°æ˜¯åŸå§‹å›¾åƒåƒç´ åˆ°åˆ†ç±»åˆ†å€¼çš„æ˜ å°„ã€‚</p>
<p><strong>çº¿æ€§åˆ†ç±»å™¨</strong>ï¼šåœ¨æœ¬æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ä»æœ€ç®€å•çš„æ¦‚ç‡å‡½æ•°å¼€å§‹ï¼Œå•å˜é‡çº¿æ€§æ˜ å°„ï¼š  </p>
<p>$f(x_{i},W,b)=Wx_{i}+b$</p>
<p>åœ¨ä¸Šé¢çš„å…¬å¼ä¸­ï¼Œå‡è®¾æ¯ä¸ªå›¾åƒæ•°æ®éƒ½è¢«æ‹‰é•¿ä¸ºä¸€ä¸ªé•¿åº¦ä¸ºDçš„åˆ—å‘é‡ï¼Œå¤§å°ä¸º[D x 1]ã€‚å…¶ä¸­å¤§å°ä¸º[K x D]çš„çŸ©é˜µ<strong>W</strong>å’Œå¤§å°ä¸º[K x 1]åˆ—å‘é‡<strong>b</strong>ä¸ºè¯¥å‡½æ•°çš„<strong>å‚æ•°ï¼ˆparametersï¼‰</strong>ã€‚è¿˜æ˜¯ä»¥CIFAR-10ä¸ºä¾‹ï¼Œ$x_i$å°±åŒ…å«äº†ç¬¬iä¸ªå›¾åƒçš„æ‰€æœ‰åƒç´ ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯è¢«æ‹‰æˆä¸ºä¸€ä¸ª[3072 x 1]çš„åˆ—å‘é‡ï¼Œ<strong>W</strong>å¤§å°ä¸º[10x3072]ï¼Œ<strong>b</strong>çš„å¤§å°ä¸º[10x1]ã€‚å› æ­¤ï¼Œ3072ä¸ªæ•°å­—ï¼ˆåŸå§‹åƒç´ æ•°å€¼ï¼‰è¾“å…¥å‡½æ•°ï¼Œå‡½æ•°è¾“å‡º10ä¸ªæ•°å­—ï¼ˆä¸åŒåˆ†ç±»å¾—åˆ°çš„åˆ†å€¼ï¼‰ã€‚å‚æ•°<strong>W</strong>è¢«ç§°ä¸º<strong>æƒé‡ï¼ˆweightsï¼‰</strong>ã€‚<strong>b</strong>è¢«ç§°ä¸º<strong>åå·®å‘é‡ï¼ˆbias vectorï¼‰</strong>ï¼Œè¿™æ˜¯å› ä¸ºå®ƒå½±å“è¾“å‡ºæ•°å€¼ï¼Œä½†æ˜¯å¹¶ä¸å’ŒåŸå§‹æ•°æ®$x_i$äº§ç”Ÿå…³è”ã€‚åœ¨å®é™…æƒ…å†µä¸­ï¼Œäººä»¬å¸¸å¸¸æ··ç”¨<strong>æƒé‡</strong>å’Œ<strong>å‚æ•°</strong>è¿™ä¸¤ä¸ªæœ¯è¯­ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œä¸€ä¸ªå•ç‹¬çš„çŸ©é˜µä¹˜æ³•$W_{x_{i}}$å°±é«˜æ•ˆåœ°å¹¶è¡Œè¯„ä¼°10ä¸ªä¸åŒçš„åˆ†ç±»å™¨ï¼ˆæ¯ä¸ªåˆ†ç±»å™¨é’ˆå¯¹ä¸€ä¸ªåˆ†ç±»ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªç±»çš„åˆ†ç±»å™¨å°±æ˜¯Wçš„ä¸€ä¸ªè¡Œå‘é‡ã€‚</li>
<li>æ³¨æ„æˆ‘ä»¬è®¤ä¸ºè¾“å…¥æ•°æ®$(x_{i},y_{i})$æ˜¯ç»™å®šä¸”ä¸å¯æ”¹å˜çš„ï¼Œä½†å‚æ•°<strong>W</strong>å’Œ<strong>b</strong>æ˜¯å¯æ§åˆ¶æ”¹å˜çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯é€šè¿‡è®¾ç½®è¿™äº›å‚æ•°ï¼Œä½¿å¾—è®¡ç®—å‡ºæ¥çš„åˆ†ç±»åˆ†å€¼æƒ…å†µå’Œè®­ç»ƒé›†ä¸­å›¾åƒæ•°æ®çš„çœŸå®ç±»åˆ«æ ‡ç­¾ç›¸ç¬¦ã€‚åœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ç›®å‰åªéœ€è¦ç›´è§‚åœ°è®©æ­£ç¡®åˆ†ç±»çš„åˆ†å€¼æ¯”é”™è¯¯åˆ†ç±»çš„åˆ†å€¼é«˜å³å¯ã€‚</li>
<li>è¯¥æ–¹æ³•çš„ä¸€ä¸ªä¼˜åŠ¿æ˜¯è®­ç»ƒæ•°æ®æ˜¯ç”¨æ¥å­¦ä¹ åˆ°å‚æ•°<strong>W</strong>å’Œ<strong>b</strong>çš„ï¼Œä¸€æ—¦è®­ç»ƒå®Œæˆï¼Œè®­ç»ƒæ•°æ®å°±å¯ä»¥ä¸¢å¼ƒï¼Œç•™ä¸‹å­¦ä¹ åˆ°çš„å‚æ•°å³å¯ã€‚è¿™æ˜¯å› ä¸ºä¸€ä¸ªæµ‹è¯•å›¾åƒå¯ä»¥ç®€å•åœ°è¾“å…¥å‡½æ•°ï¼Œå¹¶åŸºäºè®¡ç®—å‡ºçš„åˆ†ç±»åˆ†å€¼æ¥è¿›è¡Œåˆ†ç±»ã€‚</li>
<li>æœ€åï¼Œæ³¨æ„åªéœ€è¦åšä¸€ä¸ªçŸ©é˜µä¹˜æ³•å’Œä¸€ä¸ªçŸ©é˜µåŠ æ³•å°±èƒ½å¯¹ä¸€ä¸ªæµ‹è¯•æ•°æ®åˆ†ç±»ï¼Œè¿™æ¯”k-NNä¸­å°†æµ‹è¯•å›¾åƒå’Œæ‰€æœ‰è®­ç»ƒæ•°æ®åšæ¯”è¾ƒçš„æ–¹æ³•å¿«å¤šäº†ã€‚</li>
<li>å½“ç„¶ï¼Œæˆ‘ä»¬è¿™é‡Œåªæ˜¯å°†åå·®ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å¯å­¦ä¹ å‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œåˆå¹¶ï¼Œå°†å…¶åˆå¹¶åˆ°æƒé‡çŸ©é˜µä¹‹ä¸­ï¼Œè¿™æ ·çš„æ–¹å¼æ— éå°±æ˜¯ç»™æƒé‡çŸ©é˜µæ‰©å¼ ä¸€ä¸‹åˆ—å‘é‡ï¼Œå¹¶ä¸”ç»™è¾“å…¥å‘é‡å¢åŠ ä¸€ä¸ªå¸¸é‡ç»´åº¦</li>
</ul>
<p>&gt; é¢„å‘Šï¼šå·ç§¯ç¥ç»ç½‘ç»œæ˜ å°„å›¾åƒåƒç´ å€¼åˆ°åˆ†ç±»åˆ†å€¼çš„æ–¹æ³•å’Œä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯æ˜ å°„ <strong>(f)</strong> å°±è¦å¤æ‚å¤šäº†ï¼Œå…¶åŒ…å«çš„å‚æ•°ä¹Ÿæ›´å¤šã€‚</p>
<h2 id="ç†è§£çº¿æ€§åˆ†ç±»å™¨"><a href="#ç†è§£çº¿æ€§åˆ†ç±»å™¨" class="headerlink" title="ç†è§£çº¿æ€§åˆ†ç±»å™¨"></a>ç†è§£çº¿æ€§åˆ†ç±»å™¨</h2><p>çº¿æ€§åˆ†ç±»å™¨è®¡ç®—å›¾åƒä¸­3ä¸ªé¢œè‰²é€šé“ä¸­æ‰€æœ‰åƒç´ çš„å€¼ä¸æƒé‡çš„çŸ©é˜µä¹˜ï¼Œä»è€Œå¾—åˆ°åˆ†ç±»åˆ†å€¼ã€‚æ ¹æ®æˆ‘ä»¬å¯¹æƒé‡è®¾ç½®çš„å€¼ï¼Œå¯¹äºå›¾åƒä¸­çš„æŸäº›ä½ç½®çš„æŸäº›é¢œè‰²ï¼Œå‡½æ•°è¡¨ç°å‡ºå–œå¥½æˆ–è€…åŒæ¶ï¼ˆæ ¹æ®æ¯ä¸ªæƒé‡çš„ç¬¦å·è€Œå®šï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¯ä»¥æƒ³è±¡â€èˆ¹â€åˆ†ç±»å°±æ˜¯è¢«å¤§é‡çš„è“è‰²æ‰€åŒ…å›´ï¼ˆå¯¹åº”çš„å°±æ˜¯æ°´ï¼‰ã€‚é‚£ä¹ˆâ€èˆ¹â€åˆ†ç±»å™¨åœ¨è“è‰²é€šé“ä¸Šçš„æƒé‡å°±æœ‰å¾ˆå¤šçš„æ­£æƒé‡ï¼ˆå®ƒä»¬çš„å‡ºç°æé«˜äº†â€èˆ¹â€åˆ†ç±»çš„åˆ†å€¼ï¼‰ï¼Œè€Œåœ¨ç»¿è‰²å’Œçº¢è‰²é€šé“ä¸Šçš„æƒé‡ä¸ºè´Ÿçš„å°±æ¯”è¾ƒå¤šï¼ˆå®ƒä»¬çš„å‡ºç°é™ä½äº†â€èˆ¹â€åˆ†ç±»çš„åˆ†å€¼ï¼‰ã€‚</p>
<img src="/2024/05/06/15-22-39/7c204cd1010c0af1e7b50000bfff1d8e_b.jpg" class>
<p>ä¸€ä¸ªå°†å›¾åƒæ˜ å°„åˆ°åˆ†ç±»åˆ†å€¼çš„ä¾‹å­ã€‚ä¸ºäº†ä¾¿äºå¯è§†åŒ–ï¼Œå‡è®¾å›¾åƒåªæœ‰4ä¸ªåƒç´ ï¼ˆéƒ½æ˜¯é»‘ç™½åƒç´ ï¼Œè¿™é‡Œä¸è€ƒè™‘RGBé€šé“ï¼‰ï¼Œæœ‰3ä¸ªåˆ†ç±»ï¼ˆçº¢è‰²ä»£è¡¨çŒ«ï¼Œç»¿è‰²ä»£è¡¨ç‹—ï¼Œè“è‰²ä»£è¡¨èˆ¹ï¼Œæ³¨æ„ï¼Œè¿™é‡Œçš„çº¢ã€ç»¿å’Œè“3ç§é¢œè‰²ä»…ä»£è¡¨åˆ†ç±»ï¼Œå’ŒRGBé€šé“æ²¡æœ‰å…³ç³»ï¼‰ã€‚é¦–å…ˆå°†å›¾åƒåƒç´ æ‹‰ä¼¸ä¸ºä¸€ä¸ªåˆ—å‘é‡ï¼Œä¸Wè¿›è¡ŒçŸ©é˜µä¹˜ï¼Œç„¶åå¾—åˆ°å„ä¸ªåˆ†ç±»çš„åˆ†å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªWä¸€ç‚¹ä¹Ÿä¸å¥½ï¼šçŒ«åˆ†ç±»çš„åˆ†å€¼éå¸¸ä½ã€‚ä»ä¸Šå›¾æ¥çœ‹ï¼Œç®—æ³•å€’æ˜¯è§‰å¾—è¿™ä¸ªå›¾åƒæ˜¯ä¸€åªç‹—ã€‚  </p>
<p><strong>å°†å›¾åƒçœ‹åšé«˜ç»´åº¦çš„ç‚¹</strong>ï¼šæ—¢ç„¶å›¾åƒè¢«ä¼¸å±•æˆä¸ºäº†ä¸€ä¸ªé«˜ç»´åº¦çš„åˆ—å‘é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠå›¾åƒçœ‹åšè¿™ä¸ªé«˜ç»´åº¦ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼ˆå³æ¯å¼ å›¾åƒæ˜¯3072ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼‰ã€‚æ•´ä¸ªæ•°æ®é›†å°±æ˜¯ä¸€ä¸ªç‚¹çš„é›†åˆï¼Œæ¯ä¸ªç‚¹éƒ½å¸¦æœ‰1ä¸ªåˆ†ç±»æ ‡ç­¾ã€‚</p>
<p>æ—¢ç„¶å®šä¹‰æ¯ä¸ªåˆ†ç±»ç±»åˆ«çš„åˆ†å€¼æ˜¯æƒé‡å’Œå›¾åƒçš„çŸ©é˜µä¹˜ï¼Œé‚£ä¹ˆæ¯ä¸ªåˆ†ç±»ç±»åˆ«çš„åˆ†æ•°å°±æ˜¯è¿™ä¸ªç©ºé—´ä¸­çš„ä¸€ä¸ªçº¿æ€§å‡½æ•°çš„å‡½æ•°å€¼ã€‚æˆ‘ä»¬æ²¡åŠæ³•å¯è§†åŒ–3072ç»´ç©ºé—´ä¸­çš„çº¿æ€§å‡½æ•°ï¼Œä½†å‡è®¾æŠŠè¿™äº›ç»´åº¦æŒ¤å‹åˆ°äºŒç»´ï¼Œé‚£ä¹ˆå°±å¯ä»¥çœ‹çœ‹è¿™äº›åˆ†ç±»å™¨åœ¨åšä»€ä¹ˆäº†ï¼š</p>
<img src="/2024/05/06/15-22-39/cfcb46408daa5353c38cb37e9bb6eb01_b.jpg" class>
<p>å›¾åƒç©ºé—´çš„ç¤ºæ„å›¾ã€‚å…¶ä¸­æ¯ä¸ªå›¾åƒæ˜¯ä¸€ä¸ªç‚¹ï¼Œæœ‰3ä¸ªåˆ†ç±»å™¨ã€‚ä»¥çº¢è‰²çš„æ±½è½¦åˆ†ç±»å™¨ä¸ºä¾‹ï¼Œçº¢çº¿è¡¨ç¤ºç©ºé—´ä¸­æ±½è½¦åˆ†ç±»åˆ†æ•°ä¸º0çš„ç‚¹çš„é›†åˆï¼Œçº¢è‰²çš„ç®­å¤´è¡¨ç¤ºåˆ†å€¼ä¸Šå‡çš„æ–¹å‘ã€‚æ‰€æœ‰çº¢çº¿å³è¾¹çš„ç‚¹çš„åˆ†æ•°å€¼å‡ä¸ºæ­£ï¼Œä¸”çº¿æ€§å‡é«˜ã€‚çº¢çº¿å·¦è¾¹çš„ç‚¹åˆ†å€¼ä¸ºè´Ÿï¼Œä¸”çº¿æ€§é™ä½ã€‚  </p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<strong>W</strong>çš„æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªåˆ†ç±»ç±»åˆ«çš„åˆ†ç±»å™¨ã€‚å¯¹äºè¿™äº›æ•°å­—çš„å‡ ä½•è§£é‡Šæ˜¯ï¼šå¦‚æœæ”¹å˜å…¶ä¸­ä¸€è¡Œçš„æ•°å­—ï¼Œä¼šçœ‹è§åˆ†ç±»å™¨åœ¨ç©ºé—´ä¸­å¯¹åº”çš„ç›´çº¿å¼€å§‹å‘ç€ä¸åŒæ–¹å‘æ—‹è½¬ã€‚è€Œåå·®<strong>b</strong>ï¼Œåˆ™å…è®¸åˆ†ç±»å™¨å¯¹åº”çš„ç›´çº¿å¹³ç§»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰åå·®ï¼Œæ— è®ºæƒé‡å¦‚ä½•ï¼Œåœ¨$x_i=0$æ—¶åˆ†ç±»åˆ†å€¼å§‹ç»ˆä¸º0ã€‚è¿™æ ·æ‰€æœ‰åˆ†ç±»å™¨çš„çº¿éƒ½ä¸å¾—ä¸ç©¿è¿‡åŸç‚¹ã€‚</p>
<p><strong>å°†çº¿æ€§åˆ†ç±»å™¨çœ‹åšæ¨¡æ¿åŒ¹é…</strong>ï¼šå…³äºæƒé‡<strong>W</strong>çš„å¦ä¸€ä¸ªè§£é‡Šæ˜¯<strong>å®ƒ</strong>çš„æ¯ä¸€è¡Œå¯¹åº”ç€ä¸€ä¸ªåˆ†ç±»çš„æ¨¡æ¿ï¼ˆæœ‰æ—¶å€™ä¹Ÿå«ä½œåŸå‹ï¼‰ã€‚ä¸€å¼ å›¾åƒå¯¹åº”ä¸åŒåˆ†ç±»çš„å¾—åˆ†ï¼Œæ˜¯é€šè¿‡ä½¿ç”¨å†…ç§¯ï¼ˆä¹Ÿå«ç‚¹ç§¯ï¼‰æ¥æ¯”è¾ƒå›¾åƒå’Œæ¨¡æ¿ï¼Œç„¶åæ‰¾åˆ°å’Œå“ªä¸ªæ¨¡æ¿æœ€ç›¸ä¼¼ã€‚ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œçº¿æ€§åˆ†ç±»å™¨å°±æ˜¯åœ¨åˆ©ç”¨å­¦ä¹ åˆ°çš„æ¨¡æ¿ï¼Œé’ˆå¯¹å›¾åƒåšæ¨¡æ¿åŒ¹é…ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå¯ä»¥è®¤ä¸ºè¿˜æ˜¯åœ¨é«˜æ•ˆåœ°ä½¿ç”¨k-NNï¼Œä¸åŒçš„æ˜¯æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ‰€æœ‰çš„è®­ç»ƒé›†çš„å›¾åƒæ¥æ¯”è¾ƒï¼Œè€Œæ˜¯æ¯ä¸ªç±»åˆ«åªç”¨äº†ä¸€å¼ å›¾ç‰‡ï¼ˆè¿™å¼ å›¾ç‰‡æ˜¯æˆ‘ä»¬å­¦ä¹ åˆ°çš„ï¼Œè€Œä¸æ˜¯è®­ç»ƒé›†ä¸­çš„æŸä¸€å¼ ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¼šä½¿ç”¨ï¼ˆè´Ÿï¼‰å†…ç§¯æ¥è®¡ç®—å‘é‡é—´çš„è·ç¦»ï¼Œè€Œä¸æ˜¯ä½¿ç”¨L1æˆ–è€…L2è·ç¦»ã€‚</p>
<img src="/2024/05/06/15-22-39/13e72e4ce83c11b49d36bbbb51d29ab4_b.jpg" class>
<p>å°†è¯¾ç¨‹è¿›åº¦å¿«è¿›ä¸€ç‚¹ã€‚è¿™é‡Œå±•ç¤ºçš„æ˜¯ä»¥CIFAR-10ä¸ºè®­ç»ƒé›†ï¼Œå­¦ä¹ ç»“æŸåçš„æƒé‡çš„ä¾‹å­ã€‚æ³¨æ„ï¼Œèˆ¹çš„æ¨¡æ¿å¦‚æœŸæœ›çš„é‚£æ ·æœ‰å¾ˆå¤šè“è‰²åƒç´ ã€‚å¦‚æœå›¾åƒæ˜¯ä¸€è‰˜èˆ¹è¡Œé©¶åœ¨å¤§æµ·ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæ¨¡æ¿åˆ©ç”¨å†…ç§¯è®¡ç®—å›¾åƒå°†ç»™å‡ºå¾ˆé«˜çš„åˆ†æ•°ã€‚  </p>
<p>å¯ä»¥çœ‹åˆ°é©¬çš„æ¨¡æ¿çœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä¸¤ä¸ªå¤´çš„é©¬ï¼Œè¿™æ˜¯å› ä¸ºè®­ç»ƒé›†ä¸­çš„é©¬çš„å›¾åƒä¸­é©¬å¤´æœå‘å„æœ‰å·¦å³é€ æˆçš„ã€‚çº¿æ€§åˆ†ç±»å™¨å°†è¿™ä¸¤ç§æƒ…å†µèåˆåˆ°ä¸€èµ·äº†ã€‚ç±»ä¼¼çš„ï¼Œæ±½è½¦çš„æ¨¡æ¿çœ‹èµ·æ¥ä¹Ÿæ˜¯å°†å‡ ä¸ªä¸åŒçš„æ¨¡å‹èåˆåˆ°äº†ä¸€ä¸ªæ¨¡æ¿ä¸­ï¼Œå¹¶ä»¥æ­¤æ¥åˆ†è¾¨ä¸åŒæ–¹å‘ä¸åŒé¢œè‰²çš„æ±½è½¦ã€‚è¿™ä¸ªæ¨¡æ¿ä¸Šçš„è½¦æ˜¯çº¢è‰²çš„ï¼Œè¿™æ˜¯å› ä¸ºCIFAR-10ä¸­è®­ç»ƒé›†çš„è½¦å¤§å¤šæ˜¯çº¢è‰²çš„ã€‚çº¿æ€§åˆ†ç±»å™¨å¯¹äºä¸åŒé¢œè‰²çš„è½¦çš„åˆ†ç±»èƒ½åŠ›æ˜¯å¾ˆå¼±çš„ï¼Œä½†æ˜¯åé¢å¯ä»¥çœ‹åˆ°ç¥ç»ç½‘ç»œæ˜¯å¯ä»¥å®Œæˆè¿™ä¸€ä»»åŠ¡çš„ã€‚ç¥ç»ç½‘ç»œå¯ä»¥åœ¨å®ƒçš„éšè—å±‚ä¸­å®ç°ä¸­é—´ç¥ç»å…ƒæ¥æ¢æµ‹ä¸åŒç§ç±»çš„è½¦ï¼ˆæ¯”å¦‚ç»¿è‰²è½¦å¤´å‘å·¦ï¼Œè“è‰²è½¦å¤´å‘å‰ç­‰ï¼‰ã€‚è€Œä¸‹ä¸€å±‚çš„ç¥ç»å…ƒé€šè¿‡è®¡ç®—ä¸åŒçš„æ±½è½¦æ¢æµ‹å™¨çš„æƒé‡å’Œï¼Œå°†è¿™äº›åˆå¹¶ä¸ºä¸€ä¸ªæ›´ç²¾ç¡®çš„æ±½è½¦åˆ†ç±»åˆ†å€¼ã€‚</p>
<p><strong>åå·®å’Œæƒé‡çš„</strong>åˆå¹¶æŠ€å·§ï¼šåœ¨è¿›ä¸€æ­¥å­¦ä¹ å‰ï¼Œè¦æä¸€ä¸‹è¿™ä¸ªç»å¸¸ä½¿ç”¨çš„æŠ€å·§ã€‚å®ƒèƒ½å¤Ÿå°†æˆ‘ä»¬å¸¸ç”¨çš„å‚æ•°Wå’ŒbåˆäºŒä¸ºä¸€ã€‚å›å¿†ä¸€ä¸‹ï¼Œåˆ†ç±»è¯„åˆ†å‡½æ•°å®šä¹‰ä¸ºï¼š</p>
<p>$f(x_{i},W,b)=Wx_{i}+b$</p>
<p>åˆ†å¼€å¤„ç†è¿™ä¸¤ä¸ªå‚æ•°ï¼ˆæƒé‡å‚æ•°<strong>W</strong>å’Œåå·®å‚æ•°<strong>b</strong>ï¼‰æœ‰ç‚¹ç¬¨æ‹™ï¼Œä¸€èˆ¬å¸¸ç”¨çš„æ–¹æ³•æ˜¯æŠŠä¸¤ä¸ªå‚æ•°æ”¾åˆ°åŒä¸€ä¸ªçŸ©é˜µä¸­ï¼ŒåŒæ—¶$x_{i}$å‘é‡å°±è¦å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œè¿™ä¸ªç»´åº¦çš„æ•°å€¼æ˜¯å¸¸é‡1ï¼Œè¿™å°±æ˜¯é»˜è®¤çš„<em>åå·®ç»´åº¦</em>ã€‚è¿™æ ·æ–°çš„å…¬å¼å°±ç®€åŒ–æˆä¸‹é¢è¿™æ ·ï¼š</p>
<p>$f(x_{i},W)=W{x_{i}}$</p>
<p>è¿˜æ˜¯ä»¥CIFAR-10ä¸ºä¾‹ï¼Œé‚£ä¹ˆ$x_i$çš„å¤§å°å°±å˜æˆ <strong>[3073x1]</strong>ï¼Œè€Œä¸æ˜¯ <strong>[3072x1]</strong> äº†ï¼Œå¤šå‡ºäº†åŒ…å«å¸¸é‡1çš„1ä¸ªç»´åº¦ï¼‰ã€‚$W$å¤§å°å°±æ˜¯ <strong>[10x3073]</strong> äº†ã€‚$W$ä¸­å¤šå‡ºæ¥çš„è¿™ä¸€åˆ—å¯¹åº”çš„å°±æ˜¯åå·®å€¼bï¼Œå…·ä½“è§ä¸‹å›¾ï¼š</p>
<img src="/2024/05/06/15-22-39/3c69a5c87a43bfb07e2b59bfcbd2f149_b.jpg" class>
<p>åå·®æŠ€å·§çš„ç¤ºæ„å›¾ã€‚å·¦è¾¹æ˜¯å…ˆåšçŸ©é˜µä¹˜æ³•ç„¶ååšåŠ æ³•ï¼Œå³è¾¹æ˜¯å°†æ‰€æœ‰è¾“å…¥å‘é‡çš„ç»´åº¦å¢åŠ 1ä¸ªå«å¸¸é‡1çš„ç»´åº¦ï¼Œå¹¶ä¸”åœ¨æƒé‡çŸ©é˜µä¸­å¢åŠ ä¸€ä¸ªåå·®åˆ—ï¼Œæœ€ååšä¸€ä¸ªçŸ©é˜µä¹˜æ³•å³å¯ã€‚å·¦å³æ˜¯ç­‰ä»·çš„ã€‚é€šè¿‡å³è¾¹è¿™æ ·åšï¼Œæˆ‘ä»¬å°±åªéœ€è¦å­¦ä¹ ä¸€ä¸ªæƒé‡çŸ©é˜µï¼Œè€Œä¸ç”¨å»å­¦ä¹ ä¸¤ä¸ªåˆ†åˆ«è£…ç€æƒé‡å’Œåå·®çš„çŸ©é˜µäº†ã€‚</p>
<p><strong>å›¾åƒæ•°æ®é¢„å¤„ç†</strong>ï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ‰€æœ‰å›¾åƒéƒ½æ˜¯ä½¿ç”¨çš„åŸå§‹åƒç´ å€¼ï¼ˆä»0åˆ°255ï¼‰ã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå¯¹äºè¾“å…¥çš„ç‰¹å¾åšå½’ä¸€åŒ–ï¼ˆnormalizationï¼‰å¤„ç†æ˜¯å¸¸è§çš„å¥—è·¯ã€‚è€Œåœ¨å›¾åƒåˆ†ç±»çš„ä¾‹å­ä¸­ï¼Œå›¾åƒä¸Šçš„æ¯ä¸ªåƒç´ å¯ä»¥çœ‹åšä¸€ä¸ªç‰¹å¾ã€‚åœ¨å®è·µä¸­ï¼Œå¯¹æ¯ä¸ªç‰¹å¾å‡å»å¹³å‡å€¼æ¥<strong>ä¸­å¿ƒåŒ–</strong>æ•°æ®æ˜¯éå¸¸é‡è¦çš„ã€‚åœ¨è¿™äº›å›¾ç‰‡çš„ä¾‹å­ä¸­ï¼Œè¯¥æ­¥éª¤æ„å‘³ç€æ ¹æ®è®­ç»ƒé›†ä¸­æ‰€æœ‰çš„å›¾åƒè®¡ç®—å‡ºä¸€ä¸ªå¹³å‡å›¾åƒå€¼ï¼Œç„¶åæ¯ä¸ªå›¾åƒéƒ½å‡å»è¿™ä¸ªå¹³å‡å€¼ï¼Œè¿™æ ·å›¾åƒçš„åƒç´ å€¼å°±å¤§çº¦åˆ†å¸ƒåœ¨[-127, 127]ä¹‹é—´äº†ã€‚ä¸‹ä¸€ä¸ªå¸¸è§æ­¥éª¤æ˜¯ï¼Œè®©æ‰€æœ‰æ•°å€¼åˆ†å¸ƒçš„åŒºé—´å˜ä¸º[-1, 1]ã€‚<strong>é›¶å‡å€¼çš„ä¸­å¿ƒåŒ–</strong>æ˜¯å¾ˆé‡è¦çš„ï¼Œç­‰æˆ‘ä»¬ç†è§£äº†æ¢¯åº¦ä¸‹é™åå†æ¥è¯¦ç»†è§£é‡Šã€‚</p>
<h2 id="æŸå¤±å‡½æ•°-Loss-function"><a href="#æŸå¤±å‡½æ•°-Loss-function" class="headerlink" title="æŸå¤±å‡½æ•° Loss function"></a>æŸå¤±å‡½æ•° Loss function</h2><p>åœ¨ä¸Šä¸€èŠ‚å®šä¹‰äº†ä»å›¾åƒåƒç´ å€¼åˆ°æ‰€å±ç±»åˆ«çš„è¯„åˆ†å‡½æ•°ï¼ˆscore functionï¼‰ï¼Œè¯¥å‡½æ•°çš„å‚æ•°æ˜¯æƒé‡çŸ©é˜µ$W$ã€‚åœ¨å‡½æ•°ä¸­ï¼Œæ•°æ®$(x_i,y_i)$æ˜¯ç»™å®šçš„ï¼Œä¸èƒ½ä¿®æ”¹ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è°ƒæ•´æƒé‡çŸ©é˜µè¿™ä¸ªå‚æ•°ï¼Œä½¿å¾—è¯„åˆ†å‡½æ•°çš„ç»“æœä¸è®­ç»ƒæ•°æ®é›†ä¸­å›¾åƒçš„çœŸå®ç±»åˆ«ä¸€è‡´ï¼Œå³è¯„åˆ†å‡½æ•°åœ¨æ­£ç¡®çš„åˆ†ç±»çš„ä½ç½®åº”å½“å¾—åˆ°æœ€é«˜çš„è¯„åˆ†ï¼ˆscoreï¼‰ã€‚</p>
<p>å›åˆ°ä¹‹å‰é‚£å¼ çŒ«çš„å›¾åƒåˆ†ç±»ä¾‹å­ï¼Œå®ƒæœ‰é’ˆå¯¹â€çŒ«â€ï¼Œâ€ç‹—â€ï¼Œâ€èˆ¹â€ä¸‰ä¸ªç±»åˆ«çš„åˆ†æ•°ã€‚æˆ‘ä»¬çœ‹åˆ°ä¾‹å­ä¸­æƒé‡å€¼éå¸¸å·®ï¼Œå› ä¸ºçŒ«åˆ†ç±»çš„å¾—åˆ†éå¸¸ä½ï¼ˆ-96.8ï¼‰ï¼Œè€Œç‹—ï¼ˆ437.9ï¼‰å’Œèˆ¹ï¼ˆ61.95ï¼‰æ¯”è¾ƒé«˜ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong>æŸå¤±å‡½æ•°ï¼ˆLoss Functionï¼‰</strong>-æ ·æœ¬è¯¯å·®ï¼ˆæœ‰æ—¶ä¹Ÿå«<strong>ä»£ä»·å‡½æ•°</strong>Cost Function-å•ä¸ªè¯¯å·®æˆ–<strong>ç›®æ ‡å‡½æ•°</strong>Objectiveï¼‰æ¥è¡¡é‡æˆ‘ä»¬å¯¹ç»“æœçš„ä¸æ»¡æ„ç¨‹åº¦ã€‚ç›´è§‚åœ°è®²ï¼Œå½“è¯„åˆ†å‡½æ•°è¾“å‡ºç»“æœä¸çœŸå®ç»“æœä¹‹é—´å·®å¼‚è¶Šå¤§ï¼ŒæŸå¤±å‡½æ•°è¾“å‡ºè¶Šå¤§ï¼Œåä¹‹è¶Šå°ã€‚</p>
<p>åŒæ—¶ï¼ŒæŸå¤±å‡½æ•°æœ‰å¤šç§ç±»å‹ï¼Œä¸åŒç±»å‹æœ‰ä¸åŒåå¥½ï¼Œæˆ‘ä»¬åœ¨ä¸åŒä»»åŠ¡ä¸­å¯ä»¥é€‰æ‹©ä¸åŒç±»å‹çš„æŸå¤±å‡½æ•°ã€‚</p>
<h2 id="å¤šç±»æ”¯æŒå‘é‡æœºæŸå¤±-Multiclass-Support-Vector-Machine-Loss"><a href="#å¤šç±»æ”¯æŒå‘é‡æœºæŸå¤±-Multiclass-Support-Vector-Machine-Loss" class="headerlink" title="å¤šç±»æ”¯æŒå‘é‡æœºæŸå¤± Multiclass Support Vector Machine Loss"></a>å¤šç±»æ”¯æŒå‘é‡æœºæŸå¤± Multiclass Support Vector Machine Loss</h2><p>æŸå¤±å‡½æ•°çš„å…·ä½“å½¢å¼å¤šç§å¤šæ ·ã€‚é¦–å…ˆï¼Œä»‹ç»å¸¸ç”¨çš„å¤šç±»æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰æŸå¤±å‡½æ•°ã€‚SVMçš„æŸå¤±å‡½æ•°æƒ³è¦SVMåœ¨æ­£ç¡®åˆ†ç±»ä¸Šçš„å¾—åˆ†å§‹ç»ˆæ¯”ä¸æ­£ç¡®åˆ†ç±»ä¸Šçš„å¾—åˆ†é«˜å‡ºä¸€ä¸ªè¾¹ç•Œå€¼$\delta$ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæŸå¤±å‡½æ•°æƒ³è±¡æˆä¸€ä¸ªäººï¼Œè¿™ä½SVMå…ˆç”Ÿï¼ˆæˆ–è€…å¥³å£«ï¼‰å¯¹äºç»“æœæœ‰è‡ªå·±çš„å“ä½ï¼Œå¦‚æœæŸä¸ªç»“æœèƒ½ä½¿å¾—æŸå¤±å€¼æ›´ä½ï¼Œé‚£ä¹ˆSVMå°±æ›´åŠ å–œæ¬¢å®ƒã€‚</p>
<p>è®©æˆ‘ä»¬æ›´ç²¾ç¡®ä¸€äº›ã€‚å›å¿†ä¸€ä¸‹ï¼Œç¬¬iä¸ªæ•°æ®ä¸­åŒ…å«å›¾åƒ$x_i$çš„åƒç´ å’Œä»£è¡¨æ­£ç¡®ç±»åˆ«çš„æ ‡ç­¾$y_i$ã€‚è¯„åˆ†å‡½æ•°è¾“å…¥åƒç´ æ•°æ®ï¼Œç„¶åé€šè¿‡å…¬å¼ $f(x_i,W)$æ¥è®¡ç®—ä¸åŒåˆ†ç±»ç±»åˆ«çš„åˆ†å€¼ã€‚è¿™é‡Œæˆ‘ä»¬å°†åˆ†å€¼ç®€å†™ä¸º$s$ã€‚æ¯”å¦‚ï¼Œé’ˆå¯¹ç¬¬jä¸ªç±»åˆ«çš„å¾—åˆ†å°±æ˜¯ç¬¬jä¸ªå…ƒç´ ï¼š$s_{j}=f(x_{i},W)$ã€‚é’ˆå¯¹ç¬¬iä¸ªæ•°æ®çš„å¤šç±»SVMçš„æŸå¤±å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>$L_i=\sum_{j\not=y_i}\max(0,s_j-s_{y_i}+\Delta)$</p>
<p><strong>ä¸¾ä¾‹</strong>ï¼šç”¨ä¸€ä¸ªä¾‹å­æ¼”ç¤ºå…¬å¼æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚å‡è®¾æœ‰3ä¸ªåˆ†ç±»ï¼Œå¹¶ä¸”å¾—åˆ°äº†åˆ†å€¼$s = [13,-7,11]$ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªç±»åˆ«æ˜¯æ­£ç¡®ç±»åˆ«ï¼Œå³$y_i=0$ã€‚åŒæ—¶å‡è®¾$\Delta$æ˜¯10ï¼ˆåé¢ä¼šè¯¦ç»†ä»‹ç»è¯¥è¶…å‚æ•°ï¼‰ã€‚ä¸Šé¢çš„å…¬å¼æ˜¯å°†æ‰€æœ‰ä¸æ­£ç¡®åˆ†ç±»ï¼ˆ$j\not=y_i$ï¼‰åŠ èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°ä¸¤ä¸ªéƒ¨åˆ†ï¼š  </p>
<p>$L_i=\max(0,-7-13+10)+\max(0,11-13+10)$</p>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªéƒ¨åˆ†ç»“æœæ˜¯0ï¼Œè¿™æ˜¯å› ä¸º[-7-13+10]å¾—åˆ°çš„æ˜¯è´Ÿæ•°ï¼Œç»è¿‡$\max(0,-)$å‡½æ•°å¤„ç†åå¾—åˆ°0ã€‚è¿™ä¸€å¯¹ç±»åˆ«åˆ†æ•°å’Œæ ‡ç­¾çš„æŸå¤±å€¼æ˜¯0ï¼Œè¿™æ˜¯å› ä¸ºæ­£ç¡®åˆ†ç±»çš„å¾—åˆ†13ä¸é”™è¯¯åˆ†ç±»çš„å¾—åˆ†-7çš„å·®ä¸º20ï¼Œé«˜äºè¾¹ç•Œå€¼10ã€‚è€ŒSVMåªå…³å¿ƒå·®è·è‡³å°‘è¦å¤§äº10ï¼Œæ›´å¤§çš„å·®å€¼è¿˜æ˜¯ç®—ä½œæŸå¤±å€¼ä¸º0ã€‚ç¬¬äºŒä¸ªéƒ¨åˆ†è®¡ç®—[11-13+10]å¾—åˆ°8ã€‚è™½ç„¶æ­£ç¡®åˆ†ç±»çš„å¾—åˆ†æ¯”ä¸æ­£ç¡®åˆ†ç±»çš„å¾—åˆ†è¦é«˜ï¼ˆ13&gt;11ï¼‰ï¼Œä½†æ˜¯æ¯”10çš„è¾¹ç•Œå€¼è¿˜æ˜¯å°äº†ï¼Œåˆ†å·®åªæœ‰2ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæŸå¤±å€¼ç­‰äº8ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒSVMçš„æŸå¤±å‡½æ•°æƒ³è¦æ­£ç¡®åˆ†ç±»ç±»åˆ«$y_i$çš„åˆ†æ•°æ¯”ä¸æ­£ç¡®ç±»åˆ«åˆ†æ•°é«˜ï¼Œè€Œä¸”è‡³å°‘è¦é«˜$\Delta$ã€‚å¦‚æœä¸æ»¡è¶³è¿™ç‚¹ï¼Œå°±å¼€å§‹è®¡ç®—æŸå¤±å€¼ã€‚</p>
<p>é‚£ä¹ˆåœ¨è¿™æ¬¡çš„æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬é¢å¯¹çš„æ˜¯çº¿æ€§è¯„åˆ†å‡½æ•°($f(x_i,W)=Wx_i$)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æŸå¤±å‡½æ•°çš„å…¬å¼ç¨å¾®æ”¹å†™ä¸€ä¸‹ï¼š</p>
<p>$L_i=\sum_{j\not=y_i}\max(0,w^T_jx_i-w^T_{y_i}x_i+\Delta)$</p>
<p>å…¶ä¸­$w_j$æ˜¯æƒé‡$W$çš„ç¬¬jè¡Œï¼Œè¢«å˜å½¢ä¸ºåˆ—å‘é‡ã€‚ç„¶è€Œï¼Œä¸€æ—¦å¼€å§‹è€ƒè™‘æ›´å¤æ‚çš„è¯„åˆ†å‡½æ•°$f$å…¬å¼ï¼Œè¿™æ ·åšå°±ä¸æ˜¯å¿…é¡»çš„äº†ã€‚</p>
<p>åœ¨ç»“æŸè¿™ä¸€å°èŠ‚å‰ï¼Œè¿˜å¿…é¡»æä¸€ä¸‹çš„å±äºæ˜¯å…³äº0çš„é˜€å€¼ï¼š$\max(0,-)$å‡½æ•°ï¼Œå®ƒå¸¸è¢«ç§°ä¸º<strong>æŠ˜å¶æŸå¤±ï¼ˆhinge lossï¼‰</strong>ã€‚æœ‰æ—¶å€™ä¼šå¬åˆ°äººä»¬ä½¿ç”¨å¹³æ–¹æŠ˜å¶æŸå¤±SVMï¼ˆå³L2-SVMï¼‰ï¼Œå®ƒä½¿ç”¨çš„æ˜¯$\max(0,-)^2$ï¼Œå°†æ›´å¼ºçƒˆï¼ˆå¹³æ–¹åœ°è€Œä¸æ˜¯çº¿æ€§åœ°ï¼‰åœ°æƒ©ç½šè¿‡ç•Œçš„è¾¹ç•Œå€¼ã€‚ä¸ä½¿ç”¨å¹³æ–¹æ˜¯æ›´æ ‡å‡†çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯åœ¨æŸäº›æ•°æ®é›†ä¸­ï¼Œå¹³æ–¹æŠ˜å¶æŸå¤±ä¼šå·¥ä½œå¾—æ›´å¥½ã€‚å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯æ¥å†³å®šåˆ°åº•ä½¿ç”¨å“ªä¸ªã€‚</p>
<p>&gt; æˆ‘ä»¬å¯¹äºé¢„æµ‹è®­ç»ƒé›†æ•°æ®åˆ†ç±»æ ‡ç­¾çš„æƒ…å†µæ€»æœ‰ä¸€äº›ä¸æ»¡æ„çš„ï¼Œè€ŒæŸå¤±å‡½æ•°å°±èƒ½å°†è¿™äº›ä¸æ»¡æ„çš„ç¨‹åº¦é‡åŒ–ã€‚  </p>
<img src="/2024/05/06/15-22-39/%E5%A4%9A%E7%B1%BBsvm_scores.jpg" class>
<p>å¤šç±»SVMâ€æƒ³è¦â€æ­£ç¡®ç±»åˆ«çš„åˆ†ç±»åˆ†æ•°æ¯”å…¶ä»–ä¸æ­£ç¡®åˆ†ç±»ç±»åˆ«çš„åˆ†æ•°è¦é«˜ï¼Œè€Œä¸”è‡³å°‘é«˜å‡ºdeltaçš„è¾¹ç•Œå€¼ã€‚å¦‚æœå…¶ä»–åˆ†ç±»åˆ†æ•°è¿›å…¥äº†çº¢è‰²çš„åŒºåŸŸï¼Œç”šè‡³æ›´é«˜ï¼Œé‚£ä¹ˆå°±å¼€å§‹è®¡ç®—æŸå¤±ã€‚å¦‚æœæ²¡æœ‰è¿™äº›æƒ…å†µï¼ŒæŸå¤±å€¼ä¸º0ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€äº›æƒé‡ï¼Œå®ƒä»¬æ—¢èƒ½å¤Ÿè®©è®­ç»ƒé›†ä¸­çš„æ•°æ®æ ·ä¾‹æ»¡è¶³è¿™äº›é™åˆ¶ï¼Œä¹Ÿèƒ½è®©æ€»çš„æŸå¤±å€¼å°½å¯èƒ½åœ°ä½ã€‚  </p>
<p><strong>æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰ï¼š</strong>ä¸Šé¢æŸå¤±å‡½æ•°æœ‰ä¸€ä¸ªé—®é¢˜ã€‚å‡è®¾æœ‰ä¸€ä¸ªæ•°æ®é›†å’Œä¸€ä¸ªæƒé‡é›†<strong>W</strong>èƒ½å¤Ÿæ­£ç¡®åœ°åˆ†ç±»æ¯ä¸ªæ•°æ®ï¼ˆå³æ‰€æœ‰çš„è¾¹ç•Œéƒ½æ»¡è¶³ï¼Œå¯¹äºæ‰€æœ‰çš„iéƒ½æœ‰$L_i=0$ï¼‰ã€‚é—®é¢˜åœ¨äºè¿™ä¸ª<strong>W</strong>å¹¶ä¸å”¯ä¸€ï¼šå¯èƒ½æœ‰å¾ˆå¤šç›¸ä¼¼çš„<strong>W</strong>éƒ½èƒ½æ­£ç¡®åœ°åˆ†ç±»æ‰€æœ‰çš„æ•°æ®ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå¦‚æœ<strong>W</strong>èƒ½å¤Ÿæ­£ç¡®åˆ†ç±»æ‰€æœ‰æ•°æ®ï¼Œå³å¯¹äºæ¯ä¸ªæ•°æ®ï¼ŒæŸå¤±å€¼éƒ½æ˜¯0ã€‚é‚£ä¹ˆå½“ $\lambda &gt;1$æ—¶ï¼Œä»»ä½•æ•°ä¹˜$\lambda W$éƒ½èƒ½ä½¿å¾—æŸå¤±å€¼ä¸º0ï¼Œå› ä¸ºè¿™ä¸ªå˜åŒ–å°†æ‰€æœ‰åˆ†å€¼çš„å¤§å°éƒ½å‡ç­‰åœ°æ‰©å¤§äº†ï¼Œæ‰€ä»¥å®ƒä»¬ä¹‹é—´çš„ç»å¯¹å·®å€¼ä¹Ÿæ‰©å¤§äº†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªæ­£ç¡®åˆ†ç±»çš„åˆ†å€¼å’Œä¸¾ä¾‹å®ƒæœ€è¿‘çš„é”™è¯¯åˆ†ç±»çš„åˆ†å€¼çš„å·®è·æ˜¯15ï¼Œå¯¹<strong>W</strong>ä¹˜ä»¥2å°†ä½¿å¾—å·®è·å˜æˆ30ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å‘æŸäº›ç‰¹å®šçš„æƒé‡<strong>W</strong>æ·»åŠ ä¸€äº›åå¥½ï¼Œå¯¹å…¶ä»–æƒé‡åˆ™ä¸æ·»åŠ ï¼Œä»¥æ­¤æ¥æ¶ˆé™¤æ¨¡ç³Šæ€§ã€‚è¿™ä¸€ç‚¹æ˜¯èƒ½å¤Ÿå®ç°çš„ï¼Œæ–¹æ³•æ˜¯å‘æŸå¤±å‡½æ•°å¢åŠ ä¸€ä¸ª<strong>æ­£åˆ™åŒ–æƒ©ç½šï¼ˆregularization penaltyï¼‰</strong>$R(W)$éƒ¨åˆ†ã€‚æœ€å¸¸ç”¨çš„æ­£åˆ™åŒ–æƒ©ç½šæ˜¯L2èŒƒå¼ï¼ŒL2èŒƒå¼é€šè¿‡å¯¹æ‰€æœ‰å‚æ•°è¿›è¡Œé€å…ƒç´ çš„å¹³æ–¹æƒ©ç½šæ¥æŠ‘åˆ¶å¤§æ•°å€¼çš„æƒé‡ï¼š</p>
<p>$R(W)=\sum_k\sum_lW^2_{k,l}$</p>
<p>ä¸Šé¢çš„è¡¨è¾¾å¼ä¸­ï¼Œå°†$W$ä¸­æ‰€æœ‰å…ƒç´ å¹³æ–¹åæ±‚å’Œã€‚æ³¨æ„æ­£åˆ™åŒ–å‡½æ•°ä¸æ˜¯æ•°æ®çš„å‡½æ•°ï¼Œä»…åŸºäºæƒé‡ã€‚åŒ…å«æ­£åˆ™åŒ–æƒ©ç½šåï¼Œå°±èƒ½å¤Ÿç»™å‡ºå®Œæ•´çš„å¤šç±»SVMæŸå¤±å‡½æ•°äº†ï¼Œå®ƒç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š<strong>æ•°æ®æŸå¤±ï¼ˆdata lossï¼‰</strong>ï¼Œå³æ‰€æœ‰æ ·ä¾‹çš„çš„å¹³å‡æŸå¤±$L_i$ï¼Œä»¥åŠ<strong>æ­£åˆ™åŒ–æŸå¤±ï¼ˆregularization lossï¼‰</strong>ã€‚å®Œæ•´å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š  </p>
<p>$ L= \underbrace{ \frac{1}{N}\sum_i L_i}_{data   loss}+\underbrace{\lambda R(W)}_{regularization  loss} $</p>
<p>å°†å…¶å±•å¼€å®Œæ•´å…¬å¼æ˜¯ï¼š</p>
<p>$ L= \frac{1}{N}\sum_i\sum_{j\not=y_i} \left[ \max(0,f(x_i;W)_j-f(x_i;W)_{y_i}+\Delta )\right] + \lambda\sum_k\sum_l W_{k,l}^2$</p>
<p>å…¶ä¸­ï¼Œ$N$æ˜¯è®­ç»ƒé›†çš„æ•°æ®é‡ã€‚ç°åœ¨æ­£åˆ™åŒ–æƒ©ç½šæ·»åŠ åˆ°äº†æŸå¤±å‡½æ•°é‡Œé¢ï¼Œå¹¶ç”¨è¶…å‚æ•°$\lambda$æ¥è®¡ç®—å…¶æƒé‡ã€‚è¯¥è¶…å‚æ•°æ— æ³•ç®€å•ç¡®å®šï¼Œéœ€è¦é€šè¿‡äº¤å‰éªŒè¯æ¥è·å–ã€‚</p>
<p>é™¤äº†ä¸Šè¿°ç†ç”±å¤–ï¼Œå¼•å…¥æ­£åˆ™åŒ–æƒ©ç½šè¿˜å¸¦æ¥å¾ˆå¤šè‰¯å¥½çš„æ€§è´¨ï¼Œè¿™äº›æ€§è´¨å¤§å¤šä¼šåœ¨åç»­ç« èŠ‚ä»‹ç»ã€‚æ¯”å¦‚å¼•å…¥äº†L2æƒ©ç½šåï¼ŒSVMä»¬å°±æœ‰äº†<strong>æœ€å¤§è¾¹ç•Œï¼ˆmax marginï¼‰</strong>è¿™ä¸€è‰¯å¥½æ€§è´¨ã€‚ï¼ˆå¦‚æœæ„Ÿå…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹CS229è¯¾ç¨‹ï¼‰ã€‚</p>
<p>å…¶ä¸­æœ€å¥½çš„æ€§è´¨å°±æ˜¯å¯¹å¤§æ•°å€¼æƒé‡è¿›è¡Œæƒ©ç½šï¼Œå¯ä»¥æå‡å…¶æ³›åŒ–èƒ½åŠ›ï¼Œå› ä¸ºè¿™å°±æ„å‘³ç€æ²¡æœ‰å“ªä¸ªç»´åº¦èƒ½å¤Ÿç‹¬è‡ªå¯¹äºæ•´ä½“åˆ†å€¼æœ‰è¿‡å¤§çš„å½±å“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾è¾“å…¥å‘é‡$x = [1,1,1,1]$ï¼Œä¸¤ä¸ªæƒé‡å‘é‡ $w_1=[1,0,0,0]$ï¼Œ$w_2=[0.25,0.25,0.25,0.25]$ã€‚é‚£ä¹ˆ $w^T_1x=w^T_2=1$ï¼Œä¸¤ä¸ªæƒé‡å‘é‡éƒ½å¾—åˆ°åŒæ ·çš„å†…ç§¯ï¼Œä½†æ˜¯$w_1$çš„L2æƒ©ç½šæ˜¯1.0ï¼Œè€Œ$w_2$çš„L2æƒ©ç½šæ˜¯0.25ã€‚å› æ­¤ï¼Œæ ¹æ®L2æƒ©ç½šæ¥çœ‹ï¼Œ$w_2$æ›´å¥½ï¼Œå› ä¸ºå®ƒçš„æ­£åˆ™åŒ–æŸå¤±æ›´å°ã€‚ä»ç›´è§‚ä¸Šæ¥çœ‹ï¼Œè¿™æ˜¯å› ä¸º$w_2$çš„æƒé‡å€¼æ›´å°ä¸”æ›´åˆ†æ•£ã€‚æ—¢ç„¶L2æƒ©ç½šå€¾å‘äºæ›´å°æ›´åˆ†æ•£çš„æƒé‡å‘é‡ï¼Œè¿™å°±ä¼šé¼“åŠ±åˆ†ç±»å™¨æœ€ç»ˆå°†æ‰€æœ‰ç»´åº¦ä¸Šçš„ç‰¹å¾éƒ½ç”¨èµ·æ¥ï¼Œè€Œä¸æ˜¯å¼ºçƒˆä¾èµ–å…¶ä¸­å°‘æ•°å‡ ä¸ªç»´åº¦ã€‚åœ¨åé¢çš„è¯¾ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸€æ•ˆæœå°†ä¼šæå‡åˆ†ç±»å™¨çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¹¶é¿å…<strong>è¿‡æ‹Ÿåˆ</strong>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå’Œæƒé‡ä¸åŒï¼Œåå·®æ²¡æœ‰è¿™æ ·çš„æ•ˆæœï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸æ§åˆ¶è¾“å…¥ç»´åº¦ä¸Šçš„å½±å“å¼ºåº¦ã€‚å› æ­¤é€šå¸¸åªå¯¹æƒé‡$W$æ­£åˆ™åŒ–ï¼Œè€Œä¸æ­£åˆ™åŒ–åå·®$b$ã€‚åœ¨å®é™…æ“ä½œä¸­ï¼Œå¯å‘ç°è¿™ä¸€æ“ä½œçš„å½±å“å¯å¿½ç•¥ä¸è®¡ã€‚æœ€åï¼Œå› ä¸ºæ­£åˆ™åŒ–æƒ©ç½šçš„å­˜åœ¨ï¼Œä¸å¯èƒ½åœ¨æ‰€æœ‰çš„ä¾‹å­ä¸­å¾—åˆ°0çš„æŸå¤±å€¼ï¼Œè¿™æ˜¯å› ä¸ºåªæœ‰å½“$W=0$çš„ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæ‰èƒ½å¾—åˆ°æŸå¤±å€¼ä¸º0ã€‚</p>
<p><strong>ä»£ç </strong>ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªæ— æ­£åˆ™åŒ–éƒ¨åˆ†çš„æŸå¤±å‡½æ•°çš„Pythonå®ç°ï¼Œæœ‰éå‘é‡åŒ–å’ŒåŠå‘é‡åŒ–ä¸¤ä¸ªå½¢å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">L_i</span>(<span class="params">x, y, W</span>):</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     unvectorized version. Compute the multiclass svm loss for a single example (x,y)</span></span><br><span class="line"><span class="string">     - x is a column vector representing an image (e.g. 3073 x 1 in CIFAR-10)</span></span><br><span class="line"><span class="string">       with an appended bias dimension in the 3073-rd position (i.e. bias trick)</span></span><br><span class="line"><span class="string">     - y is an integer giving index of correct class (e.g. between 0 and 9 in CIFAR-10)</span></span><br><span class="line"><span class="string">     - W is the weight matrix (e.g. 10 x 3073 in CIFAR-10)</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">     delta = <span class="number">1.0</span> <span class="comment"># see notes about delta later in this section</span></span><br><span class="line">     scores = W.dot(x) <span class="comment"># scores becomes of size 10 x 1, the scores for each class</span></span><br><span class="line">     correct_class_score = scores[y]</span><br><span class="line">     D = W.shape[<span class="number">0</span>] <span class="comment"># number of classes, e.g. 10</span></span><br><span class="line">     loss_i = <span class="number">0.0</span></span><br><span class="line">     <span class="keyword">for</span> j <span class="keyword">in</span> xrange(D): <span class="comment"># iterate over all wrong classes</span></span><br><span class="line">       <span class="keyword">if</span> j == y:</span><br><span class="line">         <span class="comment"># skip for the true class to only loop over incorrect classes</span></span><br><span class="line">         <span class="keyword">continue</span></span><br><span class="line">       <span class="comment"># accumulate loss for the i-th example</span></span><br><span class="line">       loss_i += <span class="built_in">max</span>(<span class="number">0</span>, scores[j] - correct_class_score + delta)</span><br><span class="line">     <span class="keyword">return</span> loss_i</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">L_i_vectorized</span>(<span class="params">x, y, W</span>):</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     A faster half-vectorized implementation. half-vectorized</span></span><br><span class="line"><span class="string">     refers to the fact that for a single example the implementation contains</span></span><br><span class="line"><span class="string">     no for loops, but there is still one loop over the examples (outside this function)</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">     delta = <span class="number">1.0</span></span><br><span class="line">     scores = W.dot(x)</span><br><span class="line">     <span class="comment"># compute the margins for all classes in one vector operation</span></span><br><span class="line">     margins = np.maximum(<span class="number">0</span>, scores - scores[y] + delta)</span><br><span class="line">     <span class="comment"># on y-th position scores[y] - scores[y] canceled and gave delta. We want</span></span><br><span class="line">     <span class="comment"># to ignore the y-th position and only consider margin on max wrong class</span></span><br><span class="line">     margins[y] = <span class="number">0</span></span><br><span class="line">     loss_i = np.<span class="built_in">sum</span>(margins)</span><br><span class="line">     <span class="keyword">return</span> loss_i</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">L</span>(<span class="params">X, y, W</span>):</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     fully-vectorized implementation :</span></span><br><span class="line"><span class="string">     - X holds all the training examples as columns (e.g. 3073 x 50,000 in CIFAR-10)</span></span><br><span class="line"><span class="string">     - y is array of integers specifying correct class (e.g. 50,000-D array)</span></span><br><span class="line"><span class="string">     - W are weights (e.g. 10 x 3073)</span></span><br><span class="line"><span class="string">     &quot;&quot;&quot;</span></span><br><span class="line">     <span class="comment"># evaluate loss over all examples in X without using any for loops</span></span><br><span class="line">     <span class="comment"># left as exercise to reader in the assignment</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åœ¨æœ¬å°èŠ‚çš„å­¦ä¹ ä¸­ï¼Œä¸€å®šè¦è®°å¾—SVMæŸå¤±é‡‡å–äº†ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œä½¿å¾—èƒ½å¤Ÿè¡¡é‡å¯¹äºè®­ç»ƒæ•°æ®é¢„æµ‹åˆ†ç±»å’Œå®é™…åˆ†ç±»æ ‡ç­¾çš„ä¸€è‡´æ€§ã€‚è¿˜æœ‰ï¼Œå¯¹è®­ç»ƒé›†ä¸­æ•°æ®åšå‡ºå‡†ç¡®åˆ†ç±»é¢„æµ‹å’Œè®©æŸå¤±å€¼æœ€å°åŒ–è¿™ä¸¤ä»¶äº‹æ˜¯ç­‰ä»·çš„ã€‚  </p>
<p>&gt; æ¥ä¸‹æ¥è¦åšçš„ï¼Œå°±æ˜¯æ‰¾åˆ°èƒ½å¤Ÿä½¿æŸå¤±å€¼æœ€å°åŒ–çš„æƒé‡äº†ã€‚  </p>
<h2 id="å®é™…è€ƒè™‘"><a href="#å®é™…è€ƒè™‘" class="headerlink" title="å®é™…è€ƒè™‘"></a>å®é™…è€ƒè™‘</h2><p><strong>è®¾ç½®$\delta$</strong>ï¼šä½ å¯èƒ½æ³¨æ„åˆ°ä¸Šé¢çš„å†…å®¹å¯¹è¶…å‚æ•°$\delta$åŠå…¶è®¾ç½®æ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è¢«è®¾ç½®æˆä»€ä¹ˆå€¼ï¼Ÿéœ€è¦é€šè¿‡äº¤å‰éªŒè¯æ¥æ±‚å¾—å—ï¼Ÿç°åœ¨çœ‹æ¥ï¼Œè¯¥è¶…å‚æ•°åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹è®¾ä¸º$\delta=1.0$éƒ½æ˜¯å®‰å…¨çš„ã€‚è¶…å‚æ•°$\delta$å’Œ$\lambda$çœ‹èµ·æ¥æ˜¯ä¸¤ä¸ªä¸åŒçš„è¶…å‚æ•°ï¼Œä½†å®é™…ä¸Šä»–ä»¬ä¸€èµ·æ§åˆ¶åŒä¸€ä¸ªæƒè¡¡ï¼šå³æŸå¤±å‡½æ•°ä¸­çš„æ•°æ®æŸå¤±å’Œæ­£åˆ™åŒ–æŸå¤±ä¹‹é—´çš„æƒè¡¡ã€‚ç†è§£è¿™ä¸€ç‚¹çš„å…³é”®æ˜¯è¦çŸ¥é“ï¼Œæƒé‡$W$çš„å¤§å°å¯¹äºåˆ†ç±»åˆ†å€¼æœ‰ç›´æ¥å½±å“ï¼ˆå½“ç„¶å¯¹ä»–ä»¬çš„å·®å¼‚ä¹Ÿæœ‰ç›´æ¥å½±å“ï¼‰ï¼šå½“æˆ‘ä»¬å°†$W$ä¸­å€¼ç¼©å°ï¼Œåˆ†ç±»åˆ†å€¼ä¹‹é—´çš„å·®å¼‚ä¹Ÿå˜å°ï¼Œåä¹‹äº¦ç„¶ã€‚å› æ­¤ï¼Œä¸åŒåˆ†ç±»åˆ†å€¼ä¹‹é—´çš„è¾¹ç•Œçš„å…·ä½“å€¼ï¼ˆæ¯”å¦‚$\delta=1$æˆ–$\delta=100$ï¼‰ä»æŸäº›è§’åº¦æ¥çœ‹æ˜¯æ²¡æ„ä¹‰çš„ï¼Œå› ä¸ºæƒé‡è‡ªå·±å°±å¯ä»¥æ§åˆ¶å·®å¼‚å˜å¤§å’Œç¼©å°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒçœŸæ­£çš„æƒè¡¡æ˜¯æˆ‘ä»¬å…è®¸æƒé‡èƒ½å¤Ÿå˜å¤§åˆ°ä½•ç§ç¨‹åº¦ï¼ˆé€šè¿‡æ­£åˆ™åŒ–å¼ºåº¦$\lambda$æ¥æ§åˆ¶ï¼‰ã€‚</p>
<p><strong>ä¸äºŒå…ƒæ”¯æŒå‘é‡æœºï¼ˆBinary Support Vector Machineï¼‰çš„å…³ç³»</strong>ï¼šåœ¨å­¦ä¹ æœ¬è¯¾ç¨‹å‰ï¼Œä½ å¯èƒ½å¯¹äºäºŒå…ƒæ”¯æŒå‘é‡æœºæœ‰äº›ç»éªŒï¼Œå®ƒå¯¹äºç¬¬iä¸ªæ•°æ®çš„æŸå¤±è®¡ç®—å…¬å¼æ˜¯ï¼š</p>
<p>$ L_i=C\max(0,1-y_iw^Tx_i)+R(W)$</p>
<p>å…¶ä¸­ï¼Œ$C$æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œå¹¶ä¸”$y_i\in{\left\{-1,1\right\}}$ã€‚å¯ä»¥è®¤ä¸ºæœ¬ç« èŠ‚ä»‹ç»çš„SVMå…¬å¼åŒ…å«äº†ä¸Šè¿°å…¬å¼ï¼Œä¸Šè¿°å…¬å¼æ˜¯å¤šç±»æ”¯æŒå‘é‡æœºå…¬å¼åªæœ‰ä¸¤ä¸ªåˆ†ç±»ç±»åˆ«çš„ç‰¹ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬è¦åˆ†ç±»çš„ç±»åˆ«åªæœ‰ä¸¤ä¸ªï¼Œé‚£ä¹ˆå…¬å¼å°±åŒ–ä¸ºäºŒå…ƒSVMå…¬å¼ã€‚è¿™ä¸ªå…¬å¼ä¸­çš„$C$å’Œå¤šç±»SVMå…¬å¼ä¸­çš„$\lambda$éƒ½æ§åˆ¶ç€åŒæ ·çš„æƒè¡¡ï¼Œè€Œä¸”å®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯$C\propto\frac{1}{\lambda}$</p>
<p><strong>å¤‡æ³¨ï¼šåœ¨åˆå§‹å½¢å¼ä¸­è¿›è¡Œæœ€ä¼˜åŒ–</strong>ã€‚å¦‚æœåœ¨æœ¬è¯¾ç¨‹ä¹‹å‰å­¦ä¹ è¿‡SVMï¼Œé‚£ä¹ˆå¯¹kernelsï¼Œdualsï¼ŒSMOç®—æ³•ç­‰å°†æœ‰æ‰€è€³é—»ã€‚åœ¨æœ¬è¯¾ç¨‹ï¼ˆä¸»è¦æ˜¯ç¥ç»ç½‘ç»œç›¸å…³ï¼‰ä¸­ï¼ŒæŸå¤±å‡½æ•°çš„æœ€ä¼˜åŒ–çš„å§‹ç»ˆåœ¨éé™åˆ¶åˆå§‹å½¢å¼ä¸‹è¿›è¡Œã€‚å¾ˆå¤šè¿™äº›æŸå¤±å‡½æ•°ä»æŠ€æœ¯ä¸Šæ¥è¯´æ˜¯ä¸å¯å¾®çš„ï¼ˆæ¯”å¦‚å½“$x=y$æ—¶ï¼Œ$\max(x,y)$å‡½æ•°å°±ä¸å¯å¾®åˆ†ï¼‰ï¼Œä½†æ˜¯åœ¨å®é™…æ“ä½œä¸­å¹¶ä¸å­˜åœ¨é—®é¢˜ï¼Œå› ä¸ºé€šå¸¸å¯ä»¥ä½¿ç”¨æ¬¡æ¢¯åº¦ã€‚</p>
<p><strong>å¤‡æ³¨ï¼šå…¶ä»–å¤šç±»SVMå…¬å¼</strong>ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæœ¬è¯¾ä¸­å±•ç¤ºçš„å¤šç±»SVMåªæ˜¯å¤šç§SVMå…¬å¼ä¸­çš„ä¸€ç§ã€‚å¦ä¸€ç§å¸¸ç”¨çš„å…¬å¼æ˜¯_One-Vs-All_ï¼ˆOVAï¼‰SVMï¼Œå®ƒé’ˆå¯¹æ¯ä¸ªç±»å’Œå…¶ä»–ç±»è®­ç»ƒä¸€ä¸ªç‹¬ç«‹çš„äºŒå…ƒåˆ†ç±»å™¨ã€‚è¿˜æœ‰å¦ä¸€ç§æ›´å°‘ç”¨çš„å«åš_All-Vs-All_ï¼ˆAVAï¼‰ç­–ç•¥ã€‚æˆ‘ä»¬çš„å…¬å¼æ˜¯æŒ‰ç…§[Weston and Watkins 1999 (pdf)]ç‰ˆæœ¬ï¼Œæ¯”OVAæ€§èƒ½æ›´å¼ºï¼ˆåœ¨æ„å»ºæœ‰ä¸€ä¸ªå¤šç±»æ•°æ®é›†çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç‰ˆæœ¬å¯ä»¥åœ¨æŸå¤±å€¼ä¸Šå–åˆ°0ï¼Œè€ŒOVAå°±ä¸è¡Œã€‚æ„Ÿå…´è¶£çš„è¯åœ¨è®ºæ–‡ä¸­æŸ¥é˜…ç»†èŠ‚ï¼‰ã€‚æœ€åä¸€ä¸ªéœ€è¦çŸ¥é“çš„å…¬å¼æ˜¯Structured SVMï¼Œå®ƒå°†æ­£ç¡®åˆ†ç±»çš„åˆ†ç±»åˆ†å€¼å’Œéæ­£ç¡®åˆ†ç±»ä¸­çš„æœ€é«˜åˆ†å€¼çš„è¾¹ç•Œæœ€å¤§åŒ–ã€‚ç†è§£è¿™äº›å…¬å¼çš„å·®å¼‚è¶…å‡ºäº†æœ¬è¯¾ç¨‹çš„èŒƒå›´ã€‚æœ¬è¯¾ç¨‹ç¬”è®°ä»‹ç»çš„ç‰ˆæœ¬å¯ä»¥åœ¨å®è·µä¸­å®‰å…¨ä½¿ç”¨ï¼Œè€Œè¢«è®ºè¯ä¸ºæœ€ç®€å•çš„OVAç­–ç•¥åœ¨å®è·µä¸­çœ‹èµ·æ¥ä¹Ÿèƒ½å·¥ä½œçš„åŒæ ·å‡ºè‰²ï¼ˆåœ¨ Rikinç­‰äºº2004å¹´çš„è®ºæ–‡[In Defense of One-Vs-All Classification (pdf)ä¸­å¯æŸ¥ï¼‰ã€‚</p>
<h2 id="Softmaxåˆ†ç±»å™¨"><a href="#Softmaxåˆ†ç±»å™¨" class="headerlink" title="Softmaxåˆ†ç±»å™¨"></a>Softmaxåˆ†ç±»å™¨</h2><p>SVMæ˜¯æœ€å¸¸ç”¨çš„ä¸¤ä¸ªåˆ†ç±»å™¨ä¹‹ä¸€ï¼Œè€Œå¦ä¸€ä¸ªå°±æ˜¯<strong>Softmaxåˆ†ç±»å™¨ï¼Œ</strong>å®ƒçš„æŸå¤±å‡½æ•°ä¸SVMçš„æŸå¤±å‡½æ•°ä¸åŒã€‚å¯¹äºå­¦ä¹ è¿‡äºŒå…ƒé€»è¾‘å›å½’åˆ†ç±»å™¨çš„è¯»è€…æ¥è¯´ï¼ŒSoftmaxåˆ†ç±»å™¨å°±å¯ä»¥ç†è§£ä¸ºé€»è¾‘å›å½’åˆ†ç±»å™¨é¢å¯¹å¤šä¸ªåˆ†ç±»çš„ä¸€èˆ¬åŒ–å½’çº³ã€‚SVMå°†è¾“å‡º$f(x_i,W)$ä½œä¸ºæ¯ä¸ªåˆ†ç±»çš„è¯„åˆ†ï¼ˆå› ä¸ºæ— å®šæ ‡ï¼Œæ‰€ä»¥éš¾ä»¥ç›´æ¥è§£é‡Šï¼‰ã€‚ä¸SVMä¸åŒï¼ŒSoftmaxçš„è¾“å‡ºï¼ˆå½’ä¸€åŒ–çš„åˆ†ç±»æ¦‚ç‡ï¼‰æ›´åŠ ç›´è§‚ï¼Œå¹¶ä¸”ä»æ¦‚ç‡ä¸Šå¯ä»¥è§£é‡Šï¼Œè¿™ä¸€ç‚¹åæ–‡ä¼šè®¨è®ºã€‚åœ¨Softmaxåˆ†ç±»å™¨ä¸­ï¼Œå‡½æ•°æ˜ å°„$f(x_i;W)=Wx_i$ä¿æŒä¸å˜ï¼Œå…¶è¾“å‡ºæ˜¯çº¿æ€§åˆ†ç±»å™¨é¢„æµ‹çš„åŸå§‹åˆ†æ•°ï¼Œä½†å°†è¿™äº›è¯„åˆ†å€¼è§†ä¸ºæ¯ä¸ªåˆ†ç±»çš„æœªå½’ä¸€åŒ–çš„å¯¹æ•°æ¦‚ç‡ï¼ˆæˆ–è€…å«åšéæ ‡å‡†åŒ–çš„å¯¹æ•°æ¦‚ç‡ï¼‰ï¼Œè¿›è¡ŒæŒ‡æ•°è®¡ç®—ä¹‹åï¼Œæ‰€æœ‰çš„åˆ†æ•°è½¬åŒ–ä¸ºæ­£æ•°ï¼Œå¹¶ä¸”å°†<strong>æŠ˜å¶æŸå¤±ï¼ˆhinge lossï¼‰</strong>æ›¿æ¢ä¸º<strong>äº¤å‰ç†µæŸå¤±</strong>ï¼ˆ<strong>cross-entropy lossï¼‰</strong>ã€‚å…¬å¼å¦‚ä¸‹ï¼š</p>
<p>$Li=-log(\frac{e^{f_{y_i}}}{\sum_je^{f_j}})$ æˆ–ç­‰ä»·çš„ $L_i=-f_{y_i}+log(\sum_je^{f_j})$</p>
<p>åœ¨ä¸Šå¼ä¸­ï¼Œä½¿ç”¨$f_j$æ¥è¡¨ç¤ºåˆ†ç±»è¯„åˆ†å‘é‡$f$ä¸­çš„ç¬¬jä¸ªå…ƒç´ ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œæ•´ä¸ªæ•°æ®é›†çš„æŸå¤±å€¼æ˜¯æ•°æ®é›†ä¸­æ‰€æœ‰æ ·æœ¬æ•°æ®çš„æŸå¤±å€¼$L_i$çš„å‡å€¼ä¸æ­£åˆ™åŒ–æŸå¤±$R(W)$ä¹‹å’Œã€‚å…¶ä¸­å‡½æ•°$f_j(z)=\frac{e^{z_j}}{\sum_ke^{z_k}}$è¢«ç§°ä½œ<strong>softmax å‡½æ•°</strong>ï¼šå…¶è¾“å…¥å€¼æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå‘é‡ä¸­å…ƒç´ ä¸ºä»»æ„å®æ•°çš„è¯„åˆ†å€¼ï¼ˆ$z$ä¸­çš„ï¼‰ï¼Œå‡½æ•°å¯¹å…¶è¿›è¡Œå‹ç¼©ï¼Œè¾“å‡ºä¸€ä¸ªå‘é‡ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å€¼åœ¨0åˆ°1ä¹‹é—´ï¼Œä¸”æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸º1ã€‚æ‰€ä»¥ï¼ŒåŒ…å«softmaxå‡½æ•°çš„å®Œæ•´äº¤å‰ç†µæŸå¤±çœ‹èµ·å”¬äººï¼Œå®é™…ä¸Šè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ã€‚  </p>
<p>å› ä¸ºåŸå§‹çš„çº¿æ€§åˆ†ç±»å™¨è¾“å‡ºçš„æ˜¯åŸå§‹åˆ†æ•°ï¼Œå¯ä»¥çœ‹åšæ˜¯éæ ‡å‡†åŒ–/æœªå½’ä¸€åŒ–çš„å¯¹æ•°æ¦‚ç‡ï¼Œç„¶åå–å¯¹æ•°ï¼Œå¾—åˆ°éæ ‡å‡†åŒ–/æœªå½’ä¸€åŒ–æ¦‚ç‡ï¼Œç„¶åè¿›è¡Œå½’ä¸€åŒ–ï¼Œå°±å¯ä»¥å¾—åˆ°æ‰€æœ‰ç±»çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒäº†</p>
<p><strong>ä¿¡æ¯ç†è®ºè§†è§’</strong>ï¼šåœ¨â€çœŸå®â€åˆ†å¸ƒ$p$å’Œä¼°è®¡åˆ†å¸ƒ$q$ä¹‹é—´çš„<strong>äº¤å‰ç†µ</strong>å®šä¹‰å¦‚ä¸‹ï¼š  </p>
<p>$H(p,q)=-\sum_xp(x) logq(x)$  </p>
<p>å› æ­¤ï¼ŒSoftmaxåˆ†ç±»å™¨æ‰€åšçš„å°±æ˜¯æœ€å°åŒ–åœ¨ä¼°è®¡åˆ†ç±»æ¦‚ç‡ï¼ˆ å°±æ˜¯ä¸Šé¢çš„$\frac{e^{f_{y_i} } }{\sum_{j}e^{f_j} }$ï¼‰å’Œâ€çœŸå®â€åˆ†å¸ƒä¹‹é—´çš„äº¤å‰ç†µï¼Œåœ¨è¿™ä¸ªè§£é‡Šä¸­ï¼Œâ€çœŸå®â€åˆ†å¸ƒå°±æ˜¯æ‰€æœ‰æ¦‚ç‡å¯†åº¦éƒ½åˆ†å¸ƒåœ¨æ­£ç¡®çš„ç±»åˆ«ä¸Šï¼ˆæ¯”å¦‚ï¼š$p=[0,\ldots1,\ldots,0]$ä¸­åœ¨$y_i$çš„ä½ç½®å°±æœ‰ä¸€ä¸ªå•ç‹¬çš„1ï¼‰ã€‚è¿˜æœ‰ï¼Œæ—¢ç„¶äº¤å‰ç†µå¯ä»¥å†™æˆç†µå’Œç›¸å¯¹ç†µï¼ˆKullback-Leibler divergenceï¼‰$H(p,q)=H(p)+D_{KL}(p||q)$ï¼Œå¹¶ä¸”$\delta$å‡½æ•°$p$çš„ç†µæ˜¯0ï¼Œé‚£ä¹ˆå°±èƒ½ç­‰ä»·çš„çœ‹åšæ˜¯å¯¹ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„ç›¸å¯¹ç†µåšæœ€å°åŒ–æ“ä½œã€‚æ¢å¥è¯è¯´ï¼Œäº¤å‰ç†µæŸå¤±å‡½æ•°â€æƒ³è¦â€é¢„æµ‹åˆ†å¸ƒçš„æ‰€æœ‰<strong>æ¦‚ç‡å¯†åº¦</strong>éƒ½åœ¨æ­£ç¡®åˆ†ç±»ä¸Šã€‚</p>
<p><strong>æ³¨</strong>ï¼šKullback-Leiblerå·®å¼‚ï¼ˆKullback-Leibler Divergenceï¼‰ä¹Ÿå«åšç›¸å¯¹ç†µï¼ˆRelative Entropyï¼‰ï¼Œå®ƒè¡¡é‡çš„æ˜¯ç›¸åŒäº‹ä»¶ç©ºé—´é‡Œçš„ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„å·®å¼‚æƒ…å†µã€‚</p>
<p><strong>æ¦‚ç‡è®ºè§£é‡Š</strong>ï¼šå…ˆçœ‹ä¸‹é¢çš„å…¬å¼ï¼š  </p>
<p>$P(y_i|x_i,W)=\frac{e^{f_{y_i}}}{\sum_je^{f_j}}$</p>
<p>å¯ä»¥è§£é‡Šä¸ºæ˜¯ç»™å®šå›¾åƒæ•°æ®$x_i$ï¼Œä»¥$W$ä¸ºå‚æ•°ï¼Œåˆ†é…ç»™æ­£ç¡®åˆ†ç±»æ ‡ç­¾$y_i$çš„å½’ä¸€åŒ–æ¦‚ç‡ã€‚ä¸ºäº†ç†è§£è¿™ç‚¹ï¼Œè¯·å›å¿†ä¸€ä¸‹Softmaxåˆ†ç±»å™¨å°†è¾“å‡ºå‘é‡$f$ä¸­çš„è¯„åˆ†å€¼è§£é‡Šä¸ºæ²¡æœ‰å½’ä¸€åŒ–çš„<strong>å¯¹æ•°æ¦‚ç‡</strong>ã€‚é‚£ä¹ˆä»¥è¿™äº›æ•°å€¼åšæŒ‡æ•°å‡½æ•°çš„å¹‚å°±å¾—åˆ°äº†æ²¡æœ‰å½’ä¸€åŒ–çš„æ¦‚ç‡ï¼Œè€Œé™¤æ³•æ“ä½œåˆ™å¯¹æ•°æ®è¿›è¡Œäº†å½’ä¸€åŒ–å¤„ç†ï¼Œä½¿å¾—è¿™äº›æ¦‚ç‡çš„å’Œä¸º1ã€‚ä»æ¦‚ç‡è®ºçš„è§’åº¦æ¥ç†è§£ï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨æœ€å°åŒ–æ­£ç¡®åˆ†ç±»çš„è´Ÿå¯¹æ•°æ¦‚ç‡ï¼Œè¿™å¯ä»¥çœ‹åšæ˜¯åœ¨è¿›è¡Œ<strong>æœ€å¤§ä¼¼ç„¶ä¼°è®¡</strong>ï¼ˆMLEï¼‰ã€‚è¯¥è§£é‡Šçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼ŒæŸå¤±å‡½æ•°ä¸­çš„æ­£åˆ™åŒ–éƒ¨åˆ†$R(W)$å¯ä»¥è¢«çœ‹åšæ˜¯æƒé‡çŸ©é˜µ$W$çš„é«˜æ–¯å…ˆéªŒï¼Œè¿™é‡Œè¿›è¡Œçš„æ˜¯æœ€å¤§åéªŒä¼°è®¡ï¼ˆMAPï¼‰è€Œä¸æ˜¯æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚æåŠè¿™äº›è§£é‡Šåªæ˜¯ä¸ºäº†è®©è¯»è€…å½¢æˆç›´è§‚çš„å°è±¡ï¼Œå…·ä½“ç»†èŠ‚å°±è¶…è¿‡æœ¬è¯¾ç¨‹èŒƒå›´äº†ã€‚</p>
<p><strong>å®æ“äº‹é¡¹ï¼šæ•°å€¼ç¨³å®šã€‚</strong>ç¼–ç¨‹å®ç°softmaxå‡½æ•°è®¡ç®—çš„æ—¶å€™ï¼Œä¸­é—´é¡¹$e^{f_{y_i}}$å’Œ$\sum_j e^{f_j}$å› ä¸ºå­˜åœ¨æŒ‡æ•°å‡½æ•°ï¼Œæ‰€ä»¥æ•°å€¼å¯èƒ½éå¸¸å¤§ã€‚é™¤ä»¥å¤§æ•°å€¼å¯èƒ½å¯¼è‡´æ•°å€¼è®¡ç®—çš„ä¸ç¨³å®šï¼Œæ‰€ä»¥å­¦ä¼šä½¿ç”¨å½’ä¸€åŒ–æŠ€å·§éå¸¸é‡è¦ã€‚å¦‚æœåœ¨åˆ†å¼çš„åˆ†å­å’Œåˆ†æ¯éƒ½ä¹˜ä»¥ä¸€ä¸ªå¸¸æ•°$C$ï¼Œå¹¶æŠŠå®ƒå˜æ¢åˆ°æ±‚å’Œä¹‹ä¸­ï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªä»æ•°å­¦ä¸Šç­‰ä»·çš„å…¬å¼ï¼š</p>
<p>$\frac{e^{f_{y_i}}}{\sum_je^{f_j}}=\frac{Ce^{f_{y_i}}}{C\sum_je^{f_j}}=\frac{e^{f_{y_i}+logC}}{\sum_je^{f_j+logC}}$ </p>
<p>$C$çš„å€¼å¯è‡ªç”±é€‰æ‹©ï¼Œä¸ä¼šå½±å“è®¡ç®—ç»“æœï¼Œé€šè¿‡ä½¿ç”¨è¿™ä¸ªæŠ€å·§å¯ä»¥æé«˜è®¡ç®—ä¸­çš„æ•°å€¼ç¨³å®šæ€§ã€‚é€šå¸¸å°†$C$è®¾ä¸º$logC=-max_jf_j$ã€‚è¯¥æŠ€å·§ç®€å•åœ°è¯´ï¼Œå°±æ˜¯åº”è¯¥å°†å‘é‡$f$ä¸­çš„æ•°å€¼è¿›è¡Œå¹³ç§»ï¼Œä½¿å¾—æœ€å¤§å€¼ä¸º0ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">f = np.array([<span class="number">123</span>, <span class="number">456</span>, <span class="number">789</span>]) <span class="comment"># ä¾‹å­ä¸­æœ‰3ä¸ªåˆ†ç±»ï¼Œæ¯ä¸ªè¯„åˆ†çš„æ•°å€¼éƒ½å¾ˆå¤§</span></span><br><span class="line">p = np.exp(f) / np.<span class="built_in">sum</span>(np.exp(f)) <span class="comment"># ä¸å¦™ï¼šæ•°å€¼é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´æ•°å€¼çˆ†ç‚¸</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‚£ä¹ˆå°†fä¸­çš„å€¼å¹³ç§»åˆ°æœ€å¤§å€¼ä¸º0ï¼š</span></span><br><span class="line">f -= np.<span class="built_in">max</span>(f) <span class="comment"># f becomes [-666, -333, 0]</span></span><br><span class="line">p = np.exp(f) / np.<span class="built_in">sum</span>(np.exp(f)) <span class="comment"># ç°åœ¨OKäº†ï¼Œå°†ç»™å‡ºæ­£ç¡®ç»“æœ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>è®©äººè¿·æƒ‘çš„å‘½åè§„åˆ™</strong>ï¼šç²¾ç¡®åœ°è¯´ï¼ŒSVMåˆ†ç±»å™¨ä½¿ç”¨çš„æ˜¯<strong>æŠ˜å¶æŸå¤±ï¼ˆhinge lossï¼‰</strong>ï¼Œæœ‰æ—¶å€™åˆè¢«ç§°ä¸º<strong>æœ€å¤§è¾¹ç•ŒæŸå¤±ï¼ˆmax-margin lossï¼‰</strong>ã€‚Softmaxåˆ†ç±»å™¨ä½¿ç”¨çš„æ˜¯<strong>äº¤å‰ç†µæŸå¤±ï¼ˆcorss-entropy lossï¼‰</strong>ã€‚Softmaxåˆ†ç±»å™¨çš„å‘½åæ˜¯ä»<strong>softmaxå‡½æ•°</strong>é‚£é‡Œå¾—æ¥çš„ï¼Œsoftmaxå‡½æ•°å°†åŸå§‹åˆ†ç±»è¯„åˆ†å˜æˆæ­£çš„å½’ä¸€åŒ–æ•°å€¼ï¼Œæ‰€æœ‰æ•°å€¼å’Œä¸º1ï¼Œè¿™æ ·å¤„ç†åäº¤å‰ç†µæŸå¤±æ‰èƒ½åº”ç”¨ã€‚æ³¨æ„ä»æŠ€æœ¯ä¸Šè¯´â€softmaxæŸå¤±ï¼ˆsoftmax lossï¼‰â€æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºsoftmaxåªæ˜¯ä¸€ä¸ªå‹ç¼©æ•°å€¼çš„å‡½æ•°ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªè¯´æ³•å¸¸å¸¸è¢«ç”¨æ¥åšç®€ç§°ã€‚</p>
<h2 id="SVMå’ŒSoftmaxçš„æ¯”è¾ƒ"><a href="#SVMå’ŒSoftmaxçš„æ¯”è¾ƒ" class="headerlink" title="SVMå’ŒSoftmaxçš„æ¯”è¾ƒ"></a>SVMå’ŒSoftmaxçš„æ¯”è¾ƒ</h2><p>ä¸‹å›¾æœ‰åŠ©äºåŒºåˆ†è¿™ Softmaxå’ŒSVMè¿™ä¸¤ç§åˆ†ç±»å™¨ï¼š</p>
<img src="/2024/05/06/15-22-39/a90ce9e0ff533f3efee4747305382064_b.png" class>
<p>é’ˆå¯¹ä¸€ä¸ªæ•°æ®ç‚¹ï¼ŒSVMå’ŒSoftmaxåˆ†ç±»å™¨çš„ä¸åŒå¤„ç†æ–¹å¼çš„ä¾‹å­ã€‚ä¸¤ä¸ªåˆ†ç±»å™¨éƒ½è®¡ç®—äº†åŒæ ·çš„åˆ†å€¼å‘é‡<strong>f</strong>ï¼ˆæœ¬èŠ‚ä¸­æ˜¯é€šè¿‡çŸ©é˜µä¹˜æ¥å®ç°ï¼‰ã€‚ä¸åŒä¹‹å¤„åœ¨äºå¯¹<strong>f</strong>ä¸­åˆ†å€¼çš„è§£é‡Šï¼šSVMåˆ†ç±»å™¨å°†å®ƒä»¬çœ‹åšæ˜¯åˆ†ç±»è¯„åˆ†ï¼Œå®ƒçš„æŸå¤±å‡½æ•°é¼“åŠ±æ­£ç¡®çš„åˆ†ç±»ï¼ˆæœ¬ä¾‹ä¸­æ˜¯è“è‰²çš„ç±»åˆ«2ï¼‰çš„åˆ†å€¼æ¯”å…¶ä»–åˆ†ç±»çš„åˆ†å€¼é«˜å‡ºè‡³å°‘ä¸€ä¸ªè¾¹ç•Œå€¼ã€‚Softmaxåˆ†ç±»å™¨å°†è¿™äº›æ•°å€¼çœ‹åšæ˜¯æ¯ä¸ªåˆ†ç±»æ²¡æœ‰å½’ä¸€åŒ–çš„<strong>å¯¹æ•°æ¦‚ç‡</strong>ï¼Œé¼“åŠ±æ­£ç¡®åˆ†ç±»çš„å½’ä¸€åŒ–çš„å¯¹æ•°æ¦‚ç‡å˜é«˜ï¼Œå…¶ä½™çš„å˜ä½ã€‚SVMçš„æœ€ç»ˆçš„æŸå¤±å€¼æ˜¯1.58ï¼ŒSoftmaxçš„æœ€ç»ˆçš„æŸå¤±å€¼æ˜¯0.452ï¼Œä½†è¦æ³¨æ„è¿™ä¸¤ä¸ªæ•°å€¼æ²¡æœ‰å¯æ¯”æ€§ã€‚åªåœ¨ç»™å®šåŒæ ·æ•°æ®ï¼Œåœ¨åŒæ ·çš„åˆ†ç±»å™¨çš„æŸå¤±å€¼è®¡ç®—ä¸­ï¼Œå®ƒä»¬æ‰æœ‰æ„ä¹‰ã€‚</p>
<p><strong>Softmaxåˆ†ç±»å™¨ä¸ºæ¯ä¸ªåˆ†ç±»æä¾›äº†â€å¯èƒ½æ€§â€</strong>ï¼šSVMçš„è®¡ç®—æ˜¯æ— æ ‡å®šçš„ï¼Œè€Œä¸”éš¾ä»¥é’ˆå¯¹æ‰€æœ‰åˆ†ç±»çš„è¯„åˆ†å€¼ç»™å‡ºç›´è§‚è§£é‡Šã€‚Softmaxåˆ†ç±»å™¨åˆ™ä¸åŒï¼Œå®ƒå…è®¸æˆ‘ä»¬è®¡ç®—å‡ºå¯¹äºæ‰€æœ‰åˆ†ç±»æ ‡ç­¾çš„å¯èƒ½æ€§ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé’ˆå¯¹ç»™å‡ºçš„å›¾åƒï¼ŒSVMåˆ†ç±»å™¨å¯èƒ½ç»™ä½ çš„æ˜¯ä¸€ä¸ª[12.5, 0.6, -23.0]å¯¹åº”åˆ†ç±»â€çŒ«â€ï¼Œâ€ç‹—â€ï¼Œâ€èˆ¹â€ã€‚è€Œsoftmaxåˆ†ç±»å™¨å¯ä»¥è®¡ç®—å‡ºè¿™ä¸‰ä¸ªæ ‡ç­¾çš„â€å¯èƒ½æ€§â€æ˜¯[0.9, 0.09, 0.01]ï¼Œè¿™å°±è®©ä½ èƒ½çœ‹å‡ºå¯¹äºä¸åŒåˆ†ç±»å‡†ç¡®æ€§çš„æŠŠæ¡ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨â€å¯èƒ½æ€§â€ä¸Šé¢æ‰“å¼•å·å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå¯èƒ½æ€§åˆ†å¸ƒçš„é›†ä¸­æˆ–ç¦»æ•£ç¨‹åº¦æ˜¯ç”±æ­£åˆ™åŒ–å‚æ•°Î»ç›´æ¥å†³å®šçš„ï¼ŒÎ»æ˜¯ä½ èƒ½ç›´æ¥æ§åˆ¶çš„ä¸€ä¸ªè¾“å…¥å‚æ•°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾3ä¸ªåˆ†ç±»çš„åŸå§‹åˆ†æ•°æ˜¯[1, -2, 0]ï¼Œé‚£ä¹ˆsoftmaxå‡½æ•°å°±ä¼šè®¡ç®—ï¼š</p>
<p>$[1,-2,0]\to[e^1,e^{-2},e^0]=[2.71,0.14,1]\to[0.7,0.04,0.26]$  </p>
<p>ç°åœ¨ï¼Œå¦‚æœæ­£åˆ™åŒ–å‚æ•°Î»æ›´å¤§ï¼Œé‚£ä¹ˆæƒé‡Wå°±ä¼šè¢«æƒ©ç½šçš„æ›´å¤šï¼Œç„¶åä»–çš„æƒé‡æ•°å€¼å°±ä¼šæ›´å°ã€‚è¿™æ ·ç®—å‡ºæ¥çš„åˆ†æ•°ä¹Ÿä¼šæ›´å°ï¼Œå‡è®¾å°äº†ä¸€åŠå§[0.5, -1, 0]ï¼Œé‚£ä¹ˆsoftmaxå‡½æ•°çš„è®¡ç®—å°±æ˜¯ï¼š  </p>
<p>$[0.5,-1,0]\to[e^{0.5},e^{-1},e^0]=[1.65,0.73,1]\to[0.55,0.12,0.33]$  </p>
<p>ç°åœ¨çœ‹èµ·æ¥ï¼Œæ¦‚ç‡çš„åˆ†å¸ƒå°±æ›´åŠ åˆ†æ•£äº†ã€‚è¿˜æœ‰ï¼Œéšç€æ­£åˆ™åŒ–å‚æ•°Î»ä¸æ–­å¢å¼ºï¼Œæƒé‡æ•°å€¼ä¼šè¶Šæ¥è¶Šå°ï¼Œæœ€åè¾“å‡ºçš„æ¦‚ç‡ä¼šæ¥è¿‘äºå‡åŒ€åˆ†å¸ƒã€‚è¿™å°±æ˜¯è¯´ï¼Œsoftmaxåˆ†ç±»å™¨ç®—å‡ºæ¥çš„æ¦‚ç‡æœ€å¥½æ˜¯çœ‹æˆä¸€ç§å¯¹äºåˆ†ç±»æ­£ç¡®æ€§çš„è‡ªä¿¡ã€‚å’ŒSVMä¸€æ ·ï¼Œæ•°å­—é—´ç›¸äº’æ¯”è¾ƒå¾—å‡ºçš„å¤§å°é¡ºåºæ˜¯å¯ä»¥è§£é‡Šçš„ï¼Œä½†å…¶ç»å¯¹å€¼åˆ™éš¾ä»¥ç›´è§‚è§£é‡Š<strong>ã€‚</strong></p>
<p><strong>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒSVMå’ŒSoftmaxç»å¸¸æ˜¯ç›¸ä¼¼çš„</strong>ï¼šé€šå¸¸è¯´æ¥ï¼Œä¸¤ç§åˆ†ç±»å™¨çš„è¡¨ç°å·®åˆ«å¾ˆå°ï¼Œä¸åŒçš„äººå¯¹äºå“ªä¸ªåˆ†ç±»å™¨æ›´å¥½æœ‰ä¸åŒçš„çœ‹æ³•ã€‚ç›¸å¯¹äºSoftmaxåˆ†ç±»å™¨ï¼ŒSVMæ›´åŠ â€å±€éƒ¨ç›®æ ‡åŒ–ï¼ˆlocal objectiveï¼‰â€ï¼Œè¿™æ—¢å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªåŠ£åŠ¿ã€‚è€ƒè™‘ä¸€ä¸ªè¯„åˆ†æ˜¯[10, -2, 3]çš„æ•°æ®ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªåˆ†ç±»æ˜¯æ­£ç¡®çš„ã€‚é‚£ä¹ˆä¸€ä¸ªSVMï¼ˆ$\delta =1$ï¼‰ä¼šçœ‹åˆ°æ­£ç¡®åˆ†ç±»ç›¸è¾ƒäºä¸æ­£ç¡®åˆ†ç±»ï¼Œå·²ç»å¾—åˆ°äº†æ¯”è¾¹ç•Œå€¼è¿˜è¦é«˜çš„åˆ†æ•°ï¼Œå®ƒå°±ä¼šè®¤ä¸ºæŸå¤±å€¼æ˜¯0ã€‚SVMå¯¹äºæ•°å­—ä¸ªä½“çš„ç»†èŠ‚æ˜¯ä¸å…³å¿ƒçš„ï¼šå¦‚æœåˆ†æ•°æ˜¯[10, -100, -100]æˆ–è€…[10, 9, 9]ï¼Œå¯¹äºSVMæ¥è¯´æ²¡è®¾ä¹ˆä¸åŒï¼Œåªè¦æ»¡è¶³è¶…è¿‡è¾¹ç•Œå€¼ç­‰äº1ï¼Œé‚£ä¹ˆæŸå¤±å€¼å°±ç­‰äº0ã€‚</p>
<p>å¯¹äºsoftmaxåˆ†ç±»å™¨ï¼Œæƒ…å†µåˆ™ä¸åŒã€‚å¯¹äº[10, 9, 9]æ¥è¯´ï¼Œè®¡ç®—å‡ºçš„æŸå¤±å€¼å°±è¿œè¿œé«˜äº[10, -100, -100]çš„ã€‚æ¢å¥è¯æ¥è¯´ï¼Œsoftmaxåˆ†ç±»å™¨å¯¹äºåˆ†æ•°æ˜¯æ°¸è¿œä¸ä¼šæ»¡æ„çš„ï¼šæ­£ç¡®åˆ†ç±»æ€»èƒ½å¾—åˆ°æ›´é«˜çš„å¯èƒ½æ€§ï¼Œé”™è¯¯åˆ†ç±»æ€»èƒ½å¾—åˆ°æ›´ä½çš„å¯èƒ½æ€§ï¼ŒæŸå¤±å€¼æ€»æ˜¯èƒ½å¤Ÿæ›´å°ã€‚ä½†æ˜¯ï¼ŒSVMåªè¦è¾¹ç•Œå€¼è¢«æ»¡è¶³äº†å°±æ»¡æ„äº†ï¼Œä¸ä¼šè¶…è¿‡é™åˆ¶å»ç»†å¾®åœ°æ“ä½œå…·ä½“åˆ†æ•°ã€‚è¿™å¯ä»¥è¢«çœ‹åšæ˜¯SVMçš„ä¸€ç§ç‰¹æ€§ã€‚ä¸¾ä¾‹è¯´æ¥ï¼Œä¸€ä¸ªæ±½è½¦çš„åˆ†ç±»å™¨åº”è¯¥æŠŠä»–çš„å¤§é‡ç²¾åŠ›æ”¾åœ¨å¦‚ä½•åˆ†è¾¨å°è½¿è½¦å’Œå¤§å¡è½¦ä¸Šï¼Œè€Œä¸åº”è¯¥çº ç»“äºå¦‚ä½•ä¸é’è›™è¿›è¡ŒåŒºåˆ†ï¼Œå› ä¸ºåŒºåˆ†é’è›™å¾—åˆ°çš„è¯„åˆ†å·²ç»è¶³å¤Ÿä½äº†ã€‚</p>
<h2 id="äº¤äº’å¼çš„ç½‘é¡µDemo"><a href="#äº¤äº’å¼çš„ç½‘é¡µDemo" class="headerlink" title="äº¤äº’å¼çš„ç½‘é¡µDemo"></a>äº¤äº’å¼çš„ç½‘é¡µDemo</h2><img src="/2024/05/06/15-22-39/a68bbfd4465689c6d65b3eae9c24c934_b.jpg" class>
<p>æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªäº¤äº’å¼çš„ç½‘é¡µåŸå‹ï¼Œæ¥å¸®åŠ©è¯»è€…ç›´è§‚åœ°ç†è§£çº¿æ€§åˆ†ç±»å™¨ã€‚åŸå‹å°†æŸå¤±å‡½æ•°è¿›è¡Œå¯è§†åŒ–ï¼Œç”»é¢è¡¨ç°çš„æ˜¯å¯¹äº2ç»´æ•°æ®çš„3ç§ç±»åˆ«çš„åˆ†ç±»ã€‚åŸå‹åœ¨è¯¾ç¨‹è¿›åº¦ä¸Šç¨å¾®è¶…å‰ï¼Œå±•ç°äº†æœ€ä¼˜åŒ–çš„å†…å®¹ï¼Œæœ€ä¼˜åŒ–å°†åœ¨ä¸‹ä¸€èŠ‚è¯¾è®¨è®ºã€‚  </p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®šä¹‰äº†ä»å›¾åƒåƒç´ æ˜ å°„åˆ°ä¸åŒç±»åˆ«çš„åˆ†ç±»è¯„åˆ†çš„è¯„åˆ†å‡½æ•°ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œè¯„åˆ†å‡½æ•°æ˜¯ä¸€ä¸ªåŸºäºæƒé‡<strong>W</strong>å’Œåå·®<strong>b</strong>çš„çº¿æ€§å‡½æ•°ã€‚</li>
<li>ä¸k-NNåˆ†ç±»å™¨ä¸åŒï¼Œ<strong>å‚æ•°æ–¹æ³•</strong>çš„ä¼˜åŠ¿åœ¨äºä¸€æ—¦é€šè¿‡è®­ç»ƒå­¦ä¹ åˆ°äº†å‚æ•°ï¼Œå°±å¯ä»¥å°†è®­ç»ƒæ•°æ®ä¸¢å¼ƒäº†ã€‚åŒæ—¶è¯¥æ–¹æ³•å¯¹äºæ–°çš„æµ‹è¯•æ•°æ®çš„é¢„æµ‹éå¸¸å¿«ï¼Œå› ä¸ºåªéœ€è¦ä¸æƒé‡<strong>W</strong>è¿›è¡Œä¸€ä¸ªçŸ©é˜µä¹˜æ³•è¿ç®—ã€‚</li>
<li>ä»‹ç»äº†åå·®æŠ€å·§ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå°†åå·®å‘é‡å’Œæƒé‡çŸ©é˜µåˆäºŒä¸ºä¸€ï¼Œç„¶åå°±å¯ä»¥åªè·Ÿè¸ªä¸€ä¸ªçŸ©é˜µã€‚</li>
<li>å®šä¹‰äº†æŸå¤±å‡½æ•°ï¼ˆä»‹ç»äº†SVMå’ŒSoftmaxçº¿æ€§åˆ†ç±»å™¨æœ€å¸¸ç”¨çš„2ä¸ªæŸå¤±å‡½æ•°ï¼‰ã€‚æŸå¤±å‡½æ•°èƒ½å¤Ÿè¡¡é‡ç»™å‡ºçš„å‚æ•°é›†ä¸è®­ç»ƒé›†æ•°æ®çœŸå®ç±»åˆ«æƒ…å†µä¹‹é—´çš„ä¸€è‡´æ€§ã€‚åœ¨æŸå¤±å‡½æ•°çš„å®šä¹‰ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¯¹è®­ç»ƒé›†æ•°æ®åšå‡ºè‰¯å¥½é¢„æµ‹ä¸å¾—åˆ°ä¸€ä¸ªè¶³å¤Ÿä½çš„æŸå¤±å€¼è¿™ä¸¤ä»¶äº‹æ˜¯ç­‰ä»·çš„ã€‚</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•åŸºäºå‚æ•°ï¼Œå°†æ•°æ®é›†ä¸­çš„å›¾åƒæ˜ å°„æˆä¸ºåˆ†ç±»çš„è¯„åˆ†ï¼Œä¹ŸçŸ¥é“äº†ä¸¤ç§ä¸åŒçš„æŸå¤±å‡½æ•°ï¼Œå®ƒä»¬éƒ½èƒ½ç”¨æ¥è¡¡é‡ç®—æ³•åˆ†ç±»é¢„æµ‹çš„è´¨é‡ã€‚ä½†æ˜¯ï¼Œå¦‚ä½•é«˜æ•ˆåœ°å¾—åˆ°èƒ½å¤Ÿä½¿æŸå¤±å€¼æœ€å°çš„å‚æ•°å‘¢ï¼Ÿè¿™ä¸ªæ±‚å¾—æœ€ä¼˜å‚æ•°çš„è¿‡ç¨‹è¢«ç§°ä¸ºæœ€ä¼˜åŒ–ï¼Œå°†åœ¨ä¸‹èŠ‚è¯¾ä¸­è¿›è¡Œä»‹ç»ã€‚</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ å›¾åƒåˆ†ç±»</title>
    <url>/2024/05/06/14-24-17/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.06ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="å›¾åƒåˆ†ç±»"><a href="#å›¾åƒåˆ†ç±»" class="headerlink" title="å›¾åƒåˆ†ç±»"></a>å›¾åƒåˆ†ç±»</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><strong>ç›®æ ‡</strong>ï¼šè¿™ä¸€èŠ‚æˆ‘ä»¬å°†ä»‹ç»å›¾åƒåˆ†ç±»é—®é¢˜ã€‚æ‰€è°“å›¾åƒåˆ†ç±»é—®é¢˜ï¼Œå°±æ˜¯å·²æœ‰å›ºå®šçš„åˆ†ç±»æ ‡ç­¾é›†åˆï¼Œç„¶åå¯¹äºè¾“å…¥çš„å›¾åƒï¼Œä»åˆ†ç±»æ ‡ç­¾é›†åˆä¸­æ‰¾å‡ºä¸€ä¸ªåˆ†ç±»æ ‡ç­¾ï¼Œæœ€åæŠŠåˆ†ç±»æ ‡ç­¾åˆ†é…ç»™è¯¥è¾“å…¥å›¾åƒï¼Œæˆ–è€…ç®€å•çš„è¯´ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šçš„å›¾åƒï¼Œé¢„æµ‹å®ƒå±äºå“ªä¸ªç±»åˆ«ï¼ˆæˆ–è€…ç»™å‡ºå±äºä¸€ç³»åˆ—ä¸åŒæ ‡ç­¾çš„å¯èƒ½æ€§ï¼‰ã€‚è™½ç„¶çœ‹èµ·æ¥æŒºç®€å•çš„ï¼Œä½†è¿™å¯æ˜¯è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€ï¼Œå¹¶ä¸”æœ‰ç€å„ç§å„æ ·çš„å®é™…åº”ç”¨ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬é¢ä¸´çš„æŒ‘æˆ˜å°±æ˜¯è¯­ä¹‰é¸¿æ²Ÿã€‚åœ¨åé¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­å¾ˆå¤šçœ‹ä¼¼ä¸åŒçš„é—®é¢˜ï¼ˆæ¯”å¦‚ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰²ï¼‰ï¼Œéƒ½å¯ä»¥è¢«å½’ç»“ä¸ºå›¾åƒåˆ†ç±»é—®é¢˜ã€‚</p>
<p><strong>ä¾‹å­</strong>ï¼šä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå›¾åƒåˆ†ç±»æ¨¡å‹è¯»å–è¯¥å›¾ç‰‡ï¼Œå¹¶ç”Ÿæˆè¯¥å›¾ç‰‡å±äºé›†åˆ {cat, dog, hat, mug}ä¸­å„ä¸ªæ ‡ç­¾çš„æ¦‚ç‡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œå›¾åƒæ˜¯ä¸€ä¸ªç”±æ•°å­—ç»„æˆçš„å·¨å¤§çš„3ç»´æ•°ç»„ï¼ˆåœ¨æ·±åº¦å­¦ä¹ å·¥å…·ä¸­ï¼Œå›¾åƒå°±æ˜¯ä¸€ä¸ªä¸‰ç»´å¼ é‡ï¼‰ã€‚åœ¨ä¸‹å›¾è¿™ä¸ªä¾‹å­ä¸­ï¼ŒçŒ«çš„å›¾åƒå¤§å°æ˜¯å®½248åƒç´ ï¼Œé«˜400åƒç´ ï¼Œæœ‰3ä¸ªé¢œè‰²é€šé“ï¼Œåˆ†åˆ«æ˜¯çº¢ã€ç»¿å’Œè“ï¼ˆç®€ç§°RGBï¼‰ã€‚</p>
<p>å¦‚æ­¤ï¼Œè¯¥å›¾åƒå°±åŒ…å«äº†248X400X3=297600ä¸ªæ•°å­—ï¼Œæ¯ä¸ªæ•°å­—éƒ½æ˜¯åœ¨èŒƒå›´0-255ä¹‹é—´çš„æ•´å‹ï¼Œå…¶ä¸­0è¡¨ç¤ºå…¨é»‘ï¼Œ255è¡¨ç¤ºå…¨ç™½ã€‚æˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æŠŠè¿™äº›ä¸Šç™¾ä¸‡çš„æ•°å­—å˜æˆä¸€ä¸ªç®€å•çš„æ ‡ç­¾ï¼Œæ¯”å¦‚â€çŒ«â€ã€‚æˆ–è€…è¯´ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©æŸç§æ–¹æ³•å°†è¿™ä¸ªåŸå§‹æ•°å­—ç½‘ç»œè½¬å˜ä¸ºç›¸åº”çš„æœ‰æ„ä¹‰çš„è¯­ä¹‰â€”â€”æ¯”å¦‚è¯´â€œçŒ«â€æ ‡ç­¾</p>
<img src="/2024/05/06/14-24-17/baab9e4b97aceb77ec70abeda6be022d_b.png" class>
<h2 id="å›°éš¾å’ŒæŒ‘æˆ˜"><a href="#å›°éš¾å’ŒæŒ‘æˆ˜" class="headerlink" title="å›°éš¾å’ŒæŒ‘æˆ˜"></a>å›°éš¾å’ŒæŒ‘æˆ˜</h2><p>å¯¹äºäººæ¥è¯´ï¼Œè¯†åˆ«å‡ºä¸€ä¸ªåƒâ€çŒ«â€ä¸€æ ·è§†è§‰æ¦‚å¿µæ˜¯ç®€å•è‡³æçš„ï¼Œç„¶è€Œä»è®¡ç®—æœºè§†è§‰ç®—æ³•çš„è§’åº¦æ¥çœ‹å°±å€¼å¾—æ·±æ€äº†ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢åˆ—ä¸¾äº†è®¡ç®—æœºè§†è§‰ç®—æ³•åœ¨å›¾åƒè¯†åˆ«æ–¹é¢é‡åˆ°çš„ä¸€äº›å›°éš¾</p>
<ul>
<li><strong>è§†è§’å˜åŒ–ï¼ˆ</strong>Viewpoint variation<strong>ï¼‰</strong>ï¼šåŒä¸€ä¸ªç‰©ä½“ï¼Œæ‘„åƒæœºå¯ä»¥ä»å¤šä¸ªè§’åº¦æ¥å±•ç°ï¼Œå°½ç®¡å¯èƒ½è§’åº¦çš„å˜åŒ–å¾ˆè½»å¾®ï¼Œä½†æ˜¯å¯èƒ½ä½¿å¾—è¿™äº›æ•°å­—å‘ç”Ÿä¸ç›´è§‚çš„æŸç§æ”¹å˜</li>
<li><strong>ç±»å†…å·®å¼‚ï¼ˆ</strong>Intra-class variation<strong>ï¼‰</strong>ï¼šä¸€ç±»ç‰©ä½“çš„ä¸ªä½“ä¹‹é—´çš„å¤–å½¢å·®å¼‚å¾ˆå¤§ï¼Œæ¯”å¦‚æ¤…å­ã€‚è¿™ä¸€ç±»ç‰©ä½“æœ‰è®¸å¤šä¸åŒçš„å¯¹è±¡ï¼Œæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„å¤–å½¢ã€‚æ¯”å¦‚è¯´çŒ«å°±æ˜¯ä¸€ç§å¾ˆä¼šå˜å½¢çš„ç”Ÿç‰©</li>
<li><strong>ç›¸ä¼¼ç±»ï¼ˆ</strong>Fine-Grained Categories<strong>ï¼‰</strong>ï¼šä¸åŒç±»ç‰©ä½“çš„ä¸ªä½“ä¹‹é—´çš„å¤–å½¢å·®å¼‚å°</li>
<li><strong>èƒŒæ™¯å¹²æ‰°ï¼ˆ</strong>Background clutter<strong>ï¼‰</strong>ï¼šç‰©ä½“å¯èƒ½æ··å…¥èƒŒæ™¯ä¹‹ä¸­ï¼Œä½¿ä¹‹éš¾ä»¥è¢«è¾¨è®¤</li>
<li><strong>å…‰ç…§æ¡ä»¶ï¼ˆ</strong>Illumination conditions<strong>ï¼‰</strong>ï¼šåœ¨åƒç´ å±‚é¢ä¸Šï¼Œå…‰ç…§çš„å½±å“éå¸¸å¤§ï¼Œæ¯”å¦‚è¯´å…‰ç…§å’Œæ˜æš—æƒ…å†µä¸‹å›¾åƒä¼šæœ‰ä¸åŒæƒ…å†µ</li>
<li><strong>å½¢å˜ï¼ˆ</strong>Deformation<strong>ï¼‰</strong>ï¼šå¾ˆå¤šä¸œè¥¿çš„å½¢çŠ¶å¹¶éä¸€æˆä¸å˜ï¼Œä¼šæœ‰å¾ˆå¤§å˜åŒ–ã€‚</li>
<li><strong>é®æŒ¡ï¼ˆ</strong>Occlusion<strong>ï¼‰</strong>ï¼šç›®æ ‡ç‰©ä½“å¯èƒ½è¢«æŒ¡ä½ã€‚æœ‰æ—¶å€™åªæœ‰ç‰©ä½“çš„ä¸€å°éƒ¨åˆ†ï¼ˆå¯ä»¥å°åˆ°å‡ ä¸ªåƒç´ ï¼‰æ˜¯å¯è§çš„ï¼Œæ¯”å¦‚è¯´çŒ«éšè—åœ¨è‰ä¸›ä¸­ï¼Œå¹¶ä¸æ˜æ˜¾</li>
<li><strong>å¤§å°å˜åŒ–ï¼ˆ</strong>Scale variation<strong>ï¼‰</strong>ï¼šç‰©ä½“å¯è§†çš„å¤§å°é€šå¸¸æ˜¯ä¼šå˜åŒ–çš„ï¼ˆä¸ä»…æ˜¯åœ¨å›¾ç‰‡ä¸­ï¼Œåœ¨çœŸå®ä¸–ç•Œä¸­å¤§å°ä¹Ÿæ˜¯å˜åŒ–çš„ï¼‰ã€‚</li>
</ul>
<p>é¢å¯¹ä»¥ä¸Šæ‰€æœ‰å˜åŒ–åŠå…¶ç»„åˆï¼Œå¥½çš„å›¾åƒåˆ†ç±»æ¨¡å‹èƒ½å¤Ÿåœ¨ç»´æŒåˆ†ç±»ç»“è®ºç¨³å®šçš„åŒæ—¶ï¼Œä¿æŒå¯¹ç±»é—´å·®å¼‚è¶³å¤Ÿæ•æ„Ÿã€‚  </p>
<img src="/2024/05/06/14-24-17/1ee9457872f773d671dd5b225647ef45_b.jpg" class>
<h2 id="ç›®æ ‡æ£€æµ‹ä»»åŠ¡"><a href="#ç›®æ ‡æ£€æµ‹ä»»åŠ¡" class="headerlink" title="ç›®æ ‡æ£€æµ‹ä»»åŠ¡"></a>ç›®æ ‡æ£€æµ‹ä»»åŠ¡</h2><p>å½“ç„¶ï¼Œè®¡ç®—æœºè§†è§‰ä¸æ­¢æœ‰å›¾åƒåˆ†ç±»ï¼Œè¿˜æœ‰å¦ä¸€ä¸ªç›¸å…³çš„ä»»åŠ¡â€”â€”ç›®æ ‡æ£€æµ‹ï¼Œè¿™ä¸ªä»»åŠ¡æˆ‘ä»¬éœ€è¦å°†å›¾åƒä¸­çš„ç›®æ ‡å¯¹è±¡åœˆå‡ºæ¥</p>
<p>ç»“æœè¯æ˜ï¼Œå›¾åƒåˆ†ç±»æœ¬æ¥å°±æ˜¯ä¸€ä¸ªåŸºç¡€ï¼Œå¯ä»¥ç”¨æ¥æ„å»ºæ›´å¤šæ›´å¤æ‚çš„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚è¯´ç›®æ ‡æ£€æµ‹ç­‰</p>
<img src="/2024/05/06/14-24-17/object_detection.jpg" class>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p><strong>æƒ³æ³•</strong>ï¼šå¦‚ä½•å®ç°å›¾åƒåˆ†ç±»ï¼Ÿ</p>
<p>æ ¹æ®ä¹‹å‰æ‰€äº†è§£åˆ°çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯èƒ½é¦–å…ˆæƒ³åˆ°é€šè¿‡å¯¹ç…§ç‰‡è¿›è¡Œ<strong>è¾¹ç¼˜æ£€æµ‹</strong>æ¥æå–ç‰¹å¾ï¼Œå¦‚ä½•å°è¯•æ‰¾åˆ°è§’ç‚¹æˆ–è€…å…¶ä»–ç±»å‹çš„å¯è§£é‡Šæ¨¡å¼ï¼Œæ¯”å¦‚è¯´çŒ«æœ‰ä¸‰è§’å½¢å°–è€³æœµï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æ£€æµ‹è¿™æ–¹é¢çš„è¾¹ç¼˜ä¿¡æ¯ï¼Œæˆ–è€…æˆ‘ä»¬çŸ¥é“çŒ«æœ‰èƒ¡é¡»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æå–èƒ¡é¡»çš„è¾¹ç¼˜ä¿¡æ¯ï¼Œæˆ‘ä»¬æ ¹æ®è¿™äº›ä¿¡æ¯æ¥å†™ä¸€ä¸ªç®—æ³•æ¥æ£€æµ‹ä»–ä»¬</p>
<p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ä¼šæœ‰æ²¡æœ‰èƒ¡é¡»çš„çŒ«ï¼Œä¼šæœ‰æ²¡æœ‰å°–è€³æœµçš„çŒ«ï¼Œæˆ–è€…æœ‰æ—¶å€™è¾¹ç¼˜æ£€æµ‹å™¨ä¼šå¤±æ•ˆä»è€Œæ— æ³•æ­£å¸¸æäº¤æ‰€éœ€çš„è¾¹ç¼˜ï¼Œè€Œä¸”è¿™å¾ˆéš¾è¿›è¡Œè¿ç§»â€”â€”å½“æˆ‘ä»¬å¯ä»¥æˆåŠŸè¯†åˆ«çŒ«çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°†å…¶ç”¨åˆ°å…¶ä»–æ–¹é¢ï¼Œæ¯”å¦‚è¯´è¯†åˆ«ç‹—ï¼Œé‚£ä¹ˆä¹‹å‰çš„å·¥ä½œå°†æ¯«æ— æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§å…·æœ‰å¯æ‰©å±•æ€§çš„ç®—æ³•</p>
<h2 id="æ•°æ®é©±åŠ¨æ–¹æ³•"><a href="#æ•°æ®é©±åŠ¨æ–¹æ³•" class="headerlink" title="æ•°æ®é©±åŠ¨æ–¹æ³•"></a>æ•°æ®é©±åŠ¨æ–¹æ³•</h2><p>å¦‚ä½•å†™ä¸€ä¸ªå›¾åƒåˆ†ç±»çš„ç®—æ³•å‘¢ï¼Ÿè¿™å’Œå†™ä¸ªæ’åºç®—æ³•å¯æ˜¯å¤§ä¸ä¸€æ ·ã€‚æ€ä¹ˆå†™ä¸€ä¸ªä»å›¾åƒä¸­è®¤å‡ºçŒ«çš„ç®—æ³•ï¼Ÿæä¸æ¸…æ¥šã€‚å› æ­¤ï¼Œä¸å…¶åœ¨ä»£ç ä¸­ç›´æ¥å†™æ˜å„ç±»ç‰©ä½“åˆ°åº•çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå€’ä¸å¦‚è¯´æˆ‘ä»¬é‡‡å–çš„æ–¹æ³•å’Œæ•™å°å­©å„¿çœ‹å›¾è¯†ç‰©ç±»ä¼¼ï¼šç»™è®¡ç®—æœºå¾ˆå¤šæ•°æ®ï¼Œç„¶åå®ç°å­¦ä¹ ç®—æ³•ï¼Œè®©è®¡ç®—æœºå­¦ä¹ åˆ°æ¯ä¸ªç±»çš„å¤–å½¢ã€‚è¿™ç§æ–¹æ³•ï¼Œå°±æ˜¯_æ•°æ®é©±åŠ¨æ–¹æ³•_ã€‚ä¹Ÿå°±æ˜¯ä½¿ç”¨æ‹¥æœ‰ä»æ•°æ®ä¸­å­¦ä¹ å¦‚ä½•è¯†åˆ«ä¸åŒç±»å‹å¯¹è±¡ä¸å›¾åƒçš„ç®—æ³•ã€‚æ—¢ç„¶è¯¥æ–¹æ³•çš„ç¬¬ä¸€æ­¥å°±æ˜¯æ”¶é›†å¤§é‡å·²ç»åšå¥½åˆ†ç±»æ ‡æ³¨çš„å›¾ç‰‡æ¥ä½œä¸ºè®­ç»ƒé›†ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹çœ‹æ•°æ®é›†åˆ°åº•é•¿ä»€ä¹ˆæ ·ï¼š  </p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<img src="/2024/05/06/14-24-17/bbbfd2e6878d6f5d2a82f8239addbbc0_b.jpg" class>
<p>è¿™æ˜¯ä¸€ä¸ªæœ‰4ä¸ªè§†è§‰ç±»åˆ«çš„è®­ç»ƒé›†ï¼Œå°½ç®¡è¿™ä¸ªæ•°æ®é›†éå¸¸ç®€é™‹ã€‚åœ¨å®é™…ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸Šåƒçš„åˆ†ç±»ï¼Œæ¯ä¸ªåˆ†ç±»éƒ½æœ‰æˆåƒä¸Šä¸‡çš„å›¾åƒã€‚</p>
<p><strong>å›¾åƒåˆ†ç±»æµç¨‹</strong>ã€‚åœ¨è¯¾ç¨‹è§†é¢‘ä¸­å·²ç»å­¦ä¹ è¿‡ï¼Œ<strong>å›¾åƒåˆ†ç±»</strong>å°±æ˜¯è¾“å…¥ä¸€ä¸ªå…ƒç´ ä¸ºåƒç´ å€¼çš„æ•°ç»„ï¼Œç„¶åç»™å®ƒåˆ†é…ä¸€ä¸ªåˆ†ç±»æ ‡ç­¾ã€‚å®Œæ•´æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>è¾“å…¥</strong>ï¼šè¾“å…¥æ˜¯åŒ…å«Nä¸ªå›¾åƒçš„é›†åˆï¼Œæ¯ä¸ªå›¾åƒçš„æ ‡ç­¾æ˜¯Kç§åˆ†ç±»æ ‡ç­¾ä¸­çš„ä¸€ç§ã€‚è¿™ä¸ªé›†åˆç§°ä¸ºè®­ç»ƒé›†ã€‚</li>
<li><strong>å­¦ä¹ </strong>ï¼šè¿™ä¸€æ­¥çš„ä»»åŠ¡æ˜¯ä½¿ç”¨è®­ç»ƒé›†æ¥å­¦ä¹ æ¯ä¸ªç±»åˆ°åº•é•¿ä»€ä¹ˆæ ·ã€‚ä¸€èˆ¬è¯¥æ­¥éª¤å«åš<strong>è®­ç»ƒåˆ†ç±»å™¨</strong>æˆ–è€…å­¦ä¹ ä¸€ä¸ªæ¨¡å‹ã€‚</li>
<li><strong>è¯„ä»·</strong>ï¼šè®©åˆ†ç±»å™¨æ¥é¢„æµ‹å®ƒæœªæ›¾è§è¿‡çš„å›¾åƒçš„åˆ†ç±»æ ‡ç­¾ï¼Œå¹¶ä»¥æ­¤æ¥è¯„ä»·åˆ†ç±»å™¨çš„è´¨é‡ã€‚æˆ‘ä»¬ä¼šæŠŠåˆ†ç±»å™¨é¢„æµ‹çš„æ ‡ç­¾å’Œå›¾åƒçœŸæ­£çš„åˆ†ç±»æ ‡ç­¾å¯¹æ¯”ã€‚æ¯«æ— ç–‘é—®ï¼Œå¦‚æœåˆ†ç±»å™¨é¢„æµ‹çš„åˆ†ç±»æ ‡ç­¾å’Œå›¾åƒçœŸæ­£çš„åˆ†ç±»æ ‡ç­¾ä¸€è‡´ï¼Œé‚£å°±æ˜¯å¥½äº‹ï¼Œè¿™æ ·çš„æƒ…å†µè¶Šå¤šè¶Šå¥½ã€‚</li>
</ul>
<h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><h3 id="MNISTæ•°æ®é›†ï¼šè®¡ç®—æœºè§†è§‰ä¸­çš„æœè‡"><a href="#MNISTæ•°æ®é›†ï¼šè®¡ç®—æœºè§†è§‰ä¸­çš„æœè‡" class="headerlink" title="MNISTæ•°æ®é›†ï¼šè®¡ç®—æœºè§†è§‰ä¸­çš„æœè‡"></a>MNISTæ•°æ®é›†ï¼šè®¡ç®—æœºè§†è§‰ä¸­çš„æœè‡</h3><p>MNISTæ•°æ®é›†æ˜¯ä¸€ç§æ‰‹å†™æ•°å­—æ•°æ®é›†ï¼Œå…¶ä¸­çš„æ¯å¼ å›¾ç‰‡éƒ½åŒ…æ‹¬ä¸€ä¸ªä¸åŒçš„æ‰‹å†™æ•°å­—ï¼Œå¤§å°ç»Ÿä¸€ä¸º28 $\times$ 28ï¼Œåä¸ªç±»åˆ«ï¼Œæœ‰äº”ä¸‡å¼ ä½œä¸ºè®­ç»ƒé›†å’Œä¸€ä¸‡å¼ ä½œä¸ºæµ‹è¯•é›†</p>
<p>å®ƒæ›´åƒä¸€ç§ç©å…·æ•°æ®é›†ï¼Œæˆ–è€…ä¹Ÿè¢«ç§°ä¸ºè®¡ç®—æœºè§†è§‰çš„æœè‡ï¼Œå¯ä»¥åšå¾ˆå¤šæµ‹è¯•ï¼Œå› ä¸ºè¿™ä¸ªæ•°æ®é›†å¾ˆå°è€Œä¸”ç®€å•ï¼Œå¯ä»¥å¿«é€ŸéªŒè¯æ–°æƒ³æ³•</p>
<h3 id="CIFARæ•°æ®é›†"><a href="#CIFARæ•°æ®é›†" class="headerlink" title="CIFARæ•°æ®é›†"></a>CIFARæ•°æ®é›†</h3><p><strong>CIFAR-10</strong>ï¼šä¸€ä¸ªéå¸¸æµè¡Œçš„å›¾åƒåˆ†ç±»æ•°æ®é›†æ˜¯CIFAR-10ã€‚è¿™ä¸ªæ•°æ®é›†åŒ…å«äº†60000å¼ 32X32çš„å°å›¾åƒã€‚æ¯å¼ å›¾åƒéƒ½æœ‰10ç§åˆ†ç±»æ ‡ç­¾ä¸­çš„ä¸€ç§ã€‚è¿™60000å¼ å›¾åƒè¢«åˆ†ä¸ºåŒ…å«50000å¼ å›¾åƒçš„è®­ç»ƒé›†å’ŒåŒ…å«10000å¼ å›¾åƒçš„æµ‹è¯•é›†ã€‚</p>
<p>åœ¨ä¸‹å›¾ä¸­ä½ å¯ä»¥çœ‹è§10ä¸ªç±»çš„10å¼ éšæœºå›¾ç‰‡ã€‚</p>
<img src="/2024/05/06/14-24-17/fff49fd8cec00f77f657a4c4a679b030_b.jpg" class>
<p><strong>å·¦è¾¹</strong>ï¼šä»æ•°æ®åº“æ¥çš„æ ·æœ¬å›¾åƒã€‚<strong>å³è¾¹</strong>ï¼šç¬¬ä¸€åˆ—æ˜¯æµ‹è¯•å›¾åƒï¼Œç„¶åç¬¬ä¸€åˆ—çš„æ¯ä¸ªæµ‹è¯•å›¾åƒå³è¾¹æ˜¯ä½¿ç”¨Nearest Neighborç®—æ³•ï¼Œæ ¹æ®åƒç´ å·®å¼‚ï¼Œä»è®­ç»ƒé›†ä¸­é€‰å‡ºçš„10å¼ æœ€ç±»ä¼¼çš„å›¾ç‰‡ã€‚  </p>
<p>æ­¤å¤–è¿˜æœ‰CIFAR100æ•°æ®é›†ï¼ˆ100ç±»ï¼‰</p>
<h3 id="ImageNetï¼šé»„é‡‘æ•°æ®é›†"><a href="#ImageNetï¼šé»„é‡‘æ•°æ®é›†" class="headerlink" title="ImageNetï¼šé»„é‡‘æ•°æ®é›†"></a>ImageNetï¼šé»„é‡‘æ•°æ®é›†</h3><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®ï¼Œæœ‰ä¸€åƒç§ç±»åˆ«ï¼ŒåŒæ—¶æœ‰ä¸€ç™¾ä¸‰åä¸‡å¼ å›¾ç‰‡ï¼ˆæ¯ä¸ªç±»åˆ«1300å¼ ï¼‰ï¼Œäº”ä¸‡å¼ éªŒè¯é›†ï¼Œåä¸‡å¼ æµ‹è¯•é›†ï¼Œæ€§èƒ½æ ‡å‡†æ˜¯Top5å‡†ç¡®ç‡ï¼Œå›¾åƒå¤§å°ä¸ç»Ÿä¸€</p>
<h2 id="Nearest-Neighboråˆ†ç±»å™¨"><a href="#Nearest-Neighboråˆ†ç±»å™¨" class="headerlink" title="Nearest Neighboråˆ†ç±»å™¨"></a>Nearest Neighboråˆ†ç±»å™¨</h2><p>ä½œä¸ºè¯¾ç¨‹ä»‹ç»çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ª<strong>Nearest Neighboråˆ†ç±»å™¨</strong>ã€‚è™½ç„¶è¿™ä¸ªåˆ†ç±»å™¨å’Œå·ç§¯ç¥ç»ç½‘ç»œæ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå®é™…ä¸­ä¹Ÿæå°‘ä½¿ç”¨è€Œä¸”å…¶éå¸¸ç®€å•ï¼Œä½†é€šè¿‡å®ç°å®ƒï¼Œå¯ä»¥è®©è¯»è€…å¯¹äºè§£å†³å›¾åƒåˆ†ç±»é—®é¢˜çš„æ–¹æ³•æœ‰ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œä¹Ÿå°±æ˜¯æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ä¸¤ä¸ªåŸºæœ¬éƒ¨åˆ†â€”â€”è®­ç»ƒã€é¢„æµ‹ã€‚</p>
<p>å…¶ä¸­ï¼Œè®­ç»ƒå‡½æ•°ï¼Œå°±æ˜¯è®°ä½æ‰€æœ‰çš„æ•°æ®å’Œæ ‡ç­¾ï¼ˆæˆ–è€…è¯´è¿›è¡Œå­¦ä¹ ï¼‰ï¼Œé¢„æµ‹å‡½æ•°ï¼Œå°±æ˜¯é¢„æµ‹å‡ºå›¾åƒæœ€å¯èƒ½çš„æ ‡ç­¾</p>
<img src="/2024/05/06/14-24-17/fff49fd8cec00f77f657a4c4a679b030_b.jpg" class>
<p>å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰CIFAR-10çš„50000å¼ å›¾ç‰‡ï¼ˆæ¯ç§åˆ†ç±»5000å¼ ï¼‰ä½œä¸ºè®­ç»ƒé›†ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä½™ä¸‹çš„10000ä½œä¸ºæµ‹è¯•é›†å¹¶ç»™ä»–ä»¬æ‰“ä¸Šæ ‡ç­¾ã€‚Nearest Neighborç®—æ³•å°†ä¼šæ‹¿ç€æµ‹è¯•å›¾ç‰‡å’Œè®­ç»ƒé›†ä¸­æ¯ä¸€å¼ å›¾ç‰‡å»æ¯”è¾ƒï¼Œç„¶åå°†å®ƒè®¤ä¸ºæœ€ç›¸ä¼¼çš„é‚£ä¸ªè®­ç»ƒé›†å›¾ç‰‡çš„æ ‡ç­¾èµ‹ç»™è¿™å¼ æµ‹è¯•å›¾ç‰‡ã€‚ä¸Šé¢å³è¾¹çš„å›¾ç‰‡å°±å±•ç¤ºäº†è¿™æ ·çš„ç»“æœã€‚è¯·æ³¨æ„ä¸Šé¢10ä¸ªåˆ†ç±»ä¸­ï¼Œåªæœ‰3ä¸ªæ˜¯å‡†ç¡®çš„ã€‚æ¯”å¦‚ç¬¬8è¡Œä¸­ï¼Œé©¬å¤´è¢«åˆ†ç±»ä¸ºä¸€ä¸ªçº¢è‰²çš„è·‘è½¦ï¼ŒåŸå› åœ¨äºçº¢è‰²è·‘è½¦çš„é»‘è‰²èƒŒæ™¯éå¸¸å¼ºçƒˆï¼Œæ‰€ä»¥è¿™åŒ¹é©¬å°±è¢«é”™è¯¯åˆ†ç±»ä¸ºè·‘è½¦äº†ã€‚</p>
<p>é‚£ä¹ˆå…·ä½“å¦‚ä½•æ¯”è¾ƒä¸¤å¼ å›¾ç‰‡çš„ç›¸ä¼¼ç¨‹åº¦å‘¢ï¼ˆæˆ–è€…å¯ä»¥å°†ç›¸ä¼¼ç¨‹åº¦ç†è§£ä¸ºè·ç¦»ï¼Œè·ç¦»è¶Šè¿‘ï¼Œå›¾ç‰‡è¶Šç›¸ä¼¼ï¼‰ï¼Ÿåœ¨æœ¬ä¾‹ä¸­ï¼Œå°±æ˜¯æ¯”è¾ƒ32x32x3çš„åƒç´ å—ã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é€ä¸ªåƒç´ æ¯”è¾ƒï¼Œæœ€åå°†å·®å¼‚å€¼å…¨éƒ¨åŠ èµ·æ¥ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†ä¸¤å¼ å›¾ç‰‡å…ˆè½¬åŒ–ä¸ºä¸¤ä¸ªå‘é‡$I_1$å’Œ$I_2$ï¼Œç„¶åè®¡ç®—ä»–ä»¬çš„<strong>L1è·ç¦»ï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰ï¼š</strong></p>
<p>$displaystyle d_1(I_1,I_2)=sum_p|I^p_1-I^p_2|$</p>
<p>è¿™é‡Œçš„æ±‚å’Œæ˜¯é’ˆå¯¹æ‰€æœ‰çš„åƒç´ ã€‚ä¸‹é¢æ˜¯æ•´ä¸ªæ¯”è¾ƒæµç¨‹çš„å›¾ä¾‹ï¼š  </p>
<img src="/2024/05/06/14-24-17/95cfe7d9efb83806299c218e0710a6c5_b.jpg" class>
<p>ä»¥å›¾ç‰‡ä¸­çš„ä¸€ä¸ªé¢œè‰²é€šé“ä¸ºä¾‹æ¥è¿›è¡Œè¯´æ˜ã€‚ä¸¤å¼ å›¾ç‰‡ä½¿ç”¨L1è·ç¦»æ¥è¿›è¡Œæ¯”è¾ƒã€‚é€ä¸ªåƒç´ æ±‚å·®å€¼ï¼Œç„¶åå°†æ‰€æœ‰å·®å€¼åŠ èµ·æ¥å¾—åˆ°ä¸€ä¸ªæ•°å€¼ã€‚å¦‚æœä¸¤å¼ å›¾ç‰‡ä¸€æ¨¡ä¸€æ ·ï¼Œé‚£ä¹ˆL1è·ç¦»ä¸º0ï¼Œä½†æ˜¯å¦‚æœä¸¤å¼ å›¾ç‰‡å¾ˆæ˜¯ä¸åŒï¼Œé‚£L1å€¼å°†ä¼šéå¸¸å¤§ã€‚</p>
<p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ä»£ç æ¥å®ç°è¿™ä¸ªåˆ†ç±»å™¨ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†CIFAR-10çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶åˆ†æˆ4ä¸ªæ•°ç»„ï¼šè®­ç»ƒæ•°æ®å’Œæ ‡ç­¾ï¼Œæµ‹è¯•æ•°æ®å’Œæ ‡ç­¾ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ<strong>Xtr</strong>ï¼ˆå¤§å°æ˜¯50000x32x32x3ï¼‰å­˜æœ‰è®­ç»ƒé›†ä¸­æ‰€æœ‰çš„å›¾åƒï¼Œ<strong>Ytr</strong>æ˜¯å¯¹åº”çš„é•¿åº¦ä¸º50000çš„1ç»´æ•°ç»„ï¼Œå­˜æœ‰å›¾åƒå¯¹åº”çš„åˆ†ç±»æ ‡ç­¾ï¼ˆä»0åˆ°9ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Xtr, Ytr, Xte, Yte = load_CIFAR10(<span class="string">&#x27;data/cifar10/&#x27;</span>) <span class="comment"># a magifunction we provide</span></span><br><span class="line"><span class="comment"># flatten out all images to be one-dimensional</span></span><br><span class="line">Xtr_rows = Xtr.reshape(Xtr.shape[<span class="number">0</span>], <span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>) <span class="comment"># Xtr_rowbecomes 50000 x 3072</span></span><br><span class="line">Xte_rows = Xte.reshape(Xte.shape[<span class="number">0</span>], <span class="number">32</span> * <span class="number">32</span> * <span class="number">3</span>) <span class="comment"># Xte_rowbecomes 10000 x 3072</span></span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬å¾—åˆ°æ‰€æœ‰çš„å›¾åƒæ•°æ®ï¼Œå¹¶ä¸”æŠŠä»–ä»¬æ‹‰é•¿æˆä¸ºè¡Œå‘é‡äº†ã€‚æ¥ä¸‹æ¥å±•ç¤ºå¦‚ä½•è®­ç»ƒå¹¶è¯„ä»·ä¸€ä¸ªåˆ†ç±»å™¨ï¼š  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">    nn = NearestNeighbor() <span class="comment"># create a Nearest Neighbor classifier class</span></span><br><span class="line">â€‹    nn.train(Xtr_rows, Ytr) <span class="comment"># train the classifier on the training images and labels</span></span><br><span class="line">â€‹    Yte_predict = nn.predict(Xte_rows) <span class="comment"># predict labels on the test images</span></span><br><span class="line">â€‹    <span class="comment"># and now print the classification accuracy, which is the average number</span></span><br><span class="line">â€‹    <span class="comment"># of examples that are correctly predicted (i.e. label matches)</span></span><br><span class="line">â€‹    <span class="built_in">print</span> <span class="string">&#x27;accuracy: %f&#x27;</span> % ( np.mean(Yte_predict == Yte) )</span><br></pre></td></tr></table></figure>
<p>ä½œä¸ºè¯„ä»·æ ‡å‡†ï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨<strong>å‡†ç¡®ç‡</strong>ï¼Œå®ƒæè¿°äº†æˆ‘ä»¬é¢„æµ‹æ­£ç¡®çš„å¾—åˆ†ã€‚è¯·æ³¨æ„ä»¥åæˆ‘ä»¬å®ç°çš„æ‰€æœ‰åˆ†ç±»å™¨éƒ½éœ€è¦æœ‰è¿™ä¸ªAPIï¼š<strong>train(X, y)</strong>å‡½æ•°ã€‚è¯¥å‡½æ•°ä½¿ç”¨è®­ç»ƒé›†çš„æ•°æ®å’Œæ ‡ç­¾æ¥è¿›è¡Œè®­ç»ƒã€‚ä»å…¶å†…éƒ¨æ¥çœ‹ï¼Œç±»åº”è¯¥å®ç°ä¸€äº›å…³äºæ ‡ç­¾å’Œæ ‡ç­¾å¦‚ä½•è¢«é¢„æµ‹çš„æ¨¡å‹ã€‚è¿™é‡Œè¿˜æœ‰ä¸ª<strong>predict(X)</strong>å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯é¢„æµ‹è¾“å…¥çš„æ–°æ•°æ®çš„åˆ†ç±»æ ‡ç­¾ã€‚ç°åœ¨è¿˜æ²¡ä»‹ç»åˆ†ç±»å™¨çš„å®ç°ï¼Œä¸‹é¢å°±æ˜¯ä½¿ç”¨L1è·ç¦»çš„Nearest Neighboråˆ†ç±»å™¨çš„å®ç°å¥—è·¯ï¼š  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">â€‹    </span><br><span class="line">â€‹    <span class="keyword">class</span> <span class="title class_">NearestNeighbor</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">â€‹      <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">â€‹        <span class="keyword">pass</span></span><br><span class="line">â€‹    </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">self, X, y</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; X is N x D where each row is an example. Y is 1-dimension of size N &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># the nearest neighbor classifier simply remembers all the training data</span></span><br><span class="line">        self.Xtr = X</span><br><span class="line">        self.ytr = y</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">def</span> <span class="title function_">predict</span>(<span class="params">self, X</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot; X is N x D where each row is an example we wish to predict label for &quot;&quot;&quot;</span></span><br><span class="line">        num_test = X.shape[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># lets make sure that the output type matches the input type</span></span><br><span class="line">        Ypred = np.zeros(num_test, dtype = self.ytr.dtype)</span><br><span class="line">    </span><br><span class="line">        <span class="comment"># loop over all test rows</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(num_test):</span><br><span class="line">          <span class="comment"># find the nearest training image to the i&#x27;th test image</span></span><br><span class="line">          <span class="comment"># using the L1 distance (sum of absolute value differences)</span></span><br><span class="line">          distances = np.<span class="built_in">sum</span>(np.<span class="built_in">abs</span>(self.Xtr - X[i,:]), axis = <span class="number">1</span>)</span><br><span class="line">          min_index = np.argmin(distances) <span class="comment"># get the index with smallest distance</span></span><br><span class="line">          Ypred[i] = self.ytr[min_index] <span class="comment"># predict the label of the nearest example</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> Ypred</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ ç”¨è¿™æ®µä»£ç è·‘CIFAR-10ï¼Œä½ ä¼šå‘ç°å‡†ç¡®ç‡èƒ½è¾¾åˆ°<strong>38.6%</strong>ã€‚è¿™æ¯”éšæœºçŒœæµ‹çš„10%è¦å¥½ï¼Œä½†æ˜¯æ¯”äººç±»è¯†åˆ«çš„æ°´å¹³ï¼ˆæ®ç ”ç©¶æ¨æµ‹æ˜¯94%ï¼‰å’Œå·ç§¯ç¥ç»ç½‘ç»œèƒ½è¾¾åˆ°çš„95%è¿˜æ˜¯å·®å¤šäº†ã€‚</p>
<p><strong>è·ç¦»é€‰æ‹©</strong>ï¼šè®¡ç®—å‘é‡é—´çš„è·ç¦»æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œå¦ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•æ˜¯<strong>L2è·ç¦»</strong>ï¼Œä»å‡ ä½•å­¦çš„è§’åº¦ï¼Œå¯ä»¥ç†è§£ä¸ºå®ƒåœ¨è®¡ç®—ä¸¤ä¸ªå‘é‡é—´çš„æ¬§å¼è·ç¦»ã€‚L2è·ç¦»çš„å…¬å¼å¦‚ä¸‹ï¼š  </p>
<p>$displaystyle d_2(I_1,I_2)=sqrt{ sum_p(I^p_1-I^p_2)^2}$</p>
<img src="/2024/05/06/14-24-17/60.jpg" class>
<p>æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¾æ—§æ˜¯åœ¨è®¡ç®—åƒç´ é—´çš„å·®å€¼ï¼Œåªæ˜¯å…ˆæ±‚å…¶å¹³æ–¹ï¼Œç„¶åæŠŠè¿™äº›å¹³æ–¹å…¨éƒ¨åŠ èµ·æ¥ï¼Œæœ€åå¯¹è¿™ä¸ªå’Œå¼€æ–¹ã€‚åœ¨Numpyä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æ›¿æ¢ä¸Šé¢ä»£ç ä¸­çš„1è¡Œä»£ç å°±è¡Œï¼š  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">distances = np.sqrt(np.<span class="built_in">sum</span>(np.square(self.Xtr - X[i,:]), axis = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åœ¨è¿™é‡Œä½¿ç”¨äº†<strong>np.sqrt</strong>ï¼Œä½†æ˜¯åœ¨å®é™…ä¸­å¯èƒ½ä¸ç”¨ã€‚å› ä¸ºæ±‚å¹³æ–¹æ ¹å‡½æ•°æ˜¯ä¸€ä¸ªå•è°ƒå‡½æ•°ï¼Œå®ƒå¯¹ä¸åŒè·ç¦»çš„ç»å¯¹å€¼æ±‚å¹³æ–¹æ ¹è™½ç„¶æ”¹å˜äº†æ•°å€¼å¤§å°ï¼Œä½†ä¾ç„¶ä¿æŒäº†ä¸åŒè·ç¦»å¤§å°çš„é¡ºåºã€‚æ‰€ä»¥ç”¨ä¸ç”¨å®ƒï¼Œéƒ½èƒ½å¤Ÿå¯¹åƒç´ å·®å¼‚çš„å¤§å°è¿›è¡Œæ­£ç¡®æ¯”è¾ƒã€‚å¦‚æœä½ åœ¨CIFAR-10ä¸Šé¢è·‘è¿™ä¸ªæ¨¡å‹ï¼Œæ­£ç¡®ç‡æ˜¯<strong>35.4%</strong>ï¼Œæ¯”åˆšæ‰ä½äº†ä¸€ç‚¹ã€‚</p>
<p><strong>L1å’ŒL2æ¯”è¾ƒ</strong>ã€‚æ¯”è¾ƒè¿™ä¸¤ä¸ªåº¦é‡æ–¹å¼æ˜¯æŒºæœ‰æ„æ€çš„ã€‚åœ¨é¢å¯¹ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å·®å¼‚æ—¶ï¼ŒL2æ¯”L1æ›´åŠ ä¸èƒ½å®¹å¿è¿™äº›å·®å¼‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸å¯¹äº1ä¸ªå·¨å¤§çš„å·®å¼‚ï¼ŒL2è·ç¦»æ›´å€¾å‘äºæ¥å—å¤šä¸ªä¸­ç­‰ç¨‹åº¦çš„å·®å¼‚ã€‚L1å’ŒL2éƒ½æ˜¯åœ¨<a href="https://planetmath.org/vectorpnorm">p-norm__</a>å¸¸ç”¨çš„ç‰¹æ®Šå½¢å¼ã€‚</p>
<img src="/2024/05/06/14-24-17/60.jpg" class>
<h2 id="k-Nearest-Neighboråˆ†ç±»å™¨"><a href="#k-Nearest-Neighboråˆ†ç±»å™¨" class="headerlink" title="k-Nearest Neighboråˆ†ç±»å™¨"></a>k-Nearest Neighboråˆ†ç±»å™¨</h2><p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œä¸ºä»€ä¹ˆåªç”¨æœ€ç›¸ä¼¼çš„1å¼ å›¾ç‰‡çš„æ ‡ç­¾æ¥ä½œä¸ºæµ‹è¯•å›¾åƒçš„æ ‡ç­¾å‘¢ï¼Ÿè¿™ä¸æ˜¯å¾ˆå¥‡æ€ªå—ï¼æ˜¯çš„ï¼Œä½¿ç”¨<strong>k-Nearest Neighboråˆ†ç±»å™¨</strong>å°±èƒ½åšå¾—æ›´å¥½ã€‚å®ƒçš„æ€æƒ³å¾ˆç®€å•ï¼šä¸å…¶åªæ‰¾æœ€ç›¸è¿‘çš„é‚£1ä¸ªå›¾ç‰‡çš„æ ‡ç­¾ï¼Œæˆ‘ä»¬æ‰¾æœ€ç›¸ä¼¼çš„kä¸ªå›¾ç‰‡çš„æ ‡ç­¾ï¼Œç„¶åè®©ä»–ä»¬é’ˆå¯¹æµ‹è¯•å›¾ç‰‡è¿›è¡ŒæŠ•ç¥¨ï¼Œæœ€åæŠŠç¥¨æ•°æœ€é«˜çš„æ ‡ç­¾ä½œä¸ºå¯¹æµ‹è¯•å›¾ç‰‡çš„é¢„æµ‹ã€‚æ‰€ä»¥å½“k=1çš„æ—¶å€™ï¼Œk-Nearest Neighboråˆ†ç±»å™¨å°±æ˜¯Nearest Neighboråˆ†ç±»å™¨ã€‚ä»ç›´è§‚æ„Ÿå—ä¸Šå°±å¯ä»¥çœ‹åˆ°ï¼Œæ›´é«˜çš„kå€¼å¯ä»¥è®©åˆ†ç±»çš„æ•ˆæœæ›´å¹³æ»‘ï¼Œä½¿å¾—åˆ†ç±»å™¨å¯¹äºå¼‚å¸¸å€¼æ›´æœ‰æŠµæŠ—åŠ›ã€‚  </p>
<img src="/2024/05/06/14-24-17/237615075-bdd1fa05-cb3c-4dc5-b24f-940987cdb225.jpg" class>
<p>ä¸Šé¢ç¤ºä¾‹å±•ç¤ºäº†Nearest Neighboråˆ†ç±»å™¨å’Œ5-Nearest Neighboråˆ†ç±»å™¨çš„åŒºåˆ«ã€‚ä¾‹å­ä½¿ç”¨äº†2ç»´çš„ç‚¹æ¥è¡¨ç¤ºï¼Œåˆ†æˆ3ç±»ï¼ˆçº¢ã€è“å’Œç»¿ï¼‰ã€‚ä¸åŒé¢œè‰²åŒºåŸŸä»£è¡¨çš„æ˜¯ä½¿ç”¨L2è·ç¦»çš„åˆ†ç±»å™¨çš„<strong>å†³ç­–è¾¹ç•Œ</strong>ã€‚ç™½è‰²çš„åŒºåŸŸæ˜¯åˆ†ç±»æ¨¡ç³Šçš„ä¾‹å­ï¼ˆå³å›¾åƒä¸ä¸¤ä¸ªä»¥ä¸Šçš„åˆ†ç±»æ ‡ç­¾ç»‘å®šï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨NNåˆ†ç±»å™¨ä¸­ï¼Œå¼‚å¸¸çš„æ•°æ®ç‚¹ï¼ˆæ¯”å¦‚ï¼šåœ¨è“è‰²åŒºåŸŸä¸­çš„ç»¿ç‚¹ï¼‰åˆ¶é€ å‡ºä¸€ä¸ªä¸æ­£ç¡®é¢„æµ‹çš„å­¤å²›ã€‚5-NNåˆ†ç±»å™¨å°†è¿™äº›ä¸è§„åˆ™éƒ½å¹³æ»‘äº†ï¼Œä½¿å¾—å®ƒé’ˆå¯¹æµ‹è¯•æ•°æ®çš„<strong>æ³›åŒ–ï¼ˆgeneralizationï¼‰</strong>èƒ½åŠ›æ›´å¥½ï¼ˆä¾‹å­ä¸­æœªå±•ç¤ºï¼‰ã€‚æ³¨æ„ï¼Œ5-NNä¸­ä¹Ÿå­˜åœ¨ä¸€äº›ç°è‰²åŒºåŸŸï¼Œè¿™äº›åŒºåŸŸæ˜¯å› ä¸ºè¿‘é‚»æ ‡ç­¾çš„æœ€é«˜ç¥¨æ•°ç›¸åŒå¯¼è‡´çš„ï¼ˆæ¯”å¦‚ï¼š2ä¸ªé‚»å±…æ˜¯çº¢è‰²ï¼Œ2ä¸ªé‚»å±…æ˜¯è“è‰²ï¼Œè¿˜æœ‰1ä¸ªæ˜¯ç»¿è‰²)ã€‚</p>
<p>åœ¨å®é™…ä¸­ï¼Œå¤§å¤šä½¿ç”¨k-NNåˆ†ç±»å™¨ã€‚ä½†æ˜¯kå€¼å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿæ¥ä¸‹æ¥å°±è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚  </p>
<h2 id="ç”¨äºè¶…å‚æ•°è°ƒä¼˜çš„éªŒè¯é›†"><a href="#ç”¨äºè¶…å‚æ•°è°ƒä¼˜çš„éªŒè¯é›†" class="headerlink" title="ç”¨äºè¶…å‚æ•°è°ƒä¼˜çš„éªŒè¯é›†"></a>ç”¨äºè¶…å‚æ•°è°ƒä¼˜çš„éªŒè¯é›†</h2><p>k-NNåˆ†ç±»å™¨éœ€è¦è®¾å®škå€¼ï¼Œé‚£ä¹ˆé€‰æ‹©å“ªä¸ªkå€¼æœ€åˆé€‚çš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸åŒçš„è·ç¦»å‡½æ•°ï¼Œæ¯”å¦‚L1èŒƒæ•°å’ŒL2èŒƒæ•°ç­‰ï¼Œé‚£ä¹ˆé€‰å“ªä¸ªå¥½ï¼Ÿè¿˜æœ‰ä¸å°‘é€‰æ‹©æˆ‘ä»¬ç”šè‡³è¿è€ƒè™‘éƒ½æ²¡æœ‰è€ƒè™‘åˆ°ï¼ˆæ¯”å¦‚ï¼šç‚¹ç§¯ï¼‰ã€‚æ‰€æœ‰è¿™äº›é€‰æ‹©ï¼Œè¢«ç§°ä¸º<strong>è¶…å‚æ•°ï¼ˆhyperparameterï¼‰</strong>ã€‚åœ¨åŸºäºæ•°æ®è¿›è¡Œå­¦ä¹ çš„æœºå™¨å­¦ä¹ ç®—æ³•è®¾è®¡ä¸­ï¼Œè¶…å‚æ•°æ˜¯å¾ˆå¸¸è§çš„ã€‚ä¸€èˆ¬è¯´æ¥ï¼Œè¿™äº›è¶…å‚æ•°å…·ä½“æ€ä¹ˆè®¾ç½®æˆ–å–å€¼å¹¶ä¸æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚</p>
<p>ä½ å¯èƒ½ä¼šå»ºè®®å°è¯•ä¸åŒçš„å€¼ï¼Œçœ‹å“ªä¸ªå€¼è¡¨ç°æœ€å¥½å°±é€‰å“ªä¸ªã€‚å¥½ä¸»æ„ï¼æˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œä½†è¿™æ ·åšçš„æ—¶å€™è¦éå¸¸ç»†å¿ƒã€‚ç‰¹åˆ«æ³¨æ„ï¼š<strong>å†³ä¸èƒ½ä½¿ç”¨æµ‹è¯•é›†æ¥è¿›è¡Œè°ƒä¼˜</strong>ã€‚å½“ä½ åœ¨è®¾è®¡æœºå™¨å­¦ä¹ ç®—æ³•çš„æ—¶å€™ï¼Œåº”è¯¥æŠŠæµ‹è¯•é›†çœ‹åšéå¸¸çè´µçš„èµ„æºï¼Œä¸åˆ°æœ€åä¸€æ­¥ï¼Œç»ä¸ä½¿ç”¨å®ƒã€‚å¦‚æœä½ ä½¿ç”¨æµ‹è¯•é›†æ¥è°ƒä¼˜ï¼Œè€Œä¸”ç®—æ³•çœ‹èµ·æ¥æ•ˆæœä¸é”™ï¼Œé‚£ä¹ˆçœŸæ­£çš„å±é™©åœ¨äºï¼šç®—æ³•å®é™…éƒ¨ç½²åï¼Œæ€§èƒ½å¯èƒ½ä¼šè¿œä½äºé¢„æœŸã€‚è¿™ç§æƒ…å†µï¼Œç§°ä¹‹ä¸ºç®—æ³•å¯¹æµ‹è¯•é›†<strong>è¿‡æ‹Ÿåˆ</strong>ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ¥è¯´ï¼Œå¦‚æœä½¿ç”¨æµ‹è¯•é›†æ¥è°ƒä¼˜ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠæµ‹è¯•é›†å½“åšè®­ç»ƒé›†ï¼Œç”±æµ‹è¯•é›†è®­ç»ƒå‡ºæ¥çš„ç®—æ³•å†è·‘æµ‹è¯•é›†ï¼Œè‡ªç„¶æ€§èƒ½çœ‹èµ·æ¥ä¼šå¾ˆå¥½ã€‚è¿™å…¶å®æ˜¯è¿‡äºä¹è§‚äº†ï¼Œå®é™…éƒ¨ç½²èµ·æ¥æ•ˆæœå°±ä¼šå·®å¾ˆå¤šã€‚æ‰€ä»¥ï¼Œæœ€ç»ˆæµ‹è¯•çš„æ—¶å€™å†ä½¿ç”¨æµ‹è¯•é›†ï¼Œå¯ä»¥å¾ˆå¥½åœ°è¿‘ä¼¼åº¦é‡ä½ æ‰€è®¾è®¡çš„åˆ†ç±»å™¨çš„æ³›åŒ–æ€§èƒ½ï¼ˆåœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šå…³äºæ³›åŒ–æ€§èƒ½çš„è®¨è®ºï¼‰ã€‚</p>
<p>&gt; æµ‹è¯•æ•°æ®é›†åªä½¿ç”¨ä¸€æ¬¡ï¼Œå³åœ¨è®­ç»ƒå®Œæˆåè¯„ä»·æœ€ç»ˆçš„æ¨¡å‹æ—¶ä½¿ç”¨ã€‚</p>
<p>ä½†æ˜¯åªæœ‰è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸çŸ¥é“ç®—æ³•åœ¨æ–°æ•°æ®ä¸Šè¡¨ç°å¦‚ä½•ã€‚ </p>
<p>å¥½åœ¨æˆ‘ä»¬æœ‰ä¸ç”¨æµ‹è¯•é›†è°ƒä¼˜çš„æ–¹æ³•ã€‚å…¶æ€è·¯æ˜¯ï¼šä»è®­ç»ƒé›†ä¸­å–å‡ºä¸€éƒ¨åˆ†æ•°æ®ç”¨æ¥è°ƒä¼˜ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>éªŒè¯é›†ï¼ˆvalidation setï¼‰</strong>ã€‚ä»¥CIFAR-10ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨49000ä¸ªå›¾åƒä½œä¸ºè®­ç»ƒé›†ï¼Œç”¨1000ä¸ªå›¾åƒä½œä¸ºéªŒè¯é›†ã€‚éªŒè¯é›†å…¶å®å°±æ˜¯ä½œä¸ºå‡çš„æµ‹è¯•é›†æ¥è°ƒä¼˜ã€‚ä¸‹é¢å°±æ˜¯ä»£ç ï¼š</p>
<p>â€‹<br><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># assume we have Xtr_rows, Ytr, Xte_rows, Yte as before</span></span><br><span class="line"><span class="comment"># recall Xtr_rows is 50,000 x 3072 matrix</span></span><br><span class="line">Xval_rows = Xtr_rows[:<span class="number">1000</span>, :] <span class="comment"># take first 1000 for validation</span></span><br><span class="line">Yval = Ytr[:<span class="number">1000</span>]</span><br><span class="line">Xtr_rows = Xtr_rows[<span class="number">1000</span>:, :] <span class="comment"># keep last 49,000 for train</span></span><br><span class="line">Ytr = Ytr[<span class="number">1000</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># find hyperparameters that work best on the validation set</span></span><br><span class="line">validation_accuracies = []</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">100</span>]:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># use a particular value of k and evaluation on validation data</span></span><br><span class="line">  nn = NearestNeighbor()</span><br><span class="line">  nn.train(Xtr_rows, Ytr)</span><br><span class="line">  <span class="comment"># here we assume a modified NearestNeighbor class that can take a k as input</span></span><br><span class="line">  Yval_predict = nn.predict(Xval_rows, k = k)</span><br><span class="line">  acc = np.mean(Yval_predict == Yval)</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&#x27;accuracy: %f&#x27;</span> % (acc,)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># keep track of what works on the validation set</span></span><br><span class="line">  validation_accuracies.append((k, acc))</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>ç¨‹åºç»“æŸåï¼Œæˆ‘ä»¬ä¼šä½œå›¾åˆ†æå‡ºå“ªä¸ªkå€¼è¡¨ç°æœ€å¥½ï¼Œç„¶åç”¨è¿™ä¸ªkå€¼æ¥è·‘çœŸæ­£çš„æµ‹è¯•é›†ï¼Œå¹¶ä½œå‡ºå¯¹ç®—æ³•çš„è¯„ä»·ã€‚  </p>
<p>&gt; æŠŠè®­ç»ƒé›†åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚ä½¿ç”¨éªŒè¯é›†æ¥å¯¹æ‰€æœ‰è¶…å‚æ•°è°ƒä¼˜ã€‚æœ€ååªåœ¨æµ‹è¯•é›†ä¸Šè·‘ä¸€æ¬¡å¹¶æŠ¥å‘Šç»“æœã€‚</p>
<p><strong>äº¤å‰éªŒè¯</strong>ã€‚æœ‰æ—¶å€™ï¼Œè®­ç»ƒé›†æ•°é‡è¾ƒå°ï¼ˆå› æ­¤éªŒè¯é›†çš„æ•°é‡æ›´å°ï¼‰ï¼Œäººä»¬ä¼šä½¿ç”¨ä¸€ç§è¢«ç§°ä¸º<strong>äº¤å‰éªŒè¯</strong>çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•æ›´åŠ å¤æ‚äº›ã€‚è¿˜æ˜¯ç”¨åˆšæ‰çš„ä¾‹å­ï¼Œå¦‚æœæ˜¯äº¤å‰éªŒè¯é›†ï¼Œæˆ‘ä»¬å°±ä¸æ˜¯å–1000ä¸ªå›¾åƒï¼Œè€Œæ˜¯å°†è®­ç»ƒé›†å¹³å‡åˆ†æˆ5ä»½ï¼Œå…¶ä¸­4ä»½ç”¨æ¥è®­ç»ƒï¼Œ1ä»½ç”¨æ¥éªŒè¯ã€‚ç„¶åæˆ‘ä»¬å¾ªç¯ç€å–å…¶ä¸­4ä»½æ¥è®­ç»ƒï¼Œå…¶ä¸­1ä»½æ¥éªŒè¯ï¼Œæœ€åå–æ‰€æœ‰5æ¬¡éªŒè¯ç»“æœçš„å¹³å‡å€¼ä½œä¸ºç®—æ³•éªŒè¯ç»“æœã€‚</p>
<img src="/2024/05/06/14-24-17/6a3ceec60cc0a379b4939c37ee3e89e8_b.png" class>
<p>è¿™å°±æ˜¯5ä»½äº¤å‰éªŒè¯å¯¹kå€¼è°ƒä¼˜çš„ä¾‹å­ã€‚é’ˆå¯¹æ¯ä¸ªkå€¼ï¼Œå¾—åˆ°5ä¸ªå‡†ç¡®ç‡ç»“æœï¼Œå–å…¶å¹³å‡å€¼ï¼Œç„¶åå¯¹ä¸åŒkå€¼çš„å¹³å‡è¡¨ç°ç”»çº¿è¿æ¥ã€‚æœ¬ä¾‹ä¸­ï¼Œå½“k=7çš„æ—¶ç®—æ³•è¡¨ç°æœ€å¥½ï¼ˆå¯¹åº”å›¾ä¸­çš„å‡†ç¡®ç‡å³°å€¼ï¼‰ã€‚å¦‚æœæˆ‘ä»¬å°†è®­ç»ƒé›†åˆ†æˆæ›´å¤šä»½æ•°ï¼Œç›´çº¿ä¸€èˆ¬ä¼šæ›´åŠ å¹³æ»‘ï¼ˆå™ªéŸ³æ›´å°‘ï¼‰ã€‚</p>
<p><strong>å®é™…åº”ç”¨</strong>ã€‚åœ¨å®é™…æƒ…å†µä¸‹ï¼Œäººä»¬ä¸æ˜¯å¾ˆå–œæ¬¢ç”¨äº¤å‰éªŒè¯ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä¼šè€—è´¹è¾ƒå¤šçš„è®¡ç®—èµ„æºã€‚ä¸€èˆ¬ç›´æ¥æŠŠè®­ç»ƒé›†æŒ‰ç…§50%-90%çš„æ¯”ä¾‹åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚ä½†è¿™ä¹Ÿæ˜¯æ ¹æ®å…·ä½“æƒ…å†µæ¥å®šçš„ï¼šå¦‚æœè¶…å‚æ•°æ•°é‡å¤šï¼Œä½ å¯èƒ½å°±æƒ³ç”¨æ›´å¤§çš„éªŒè¯é›†ï¼Œè€ŒéªŒè¯é›†çš„æ•°é‡ä¸å¤Ÿï¼Œé‚£ä¹ˆæœ€å¥½è¿˜æ˜¯ç”¨äº¤å‰éªŒè¯å§ã€‚è‡³äºåˆ†æˆå‡ ä»½æ¯”è¾ƒå¥½ï¼Œä¸€èˆ¬éƒ½æ˜¯åˆ†æˆ3ã€5å’Œ10ä»½ã€‚  </p>
<img src="/2024/05/06/14-24-17/cc88207c6c3c5e91df8b6367368f6450_b.jpg" class>
<p>å¸¸ç”¨çš„æ•°æ®åˆ†å‰²æ¨¡å¼ã€‚ç»™å‡ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†åï¼Œè®­ç»ƒé›†ä¸€èˆ¬ä¼šè¢«å‡åˆ†ã€‚è¿™é‡Œæ˜¯åˆ†æˆ5ä»½ã€‚å‰é¢4ä»½ç”¨æ¥è®­ç»ƒï¼Œé»„è‰²é‚£ä»½ç”¨ä½œéªŒè¯é›†è°ƒä¼˜ã€‚å¦‚æœé‡‡å–äº¤å‰éªŒè¯ï¼Œé‚£å°±å„ä»½è½®æµä½œä¸ºéªŒè¯é›†ã€‚æœ€åæ¨¡å‹è®­ç»ƒå®Œæ¯•ï¼Œè¶…å‚æ•°éƒ½å®šå¥½äº†ï¼Œè®©æ¨¡å‹è·‘ä¸€æ¬¡ï¼ˆè€Œä¸”åªè·‘ä¸€æ¬¡ï¼‰æµ‹è¯•é›†ï¼Œä»¥æ­¤æµ‹è¯•ç»“æœè¯„ä»·ç®—æ³•ã€‚</p>
<h2 id="Nearest-Neighboråˆ†ç±»å™¨çš„ä¼˜åŠ£"><a href="#Nearest-Neighboråˆ†ç±»å™¨çš„ä¼˜åŠ£" class="headerlink" title="Nearest Neighboråˆ†ç±»å™¨çš„ä¼˜åŠ£"></a>Nearest Neighboråˆ†ç±»å™¨çš„ä¼˜åŠ£</h2><p>ç°åœ¨å¯¹Nearest Neighboråˆ†ç±»å™¨çš„ä¼˜ç¼ºç‚¹è¿›è¡Œæ€è€ƒã€‚é¦–å…ˆï¼ŒNearest Neighboråˆ†ç±»å™¨æ˜“äºç†è§£ï¼Œå®ç°ç®€å•ã€‚å…¶æ¬¡ï¼Œç®—æ³•çš„è®­ç»ƒä¸éœ€è¦èŠ±æ—¶é—´ï¼Œå› ä¸ºå…¶è®­ç»ƒè¿‡ç¨‹åªæ˜¯å°†è®­ç»ƒé›†æ•°æ®å­˜å‚¨èµ·æ¥ã€‚ç„¶è€Œæµ‹è¯•è¦èŠ±è´¹å¤§é‡æ—¶é—´è®¡ç®—ï¼Œå› ä¸ºæ¯ä¸ªæµ‹è¯•å›¾åƒéœ€è¦å’Œæ‰€æœ‰å­˜å‚¨çš„è®­ç»ƒå›¾åƒè¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªç¼ºç‚¹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å…³æ³¨æµ‹è¯•æ•ˆç‡è¿œè¿œé«˜äºè®­ç»ƒæ•ˆç‡ã€‚å…¶å®ï¼Œæˆ‘ä»¬åç»­è¦å­¦ä¹ çš„å·ç§¯ç¥ç»ç½‘ç»œåœ¨è¿™ä¸ªæƒè¡¡ä¸Šèµ°åˆ°äº†å¦ä¸€ä¸ªæç«¯ï¼šè™½ç„¶è®­ç»ƒèŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼Œä½†æ˜¯ä¸€æ—¦è®­ç»ƒå®Œæˆï¼Œå¯¹æ–°çš„æµ‹è¯•æ•°æ®è¿›è¡Œåˆ†ç±»éå¸¸å¿«ã€‚è¿™æ ·çš„æ¨¡å¼å°±ç¬¦åˆå®é™…ä½¿ç”¨éœ€æ±‚ã€‚</p>
<p>Nearest Neighboråˆ†ç±»å™¨çš„è®¡ç®—å¤æ‚åº¦ç ”ç©¶æ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œè‹¥å¹²<strong>Approximate Nearest Neighbor </strong>(ANN)ç®—æ³•å’Œåº“çš„ä½¿ç”¨å¯ä»¥æå‡Nearest Neighboråˆ†ç±»å™¨åœ¨æ•°æ®ä¸Šçš„è®¡ç®—é€Ÿåº¦(æ¯”å¦‚ï¼šFLANN)ã€‚è¿™äº›ç®—æ³•å¯ä»¥åœ¨å‡†ç¡®ç‡å’Œæ—¶ç©ºå¤æ‚åº¦ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œå¹¶é€šå¸¸ä¾èµ–ä¸€ä¸ªé¢„å¤„ç†/ç´¢å¼•è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸€èˆ¬åŒ…å«kdæ ‘çš„åˆ›å»ºå’Œk-meansç®—æ³•çš„è¿ç”¨ã€‚</p>
<p>Nearest Neighboråˆ†ç±»å™¨åœ¨æŸäº›ç‰¹å®šæƒ…å†µï¼ˆæ¯”å¦‚æ•°æ®ç»´åº¦è¾ƒä½ï¼‰ä¸‹ï¼Œå¯èƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚ä½†æ˜¯åœ¨å®é™…çš„å›¾åƒåˆ†ç±»å·¥ä½œä¸­ï¼Œå¾ˆå°‘ä½¿ç”¨ã€‚å› ä¸ºå›¾åƒéƒ½æ˜¯é«˜ç»´åº¦æ•°æ®ï¼ˆä»–ä»¬é€šå¸¸åŒ…å«å¾ˆå¤šåƒç´ ï¼‰ï¼Œè€Œé«˜ç»´åº¦å‘é‡ä¹‹é—´çš„è·ç¦»é€šå¸¸æ˜¯åç›´è§‰çš„ã€‚ä¸‹é¢çš„å›¾ç‰‡å±•ç¤ºäº†åŸºäºåƒç´ çš„ç›¸ä¼¼å’ŒåŸºäºæ„Ÿå®˜çš„ç›¸ä¼¼æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ï¼š</p>
<img src="/2024/05/06/14-24-17/fd42d369eebdc5d81c89593ec1082e32_b.png" class>
<p>åœ¨é«˜ç»´åº¦æ•°æ®ä¸Šï¼ŒåŸºäºåƒç´ çš„çš„è·ç¦»å’Œæ„Ÿå®˜ä¸Šçš„éå¸¸ä¸åŒã€‚ä¸Šå›¾ä¸­ï¼Œå³è¾¹3å¼ å›¾ç‰‡å’Œå·¦è¾¹ç¬¬1å¼ åŸå§‹å›¾ç‰‡çš„L2è·ç¦»æ˜¯ä¸€æ ·çš„ã€‚å¾ˆæ˜¾ç„¶ï¼ŒåŸºäºåƒç´ æ¯”è¾ƒçš„ç›¸ä¼¼å’Œæ„Ÿå®˜ä¸Šä»¥åŠè¯­ä¹‰ä¸Šçš„ç›¸ä¼¼æ˜¯ä¸åŒçš„ã€‚  </p>
<p>è¿™é‡Œè¿˜æœ‰ä¸ªè§†è§‰åŒ–è¯æ®ï¼Œå¯ä»¥è¯æ˜ä½¿ç”¨åƒç´ å·®å¼‚æ¥æ¯”è¾ƒå›¾åƒæ˜¯ä¸å¤Ÿçš„ã€‚è¿™æ˜¯ä¸€ä¸ªå«åšt-SNEçš„å¯è§†åŒ–æŠ€æœ¯ï¼Œå®ƒå°†CIFAR-10ä¸­çš„å›¾ç‰‡æŒ‰ç…§äºŒç»´æ–¹å¼æ’å¸ƒï¼Œè¿™æ ·èƒ½å¾ˆå¥½å±•ç¤ºå›¾ç‰‡ä¹‹é—´çš„åƒç´ å·®å¼‚å€¼ã€‚åœ¨è¿™å¼ å›¾ç‰‡ä¸­ï¼Œæ’åˆ—ç›¸é‚»çš„å›¾ç‰‡L2è·ç¦»å°±å°ã€‚  </p>
<img src="/2024/05/06/14-24-17/0f4980edb8710eaba0f3e661b1cbb830_b.jpg" class>
<p>ä¸Šå›¾ä½¿ç”¨t-SNEçš„å¯è§†åŒ–æŠ€æœ¯å°†CIFAR-10çš„å›¾ç‰‡è¿›è¡Œäº†äºŒç»´æ’åˆ—ã€‚æ’åˆ—ç›¸è¿‘çš„å›¾ç‰‡L2è·ç¦»å°ã€‚å¯ä»¥çœ‹å‡ºï¼Œå›¾ç‰‡çš„æ’åˆ—æ˜¯è¢«èƒŒæ™¯ä¸»å¯¼è€Œä¸æ˜¯å›¾ç‰‡è¯­ä¹‰å†…å®¹æœ¬èº«ä¸»å¯¼ã€‚  </p>
<p>å…·ä½“è¯´æ¥ï¼Œè¿™äº›å›¾ç‰‡çš„æ’å¸ƒæ›´åƒæ˜¯ä¸€ç§é¢œè‰²åˆ†å¸ƒå‡½æ•°ï¼Œæˆ–è€…è¯´æ˜¯åŸºäºèƒŒæ™¯çš„ï¼Œè€Œä¸æ˜¯å›¾ç‰‡çš„è¯­ä¹‰ä¸»ä½“ã€‚æ¯”å¦‚ï¼Œç‹—çš„å›¾ç‰‡å¯èƒ½å’Œé’è›™çš„å›¾ç‰‡éå¸¸æ¥è¿‘ï¼Œè¿™æ˜¯å› ä¸ºä¸¤å¼ å›¾ç‰‡éƒ½æ˜¯ç™½è‰²èƒŒæ™¯ã€‚ä»ç†æƒ³æ•ˆæœä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›åŒç±»çš„å›¾ç‰‡èƒ½å¤Ÿèšé›†åœ¨ä¸€èµ·ï¼Œè€Œä¸è¢«èƒŒæ™¯æˆ–å…¶ä»–ä¸ç›¸å…³å› ç´ å¹²æ‰°ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬ä¸èƒ½æ­¢æ­¥äºåŸå§‹åƒç´ æ¯”è¾ƒï¼Œå¾—ç»§ç»­å‰è¿›ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç®€è¦è¯´æ¥ï¼š</p>
<ul>
<li>ä»‹ç»äº†<strong>å›¾åƒåˆ†ç±»</strong>é—®é¢˜ã€‚åœ¨è¯¥é—®é¢˜ä¸­ï¼Œç»™å‡ºä¸€ä¸ªç”±è¢«æ ‡æ³¨äº†åˆ†ç±»æ ‡ç­¾çš„å›¾åƒç»„æˆçš„é›†åˆï¼Œè¦æ±‚ç®—æ³•èƒ½é¢„æµ‹æ²¡æœ‰æ ‡ç­¾çš„å›¾åƒçš„åˆ†ç±»æ ‡ç­¾ï¼Œå¹¶æ ¹æ®ç®—æ³•é¢„æµ‹å‡†ç¡®ç‡è¿›è¡Œè¯„ä»·ã€‚</li>
<li>ä»‹ç»äº†ä¸€ä¸ªç®€å•çš„å›¾åƒåˆ†ç±»å™¨ï¼š<strong>æœ€è¿‘é‚»åˆ†ç±»å™¨(Nearest Neighbor classifier)</strong>ã€‚åˆ†ç±»å™¨ä¸­å­˜åœ¨ä¸åŒçš„è¶…å‚æ•°(æ¯”å¦‚kå€¼æˆ–è·ç¦»ç±»å‹çš„é€‰å–)ï¼Œè¦æƒ³é€‰å–å¥½çš„è¶…å‚æ•°ä¸æ˜¯ä¸€ä»¶è½»è€Œæ˜“ä¸¾çš„äº‹ã€‚</li>
<li>é€‰å–è¶…å‚æ•°çš„æ­£ç¡®æ–¹æ³•æ˜¯ï¼šå°†åŸå§‹è®­ç»ƒé›†åˆ†ä¸ºè®­ç»ƒé›†å’Œ<strong>éªŒè¯é›†</strong>ï¼Œæˆ‘ä»¬åœ¨éªŒè¯é›†ä¸Šå°è¯•ä¸åŒçš„è¶…å‚æ•°ï¼Œæœ€åä¿ç•™è¡¨ç°æœ€å¥½é‚£ä¸ªã€‚</li>
<li>å¦‚æœè®­ç»ƒæ•°æ®é‡ä¸å¤Ÿï¼Œä½¿ç”¨<strong>äº¤å‰éªŒè¯</strong>æ–¹æ³•ï¼Œå®ƒèƒ½å¸®åŠ©æˆ‘ä»¬åœ¨é€‰å–æœ€ä¼˜è¶…å‚æ•°çš„æ—¶å€™å‡å°‘å™ªéŸ³ã€‚</li>
<li>ä¸€æ—¦æ‰¾åˆ°æœ€ä¼˜çš„è¶…å‚æ•°ï¼Œå°±è®©ç®—æ³•ä»¥è¯¥å‚æ•°åœ¨æµ‹è¯•é›†è·‘ä¸”åªè·‘ä¸€æ¬¡ï¼Œå¹¶æ ¹æ®æµ‹è¯•ç»“æœè¯„ä»·ç®—æ³•ã€‚</li>
<li>æœ€è¿‘é‚»åˆ†ç±»å™¨èƒ½å¤Ÿåœ¨CIFAR-10ä¸Šå¾—åˆ°å°†è¿‘40%çš„å‡†ç¡®ç‡ã€‚è¯¥ç®—æ³•ç®€å•æ˜“å®ç°ï¼Œä½†éœ€è¦å­˜å‚¨æ‰€æœ‰è®­ç»ƒæ•°æ®ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•çš„æ—¶å€™è¿‡äºè€—è´¹è®¡ç®—èƒ½åŠ›ã€‚</li>
<li>æœ€åï¼Œæˆ‘ä»¬çŸ¥é“äº†ä»…ä»…ä½¿ç”¨L1å’ŒL2èŒƒæ•°æ¥è¿›è¡Œåƒç´ æ¯”è¾ƒæ˜¯ä¸å¤Ÿçš„ï¼Œå›¾åƒæ›´å¤šçš„æ˜¯æŒ‰ç…§èƒŒæ™¯å’Œé¢œè‰²è¢«åˆ†ç±»ï¼Œè€Œä¸æ˜¯è¯­ä¹‰ä¸»ä½“åˆ†èº«ã€‚</li>
</ul>
<p>åœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸“æ³¨äºè§£å†³è¿™äº›é—®é¢˜å’ŒæŒ‘æˆ˜ï¼Œå¹¶æœ€ç»ˆèƒ½å¤Ÿå¾—åˆ°è¶…è¿‡90%å‡†ç¡®ç‡çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆèƒ½å¤Ÿåœ¨å®Œæˆå­¦ä¹ å°±ä¸¢æ‰è®­ç»ƒé›†ï¼Œå¹¶åœ¨ä¸€æ¯«ç§’ä¹‹å†…å°±å®Œæˆä¸€å¼ å›¾ç‰‡çš„åˆ†ç±»ã€‚</p>
<h2 id="å°ç»“ï¼šå®é™…åº”ç”¨k-NN"><a href="#å°ç»“ï¼šå®é™…åº”ç”¨k-NN" class="headerlink" title="å°ç»“ï¼šå®é™…åº”ç”¨k-NN"></a>å°ç»“ï¼šå®é™…åº”ç”¨k-NN</h2><p>å¦‚æœä½ å¸Œæœ›å°†k-NNåˆ†ç±»å™¨ç”¨åˆ°å®å¤„ï¼ˆæœ€å¥½åˆ«ç”¨åˆ°å›¾åƒä¸Šï¼Œè‹¥æ˜¯ä»…ä»…ä½œä¸ºç»ƒæ‰‹è¿˜å¯ä»¥æ¥å—ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æµç¨‹ï¼š</p>
<ol>
<li>é¢„å¤„ç†ä½ çš„æ•°æ®ï¼šå¯¹ä½ æ•°æ®ä¸­çš„ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–ï¼ˆnormalizeï¼‰ï¼Œè®©å…¶å…·æœ‰é›¶å¹³å‡å€¼ï¼ˆzero meanï¼‰å’Œå•ä½æ–¹å·®ï¼ˆunit varianceï¼‰ã€‚åœ¨åé¢çš„å°èŠ‚æˆ‘ä»¬ä¼šè®¨è®ºè¿™äº›ç»†èŠ‚ã€‚æœ¬å°èŠ‚ä¸è®¨è®ºï¼Œæ˜¯å› ä¸ºå›¾åƒä¸­çš„åƒç´ éƒ½æ˜¯åŒè´¨çš„ï¼Œä¸ä¼šè¡¨ç°å‡ºè¾ƒå¤§çš„å·®å¼‚åˆ†å¸ƒï¼Œä¹Ÿå°±ä¸éœ€è¦æ ‡å‡†åŒ–å¤„ç†äº†ã€‚</li>
<li>å¦‚æœæ•°æ®æ˜¯é«˜ç»´æ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨é™ç»´æ–¹æ³•ï¼Œæ¯”å¦‚PCAæˆ–éšæœºæŠ•å½±ã€‚</li>
<li>å°†æ•°æ®éšæœºåˆ†å…¥è®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚æŒ‰ç…§ä¸€èˆ¬è§„å¾‹ï¼Œ70%-90% æ•°æ®ä½œä¸ºè®­ç»ƒé›†ã€‚è¿™ä¸ªæ¯”ä¾‹æ ¹æ®ç®—æ³•ä¸­æœ‰å¤šå°‘è¶…å‚æ•°ï¼Œä»¥åŠè¿™äº›è¶…å‚æ•°å¯¹äºç®—æ³•çš„é¢„æœŸå½±å“æ¥å†³å®šã€‚å¦‚æœéœ€è¦é¢„æµ‹çš„è¶…å‚æ•°å¾ˆå¤šï¼Œé‚£ä¹ˆå°±åº”è¯¥ä½¿ç”¨æ›´å¤§çš„éªŒè¯é›†æ¥æœ‰æ•ˆåœ°ä¼°è®¡å®ƒä»¬ã€‚å¦‚æœæ‹…å¿ƒéªŒè¯é›†æ•°é‡ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±å°è¯•äº¤å‰éªŒè¯æ–¹æ³•ã€‚å¦‚æœè®¡ç®—èµ„æºè¶³å¤Ÿï¼Œä½¿ç”¨äº¤å‰éªŒè¯æ€»æ˜¯æ›´åŠ å®‰å…¨çš„ï¼ˆä»½æ•°è¶Šå¤šï¼Œæ•ˆæœè¶Šå¥½ï¼Œä¹Ÿæ›´è€—è´¹è®¡ç®—èµ„æºï¼‰ã€‚</li>
<li>åœ¨éªŒè¯é›†ä¸Šè°ƒä¼˜ï¼Œå°è¯•è¶³å¤Ÿå¤šçš„kå€¼ï¼Œå°è¯•L1å’ŒL2ä¸¤ç§èŒƒæ•°è®¡ç®—æ–¹å¼ã€‚</li>
<li>å¦‚æœåˆ†ç±»å™¨è·‘å¾—å¤ªæ…¢ï¼Œå°è¯•ä½¿ç”¨Approximate Nearest Neighboråº“ï¼ˆæ¯”å¦‚FLANNï¼‰æ¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶ä»£ä»·æ˜¯é™ä½ä¸€äº›å‡†ç¡®ç‡ã€‚</li>
<li>å¯¹æœ€ä¼˜çš„è¶…å‚æ•°åšè®°å½•ã€‚è®°å½•æœ€ä¼˜å‚æ•°åï¼Œæ˜¯å¦åº”è¯¥è®©ä½¿ç”¨æœ€ä¼˜å‚æ•°çš„ç®—æ³•åœ¨å®Œæ•´çš„è®­ç»ƒé›†ä¸Šè¿è¡Œå¹¶å†æ¬¡è®­ç»ƒå‘¢ï¼Ÿå› ä¸ºå¦‚æœæŠŠéªŒè¯é›†é‡æ–°æ”¾å›åˆ°è®­ç»ƒé›†ä¸­ï¼ˆè‡ªç„¶è®­ç»ƒé›†çš„æ•°æ®é‡å°±åˆå˜å¤§äº†ï¼‰ï¼Œæœ‰å¯èƒ½æœ€ä¼˜å‚æ•°åˆä¼šæœ‰æ‰€å˜åŒ–ã€‚åœ¨å®è·µä¸­ï¼Œ<strong>ä¸è¦è¿™æ ·åš</strong>ã€‚åƒä¸‡ä¸è¦åœ¨æœ€ç»ˆçš„åˆ†ç±»å™¨ä¸­ä½¿ç”¨éªŒè¯é›†æ•°æ®ï¼Œè¿™æ ·åšä¼šç ´åå¯¹äºæœ€ä¼˜å‚æ•°çš„ä¼°è®¡ã€‚<strong>ç›´æ¥ä½¿ç”¨æµ‹è¯•é›†æ¥æµ‹è¯•ç”¨æœ€ä¼˜å‚æ•°è®¾ç½®å¥½çš„æœ€ä¼˜æ¨¡å‹</strong>ï¼Œå¾—åˆ°æµ‹è¯•é›†æ•°æ®çš„åˆ†ç±»å‡†ç¡®ç‡ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºä½ çš„kNNåˆ†ç±»å™¨åœ¨è¯¥æ•°æ®ä¸Šçš„æ€§èƒ½è¡¨ç°ã€‚</li>
</ol>
<h1 id="æ•°æ®é›†ä»£ç å®ç°"><a href="#æ•°æ®é›†ä»£ç å®ç°" class="headerlink" title="æ•°æ®é›†ä»£ç å®ç°"></a>æ•°æ®é›†ä»£ç å®ç°</h1><p>æˆ‘ä»¬è¿™é‡Œä»‹ç»äº†ä¸€ç³»åˆ—çš„æ•°æ®é›†å’ŒéªŒè¯é›†çš„æ¦‚å¿µï¼Œä½†æ˜¯æˆ‘ä»¬è‚¯å®šä¸ä¼šæ‰‹åŠ¨å»è¿›è¡Œè®¡ç®—å’ŒéªŒè¯ï¼Œå¿…é¡»ä¾é è®¡ç®—æœºæ¥å®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å¦‚ä½•ä½¿ç”¨ä»£ç å»å‡†å¤‡ä¸€ä¸ªæ•°æ®é›†å‘¢ï¼Ÿè¿™å°±éœ€è¦é ä¸€äº›æ¡†æ¶æ¥å®Œæˆè¿™ä¸ªæ“ä½œ</p>
<p>å¤§å®¶åœ¨ç®—æ•°çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨è®¡ç®—å™¨æ¥åŠ å¿«è®¡ç®—è¿‡ç¨‹ï¼Œåœ¨è¿™é‡Œè®¡ç®—å™¨åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ ¸å¿ƒæ˜¯ä½ æ€ä¹ˆå»è®¡ç®—å’Œè¦è®¡ç®—ä»€ä¹ˆï¼Œåœ¨æ·±åº¦å­¦ä¹ ä¸­ä¹Ÿæ˜¯ï¼Œä»£ç å’Œç›¸å…³çš„æ¡†æ¶åªä¸è¿‡æ˜¯å·¥å…·ï¼Œå¯ä»¥èµ·åˆ°è®¡ç®—å™¨çš„ä½œç”¨ï¼Œè®©ä½ å…äºæ‰‹åŠ¨è®¡ç®—å’Œè‡ªå·±æ­å»ºä»£ç çš„å›°å¢ƒï¼Œä½¿ä½ å¯ä»¥å¿«é€Ÿå®Œæˆæ¨¡å‹çš„å­¦ä¹ </p>
<p>ç›®å‰å¸¸ç”¨çš„æ·±åº¦å­¦ä¹ æ¡†æ¶æ˜¯PyTorchã€TensorFlowç­‰ï¼Œåœ¨å­¦æœ¯ç•Œï¼ŒPyTorchæ˜¯ä¸»æµçš„æ¡†æ¶ï¼Œè€Œä¸”ç®€å•æ˜“å­¦ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨PyTorchæ¥å®Œæˆä¸€ç³»åˆ—æ·±åº¦å­¦ä¹ çš„ä»£ç ä»»åŠ¡</p>
<h2 id="æ•°æ®é›†ç±»â€”â€”Dataset"><a href="#æ•°æ®é›†ç±»â€”â€”Dataset" class="headerlink" title="æ•°æ®é›†ç±»â€”â€”Dataset"></a>æ•°æ®é›†ç±»â€”â€”Dataset</h2><p>åœ¨PyTorchä¸­ï¼ŒDatasetæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ•°æ®é›†ç±»ï¼Œå¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ä¸€äº›æ•°æ®é›†ç±»ï¼Œç”¨æ¥å®ç°ä»ç£ç›˜ä¸­è¯»å–æ•°æ®é›†ã€è¯»å–æ ‡ç­¾å’Œæ ·æœ¬ç­‰æ“ä½œï¼Œå€ŸåŠ©pytorchä¸­datasetç±»ï¼Œä½ å¯ä»¥åˆ›å»ºé€‚åº”ä»»æ„æ¨¡å‹çš„æ•°æ®é›†æ¥å£</p>
<p>æ‰€è°“æ•°æ®é›†ï¼Œæ— éå°±æ˜¯ä¸€ç»„{x:y}çš„é›†åˆå—ï¼Œä½ åªéœ€è¦åœ¨è¿™ä¸ªç±»é‡Œè¯´æ˜â€œæœ‰ä¸€ç»„{x:y}çš„é›†åˆâ€å°±å¯ä»¥äº†ã€‚xæ˜¯æ ·æœ¬çš„æ•°æ®å†…å®¹ï¼Œyæ˜¯æ ·æœ¬æ ‡ç­¾</p>
<p>å¯¹äºå›¾åƒåˆ†ç±»ä»»åŠ¡ï¼Œå›¾åƒ+åˆ†ç±»</p>
<p>å¯¹äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ï¼Œå›¾åƒ+bboxã€åˆ†ç±»</p>
<p>å¯¹äºè¶…åˆ†è¾¨ç‡ä»»åŠ¡ï¼Œä½åˆ†è¾¨ç‡å›¾åƒ+è¶…åˆ†è¾¨ç‡å›¾åƒ</p>
<p>å¯¹äºæ–‡æœ¬åˆ†ç±»ä»»åŠ¡ï¼Œæ–‡æœ¬+åˆ†ç±»</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dataset</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;An abstract class representing a Dataset.</span></span><br><span class="line"><span class="string">    All other datasets should subclass it. All subclasses should override</span></span><br><span class="line"><span class="string">    ``__len__``, that provides the size of the dataset, and ``__getitem__``,</span></span><br><span class="line"><span class="string">    supporting integer indexing in range from 0 to len(self) exclusive.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> ConcatDataset([self, other])</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç æ˜¯pytorchç»™å‡ºçš„å®˜æ–¹ä»£ç ï¼Œå…¶ä¸­__getitem__å’Œ__len__æ˜¯å­ç±»å¿…é¡»ç»§æ‰¿çš„ï¼Œæˆ–è€…è¯´pytorchç»™å‡ºçš„å®˜æ–¹ä»£ç é™åˆ¶äº†æ ‡å‡†ï¼Œä½ è¦æŒ‰ç…§å®ƒçš„æ ‡å‡†è¿›è¡Œæ•°æ®é›†å»ºç«‹ï¼Œå…¶ä¸­__getitem__å‡½æ•°å°±æ˜¯è·å–æ ·æœ¬å¯¹ï¼ˆå†…å®¹+æ ‡ç­¾ï¼‰ï¼Œ__len__å°±æ˜¯è·å–æ•°æ®é›†å¤§å°ï¼ˆæˆ–è€…è¯´é•¿åº¦ã€æ ·æœ¬æ•°é‡ï¼‰</p>
<p>æ¯”å¦‚è¯´ï¼Œæˆ‘æœ‰ä¸€ä¸ªå›¾åƒåˆ†ç±»çš„æ•°æ®é›†ï¼Œæˆ‘æƒ³è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥æ„å»ºä¸€ä¸ªè¿™æ ·çš„æ•°æ®é›†ï¼Œå®ƒåªéœ€è¦æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶</p>
<ol>
<li>å¯ä»¥é€šè¿‡åºå·ï¼Œå¾—åˆ°å›¾ç‰‡å’Œå¯¹åº”çš„åˆ†ç±»æ ‡ç­¾</li>
<li>å¯ä»¥çŸ¥é“å›¾ç‰‡çš„æ•°é‡ï¼ˆä¹Ÿå°±æ˜¯æ•°æ®é›†å¤§å°ï¼Œä»0å¼€å§‹è®¡æ•°ï¼‰</li>
</ol>
<p>åªè¦æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±å¯ä»¥å®ä¾‹åŒ–ä¸ºä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ•°æ®é›†å¯¹è±¡</p>
<p>æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªå®é™…æƒ…å†µï¼Œå›¾åƒåˆ†ç±»çš„æ•°æ®é›†æ”¾åœ¨æ–‡ä»¶å¤¹Dä¸­ï¼Œæœ‰ä¸‰ä¸ªç±»åˆ«çš„æ ·æœ¬ï¼Œåˆ†åˆ«åœ¨Dä¸‹çš„aã€bã€cä¸‰ä¸ªå­æ–‡ä»¶å¤¹ä¸­ï¼Œå­æ–‡ä»¶å¤¹çš„åç§°å°±æ˜¯ç±»åˆ«çš„åç§°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è‡ªåˆ¶ä¸€ä¸ªæ•°æ®é›†ç±»æ¥è¯»å–å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆæˆ‘ä»¬è¦å‘Šè¯‰ç¨‹åºï¼Œæ•°æ®é›†åœ¨å“ªé‡Œï¼ˆæˆ–è€…è¯´å‘Šè¯‰è·¯å¾„ï¼‰ï¼Œç„¶åè¯´æ˜è¦å¯¹æ•°æ®åšä»€ä¹ˆå˜æ¢ï¼Œæ˜ç¡®è¿™æ˜¯è®­ç»ƒæ•°æ®é›†è¿˜æ˜¯éªŒè¯æ•°æ®é›†ç­‰ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨__init__å‡½æ•°ä¸­è¯»å–è¿™äº›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDataSet</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, image_dir, dataset_type, transform=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        image_dir: è·¯å¾„</span></span><br><span class="line"><span class="string">        dataset_type: [&#x27;train&#x27;, &#x27;test&#x27;]</span></span><br><span class="line"><span class="string">        transformï¼šå„ç§å¤„ç†</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line">        self.dataset_path = image_dir</span><br><span class="line">        self.transform = transform</span><br><span class="line">        self.dataset_type = dataset_type</span><br><span class="line">        self.class_name=[]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> img_dir,class_name,_ <span class="keyword">in</span> os.walk(self.dataset_path) :</span><br><span class="line">            self.class_name.append(class_name)</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            self.sample_list.append(line.strip())</span><br><span class="line">        f.close()</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        item = self.sample_list[index]</span><br><span class="line">        <span class="comment"># img = cv2.imread(item.split(&#x27; _&#x27;)[0])</span></span><br><span class="line">        img = Image.<span class="built_in">open</span>(item.split(<span class="string">&#x27; _&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> self.transform <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            img = self.transform(img)</span><br><span class="line">        label = <span class="built_in">int</span>(item.split(<span class="string">&#x27; _&#x27;</span>)[-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> img, label</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.sample_list)</span><br></pre></td></tr></table></figure>
<h2 id="æ‹“å±•é˜…è¯»"><a href="#æ‹“å±•é˜…è¯»" class="headerlink" title="æ‹“å±•é˜…è¯»"></a>æ‹“å±•é˜…è¯»</h2><p>ä¸‹é¢æ˜¯ä¸€äº›ä½ å¯èƒ½æ„Ÿå…´è¶£çš„æ‹“å±•é˜…è¯»é“¾æ¥ï¼š</p>
<ul>
<li><a href="http://homes.cs.washington.edu/%7Epedrod/papers/cacm12.pdf">A Few Useful Things to Know about Machine Learning__</a>ï¼Œæ–‡ä¸­ç¬¬6èŠ‚ä¸æœ¬èŠ‚ç›¸å…³ï¼Œä½†æ˜¯æ•´ç¯‡æ–‡ç« éƒ½å¼ºçƒˆæ¨èã€‚  </li>
<li><a href="http://people.csail.mit.edu/torralba/shortCourseRLOC/index.html">Recognizing and Learning Object Categories__</a>ï¼ŒICCV 2005ä¸Šçš„ä¸€èŠ‚å…³äºç‰©ä½“åˆ†ç±»çš„è¯¾ç¨‹ã€‚  </li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»</title>
    <url>/2024/05/06/10-28-51/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.06ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-38/" title="è®¡ç®—æœºè§†è§‰ Pythonå¸¸ç”¨åº“">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬ä¸€ç«  Pythonå¸¸ç”¨åº“</a></li>
<li><a href="/2024/05/06/14-24-17/" title="è®¡ç®—æœºè§†è§‰ å›¾åƒåˆ†ç±»">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬äºŒç«  å›¾åƒåˆ†ç±»</a></li>
<li><a href="/2024/05/06/15-22-39/" title="è®¡ç®—æœºè§†è§‰ çº¿æ€§åˆ†ç±»å™¨">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬ä¸‰ç«  çº¿æ€§åˆ†ç±»å™¨</a></li>
<li><a href="/2024/05/07/11-38-48/" title="è®¡ç®—æœºè§†è§‰ æœ€ä¼˜åŒ–">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬å››ç«  æœ€ä¼˜åŒ–</a></li>
<li><a href="/2024/05/07/12-17-20/" title="è®¡ç®—æœºè§†è§‰ ç¥ç»ç½‘ç»œ">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬äº”ç«  ç¥ç»ç½‘ç»œ</a></li>
<li><a href="/2024/05/17/13-29-46/" title="è®¡ç®—æœºè§†è§‰ åå‘ä¼ æ’­">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬å…­ç«  åå‘ä¼ æ’­</a></li>
<li><a href="/2024/05/17/13-57-26/" title="è®¡ç®—æœºè§†è§‰ å·ç§¯ç¥ç»ç½‘ç»œ">è®¡ç®—æœºè§†è§‰ç¬”è®°-ç¬¬ä¸ƒç«  å·ç§¯ç¥ç»ç½‘ç»œ</a>
</li>
</ul>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>ç¬”è®°æ¥æºï¼š<a href="https://github.com/Momordicin/ML_DL_CV_with_pytorch">Momordicin</a><br>è¯¾ç¨‹è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1zg411a7Wi/?p=1&amp;vd_source=d5a3522259c17126f1b623c977d04c3e">bilibili</a></p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰ Pythonå¸¸ç”¨åº“</title>
    <url>/2024/05/06/10-28-38/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.06ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/05/06/10-28-51/" title="eecs498 ML-DL-CV ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<p>æˆ‘ä»¬å°†ä½¿ç”¨Pythonç¼–ç¨‹è¯­è¨€æ¥å®Œæˆæœ¬è¯¾ç¨‹çš„æ‰€æœ‰ä½œä¸šã€‚Pythonæ˜¯ä¸€é—¨ä¼Ÿå¤§çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨ä¸€äº›å¸¸ç”¨åº“ï¼ˆnumpy, scipy, matplotlibï¼‰çš„å¸®åŠ©ä¸‹ï¼Œå®ƒåˆä¼šå˜æˆä¸€ä¸ªå¼ºå¤§çš„ç§‘å­¦è®¡ç®—ç¯å¢ƒã€‚</p>
<p>å†…å®¹åˆ—è¡¨ï¼š</p>
<ul>
<li>Python<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>å®¹å™¨</li>
<li>å‡½æ•°</li>
<li>ç±»</li>
</ul>
</li>
<li>Numpy<ul>
<li>æ•°ç»„</li>
<li>è®¿é—®æ•°ç»„</li>
<li>æ•°æ®ç±»å‹</li>
<li>æ•°ç»„è®¡ç®—</li>
<li>å¹¿æ’­</li>
</ul>
</li>
<li>SciPy<ul>
<li>å›¾åƒæ“ä½œ</li>
<li>MATLABæ–‡ä»¶</li>
<li>ç‚¹ä¹‹é—´çš„è·ç¦»</li>
</ul>
</li>
<li>Matplotlib<ul>
<li>ç»˜åˆ¶å›¾å½¢</li>
<li>ç»˜åˆ¶å¤šä¸ªå›¾å½¢</li>
<li>å›¾åƒ</li>
</ul>
</li>
</ul>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><p>Pythonæ˜¯ä¸€ç§é«˜çº§çš„ï¼ŒåŠ¨æ€ç±»å‹çš„å¤šèŒƒå‹ç¼–ç¨‹è¯­è¨€ã€‚å¾ˆå¤šæ—¶å€™ï¼Œå¤§å®¶ä¼šè¯´Pythonçœ‹èµ·æ¥ç®€ç›´å’Œä¼ªä»£ç ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºä½ èƒ½å¤Ÿé€šè¿‡å¾ˆå°‘è¡Œæ•°çš„ä»£ç è¡¨è¾¾å‡ºå¾ˆæœ‰åŠ›çš„æ€æƒ³ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢æ˜¯ç”¨Pythonå®ç°çš„ç»å…¸çš„quicksortç®—æ³•ä¾‹å­ï¼š  </p>
<pre><code class="lang-py">    def quicksort(arr):
        if len(arr) &lt;= 1:
            return arr
        pivot = arr[len(arr) / 2]
        left = [x for x in arr if x &lt; pivot]
        middle = [x for x in arr if x == pivot]
        right = [x for x in arr if x &gt; pivot]
        return quicksort(left) + middle + quicksort(right)

    print quicksort([3,6,8,10,1,2,1])
    # Prints &quot;[1, 1, 2, 3, 6, 8, 10]&quot;
</code></pre>
<h2 id="Pythonç‰ˆæœ¬"><a href="#Pythonç‰ˆæœ¬" class="headerlink" title="Pythonç‰ˆæœ¬"></a>Pythonç‰ˆæœ¬</h2><p>Pythonæœ‰ä¸¤ä¸ªæ”¯æŒçš„ç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯2.7å’Œ3.4ã€‚è¿™æœ‰ç‚¹è®©äººè¿·æƒ‘ï¼Œ3.0å‘è¯­è¨€ä¸­å¼•å…¥äº†å¾ˆå¤šä¸å‘åå…¼å®¹çš„å˜åŒ–ï¼Œ2.7ä¸‹çš„ä»£ç æœ‰æ—¶å€™åœ¨3.4ä¸‹æ˜¯è¡Œä¸é€šçš„ã€‚åœ¨è¿™ä¸ªè¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯2.7ç‰ˆæœ¬ã€‚</p>
<p>å¦‚ä½•æŸ¥çœ‹ç‰ˆæœ¬å‘¢ï¼Ÿä½¿ç”¨<strong>python â€”version</strong>å‘½ä»¤ã€‚</p>
<h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h2><p>å’Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒPythonæ‹¥æœ‰ä¸€ç³»åˆ—çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚æ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹å’Œå­—ç¬¦ä¸²ç­‰ã€‚è¿™äº›ç±»å‹çš„ä½¿ç”¨æ–¹å¼å’Œåœ¨å…¶ä»–è¯­è¨€ä¸­çš„ä½¿ç”¨æ–¹å¼æ˜¯ç±»ä¼¼çš„ã€‚</p>
<p><strong>æ•°å­—</strong>ï¼šæ•´å‹å’Œæµ®ç‚¹å‹çš„ä½¿ç”¨ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ã€‚</p>
<pre><code class="lang-py">    x = 3
    print type(x) # Prints &quot;&quot;
    print x       # Prints &quot;3&quot;
    print x + 1   # Addition; prints &quot;4&quot;
    print x - 1   # Subtraction; prints &quot;2&quot;
    print x * 2   # Multiplication; prints &quot;6&quot;
    print x ** 2  # Exponentiation; prints &quot;9&quot;
    x += 1
    print x  # Prints &quot;4&quot;
    x *= 2
    print x  # Prints &quot;8&quot;
    y = 2.5
    print type(y) # Prints &quot;&quot;
    print y, y + 1, y * 2, y ** 2 # Prints &quot;2.5 3.5 5.0 6.25&quot;
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPythonä¸­æ²¡æœ‰ x++ å’Œ xâ€” çš„æ“ä½œç¬¦ã€‚</p>
<p><strong>å¸ƒå°”å‹</strong>ï¼šPythonå®ç°äº†æ‰€æœ‰çš„å¸ƒå°”é€»è¾‘ï¼Œä½†ç”¨çš„æ˜¯è‹±è¯­ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¹ æƒ¯çš„æ“ä½œç¬¦ï¼ˆæ¯”å¦‚&amp;&amp;å’Œ||ç­‰ï¼‰ã€‚</p>
<pre><code class="lang-py">    t = True
    f = False
    print type(t) # Prints &quot;&quot;
    print t and f # Logical AND; prints &quot;False&quot;
    print t or f  # Logical OR; prints &quot;True&quot;
    print not t   # Logical NOT; prints &quot;False&quot;
    print t != f  # Logical XOR; prints &quot;True&quot;
</code></pre>
<p><strong>å­—ç¬¦ä¸²</strong>ï¼šPythonå¯¹å­—ç¬¦ä¸²çš„æ”¯æŒéå¸¸æ£’ã€‚  </p>
<pre><code class="lang-py">    hello = &#39;hello&#39;   # String literals can use single quotes
    world = &quot;world&quot;   # or double quotes; it does not matter.
    print hello       # Prints &quot;hello&quot;
    print len(hello)  # String length; prints &quot;5&quot;
    hw = hello + &#39; &#39; + world  # String concatenation
    print hw  # prints &quot;hello world&quot;
    hw12 = &#39;%s %s %d&#39; % (hello, world, 12)  # sprintf style string formatting
    print hw12  # prints &quot;hello world 12&quot;
</code></pre>
<p>å­—ç¬¦ä¸²å¯¹è±¡æœ‰ä¸€ç³»åˆ—æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š  </p>
<pre><code class="lang-py">    s = &quot;hello&quot;
    print s.capitalize()  # Capitalize a string; prints &quot;Hello&quot;
    print s.upper()       # Convert a string to uppercase; prints &quot;HELLO&quot;
    print s.rjust(7)      # Right-justify a string, padding with spaces; prints &quot;  hello&quot;
    print s.center(7)     # Center a string, padding with spaces; prints &quot; hello &quot;
    print s.replace(&#39;l&#39;, &#39;(ell)&#39;)  # Replace all instances of one substring with another;
                                   # prints &quot;he(ell)(ell)o&quot;
    print &#39;  world &#39;.strip()  # Strip leading and trailing whitespace; prints &quot;world&quot;
</code></pre>
<h2 id="å®¹å™¨Containers"><a href="#å®¹å™¨Containers" class="headerlink" title="å®¹å™¨Containers"></a>å®¹å™¨Containers</h2><p><strong>è¯‘è€…æ³¨</strong>ï¼šæœ‰çŸ¥å‹å»ºè®®containerç¿»è¯‘ä¸ºå¤åˆæ•°æ®ç±»å‹ï¼Œä¾›è¯»è€…å‚è€ƒã€‚</p>
<p>Pythonæœ‰ä»¥ä¸‹å‡ ç§å®¹å™¨ç±»å‹ï¼šåˆ—è¡¨ï¼ˆlistsï¼‰ã€å­—å…¸ï¼ˆdictionariesï¼‰ã€é›†åˆï¼ˆsetsï¼‰å’Œå…ƒç»„ï¼ˆtuplesï¼‰ã€‚</p>
<h2 id="åˆ—è¡¨Lists"><a href="#åˆ—è¡¨Lists" class="headerlink" title="åˆ—è¡¨Lists"></a>åˆ—è¡¨Lists</h2><p>åˆ—è¡¨å°±æ˜¯Pythonä¸­çš„æ•°ç»„ï¼Œä½†æ˜¯åˆ—è¡¨é•¿åº¦å¯å˜ï¼Œä¸”èƒ½åŒ…å«ä¸åŒç±»å‹å…ƒç´ ã€‚</p>
<pre><code class="lang-py">    xs = [3, 1, 2]   # Create a list
    print xs, xs[2]  # Prints &quot;[3, 1, 2] 2&quot;
    print xs[-1]     # Negative indices count from the end of the list; prints &quot;2&quot;
    xs[2] = &#39;foo&#39;    # Lists can contain elements of different types
    print xs         # Prints &quot;[3, 1, &#39;foo&#39;]&quot;
    xs.append(&#39;bar&#39;) # Add a new element to the end of the list
    print xs         # Prints 
    x = xs.pop()     # Remove and return the last element of the list
    print x, xs      # Prints &quot;bar [3, 1, &#39;foo&#39;]&quot;
</code></pre>
<p><strong>åˆ‡ç‰‡Slicing</strong>ï¼šä¸ºäº†ä¸€æ¬¡æ€§åœ°è·å–åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼ŒPythonæä¾›äº†ä¸€ç§ç®€æ´çš„è¯­æ³•ï¼Œè¿™å°±æ˜¯åˆ‡ç‰‡ã€‚  </p>
<pre><code class="lang-py">    nums = range(5)    # range is a built-in function that creates a list of integers
    print nums         # Prints &quot;[0, 1, 2, 3, 4]&quot;
    print nums[2:4]    # Get a slice from index 2 to 4 (exclusive); prints &quot;[2, 3]&quot;
    print nums[2:]     # Get a slice from index 2 to the end; prints &quot;[2, 3, 4]&quot;
    print nums[:2]     # Get a slice from the start to index 2 (exclusive); prints &quot;[0, 1]&quot;
    print nums[:]      # Get a slice of the whole list; prints [&quot;0, 1, 2, 3, 4]&quot;
    print nums[:-1]    # Slice indices can be negative; prints [&quot;0, 1, 2, 3]&quot;
    nums[2:4] = [8, 9] # Assign a new sublist to a slice
    print nums         # Prints &quot;[0, 1, 8, 8, 4]&quot;
</code></pre>
<p>åœ¨Numpyæ•°ç»„çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬ä¼šå†æ¬¡çœ‹åˆ°åˆ‡ç‰‡è¯­æ³•ã€‚</p>
<p><strong>å¾ªç¯Loops</strong>ï¼šæˆ‘ä»¬å¯ä»¥è¿™æ ·éå†åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼š</p>
<pre><code class="lang-py">    animals = [&#39;cat&#39;, &#39;dog&#39;, &#39;monkey&#39;]
    for animal in animals:
        print animal
    # Prints &quot;cat&quot;, &quot;dog&quot;, &quot;monkey&quot;, each on its own line.
</code></pre>
<p>å¦‚æœæƒ³è¦åœ¨å¾ªç¯ä½“å†…è®¿é—®æ¯ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„<strong>enumerate</strong>å‡½æ•°  </p>
<pre><code class="lang-py">    animals = [&#39;cat&#39;, &#39;dog&#39;, &#39;monkey&#39;]
    for idx, animal in enumerate(animals):
        print &#39;#%d: %s&#39; % (idx + 1, animal)
    # Prints &quot;#1: cat&quot;, &quot;#2: dog&quot;, &quot;#3: monkey&quot;, each on its own line
</code></pre>
<p><strong>åˆ—è¡¨æ¨å¯¼List comprehensions</strong>ï¼šåœ¨ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸¸å¸¸æƒ³è¦å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œå°†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ å˜æˆå®ƒçš„å¹³æ–¹ã€‚  </p>
<pre><code class="lang-py">    nums = [0, 1, 2, 3, 4]
    squares = []
    for x in nums:
        squares.append(x ** 2)
    print squares   # Prints [0, 1, 4, 9, 16]
</code></pre>
<p>ä½¿ç”¨åˆ—è¡¨æ¨å¯¼ï¼Œä½ å°±å¯ä»¥è®©ä»£ç ç®€åŒ–å¾ˆå¤šï¼š  </p>
<pre><code class="lang-py">    nums = [0, 1, 2, 3, 4]
    squares = [x ** 2 for x in nums]
    print squares   # Prints [0, 1, 4, 9, 16]
</code></pre>
<p>åˆ—è¡¨æ¨å¯¼è¿˜å¯ä»¥åŒ…å«æ¡ä»¶ï¼š  </p>
<pre><code class="lang-py">    nums = [0, 1, 2, 3, 4]
    even_squares = [x ** 2 for x in nums if x % 2 == 0]
    print even_squares  # Prints &quot;[0, 4, 16]&quot;
</code></pre>
<h3 id="å­—å…¸Dictionaries"><a href="#å­—å…¸Dictionaries" class="headerlink" title="å­—å…¸Dictionaries"></a>å­—å…¸Dictionaries</h3><p>å­—å…¸ç”¨æ¥å‚¨å­˜ï¼ˆé”®, å€¼ï¼‰å¯¹ï¼Œè¿™å’ŒJavaä¸­çš„Mapå·®ä¸å¤šã€‚ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š</p>
<pre><code class="lang-py">    d = &#123;&#39;cat&#39;: &#39;cute&#39;, &#39;dog&#39;: &#39;furry&#39;&#125;  # Create a new dictionary with some data
    print d[&#39;cat&#39;]       # Get an entry from a dictionary; prints &quot;cute&quot;
    print &#39;cat&#39; in d     # Check if a dictionary has a given key; prints &quot;True&quot;
    d[&#39;fish&#39;] = &#39;wet&#39;    # Set an entry in a dictionary
    print d[&#39;fish&#39;]      # Prints &quot;wet&quot;
    # print d[&#39;monkey&#39;]  # KeyError: &#39;monkey&#39; not a key of d
    print d.get(&#39;monkey&#39;, &#39;N/A&#39;)  # Get an element with a default; prints &quot;N/A&quot;
    print d.get(&#39;fish&#39;, &#39;N/A&#39;)    # Get an element with a default; prints &quot;wet&quot;
    del d[&#39;fish&#39;]        # Remove an element from a dictionary
    print d.get(&#39;fish&#39;, &#39;N/A&#39;) # &quot;fish&quot; is no longer a key; prints &quot;N/A&quot;
</code></pre>
<p><strong>å¾ªç¯Loops</strong>ï¼šåœ¨å­—å…¸ä¸­ï¼Œç”¨é”®æ¥è¿­ä»£æ›´åŠ å®¹æ˜“ã€‚</p>
<pre><code class="lang-py">    d = &#123;&#39;person&#39;: 2, &#39;cat&#39;: 4, &#39;spider&#39;: 8&#125;
    for animal in d:
        legs = d[animal]
        print &#39;A %s has %d legs&#39; % (animal, legs)
    # Prints &quot;A person has 2 legs&quot;, &quot;A spider has 8 legs&quot;, &quot;A cat has 4 legs&quot;
</code></pre>
<p>å¦‚æœä½ æƒ³è¦è®¿é—®é”®å’Œå¯¹åº”çš„å€¼ï¼Œé‚£å°±ä½¿ç”¨<strong>iteritems</strong>æ–¹æ³•ï¼š  </p>
<pre><code class="lang-py">    d = &#123;&#39;person&#39;: 2, &#39;cat&#39;: 4, &#39;spider&#39;: 8&#125;
    for animal, legs in d.iteritems():
        print &#39;A %s has %d legs&#39; % (animal, legs)
    # Prints &quot;A person has 2 legs&quot;, &quot;A spider has 8 legs&quot;, &quot;A cat has 4 legs&quot;
</code></pre>
<p><strong>å­—å…¸æ¨å¯¼Dictionary comprehensions</strong>ï¼šå’Œåˆ—è¡¨æ¨å¯¼ç±»ä¼¼ï¼Œä½†æ˜¯å…è®¸ä½ æ–¹ä¾¿åœ°æ„å»ºå­—å…¸ã€‚  </p>
<pre><code class="lang-py">    nums = [0, 1, 2, 3, 4]
    even_num_to_square = &#123;x: x ** 2 for x in nums if x % 2 == 0&#125;
    print even_num_to_square  # Prints &quot;&#123;0: 0, 2: 4, 4: 16&#125;&quot;
</code></pre>
<h3 id="é›†åˆSets"><a href="#é›†åˆSets" class="headerlink" title="é›†åˆSets"></a>é›†åˆSets</h3><p>é›†åˆæ˜¯ç‹¬ç«‹ä¸åŒä¸ªä½“çš„æ— åºé›†åˆã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š  </p>
<pre><code class="lang-py">    animals = &#123;&#39;cat&#39;, &#39;dog&#39;&#125;
    print &#39;cat&#39; in animals   # Check if an element is in a set; prints &quot;True&quot;
    print &#39;fish&#39; in animals  # prints &quot;False&quot;
    animals.add(&#39;fish&#39;)      # Add an element to a set
    print &#39;fish&#39; in animals  # Prints &quot;True&quot;
    print len(animals)       # Number of elements in a set; prints &quot;3&quot;
    animals.add(&#39;cat&#39;)       # Adding an element that is already in the set does nothing
    print len(animals)       # Prints &quot;3&quot;
    animals.remove(&#39;cat&#39;)    # Remove an element from a set
    print len(animals)       # Prints &quot;2&quot;
</code></pre>
<p><strong>å¾ªç¯Loops</strong>ï¼šåœ¨é›†åˆä¸­å¾ªç¯çš„è¯­æ³•å’Œåœ¨åˆ—è¡¨ä¸­ä¸€æ ·ï¼Œä½†æ˜¯é›†åˆæ˜¯æ— åºçš„ï¼Œæ‰€ä»¥ä½ åœ¨è®¿é—®é›†åˆçš„å…ƒç´ çš„æ—¶å€™ï¼Œä¸èƒ½åšå…³äºé¡ºåºçš„å‡è®¾ã€‚</p>
<pre><code class="lang-py">    animals = &#123;&#39;cat&#39;, &#39;dog&#39;, &#39;fish&#39;&#125;
    for idx, animal in enumerate(animals):
        print &#39;#%d: %s&#39; % (idx + 1, animal)
    # Prints &quot;#1: fish&quot;, &quot;#2: dog&quot;, &quot;#3: cat&quot;
</code></pre>
<p><strong>é›†åˆæ¨å¯¼**</strong>Set comprehensions**ï¼šå’Œå­—å…¸æ¨å¯¼ä¸€æ ·ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ„å»ºé›†åˆï¼š</p>
<pre><code class="lang-py">    from math import sqrt
    nums = &#123;int(sqrt(x)) for x in range(30)&#125;
    print nums  # Prints &quot;set([0, 1, 2, 3, 4, 5])&quot;
</code></pre>
<h3 id="å…ƒç»„Tuples"><a href="#å…ƒç»„Tuples" class="headerlink" title="å…ƒç»„Tuples"></a>å…ƒç»„Tuples</h3><p>å…ƒç»„æ˜¯ä¸€ä¸ªå€¼çš„æœ‰åºåˆ—è¡¨ï¼ˆä¸å¯æ”¹å˜ï¼‰ã€‚ä»å¾ˆå¤šæ–¹é¢æ¥è¯´ï¼Œå…ƒç»„å’Œåˆ—è¡¨éƒ½å¾ˆç›¸ä¼¼ã€‚å’Œåˆ—è¡¨æœ€é‡è¦çš„ä¸åŒåœ¨äºï¼Œå…ƒç»„å¯ä»¥åœ¨å­—å…¸ä¸­ç”¨ä½œé”®ï¼Œè¿˜å¯ä»¥ä½œä¸ºé›†åˆçš„å…ƒç´ ï¼Œè€Œåˆ—è¡¨ä¸è¡Œã€‚ä¾‹å­å¦‚ä¸‹ï¼š  </p>
<pre><code class="lang-py">    d = &#123;(x, x + 1): x for x in range(10)&#125;  # Create a dictionary with tuple keys
    print d
    t = (5, 6)       # Create a tuple
    print type(t)    # Prints &quot;&quot;
    print d[t]       # Prints &quot;5&quot;
    print d[(1, 2)]  # Prints &quot;1&quot;
</code></pre>
<h2 id="å‡½æ•°Functions"><a href="#å‡½æ•°Functions" class="headerlink" title="å‡½æ•°Functions"></a>å‡½æ•°Functions</h2><p>Pythonå‡½æ•°ä½¿ç”¨defæ¥å®šä¹‰å‡½æ•°ï¼š  </p>
<pre><code class="lang-py">    def sign(x):
        if x &gt; 0:
            return &#39;positive&#39;
        elif x &lt; 0:
            return &#39;negative&#39;
        else:
            return &#39;zero&#39;

    for x in [-1, 0, 1]:
        print sign(x)
    # Prints &quot;negative&quot;, &quot;zero&quot;, &quot;positive&quot;
</code></pre>
<p>æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨å¯é€‰å‚æ•°æ¥å®šä¹‰å‡½æ•°ï¼š  </p>
<pre><code class="lang-py">    def hello(name, loud=False):
        if loud:
            print &#39;HELLO, %s&#39; % name.upper()
        else:
            print &#39;Hello, %s!&#39; % name

    hello(&#39;Bob&#39;) # Prints &quot;Hello, Bob&quot;
    hello(&#39;Fred&#39;, loud=True)  # Prints &quot;HELLO, FRED!&quot;
</code></pre>
<h2 id="ç±»Classes"><a href="#ç±»Classes" class="headerlink" title="ç±»Classes"></a>ç±»Classes</h2><p>Pythonå¯¹äºç±»çš„å®šä¹‰æ˜¯ç®€å•ç›´æ¥çš„ï¼š</p>
<pre><code class="lang-py">    class Greeter(object):

        # Constructor
        def __init__(self, name):
            self.name = name  # Create an instance variable

        # Instance method
        def greet(self, loud=False):
            if loud:
                print &#39;HELLO, %s!&#39; % self.name.upper()
            else:
                print &#39;Hello, %s&#39; % self.name

    g = Greeter(&#39;Fred&#39;)  # Construct an instance of the Greeter class
    g.greet()            # Call an instance method; prints &quot;Hello, Fred&quot;
    g.greet(loud=True)   # Call an instance method; prints &quot;HELLO, FRED!&quot;
</code></pre>
<p>Numpyæ˜¯Pythonä¸­ç”¨äºç§‘å­¦è®¡ç®—çš„æ ¸å¿ƒåº“ã€‚å®ƒæä¾›äº†é«˜æ€§èƒ½çš„å¤šç»´æ•°ç»„å¯¹è±¡ï¼Œä»¥åŠç›¸å…³å·¥å…·ã€‚</p>
<h2 id="æ•°ç»„Arrays"><a href="#æ•°ç»„Arrays" class="headerlink" title="æ•°ç»„Arrays"></a>æ•°ç»„Arrays</h2><p>ä¸€ä¸ªnumpyæ•°ç»„æ˜¯ä¸€ä¸ªç”±ä¸åŒæ•°å€¼ç»„æˆçš„ç½‘æ ¼ã€‚ç½‘æ ¼ä¸­çš„æ•°æ®éƒ½æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡éè´Ÿæ•´å‹æ•°çš„å…ƒç»„æ¥è®¿é—®ã€‚ç»´åº¦çš„æ•°é‡è¢«ç§°ä¸ºæ•°ç»„çš„é˜¶ï¼Œæ•°ç»„çš„å¤§å°æ˜¯ä¸€ä¸ªç”±æ•´å‹æ•°æ„æˆçš„å…ƒç»„ï¼Œå¯ä»¥æè¿°æ•°ç»„ä¸åŒç»´åº¦ä¸Šçš„å¤§å°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä»åˆ—è¡¨åˆ›å»ºæ•°ç»„ï¼Œç„¶ååˆ©ç”¨æ–¹æ‹¬å·è®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼š</p>
<pre><code class="lang-py">    import numpy as np

    a = np.array([1, 2, 3])  # Create a rank 1 array
    print type(a)            # Prints &quot;&quot;
    print a.shape            # Prints &quot;(3,)&quot;
    print a[0], a[1], a[2]   # Prints &quot;1 2 3&quot;
    a[0] = 5                 # Change an element of the array
    print a                  # Prints &quot;[5, 2, 3]&quot;

    b = np.array([[1,2,3],[4,5,6]])   # Create a rank 2 array
    print b                           # æ˜¾ç¤ºä¸€ä¸‹çŸ©é˜µb
    print b.shape                     # Prints &quot;(2, 3)&quot;
    print b[0, 0], b[0, 1], b[1, 0]   # Prints &quot;1 2 4&quot;
</code></pre>
<p>Numpyè¿˜æä¾›äº†å¾ˆå¤šå…¶ä»–åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    a = np.zeros((2,2))  # Create an array of all zeros
    print a              # Prints &quot;[[ 0.  0.]
                         #          [ 0.  0.]]&quot;

    b = np.ones((1,2))   # Create an array of all ones
    print b              # Prints &quot;[[ 1.  1.]]&quot;

    c = np.full((2,2), 7) # Create a constant array
    print c               # Prints &quot;[[ 7.  7.]
                          #          [ 7.  7.]]&quot;

    d = np.eye(2)        # Create a 2x2 identity matrix
    print d              # Prints &quot;[[ 1.  0.]
                         #          [ 0.  1.]]&quot;

    e = np.random.random((2,2)) # Create an array filled with random values
    print e                     # Might print &quot;[[ 0.91940167  0.08143941]
                                #               [ 0.68744134  0.87236687]]&quot;
</code></pre>
<h2 id="è®¿é—®æ•°ç»„"><a href="#è®¿é—®æ•°ç»„" class="headerlink" title="è®¿é—®æ•°ç»„"></a>è®¿é—®æ•°ç»„</h2><p>Numpyæä¾›äº†å¤šç§è®¿é—®æ•°ç»„çš„æ–¹æ³•ã€‚</p>
<p><strong>åˆ‡ç‰‡</strong>ï¼šå’ŒPythonåˆ—è¡¨ç±»ä¼¼ï¼Œnumpyæ•°ç»„å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•ã€‚å› ä¸ºæ•°ç»„å¯ä»¥æ˜¯å¤šç»´çš„ï¼Œæ‰€ä»¥ä½ <strong>å¿…é¡»</strong>ä¸ºæ¯ä¸ªç»´åº¦æŒ‡å®šå¥½åˆ‡ç‰‡ã€‚</p>
<pre><code class="lang-py">    import numpy as np

    # Create the following rank 2 array with shape (3, 4)
    # [[ 1  2  3  4]
    #  [ 5  6  7  8]
    #  [ 9 10 11 12]]
    a = np.array([[1,2,3,4], [5,6,7,8], [9,10,11,12]])

    # Use slicing to pull out the subarray consisting of the first 2 rows
    # and columns 1 and 2; b is the following array of shape (2, 2):
    # [[2 3]
    #  [6 7]]
    b = a[:2, 1:3]

    # A slice of an array is a view into the same data, so modifying it
    # will modify the original array.
    print a[0, 1]   # Prints &quot;2&quot;
    b[0, 0] = 77    # b[0, 0] is the same piece of data as a[0, 1]
    print a[0, 1]   # Prints &quot;77&quot;
</code></pre>
<p>ä½ å¯ä»¥åŒæ—¶ä½¿ç”¨æ•´å‹å’Œåˆ‡ç‰‡è¯­æ³•æ¥è®¿é—®æ•°ç»„ã€‚ä½†æ˜¯ï¼Œè¿™æ ·åšä¼šäº§ç”Ÿä¸€ä¸ªæ¯”åŸæ•°ç»„ä½é˜¶çš„æ–°æ•°ç»„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œå’ŒMATLABä¸­çš„æƒ…å†µæ˜¯ä¸åŒçš„ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    # Create the following rank 2 array with shape (3, 4)
    # [[ 1  2  3  4]
    #  [ 5  6  7  8]
    #  [ 9 10 11 12]]
    a = np.array([[1,2,3,4], [5,6,7,8], [9,10,11,12]])

    # Two ways of accessing the data in the middle row of the array.
    # Mixing integer indexing with slices yields an array of lower rank,
    # while using only slices yields an array of the same rank as the
    # original array:
    row_r1 = a[1, :]    # Rank 1 view of the second row of a  
    row_r2 = a[1:2, :]  # Rank 2 view of the second row of a
    print row_r1, row_r1.shape  # Prints &quot;[5 6 7 8] (4,)&quot;
    print row_r2, row_r2.shape  # Prints &quot;[[5 6 7 8]] (1, 4)&quot;

    # We can make the same distinction when accessing columns of an array:
    col_r1 = a[:, 1]
    col_r2 = a[:, 1:2]
    print col_r1, col_r1.shape  # Prints &quot;[ 2  6 10] (3,)&quot;
    print col_r2, col_r2.shape  # Prints &quot;[[ 2]
                                #          [ 6]
                                #          [10]] (3, 1)&quot;
</code></pre>
<p><strong>æ•´å‹æ•°ç»„è®¿é—®</strong>ï¼šå½“æˆ‘ä»¬ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•è®¿é—®æ•°ç»„æ—¶ï¼Œå¾—åˆ°çš„æ€»æ˜¯åŸæ•°ç»„çš„ä¸€ä¸ªå­é›†ã€‚æ•´å‹æ•°ç»„è®¿é—®å…è®¸æˆ‘ä»¬åˆ©ç”¨å…¶å®ƒæ•°ç»„çš„æ•°æ®æ„å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    a = np.array([[1,2], [3, 4], [5, 6]])

    # An example of integer array indexing.
    # The returned array will have shape (3,) and 
    print a[[0, 1, 2], [0, 1, 0]]  # Prints &quot;[1 4 5]&quot;

    # The above example of integer array indexing is equivalent to this:
    print np.array([a[0, 0], a[1, 1], a[2, 0]])  # Prints &quot;[1 4 5]&quot;

    # When using integer array indexing, you can reuse the same
    # element from the source array:
    print a[[0, 0], [1, 1]]  # Prints &quot;[2 2]&quot;

    # Equivalent to the previous integer array indexing example
    print np.array([a[0, 1], a[0, 1]])  # Prints &quot;[2 2]&quot;
</code></pre>
<p>æ•´å‹æ•°ç»„è®¿é—®è¯­æ³•è¿˜æœ‰ä¸ªæœ‰ç”¨çš„æŠ€å·§ï¼Œå¯ä»¥ç”¨æ¥é€‰æ‹©æˆ–è€…æ›´æ”¹çŸ©é˜µä¸­æ¯è¡Œä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    # Create a new array from which we will select elements
    a = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])

    print a  # prints &quot;array([[ 1,  2,  3],
             #                [ 4,  5,  6],
             #                [ 7,  8,  9],
             #                [10, 11, 12]])&quot;

    # Create an array of indices
    b = np.array([0, 2, 0, 1])

    # Select one element from each row of a using the indices in b
    print a[np.arange(4), b]  # Prints &quot;[ 1  6  7 11]&quot;

    # Mutate one element from each row of a using the indices in b
    a[np.arange(4), b] += 10

    print a  # prints &quot;array([[11,  2,  3],
             #                [ 4,  5, 16],
             #                [17,  8,  9],
             #                [10, 21, 12]])
</code></pre>
<p><strong>å¸ƒå°”å‹æ•°ç»„è®¿é—®</strong>ï¼šå¸ƒå°”å‹æ•°ç»„è®¿é—®å¯ä»¥è®©ä½ é€‰æ‹©æ•°ç»„ä¸­ä»»æ„å…ƒç´ ã€‚é€šå¸¸ï¼Œè¿™ç§è®¿é—®æ–¹å¼ç”¨äºé€‰å–æ•°ç»„ä¸­æ»¡è¶³æŸäº›æ¡ä»¶çš„å…ƒç´ ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    a = np.array([[1,2], [3, 4], [5, 6]])

    bool_idx = (a &gt; 2)  # Find the elements of a that are bigger than 2;
                        # this returns a numpy array of Booleans of the same
                        # shape as a, where each slot of bool_idx tells
                        # whether that element of a is &gt; 2.

    print bool_idx      # Prints &quot;[[False False]
                        #          [ True  True]
                        #          [ True  True]]&quot;

    # We use boolean array indexing to construct a rank 1 array
    # consisting of the elements of a corresponding to the True values
    # of bool_idx
    print a[bool_idx]  # Prints &quot;[3 4 5 6]&quot;

    # We can do all of the above in a single concise statement:
    print a[a &gt; 2]     # Prints &quot;[3 4 5 6]&quot;
</code></pre>
<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>æ¯ä¸ªNumpyæ•°ç»„éƒ½æ˜¯æ•°æ®ç±»å‹ç›¸åŒçš„å…ƒç´ ç»„æˆçš„ç½‘æ ¼ã€‚Numpyæä¾›äº†å¾ˆå¤šçš„æ•°æ®ç±»å‹ç”¨äºåˆ›å»ºæ•°ç»„ã€‚å½“ä½ åˆ›å»ºæ•°ç»„çš„æ—¶å€™ï¼ŒNumpyä¼šå°è¯•çŒœæµ‹æ•°ç»„çš„æ•°æ®ç±»å‹ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°ç›´æ¥æŒ‡å®šæ•°æ®ç±»å‹ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre><code class="lang-py">    import numpy as np

    x = np.array([1, 2])  # Let numpy choose the datatype
    print x.dtype         # Prints &quot;int64&quot;

    x = np.array([1.0, 2.0])  # Let numpy choose the datatype
    print x.dtype             # Prints &quot;float64&quot;

    x = np.array([1, 2], dtype=np.int64)  # Force a particular datatype
    print x.dtype                         # Prints &quot;int64&quot;
</code></pre>
<h2 id="æ•°ç»„è®¡ç®—"><a href="#æ•°ç»„è®¡ç®—" class="headerlink" title="æ•°ç»„è®¡ç®—"></a>æ•°ç»„è®¡ç®—</h2><p>åŸºæœ¬æ•°å­¦è®¡ç®—å‡½æ•°ä¼šå¯¹æ•°ç»„ä¸­å…ƒç´ é€ä¸ªè¿›è¡Œè®¡ç®—ï¼Œæ—¢å¯ä»¥åˆ©ç”¨æ“ä½œç¬¦é‡è½½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°æ–¹å¼ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    x = np.array([[1,2],[3,4]], dtype=np.float64)
    y = np.array([[5,6],[7,8]], dtype=np.float64)

    # Elementwise sum; both produce the array
    # [[ 6.0  8.0]
    #  [10.0 12.0]]
    print x + y
    print np.add(x, y)

    # Elementwise difference; both produce the array
    # [[-4.0 -4.0]
    #  [-4.0 -4.0]]
    print x - y
    print np.subtract(x, y)

    # Elementwise product; both produce the array
    # [[ 5.0 12.0]
    #  [21.0 32.0]]
    print x * y
    print np.multiply(x, y)

    # Elementwise division; both produce the array
    # [[ 0.2         0.33333333]
    #  [ 0.42857143  0.5       ]]
    print x / y
    print np.divide(x, y)

    # Elementwise square root; produces the array
    # [[ 1.          1.41421356]
    #  [ 1.73205081  2.        ]]
    print np.sqrt(x)
</code></pre>
<p>å’ŒMATLABä¸åŒï¼Œ*æ˜¯å…ƒç´ é€ä¸ªç›¸ä¹˜ï¼Œè€Œä¸æ˜¯çŸ©é˜µä¹˜æ³•ã€‚åœ¨Numpyä¸­ä½¿ç”¨dotæ¥è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    x = np.array([[1,2],[3,4]])
    y = np.array([[5,6],[7,8]])

    v = np.array([9,10])
    w = np.array([11, 12])

    # Inner product of vectors; both produce 219
    print v.dot(w)
    print np.dot(v, w)

    # Matrix / vector product; both produce the rank 1 array [29 67]
    print x.dot(v)
    print np.dot(x, v)

    # Matrix / matrix product; both produce the rank 2 array
    # [[19 22]
    #  [43 50]]
    print x.dot(y)
    print np.dot(x, y)
</code></pre>
<p>Numpyæä¾›äº†å¾ˆå¤šè®¡ç®—æ•°ç»„çš„å‡½æ•°ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„ä¸€ä¸ªæ˜¯<strong>sum</strong>ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    x = np.array([[1,2],[3,4]])

    print np.sum(x)  # Compute sum of all elements; prints &quot;10&quot;
    print np.sum(x, axis=0)  # Compute sum of each column; prints &quot;[4 6]&quot;
    print np.sum(x, axis=1)  # Compute sum of each row; prints &quot;[3 7]&quot;
</code></pre>
<p>é™¤äº†è®¡ç®—ï¼Œæˆ‘ä»¬è¿˜å¸¸å¸¸æ”¹å˜æ•°ç»„æˆ–è€…æ“ä½œå…¶ä¸­çš„å…ƒç´ ã€‚å…¶ä¸­å°†çŸ©é˜µè½¬ç½®æ˜¯å¸¸ç”¨çš„ä¸€ä¸ªï¼Œåœ¨Numpyä¸­ï¼Œä½¿ç”¨<strong>T</strong>æ¥è½¬ç½®çŸ©é˜µï¼š</p>
<pre><code class="lang-py">    import numpy as np

    x = np.array([[1,2], [3,4]])
    print x    # Prints &quot;[[1 2]
               #          [3 4]]&quot;
    print x.T  # Prints &quot;[[1 3]
               #          [2 4]]&quot;

    # Note that taking the transpose of a rank 1 array does nothing:
    v = np.array([1,2,3])
    print v    # Prints &quot;[1 2 3]&quot;
    print v.T  # Prints &quot;[1 2 3]&quot;
</code></pre>
<h2 id="å¹¿æ’­Broadcasting"><a href="#å¹¿æ’­Broadcasting" class="headerlink" title="å¹¿æ’­Broadcasting"></a>å¹¿æ’­Broadcasting</h2><p>å¹¿æ’­æ˜¯ä¸€ç§å¼ºæœ‰åŠ›çš„æœºåˆ¶ï¼Œå®ƒè®©Numpyå¯ä»¥è®©ä¸åŒå¤§å°çš„çŸ©é˜µåœ¨ä¸€èµ·è¿›è¡Œæ•°å­¦è®¡ç®—ã€‚æˆ‘ä»¬å¸¸å¸¸ä¼šæœ‰ä¸€ä¸ªå°çš„çŸ©é˜µå’Œä¸€ä¸ªå¤§çš„çŸ©é˜µï¼Œç„¶åæˆ‘ä»¬ä¼šéœ€è¦ç”¨å°çš„çŸ©é˜µå¯¹å¤§çš„çŸ©é˜µåšä¸€äº›è®¡ç®—ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŠŠä¸€ä¸ªå‘é‡åŠ åˆ°çŸ©é˜µçš„æ¯ä¸€è¡Œï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<pre><code class="lang-py">    import numpy as np

    # We will add the vector v to each row of the matrix x,
    # storing the result in the matrix y
    x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])
    v = np.array([1, 0, 1])
    y = np.empty_like(x)   # Create an empty matrix with the same shape as x

    # Add the vector v to each row of the matrix x with an explicit loop
    for i in range(4):
        y[i, :] = x[i, :] + v

    # Now y is the following
    # [[ 2  2  4]
    #  [ 5  5  7]
    #  [ 8  8 10]
    #  [11 11 13]]
    print y
</code></pre>
<p>è¿™æ ·æ˜¯è¡Œå¾—é€šçš„ï¼Œä½†æ˜¯å½“xçŸ©é˜µéå¸¸å¤§ï¼Œåˆ©ç”¨å¾ªç¯æ¥è®¡ç®—å°±ä¼šå˜å¾—å¾ˆæ…¢å¾ˆæ…¢ã€‚æˆ‘ä»¬å¯ä»¥æ¢ä¸€ç§æ€è·¯ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    # We will add the vector v to each row of the matrix x,
    # storing the result in the matrix y
    x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])
    v = np.array([1, 0, 1])
    vv = np.tile(v, (4, 1))  # Stack 4 copies of v on top of each other
    print vv                 # Prints &quot;[[1 0 1]
                             #          [1 0 1]
                             #          [1 0 1]
                             #          [1 0 1]]&quot;
    y = x + vv  # Add x and vv elementwise
    print y  # Prints &quot;[[ 2  2  4
             #          [ 5  5  7]
             #          [ 8  8 10]
             #          [11 11 13]]&quot;
</code></pre>
<p>Numpyå¹¿æ’­æœºåˆ¶å¯ä»¥è®©æˆ‘ä»¬ä¸ç”¨åˆ›å»ºvvï¼Œå°±èƒ½ç›´æ¥è¿ç®—ï¼Œçœ‹çœ‹ä¸‹é¢ä¾‹å­ï¼š  </p>
<pre><code class="lang-py">    import numpy as np

    # We will add the vector v to each row of the matrix x,
    # storing the result in the matrix y
    x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])
    v = np.array([1, 0, 1])
    y = x + v  # Add v to each row of x using broadcasting
    print y  # Prints &quot;[[ 2  2  4]
             #          [ 5  5  7]
             #          [ 8  8 10]
             #          [11 11 13]]&quot;
</code></pre>
<p>å¯¹ä¸¤ä¸ªæ•°ç»„ä½¿ç”¨å¹¿æ’­æœºåˆ¶è¦éµå®ˆä¸‹åˆ—è§„åˆ™ï¼š</p>
<ol>
<li>å¦‚æœæ•°ç»„çš„ç§©ä¸åŒï¼Œä½¿ç”¨1æ¥å°†ç§©è¾ƒå°çš„æ•°ç»„è¿›è¡Œæ‰©å±•ï¼Œç›´åˆ°ä¸¤ä¸ªæ•°ç»„çš„å°ºå¯¸çš„é•¿åº¦éƒ½ä¸€æ ·ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æŸä¸ªç»´åº¦ä¸Šçš„é•¿åº¦æ˜¯ä¸€æ ·çš„ï¼Œæˆ–è€…å…¶ä¸­ä¸€ä¸ªæ•°ç»„åœ¨è¯¥ç»´åº¦ä¸Šé•¿åº¦ä¸º1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´è¿™ä¸¤ä¸ªæ•°ç»„åœ¨è¯¥ç»´åº¦ä¸Šæ˜¯<strong>ç›¸å®¹</strong>çš„ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æ‰€æœ‰ç»´åº¦ä¸Šéƒ½æ˜¯ç›¸å®¹çš„ï¼Œä»–ä»¬å°±èƒ½ä½¿ç”¨å¹¿æ’­ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªè¾“å…¥æ•°ç»„çš„å°ºå¯¸ä¸åŒï¼Œé‚£ä¹ˆæ³¨æ„å…¶ä¸­è¾ƒå¤§çš„é‚£ä¸ªå°ºå¯¸ã€‚å› ä¸ºå¹¿æ’­ä¹‹åï¼Œä¸¤ä¸ªæ•°ç»„çš„å°ºå¯¸å°†å’Œé‚£ä¸ªè¾ƒå¤§çš„å°ºå¯¸ä¸€æ ·ã€‚</li>
<li>åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šï¼Œå¦‚æœä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ä¸º1ï¼Œå¦ä¸€ä¸ªæ•°ç»„é•¿åº¦å¤§äº1ï¼Œé‚£ä¹ˆåœ¨è¯¥ç»´åº¦ä¸Šï¼Œå°±å¥½åƒæ˜¯å¯¹ç¬¬ä¸€ä¸ªæ•°ç»„è¿›è¡Œäº†å¤åˆ¶ã€‚</li>
</ol>
<p>æ”¯æŒå¹¿æ’­æœºåˆ¶çš„å‡½æ•°æ˜¯å…¨å±€å‡½æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¹¿æ’­æœºåˆ¶çš„ä½¿ç”¨ï¼š</p>
<pre><code class="lang-py">    import numpy as np

    # Compute outer product of vectors
    v = np.array([1,2,3])  # v has shape (3,)
    w = np.array([4,5])    # w has shape (2,)
    # To compute an outer product, we first reshape v to be a column
    # vector of shape (3, 1); we can then broadcast it against w to yield
    # an output of shape (3, 2), which is the outer product of v and w:
    # [[ 4  5]
    #  [ 8 10]
    #  [12 15]]
    print np.reshape(v, (3, 1)) * w

    # Add a vector to each row of a matrix
    x = np.array([[1,2,3], [4,5,6]])
    # x has shape (2, 3) and v has shape (3,) so they broadcast to (2, 3),
    # giving the following matrix:
    # [[2 4 6]
    #  [5 7 9]]
    print x + v

    # Add a vector to each column of a matrix
    # x has shape (2, 3) and w has shape (2,).
    # If we transpose x then it has shape (3, 2) and can be broadcast
    # against w to yield a result of shape (3, 2); transposing this result
    # yields the final result of shape (2, 3) which is the matrix x with
    # the vector w added to each column. Gives the following matrix:
    # [[ 5  6  7]
    #  [ 9 10 11]]
    print (x.T + w).T

    # Another solution is to reshape w to be a row vector of shape (2, 1);
    # we can then broadcast it directly against x to produce the same
    # output.
    print x + np.reshape(w, (2, 1))

    # Multiply a matrix by a constant:
    # x has shape (2, 3). Numpy treats scalars as arrays of shape ();
    # these can be broadcast together to shape (2, 3), producing the
    # following array:
    # [[ 2  4  6]
    #  [ 8 10 12]]
    print x * 2
</code></pre>
<p>å¹¿æ’­æœºåˆ¶èƒ½å¤Ÿè®©ä½ çš„ä»£ç æ›´ç®€æ´æ›´è¿…é€Ÿï¼Œèƒ½å¤Ÿç”¨çš„æ—¶å€™è¯·å°½é‡ä½¿ç”¨ï¼  </p>
<h2 id="Numpyæ–‡æ¡£"><a href="#Numpyæ–‡æ¡£" class="headerlink" title="Numpyæ–‡æ¡£"></a>Numpyæ–‡æ¡£</h2><p>è¿™ç¯‡æ•™ç¨‹æ¶‰åŠäº†ä½ éœ€è¦äº†è§£çš„numpyä¸­çš„ä¸€äº›é‡è¦å†…å®¹ï¼Œä½†æ˜¯numpyè¿œä¸æ­¢å¦‚æ­¤ã€‚</p>
<p>Numpyæä¾›äº†é«˜æ€§èƒ½çš„å¤šç»´æ•°ç»„ï¼Œä»¥åŠè®¡ç®—å’Œæ“ä½œæ•°ç»„çš„åŸºæœ¬å·¥å…·ã€‚SciPyåŸºäºNumpyï¼Œæä¾›äº†å¤§é‡çš„è®¡ç®—å’Œæ“ä½œæ•°ç»„çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯¹äºä¸åŒç±»å‹çš„ç§‘å­¦å’Œå·¥ç¨‹è®¡ç®—éå¸¸æœ‰ç”¨ã€‚</p>
<p>ç†Ÿæ‚‰SciPyçš„æœ€å¥½æ–¹æ³•å°±æ˜¯é˜…è¯»æ–‡æ¡£ã€‚æˆ‘ä»¬ä¼šå¼ºè°ƒå¯¹äºæœ¬è¯¾ç¨‹æœ‰ç”¨çš„éƒ¨åˆ†ã€‚</p>
<h2 id="å›¾åƒæ“ä½œ"><a href="#å›¾åƒæ“ä½œ" class="headerlink" title="å›¾åƒæ“ä½œ"></a>å›¾åƒæ“ä½œ</h2><p>SciPyæä¾›äº†ä¸€äº›æ“ä½œå›¾åƒçš„åŸºæœ¬å‡½æ•°ã€‚æ¯”å¦‚ï¼Œå®ƒæä¾›äº†å°†å›¾åƒä»ç¡¬ç›˜è¯»å…¥åˆ°æ•°ç»„çš„å‡½æ•°ï¼Œä¹Ÿæä¾›äº†å°†æ•°ç»„ä¸­æ•°æ®å†™å…¥çš„ç¡¬ç›˜æˆä¸ºå›¾åƒçš„å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="lang-py">    from scipy.misc import imread, imsave, imresize

    # Read an JPEG image into a numpy array
    img = imread(&#39;assets/cat.jpg&#39;)
    print img.dtype, img.shape  # Prints &quot;uint8 (400, 248, 3)&quot;

    # We can tint the image by scaling each of the color channels
    # by a different scalar constant. The image has shape (400, 248, 3);
    # we multiply it by the array [1, 0.95, 0.9] of shape (3,);
    # numpy broadcasting means that this leaves the red channel unchanged,
    # and multiplies the green and blue channels by 0.95 and 0.9
    # respectively.
    img_tinted = img * [1, 0.95, 0.9]

    # Resize the tinted image to be 300 by 300 pixels.
    img_tinted = imresize(img_tinted, (300, 300))

    # Write the tinted image back to disk
    imsave(&#39;assets/cat_tinted.jpg&#39;, img_tinted)
</code></pre>
<img src="/2024/05/06/10-28-38/ff5f35bdb1a53c5e8dd5a16b391f63df_b.png" class>
<p>å·¦è¾¹æ˜¯åŸå§‹å›¾ç‰‡ï¼Œå³è¾¹æ˜¯å˜è‰²å’Œå˜å½¢çš„å›¾ç‰‡ã€‚</p>
<h2 id="MATLABæ–‡ä»¶"><a href="#MATLABæ–‡ä»¶" class="headerlink" title="MATLABæ–‡ä»¶"></a>MATLABæ–‡ä»¶</h2><p>å‡½æ•°<strong>scipy.io.loadmat</strong>å’Œ<strong>scipy.io.savemat</strong>èƒ½å¤Ÿè®©ä½ è¯»å’Œå†™MATLABæ–‡ä»¶ã€‚</p>
<h2 id="ç‚¹ä¹‹é—´çš„è·ç¦»"><a href="#ç‚¹ä¹‹é—´çš„è·ç¦»" class="headerlink" title="ç‚¹ä¹‹é—´çš„è·ç¦»"></a>ç‚¹ä¹‹é—´çš„è·ç¦»</h2><p>SciPyå®šä¹‰äº†ä¸€äº›æœ‰ç”¨çš„å‡½æ•°ï¼Œå¯ä»¥è®¡ç®—é›†åˆä¸­ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p>å‡½æ•°<strong>scipy.spatial.distance.pdist</strong>èƒ½å¤Ÿè®¡ç®—é›†åˆä¸­æ‰€æœ‰ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼š</p>
<pre><code class="lang-py">    import numpy as np
    from scipy.spatial.distance import pdist, squareform

    # Create the following array where each row is a point in 2D space:
    # [[0 1]
    #  [1 0]
    #  [2 0]]
    x = np.array([[0, 1], [1, 0], [2, 0]])
    print x

    # Compute the Euclidean distance between all rows of x.
    # d[i, j] is the Euclidean distance between x[i, :] and x[j, :],
    # and d is the following array:
    # [[ 0.          1.41421356  2.23606798]
    #  [ 1.41421356  0.          1.        ]
    #  [ 2.23606798  1.          0.        ]]
    d = squareform(pdist(x, &#39;euclidean&#39;))
    print d
</code></pre>
<p>å‡½æ•°<strong>scipy.spatial.distance.cdist</strong>å¯ä»¥è®¡ç®—ä¸åŒé›†åˆä¸­ç‚¹çš„è·ç¦»ï¼Œ## Matplotlib</p>
<p>Matplotlibæ˜¯ä¸€ä¸ªä½œå›¾åº“ã€‚è¿™é‡Œç®€è¦ä»‹ç»<strong>matplotlib.pyplot</strong>æ¨¡å—ï¼ŒåŠŸèƒ½å’ŒMATLABçš„ä½œå›¾åŠŸèƒ½ç±»ä¼¼ã€‚</p>
<h3 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h3><p>matplotlibåº“ä¸­æœ€é‡è¦çš„å‡½æ•°æ˜¯<strong>Plot</strong>ã€‚è¯¥å‡½æ•°å…è®¸ä½ åšå‡º2Då›¾å½¢ï¼Œå¦‚ä¸‹ï¼š  </p>
<pre><code class="lang-py">    import numpy as np
    import matplotlib.pyplot as plt

    # Compute the x and y coordinates for points on a sine curve
    x = np.arange(0, 3 * np.pi, 0.1)
    y = np.sin(x)

    # Plot the points using matplotlib
    plt.plot(x, y)
    plt.show()  # You must call plt.show() to make graphics appear.
</code></pre>
<p>è¿è¡Œä¸Šé¢ä»£ç ä¼šäº§ç”Ÿä¸‹é¢çš„ä½œå›¾ï¼š  </p>
<img src="/2024/05/06/10-28-38/47169e8280088396107e0c62d7689e07_b.png" class>
<p>åªéœ€è¦å°‘é‡å·¥ä½œï¼Œå°±å¯ä»¥ä¸€æ¬¡ç”»ä¸åŒçš„çº¿ï¼ŒåŠ ä¸Šæ ‡ç­¾ï¼Œåæ ‡è½´æ ‡å¿—ç­‰ã€‚  </p>
<pre><code class="lang-py">    import numpy as np
    import matplotlib.pyplot as plt

    # Compute the x and y coordinates for points on sine and cosine curves
    x = np.arange(0, 3 * np.pi, 0.1)
    y_sin = np.sin(x)
    y_cos = np.cos(x)

    # Plot the points using matplotlib
    plt.plot(x, y_sin)
    plt.plot(x, y_cos)
    plt.xlabel(&#39;x axis label&#39;)
    plt.ylabel(&#39;y axis label&#39;)
    plt.title(&#39;Sine and Cosine&#39;)
    plt.legend([&#39;Sine&#39;, &#39;Cosine&#39;])
    plt.show()
</code></pre>
<img src="/2024/05/06/10-28-38/955a7bcd45981728e91693961c21fbae_b.png" class>
<h2 id="ç»˜åˆ¶å¤šä¸ªå›¾åƒ"><a href="#ç»˜åˆ¶å¤šä¸ªå›¾åƒ" class="headerlink" title="ç»˜åˆ¶å¤šä¸ªå›¾åƒ"></a>ç»˜åˆ¶å¤šä¸ªå›¾åƒ</h2><p>å¯ä»¥ä½¿ç”¨<strong>subplot</strong>å‡½æ•°æ¥åœ¨ä¸€å¹…å›¾ä¸­ç”»ä¸åŒçš„ä¸œè¥¿ï¼š  </p>
<pre><code class="lang-py">    import numpy as np
    import matplotlib.pyplot as plt

    # Compute the x and y coordinates for points on sine and cosine curves
    x = np.arange(0, 3 * np.pi, 0.1)
    y_sin = np.sin(x)
    y_cos = np.cos(x)

    # Set up a subplot grid that has height 2 and width 1,
    # and set the first such subplot as active.
    plt.subplot(2, 1, 1)

    # Make the first plot
    plt.plot(x, y_sin)
    plt.title(&#39;Sine&#39;)

    # Set the second subplot as active, and make the second plot.
    plt.subplot(2, 1, 2)
    plt.plot(x, y_cos)
    plt.title(&#39;Cosine&#39;)

    # Show the figure.
    plt.show()
</code></pre>
<img src="/2024/05/06/10-28-38/c2abf551074a0db7445067f460417a08_b.png" class>
<h2 id="å›¾åƒ"><a href="#å›¾åƒ" class="headerlink" title="å›¾åƒ"></a>å›¾åƒ</h2><p>ä½ å¯ä»¥ä½¿ç”¨<strong>imshow</strong>å‡½æ•°æ¥æ˜¾ç¤ºå›¾åƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š  </p>
<pre><code class="lang-py">    import numpy as np
    from scipy.misc import imread, imresize
    import matplotlib.pyplot as plt

    img = imread(&#39;assets/cat.jpg&#39;)
    img_tinted = img * [1, 0.95, 0.9]

    # Show the original image
    plt.subplot(1, 2, 1)
    plt.imshow(img)

    # Show the tinted image
    plt.subplot(1, 2, 2)

    # A slight gotcha with imshow is that it might give strange results
    # if presented with data that is not uint8. To work around this, we
    # explicitly cast the image to uint8 before displaying it.
    plt.imshow(np.uint8(img_tinted))
    plt.show()
</code></pre>
<img src="/2024/05/06/10-28-38/81197033afe9b507dea565ed558a6239_b.png" class>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†, æ·±åº¦å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰æ¦‚è®º å…‰åå°„æˆåƒï¼Œäº®åº¦ï¼Œé˜´å½±</title>
    <url>/2024/05/03/12-11-15/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.03ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-42-03/" title="Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰æ¦‚ç‡-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="å›¾åƒçš„æˆåƒ"><a href="#å›¾åƒçš„æˆåƒ" class="headerlink" title="å›¾åƒçš„æˆåƒ"></a>å›¾åƒçš„æˆåƒ</h2><h3 id="è¡¨é¢çº¹ç†"><a href="#è¡¨é¢çº¹ç†" class="headerlink" title="è¡¨é¢çº¹ç†"></a>è¡¨é¢çº¹ç†</h3><img src="/2024/05/03/12-11-15/QQ20240505-101936@2x.png" class>
<p>å›¾åƒç”±ï¼šä¸€å°å—è¡¨é¢æ³•çº¿ï¼Œè¡¨é¢æŠ˜å°„ç‡ï¼Œç…§æ˜ç»„æˆã€‚</p>
<h4 id="è¾å°„ç‡"><a href="#è¾å°„ç‡" class="headerlink" title="è¾å°„ç‡"></a>è¾å°„ç‡</h4><img src="/2024/05/03/12-11-15/QQ20240505-102048@2x.png" class>
<p>è¾å°„ç‡ï¼šå•ä½é¢ç§¯ä¸Šå¸æ”¶çš„èƒ½é‡<br>å•ä½ï¼šç“¦æ¯å¹³æ–¹ç±³ $Wm^{-2}Sr^{-1}$</p>
<p>åˆ°è¾¾è¡¨é¢çš„èƒ½é‡ï¼šE<br>å•ä½ï¼š$Wm^{-2}$</p>
<img src="/2024/05/03/12-11-15/QQ20240505-102428@2x.png" class>
<h4 id="åŒå‘åå°„åˆ†å¸ƒå‡½æ•°-BRDF"><a href="#åŒå‘åå°„åˆ†å¸ƒå‡½æ•°-BRDF" class="headerlink" title="åŒå‘åå°„åˆ†å¸ƒå‡½æ•° BRDF"></a>åŒå‘åå°„åˆ†å¸ƒå‡½æ•° BRDF</h4><p>å…¥å°„ï¼Œåå°„<br><img src="/2024/05/03/12-11-15/QQ20240505-102527@2x.png" class><br><img src="/2024/05/03/12-11-15/QQ20240505-102622@2x.png" class></p>
<p>BRDFå…¬å¼ï¼š$f(\theta_i,\varphi_i;\theta_r,\varphi_r)=\frac{L^{surface}(\theta_r,\varphi_r)}{E^{surface}(\theta_i,\varphi_i)}$<br>åå°„ä¸å…¥å°„çš„æ¯”ä¾‹</p>
<p>é‡è¦å±æ€§ï¼š<br>äº¤æ¢å…‰æºå’Œç…§ç›¸æœºï¼Œæ¯”ä¾‹ä¸å˜ï¼š<br>$f(\theta_i,\varphi_i;\theta_r,\varphi_r)=f(\theta_r,\varphi_r;\theta_i,\varphi_i)$</p>
<p>æ—‹è½¬å¯¹ç§°æ€§ï¼š<br>$f(\theta_i,\varphi_i;\theta_r,\varphi_r)=f(\theta_i,\theta_r,\varphi_i-\varphi_r)$<br>è¡¨æ˜å…¬å¼ä¸ç»å¯¹è§’åº¦æ— å…³ï¼Œåªæœ‰ä»–ä»¬ä¹‹é—´çš„ç›¸å¯¹è§’åº¦æœ‰å…³ã€‚</p>
<h3 id="åå°„æ¨¡å‹"><a href="#åå°„æ¨¡å‹" class="headerlink" title="åå°„æ¨¡å‹"></a>åå°„æ¨¡å‹</h3><p>æ¼«åå°„<br><img src="/2024/05/03/12-11-15/QQ20240505-103332@2x.png" class></p>
<p>é•œé¢åå°„<br><img src="/2024/05/03/12-11-15/QQ20240505-103403@2x.png" class></p>
<p>åå°„å…‰å¼ºåº¦</p>
<img src="/2024/05/03/12-11-15/QQ20240505-103443@2x.png" class>
<h4 id="Lambertian-BRDF"><a href="#Lambertian-BRDF" class="headerlink" title="Lambertian BRDF"></a>Lambertian BRDF</h4><p>æ‰€æœ‰æ–¹å‘çœ‹èµ·æ¥ä¸€æ ·äº®</p>
<img src="/2024/05/03/12-11-15/QQ20240505-103722@2x.png" class>
<p>å…‰çš„åå°„æ˜¯æŒ‰ç…§è§’åº¦è¡°å‡çš„ã€‚<br>ä¸ºä»€ä¹ˆçœ‹åˆ°çš„å…‰äº®åº¦ç›¸åŒï¼Ÿ<br>å› ä¸ºå‚ç›´è§’åº¦çœ‹åˆ°çš„é¢ç§¯å°ï¼Œä½†äº®åº¦é«˜ï¼Œæ¥è¿‘å¹³è¡Œçš„é¢ç§¯å¤§ï¼Œäº®åº¦ä½ï¼Œæ€»ä½“çœ‹èµ·æ¥äº®åº¦ç›¸åŒã€‚</p>
<img src="/2024/05/03/12-11-15/QQ20240505-104119@2x.png" class>
<p>å…‰çš„åå°„ç‡æ˜¯ä¸€ä¸ªå¸¸æ•°<br>$albedo$:$f\left(\theta_i,\varphi_i;\theta_r,\varphi_r\right)=\rho_d$</p>
<p>è¡¨é¢è¾å°„ï¼š$L=\rho_d I\cos\theta_i=\rho_d I ( \vec{n} \cdot\vec{s})$</p>
<p>é•œé¢BRDFï¼š<br><img src="/2024/05/03/12-11-15/QQ20240505-104452@2x.png" class><br>BRDF:$f(\theta_i,\phi_i;\theta_v,\phi_v)=\rho_s\delta(\theta_i-\theta_v)\delta(\phi_i+\pi-\phi_v)$<br>è¡¨é¢è¾å°„ï¼š$L=I\rho_S\delta(\theta_i-\theta_v)\delta(\varphi_i+\pi-\varphi_v)$</p>
<p>å¦ä¸€ç§å†™æ³•ï¼š$L=I\rho_s\delta(\vec{m}-\vec{v})\mathrm{~or~}I\rho_s\delta(\vec{n}-\vec{h})$<br>$\vec{h}$ï¼šåŠè§’</p>
<h4 id="å…‰æ³½BRDF-Glossy"><a href="#å…‰æ³½BRDF-Glossy" class="headerlink" title="å…‰æ³½BRDF  Glossy"></a>å…‰æ³½BRDF  Glossy</h4><img src="/2024/05/03/12-11-15/QQ20240505-104912@2x.png" class>
<p>è¡¨é¢è¾å°„ï¼š$L=I\rho_s(\vec{m}\cdot\vec{v})^k$</p>
<h3 id="Phong-åå°„æ¨¡å‹"><a href="#Phong-åå°„æ¨¡å‹" class="headerlink" title="Phong åå°„æ¨¡å‹"></a>Phong åå°„æ¨¡å‹</h3><img src="/2024/05/03/12-11-15/QQ20240505-105128@2x.png" class>
<h2 id="äº®åº¦"><a href="#äº®åº¦" class="headerlink" title="äº®åº¦"></a>äº®åº¦</h2><h4 id="äº®åº¦å‡è®¾"><a href="#äº®åº¦å‡è®¾" class="headerlink" title="äº®åº¦å‡è®¾"></a>äº®åº¦å‡è®¾</h4><img src="/2024/05/03/12-11-15/QQ20240505-105533@2x.png" class>
<img src="/2024/05/03/12-11-15/QQ20240505-105617@2x.png" class>
<p>å®é™…ä¸Šä¸¤ä¸ªæ–¹å—çš„äº®åº¦æ˜¯ç›¸åŒçš„ï¼Œä½†å¤§è„‘ä¸€ç›´åœ¨è¡¥å¿é˜´å½±ã€‚</p>
<img src="/2024/05/03/12-11-15/QQ20240505-105812@2x.png" class>
<img src="/2024/05/03/12-11-15/QQ20240505-105812@2x.png" class>
<p>äº®åº¦ï¼šç­‰äºåå°„ç‡ä¹˜èƒ½é‡<br><img src="/2024/05/03/12-11-15/QQ20240505-110117@2x.png" class></p>
<h3 id="è’™å¾·é‡Œå®‰ä¸–ç•Œ-The-Mondrian-world"><a href="#è’™å¾·é‡Œå®‰ä¸–ç•Œ-The-Mondrian-world" class="headerlink" title="è’™å¾·é‡Œå®‰ä¸–ç•Œ The Mondrian world"></a>è’™å¾·é‡Œå®‰ä¸–ç•Œ The Mondrian world</h3><p>è®¡ç®—æœºçš„å‡è®¾ï¼š</p>
<ol>
<li>å…‰æ˜¯ç¼“æ…¢å˜åŒ–çš„</li>
<li>åå°„ç‡æ˜¯å¸¸æ•°</li>
<li>ç‰©ä½“ä¹‹é—´çš„åå°„ç‡å˜åŒ–æ€¥å‰§<img src="/2024/05/03/12-11-15/QQ20240505-110352@2x.png" class>
</li>
</ol>
<p>å¼ºåº¦æ’å®šçš„æ–‘å—ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240505-110431@2x.png" class></p>
<p>å‡è®¾å…‰ç…§å¼ºåº¦æ˜¯ä½é¢‘çš„ï¼Œç¼“æ…¢å˜åŒ–ã€‚<br>è¾¹ç¼˜çš„åå°„ç‡æ˜¯æ’å®šçš„ã€‚<br>å›¾åƒç›¸åŠ ï¼Ÿï¼š<br><img src="/2024/05/03/12-11-15/QQ20240505-110637@2x.png" class></p>
<p>å¦‚ä½•æ¢å¤åå°„ç‡ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240505-110754@2x.png" class></p>
<h4 id="è§†ç½‘è†œè‰²ç´ -Landâ€™s-Retinex-Theory"><a href="#è§†ç½‘è†œè‰²ç´ -Landâ€™s-Retinex-Theory" class="headerlink" title="è§†ç½‘è†œè‰²ç´  Landâ€™s Retinex Theory"></a>è§†ç½‘è†œè‰²ç´  Landâ€™s Retinex Theory</h4><p>å±•ç¤ºäº†äººç±»å¦‚ä½•æ„ŸçŸ¥ä¸åŒè‰²ç´ <br>ç›®æ ‡ï¼šæ¶ˆé™¤ç¼“æ…¢å˜åŒ–<br>$\log(L(x,y))~=~\log(R(x,y))~+~\log(E(x,y))$<br>é«˜é€šæ»¤æ³¢ä¿ç•™é«˜æ³¢ï¼Œå»æ‰é˜€å€¼ã€‚</p>
<p>ä¸€ç»´äº®åº¦ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240505-111110@2x.png" class><br>å¤„ç†é˜€å€¼ï¼Œæ•´åˆæˆåå°„ç‡ï¼Œä½†æ˜¯å¤šä¸€ä¸ªå¸¸æ•°ã€‚<br><img src="/2024/05/03/12-11-15/QQ20240505-111242@2x.png" class></p>
<p>ä¾‹å­ï¼šå½©è‰²è§†ç½‘è†œ<br><img src="/2024/05/03/12-11-15/QQ20240505-111441@2x.png" class><br>é‡æ–°æ ¡å‡†å¼ºåº¦</p>
<h4 id="é¢œè‰²æ’å®šç‡ï¼Œå¼ºåº¦æ’å®šç‡"><a href="#é¢œè‰²æ’å®šç‡ï¼Œå¼ºåº¦æ’å®šç‡" class="headerlink" title="é¢œè‰²æ’å®šç‡ï¼Œå¼ºåº¦æ’å®šç‡"></a>é¢œè‰²æ’å®šç‡ï¼Œå¼ºåº¦æ’å®šç‡</h4><img src="/2024/05/03/12-11-15/QQ20240505-111924@2x.png" class>
<p>é¢œè‰²æ’å®šç‡ï¼šæŸç§é¢œè‰²ï¼Œåœ¨ä¸ç”¨å…‰ç…§ä¸‹ï¼Œä»ç„¶å¯ä»¥çœ‹åˆ°é¢œè‰²<br>å¼ºåº¦æ’å®šç‡ï¼šåœ¨ä¸åŒç¯å¢ƒï¼Œå¯ä»¥æ„ŸçŸ¥ç›¸åŒçš„å¼ºåº¦ã€‚</p>
<h2 id="é˜´å½±"><a href="#é˜´å½±" class="headerlink" title="é˜´å½±"></a>é˜´å½±</h2><h3 id="é˜´å½±çš„å½¢çŠ¶"><a href="#é˜´å½±çš„å½¢çŠ¶" class="headerlink" title="é˜´å½±çš„å½¢çŠ¶"></a>é˜´å½±çš„å½¢çŠ¶</h3><p>é˜´å½±ä½œä¸ºæ¢å¤å½¢çŠ¶çš„æç¤º</p>
<h4 id="åå°„ç‡å›¾"><a href="#åå°„ç‡å›¾" class="headerlink" title="åå°„ç‡å›¾"></a>åå°„ç‡å›¾</h4><img src="/2024/05/03/12-11-15/QQ20240506-093432@2x.png" class>
<img src="/2024/05/03/12-11-15/QQ20240506-093505@2x.png" class>
<p>æ›²çº¿æ³•å‘é‡ï¼š$\mathbf{n}=\frac N{\left\|N\right\|}=\frac{t_x\times t_y}{\left\|t_x\times t_y\right\|}=\frac1{\sqrt{p^2+q^2+1}}\left(p,q,1\right)^T$</p>
<h4 id="é«˜æ–¯çƒå’Œæ¢¯åº¦ç©ºé—´æŠ•å½±"><a href="#é«˜æ–¯çƒå’Œæ¢¯åº¦ç©ºé—´æŠ•å½±" class="headerlink" title="é«˜æ–¯çƒå’Œæ¢¯åº¦ç©ºé—´æŠ•å½±"></a>é«˜æ–¯çƒå’Œæ¢¯åº¦ç©ºé—´æŠ•å½±</h4><p>å­˜åœ¨ä»æ‰€æœ‰æ³•çº¿åˆ°é«˜æ–¯çƒçš„æ˜ å°„ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240506-093838@2x.png" class><br><img src="/2024/05/03/12-11-15/QQ20240506-093909@2x.png" class><br><img src="/2024/05/03/12-11-15/QQ20240506-093921@2x.png" class></p>
<h4 id="æºå‘é‡æ¢¯åº¦ç©ºé—´å’Œæ³•å‘é‡æ¢¯åº¦ç©ºé—´"><a href="#æºå‘é‡æ¢¯åº¦ç©ºé—´å’Œæ³•å‘é‡æ¢¯åº¦ç©ºé—´" class="headerlink" title="æºå‘é‡æ¢¯åº¦ç©ºé—´å’Œæ³•å‘é‡æ¢¯åº¦ç©ºé—´"></a>æºå‘é‡æ¢¯åº¦ç©ºé—´å’Œæ³•å‘é‡æ¢¯åº¦ç©ºé—´</h4><img src="/2024/05/03/12-11-15/QQ20240506-094225@2x.png" class>
<p>å•ä½æ³•å‘é‡ï¼š$\mathbf{n=\frac N{|N|}=\frac{(p,q,1)}{\sqrt{p^2+q^2+1}}}$</p>
<p>å•ä½æºå‘é‡ï¼š$\mathbf{s}=\frac{\mathbf{S}}{|\mathbf{S}|}=\frac{(p_S,q_S,1)}{\sqrt{p_S^2+q_S^2+1}}$</p>
<p>å‘é‡å¤¹è§’ï¼š$\cos\theta_i=\mathbf{n}\cdot\mathbf{s}=\frac{(pp_S+qq_S+1)}{\sqrt{p^2+q^2+1}\sqrt{p_S^2+q_S^2+1}}$</p>
<h3 id="é˜´å½±å½¢çŠ¶çš„å®šä¹‰"><a href="#é˜´å½±å½¢çŠ¶çš„å®šä¹‰" class="headerlink" title="é˜´å½±å½¢çŠ¶çš„å®šä¹‰"></a>é˜´å½±å½¢çŠ¶çš„å®šä¹‰</h3><img src="/2024/05/03/12-11-15/QQ20240506-094504@2x.png" class>
<h4 id="æœ—ä¼¯æ¡ˆä¾‹"><a href="#æœ—ä¼¯æ¡ˆä¾‹" class="headerlink" title="æœ—ä¼¯æ¡ˆä¾‹"></a>æœ—ä¼¯æ¡ˆä¾‹</h4><img src="/2024/05/03/12-11-15/QQ20240506-094718@2x.png" class>
<p>åå°„å›¾ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240506-094852@2x.png" class></p>
<p>Iso äº®åº¦è½®å»“ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240506-094911@2x.png" class></p>
<h3 id="å…‰åº¦ç«‹ä½“"><a href="#å…‰åº¦ç«‹ä½“" class="headerlink" title="å…‰åº¦ç«‹ä½“"></a>å…‰åº¦ç«‹ä½“</h3><p>ç›¸åŒçš„ç‰©ä½“ï¼Œä¸åŒçš„å…‰ç…§<br><img src="/2024/05/03/12-11-15/QQ20240506-095328@2x.png" class></p>
<img src="/2024/05/03/12-11-15/QQ20240506-095430@2x.png" class>
<img src="/2024/05/03/12-11-15/QQ20240506-095508@2x.png" class>
<img src="/2024/05/03/12-11-15/QQ20240506-095523@2x.png" class>
<p>æœ€ç»ˆpqç©ºé—´å›¾ï¼š<br><img src="/2024/05/03/12-11-15/QQ20240506-095554@2x.png" class></p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰æ¦‚è®º å›¾åƒç‰¹å¾</title>
    <url>/2024/05/02/13-20-59/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.05.02ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-42-03/" title="Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰æ¦‚ç‡-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="ç‰¹å¾æ£€æµ‹"><a href="#ç‰¹å¾æ£€æµ‹" class="headerlink" title="ç‰¹å¾æ£€æµ‹"></a>ç‰¹å¾æ£€æµ‹</h2><p>ä¸€ç§å¯»æ‰¾å¯¹åº”å…³ç³»çš„æ–¹æ³•</p>
<h4 id="å›¾åƒç‚¹åŒ¹é…é—®é¢˜"><a href="#å›¾åƒç‚¹åŒ¹é…é—®é¢˜" class="headerlink" title="å›¾åƒç‚¹åŒ¹é…é—®é¢˜"></a>å›¾åƒç‚¹åŒ¹é…é—®é¢˜</h4><p>Local Featuresï¼šå±€éƒ¨ç‰¹å¾<br>ç›®æ ‡ï¼šåœ¨å…¶ä»–å›¾åƒä¸­æ‰¾åˆ°ç‚¹çš„ç²¾ç¡®ä½ç½®</p>
<p>ç‰¹å¾åŒ¹é…çš„è¿‡ç¨‹ï¼š</p>
<ol>
<li>æ£€æµ‹ä¸€äº›å…´è¶£ç‚¹(ç‰¹å¾)</li>
<li>åŒ¹é…ä¸¤å¼ å›¾ä¸­çš„ç‰¹å¾ç‚¹</li>
<li>ä½¿ç”¨å¯¹åº”ç‚¹ï¼Œå¯¹é½å›¾åƒ</li>
</ol>
<img src="/2024/05/02/13-20-59/QQ20240502-132909@2x.png" class>
<p>ç‰¹å¾åŒ¹é…çš„é—®é¢˜ï¼š</p>
<ol>
<li>ç‹¬ç«‹çš„ç‰¹å¾ï¼Œ éœ€è¦é‡å¤æ£€æµ‹å™¨</li>
<li>é‡å¤ç›¸ä¼¼åŒ¹é…ï¼Œä½¿ç”¨ç‰¹å¾æè¿°ç¬¦descriptor</li>
</ol>
<h4 id="å¥½çš„ç‰¹å¾"><a href="#å¥½çš„ç‰¹å¾" class="headerlink" title="å¥½çš„ç‰¹å¾"></a>å¥½çš„ç‰¹å¾</h4><p>å¯é‡å¤æ€§ï¼šRepeatability/Precision<br>å¥½çš„ç‰¹å¾åº”è¯¥åœ¨åŒä¸€åœºæ™¯çš„ä¸åŒå›¾ç‰‡ä¸­è¢«æ£€æµ‹å‡ºæ¥</p>
<p>æ˜¾è‘—æ€§/å¯åŒ¹é…æ€§ï¼šSaliency/Matchability<br>æœ‰ä¸åŒçš„åŒºåˆ†æè¿°</p>
<p>ç´§å‡‘å‹å’Œæ•ˆç‡ï¼šCompactness and efficiency<br>æ¯”å›¾åƒåƒç´ æ›´å°‘çš„ç‰¹å¾</p>
<p>å±€éƒ¨æ€§ï¼šLocality<br>æè¿°å…·æœ‰å¥½çš„å±€éƒ¨æ€§,å¯ä»¥è§£å†³é®æŒ¡</p>
<h2 id="å¯»æ‰¾è§’ç‚¹"><a href="#å¯»æ‰¾è§’ç‚¹" class="headerlink" title="å¯»æ‰¾è§’ç‚¹"></a>å¯»æ‰¾è§’ç‚¹</h2><p>ä¸€ä¸ªç™½å¢™ä¸Šæœ‰ä¸€ä¸ªé»‘è‰²æ–¹å—ï¼š<br>é»‘å—ä¸æ˜¯ä¸€ä¸ªå¥½ç‰¹å¾ï¼Œæ— æ³•å®šä½ã€‚<br>è¾¹ç¼˜ä¹Ÿä¸æ˜¯å¥½ç‰¹å¾ï¼Œè§’æ˜¯ä¸€ä¸ªå¥½ç‰¹å¾ã€‚</p>
<img src="/2024/05/02/13-20-59/QQ20240502-142106@2x.png" class>
<p>è§’æ˜¯ä¸€ä¸ªæ¢¯åº¦å˜æ¢çš„åœ°æ–¹ã€‚</p>
<h4 id="å“ˆé‡Œæ–¯è§’-Harris-Corners"><a href="#å“ˆé‡Œæ–¯è§’-Harris-Corners" class="headerlink" title="å“ˆé‡Œæ–¯è§’ Harris Corners:"></a>å“ˆé‡Œæ–¯è§’ Harris Corners:</h4><p>$E\left(u,\nu\right)=\sum_{x,y}w\left(x,y\right)\left[I\left(x+u,y+\nu\right)-I\left(x,y\right)\right]^{2}$</p>
<ul>
<li>$w\left(x,y\right)$ æ˜¯ä¸€ä¸ªçª—å£<img src="/2024/05/02/13-20-59/QQ20240502-142537@2x.png" class>
</li>
</ul>
<p>å“ˆé‡Œæ–¯è§’å›¾ï¼š</p>
<img src="/2024/05/02/13-20-59/QQ20240502-142639@2x.png" class>
<ul>
<li>è¯¯å·®ä¸º0ï¼Œæ˜¯é»‘è‰²</li>
<li>å·¦å›¾ä¸­çº¢è‰²æ–¹å—æ˜¯è§’å›¾ä¸­å¿ƒï¼Œè¯¯å·®ä¸º0ï¼Œç»¿è‰²ç§»åŠ¨åï¼Œå‡ºç°è¯¯å·®</li>
</ul>
<p>å“ˆé‡Œæ–¯è§’åœ¨å¾ˆå°çš„ç§»åŠ¨ä¼šäº§ç”Ÿè¯¯å·®ï¼š<br>äºŒé˜¶æ³°å‹’å±•å¼€ï¼š<br>$F\left(\delta x\right)\approx F\left(0\right)+\delta x\cdot\frac{dF\left(0\right)}{dx}+\frac12\delta x^2\cdot\frac{d^2F\left(0\right)}{dx^2}$</p>
<p>äºŒç»´æ³°å‹’å±•å¼€ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-143009@2x.png" class></p>
<p>æ¨å¯¼è¿‡ç¨‹ï¼š<br>$E_u\left(u,\nu\right)=\sum_{x,y}2w\left(x,y\right)\left[I\left(x+u,y+\nu\right)-I\left(x,y\right)\right]I_x\left(x+u,y+v\right)$</p>
<p>$\begin{split}<br>E_{\textit{ u }\nu}\left(u,\nu\right)&amp; =\sum_{x,y}2w(x,y)I_y(x+u,y+v)I_x(x+u,y+v) \\<br>&amp;+\sum_{x,y}2w(x,y)\Big[I(x+u,y+v)-I(x,y)\Big]I_{xy}(x+u,y+v)<br>\end{split}$</p>
<p>$\begin{split}E_{u\nu}(u,\nu)&amp;=\sum_{x,y}2w(x,y)I_y(x+u,y+v)I_x(x+u,y+v)\\&amp;+\sum_{x,y}2w(x,y)\Big[I(x+u,y+v)-I(x,y)\Big]I_{xy}(x+u,y+v)\end{split}$</p>
<p>å¸¦å…¥ç‚¹$(0,0)$ï¼Œæ¶ˆå»å¾—ï¼š</p>
<p>$E\left(u ,\nu\right) \approx \begin{bmatrix}u&amp;\nu\end{bmatrix} M\quad\begin{bmatrix}u\\\nu\end{bmatrix}$</p>
<p>$M=\sum_{x,y}w(x,y)\begin{bmatrix}I_x^2&amp;&amp;I_xI_y\\I_xI_y&amp;&amp;I_y^2\end{bmatrix}$</p>
<p>å½“æ²¡æœ‰æƒé‡$w(x,y)$æ—¶ï¼š</p>
<p>$M=\begin{bmatrix}\sum I_xI_x&amp;\sum I_xI_y\\\sum I_xI_y&amp;\sum I_yI_y\end{bmatrix}=\sum\left(\begin{bmatrix}I_x\\I_y\end{bmatrix}-\begin{bmatrix}I_x&amp;I_y\end{bmatrix}\right)=\sum\nabla I\left(\nabla I\right)^T$</p>
<p>å…¶ä¸­$\nabla I$ï¼šæ˜¯ä¸€ä¸ªç§©ä¸º1çš„åˆ—å‘é‡ï¼Œæ‰€æœ‰ç­‰å¼å³è¾¹æ˜¯ä¸€ä¸ªç§©ä¸º1çš„äºŒé˜¶æ–¹é˜µã€‚</p>
<p>? å¿…é¡»è®©çª—å£å†…æ‰€æœ‰æ–¹å‘éƒ½æœ‰æ¢¯åº¦ï¼Œæ‰å¯ä»¥æ±‚å’Œåå¾—åˆ°ä¸€ä¸ªæ»¡ç§©çŸ©é˜µï¼Ÿï¼Ÿ</p>
<h4 id="è§£é‡ŠäºŒé˜¶è¿‘ä¼¼æ–¹ç¨‹"><a href="#è§£é‡ŠäºŒé˜¶è¿‘ä¼¼æ–¹ç¨‹" class="headerlink" title="è§£é‡ŠäºŒé˜¶è¿‘ä¼¼æ–¹ç¨‹"></a>è§£é‡ŠäºŒé˜¶è¿‘ä¼¼æ–¹ç¨‹</h4><p>ä»£æ•°è¡¨è¾¾å¼ï¼šæ¤­åœ†æ–¹ç¨‹<br>$\sum I_x^2u^2+2\sum I_xI_yu\nu+\sum I_y^2\nu^2=k$</p>
<p>æ¤­åœ†å›¾ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-145419@2x.png" class></p>
<p>è€ƒè™‘ï¼Œçª—å£å†…çš„æ¢¯åº¦æ°¸è¿œæ˜¯æ°´å¹³æˆ–å‚ç›´ï¼Œæ‰€æœ‰$I_xI_y$ä¸º0ã€‚<br>åŒ–ç®€ï¼š<br>$M=\sum_{x,y}w(x,y)\begin{bmatrix}I_x^2&amp;&amp;I_xI_y\\I_xI_y&amp;&amp;I_y^2\end{bmatrix}=\begin{bmatrix}\lambda&amp;0\\0&amp;\lambda_2\end{bmatrix}$</p>
<p>$M$å¯ä»¥è¢«ç›¸ä¼¼å¯¹è§’åŒ–ï¼š<br>$M~=~R^{-1}\left[\begin{array}{cc}\lambda&amp;0\\0&amp;\lambda_2\end{array}\right]R$</p>
<p>ç‰¹å¾å€¼çš„ä½œç”¨ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-145313@2x.png" class><br>åœ¨çŸ­è¾¹å¤„ï¼šå˜æ¢å¾ˆå¿«ï¼Œé•¿è¾¹å¤„å˜æ¢é€Ÿåº¦å¾ˆæ…¢ï¼Œéœ€è¦ç§»åŠ¨å¾ˆå¤šæ‰æœ‰å˜åŒ–ã€‚</p>
<h4 id="è§£é‡Šç‰¹å¾å€¼"><a href="#è§£é‡Šç‰¹å¾å€¼" class="headerlink" title="è§£é‡Šç‰¹å¾å€¼"></a>è§£é‡Šç‰¹å¾å€¼</h4><p>è®¡ç®—å“ˆé‡Œæ–¯çŸ©é˜µï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-150536@2x.png" class></p>
<ul>
<li>å¹³å¦åŒºåŸŸï¼šflat<br>æ¢¯åº¦ä¸º0ï¼Œæ€ä¹ˆç§»åŠ¨éƒ½ä¸ä¼šå˜åŒ–ã€‚</li>
<li>å¦‚æœä¸€ä¸ªç‰¹å¾å€¼ç‰¹åˆ«å¤§<br>æœè¿™ä¸ªæ–¹å‘çš„è¾¹ç¼˜ç§»åŠ¨ï¼Œå˜æ¢å¾ˆå¿«</li>
<li>ä¸¤ä¸ªç‰¹å¾å€¼å¤§å°ç›¸ä¼¼<br>è§’ï¼šåœ¨ä»»ä½•æ–¹å‘å˜åŒ–ç›¸åŒ</li>
</ul>
<h4 id="å“ˆé‡Œæ–¯å“åº”å‡½æ•°ï¼š"><a href="#å“ˆé‡Œæ–¯å“åº”å‡½æ•°ï¼š" class="headerlink" title="å“ˆé‡Œæ–¯å“åº”å‡½æ•°ï¼š"></a>å“ˆé‡Œæ–¯å“åº”å‡½æ•°ï¼š</h4><p>$R=\det(M^2)-\alpha\mathrm{~trace}(M)^2=\lambda_1\lambda_2-\alpha(\lambda_1+\lambda_2)^2$<br>$\alpha$:ç‰¹åˆ«å° 0.04 to 0.06</p>
<p>$R$å–å†³äºç‰¹å¾å€¼ï¼Œä½†ä¸éœ€è¦è®¡ç®—ç‰¹å¾å€¼ï¼Œ<br>åŸå› ï¼š</p>
<ul>
<li>è§’ï¼šä¸¤ä¸ªç‰¹å¾å€¼éƒ½å¾ˆå¤§ï¼Œ$R$æ­£çš„å¤§æ•°</li>
<li>è¾¹ï¼šä¸€ä¸ªç‰¹å¾å€¼å¾ˆå¤§,$R$æ˜¯è´Ÿçš„å¤§æ•°</li>
<li>å¹³å¦ï¼š$R$ çš„ç»å¯¹å€¼å¾ˆå°</li>
</ul>
<h4 id="å“ˆé‡Œæ–¯å‡½æ•°å¦‚ä½•å·¥ä½œ"><a href="#å“ˆé‡Œæ–¯å‡½æ•°å¦‚ä½•å·¥ä½œ" class="headerlink" title="å“ˆé‡Œæ–¯å‡½æ•°å¦‚ä½•å·¥ä½œ"></a>å“ˆé‡Œæ–¯å‡½æ•°å¦‚ä½•å·¥ä½œ</h4><p>ä½çº¹ç†åŒºåŸŸï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-151651@2x.png" class></p>
<p>è¾¹ç¼˜åŒºåŸŸï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-151730@2x.png" class></p>
<p>é«˜çº¹ç†åŒºåŸŸï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-151825@2x.png" class></p>
<h4 id="å“ˆé‡Œæ–¯æ£€æµ‹å™¨ç®—æ³•ï¼š"><a href="#å“ˆé‡Œæ–¯æ£€æµ‹å™¨ç®—æ³•ï¼š" class="headerlink" title="å“ˆé‡Œæ–¯æ£€æµ‹å™¨ç®—æ³•ï¼š"></a>å“ˆé‡Œæ–¯æ£€æµ‹å™¨ç®—æ³•ï¼š</h4><img src="/2024/05/02/13-20-59/QQ20240502-152016@2x.png" class>
<p>ä¾‹å­ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-152156@2x.png" class></p>
<p>å“åº”å‡½æ•°å›¾ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-152223@2x.png" class></p>
<p>éæå¤§å€¼æŠ‘åˆ¶ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-152309@2x.png" class></p>
<p>å±€éƒ¨æœ€å¤§å€¼çš„åƒç´ ç‚¹ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-152430@2x.png" class></p>
<p>åœ¨åŸå›¾ä¸­çš„ä½ç½®ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-152454@2x.png" class></p>
<p>æœ€ç»ˆå‘ç°å¾ˆå¤šç›¸åŒçš„ç‰¹å¾ç‚¹ã€‚</p>
<h2 id="å°ºåº¦ä¸å˜æ€§-Scale-invariance"><a href="#å°ºåº¦ä¸å˜æ€§-Scale-invariance" class="headerlink" title="å°ºåº¦ä¸å˜æ€§  Scale invariance"></a>å°ºåº¦ä¸å˜æ€§  Scale invariance</h2><h4 id="å“ˆé‡Œæ–¯æ£€æµ‹å™¨çš„ä¸€äº›ç‰¹æ€§"><a href="#å“ˆé‡Œæ–¯æ£€æµ‹å™¨çš„ä¸€äº›ç‰¹æ€§" class="headerlink" title="å“ˆé‡Œæ–¯æ£€æµ‹å™¨çš„ä¸€äº›ç‰¹æ€§"></a>å“ˆé‡Œæ–¯æ£€æµ‹å™¨çš„ä¸€äº›ç‰¹æ€§</h4><ul>
<li>å¯¹äºæ—‹è½¬ä¸å˜</li>
<li>å›¾åƒå¼ºåº¦ï¼šåŠ æ³•ä¹˜æ³•ä¸æ”¹å˜<br>åŠ æ³•ï¼šå¯¼æ•°ä¸å˜<br>ä¹˜æ³•ï¼šå¯¼æ•°æ•´ä½“å˜åŒ–</li>
<li>ç¼©æ”¾ï¼Œä¼šæ”¹å˜</li>
</ul>
<h4 id="å°ºåº¦ä¸å˜æ€§çš„æ£€æµ‹"><a href="#å°ºåº¦ä¸å˜æ€§çš„æ£€æµ‹" class="headerlink" title="å°ºåº¦ä¸å˜æ€§çš„æ£€æµ‹"></a>å°ºåº¦ä¸å˜æ€§çš„æ£€æµ‹</h4><img src="/2024/05/02/13-20-59/QQ20240502-153839@2x.png" class>
<p>å¢å¤§çª—å£ï¼Œä¿æŒå°ºåº¦ä¸å˜</p>
<p>é¢†åŸŸå¤§å°å¯¹å‡½æ•°çš„å½±å“ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-154050@2x.png" class><br>$S_1$, $S_2$ï¼Œå…·æœ‰ç›¸åŒçš„ç¼©æ”¾æ¯”ä¾‹</p>
<h4 id="ä¸€ä¸ªå¥½çš„å°ºå¯¸æ£€æµ‹å‡½æ•°"><a href="#ä¸€ä¸ªå¥½çš„å°ºå¯¸æ£€æµ‹å‡½æ•°" class="headerlink" title="ä¸€ä¸ªå¥½çš„å°ºå¯¸æ£€æµ‹å‡½æ•°"></a>ä¸€ä¸ªå¥½çš„å°ºå¯¸æ£€æµ‹å‡½æ•°</h4><img src="/2024/05/02/13-20-59/QQ20240502-154434@2x.png" class>
<img src="/2024/05/02/13-20-59/QQ20240502-154635@2x.png" class>
<p>æ‹‰æ™®æ‹‰æ–¯å·®å’Œé«˜æ–¯å·®å‡ ä¹ç›¸åŒï¼Œé€‰æ‹©é«˜æ–¯ç®€åŒ–è®¡ç®—ã€‚</p>
<h4 id="å…³é”®ç‚¹å®šä½"><a href="#å…³é”®ç‚¹å®šä½" class="headerlink" title="å…³é”®ç‚¹å®šä½"></a>å…³é”®ç‚¹å®šä½</h4><p><strong>SIFT</strong>: Scale Invariant Feature Transform<br>å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢<br><img src="/2024/05/02/13-20-59/QQ20240502-154917@2x.png" class><br>å–ä¸åŒå°ºå¯¸çš„å›¾åƒï¼Œä¸æ–­æ¨¡ç³Šå›¾åƒï¼Œä¸¤ä¸¤ç›¸å‡ï¼Œè®¡ç®—ä»–ä»¬çš„é«˜æ–¯å›¾åƒå·®å¼‚ã€‚<br>åƒç´ ä¸å‘¨å›´ä¹ä¸ªåƒç´ æ¯”è¾ƒï¼Œä»¥åŠä¸åŒæ¯”ä¾‹é‚»å±…ä¸Šçš„æ¯”è¾ƒï¼Œçš„çœ‹æ˜¯ä¸æ˜¯æå€¼ã€‚</p>
<img src="/2024/05/02/13-20-59/QQ20240502-155145@2x.png" class>
<p>ä¾‹å­ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240502-155601@2x.png" class></p>
<p><strong>å“ˆé‡Œæ–¯-æ‹‰æ™®æ‹‰æ–¯ç®—æ³•ï¼š</strong><br>å…ˆè¯•ç”¨å“ˆé‡Œæ–¯è§’ç‚¹æ£€æµ‹<br>ç„¶ååœ¨çœ‹å°ºåº¦æ–¹å‘ä¸Šçš„æ‹‰æ™®æ‹‰æ–¯ç®—å­ï¼Œæ‰¾ç©ºé—´æå€¼</p>
<h2 id="ç‰¹å¾æè¿°"><a href="#ç‰¹å¾æè¿°" class="headerlink" title="ç‰¹å¾æè¿°"></a>ç‰¹å¾æè¿°</h2><p>æè¿°ç¬¦ï¼šå¯¹é¢†åŸŸè¿›è¡Œæè¿°</p>
<ul>
<li>ç‹¬ç‰¹ï¼šä¸åŒçš„ç‚¹æœ‰ä¸åŒçš„æè¿°ç¬¦</li>
<li>å¯åŒºåˆ†</li>
<li>å‡ ä¹ç›¸åŒ</li>
</ul>
<h3 id="SIFT-Scale-Invariant-Feature-Detection"><a href="#SIFT-Scale-Invariant-Feature-Detection" class="headerlink" title="SIFT: Scale Invariant Feature Detection"></a>SIFT: Scale Invariant Feature Detection</h3><p>å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢</p>
<p>æ€æƒ³ï¼š</p>
<ul>
<li>å›¾åƒå†…å®¹æ˜¯ä¸€ç»„ç‰¹å¾ï¼šå¯¹äºå¹³ç§»ï¼Œæ—‹è½¬,æ”¾ç¼©ç­‰å›¾åƒå¤„ç†æ“ä½œæ˜¯ä¸å˜çš„</li>
<li>æè¿°ç¬¦æ˜¯ç¨³å¥çš„</li>
</ul>
<img src="/2024/05/02/13-20-59/QQ20240503-094607@2x.png" class>
<h4 id="æ€»ä½“SIFTè¯†åˆ«è¿‡ç¨‹"><a href="#æ€»ä½“SIFTè¯†åˆ«è¿‡ç¨‹" class="headerlink" title="æ€»ä½“SIFTè¯†åˆ«è¿‡ç¨‹"></a>æ€»ä½“SIFTè¯†åˆ«è¿‡ç¨‹</h4><ol>
<li>ç¡®å®šå…³é”®ç‚¹å°ºå¯¸</li>
<li>å®šä½å…³é”®ç‚¹</li>
<li>æ‰¾åˆ°é¢†åŸŸçš„å±€éƒ¨çš„æ–¹å‘</li>
<li>å…³é”®ç‚¹æè¿°</li>
</ol>
<img src="/2024/05/02/13-20-59/QQ20240503-094908@2x.png" class>
<p>å³å›¾ä¸­çš„æ–¹å‘ç®­å¤´ï¼Œå°±æ˜¯å±€éƒ¨æ–¹å‘ã€‚</p>
<h4 id="è®¡ç®—å±€éƒ¨æ–¹å‘"><a href="#è®¡ç®—å±€éƒ¨æ–¹å‘" class="headerlink" title="è®¡ç®—å±€éƒ¨æ–¹å‘"></a>è®¡ç®—å±€éƒ¨æ–¹å‘</h4><img src="/2024/05/02/13-20-59/QQ20240503-095051@2x.png" class>
<p>å›¾ä¸­æ˜¯æ–¹å‘ç›´æ–¹å›¾</p>
<p>æ‰¾åˆ°ä¸€ä¸ªå³°å€¼ï¼Œå°±æ˜¯ä¸»å¯¼æ–¹å‘ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ–¹å‘ï¼Œä»¥è¿™ä¸ªæ–¹å‘ä¸ºåŒ—æ–¹ã€‚</p>
<h4 id="å…³é”®ç‚¹æè¿°ç¬¦"><a href="#å…³é”®ç‚¹æè¿°ç¬¦" class="headerlink" title="å…³é”®ç‚¹æè¿°ç¬¦"></a>å…³é”®ç‚¹æè¿°ç¬¦</h4><p>æ ‡å‡†åŒ–ï¼š<br>æ—‹è½¬åˆ°æ–°çš„åŒ—æ–¹æœä¸Š<br>æ”¾ç¼©åˆ°ç›¸åŒå°ºå¯¸</p>
<p>SIFTç‰¹å¾å‘é‡ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240503-095512@2x.png" class><br>å³å›¾æ˜¯ä¸€ä¸ªï¼š2X2çš„å›¾ï¼Œæœ€å¥½æ˜¯ä½¿ç”¨4X4çš„ç›´æ–¹å›¾ï¼Œä¸€ä¸ªé‡Œé¢æœ‰8ä¸ªæ–¹å‘ï¼Œå åŠ åˆ°ä¸€èµ·ï¼Œä¸€ä¸ªç‰¹å¾ä¼šæœ‰128ä¸ªå‘é‡<br>å°†æ‰€æœ‰çš„å‘é‡ï¼Œæ ‡å‡†åŒ–åˆ°å†…ç§¯ä¸º1ã€‚</p>
<p>æ¢¯åº¦ï¼šç›´æ–¹å›¾åŠ æƒæ¢¯åº¦ï¼Œæ–¹å‘æœ€å¤§çš„æƒæœ€é«˜</p>
<p>è¯„ä¼°SIFTæè¿°ç¬¦:<br>é€šå¸¸ä¸€ä¸ªç›´æ–¹å›¾æœ‰8ä¸ªæ–¹å‘ï¼Œé‡‡ç”¨4X4çš„ç›´æ–¹å›¾ï¼Œå‘é‡é•¿128ã€‚</p>
<h3 id="åŒ¹é…ç‰¹å¾ç‚¹"><a href="#åŒ¹é…ç‰¹å¾ç‚¹" class="headerlink" title="åŒ¹é…ç‰¹å¾ç‚¹"></a>åŒ¹é…ç‰¹å¾ç‚¹</h3><p>å¦‚ä½•åœ¨ä¸¤ä¸ªå›¾çš„ç‰¹å¾ä¸­ï¼Œæ‰¾åˆ°åŒ¹é…çš„ç‰¹å¾ç‚¹ï¼Ÿ</p>
<h4 id="æœ€é‚»è¿‘ç®—æ³•åŒ¹é…"><a href="#æœ€é‚»è¿‘ç®—æ³•åŒ¹é…" class="headerlink" title="æœ€é‚»è¿‘ç®—æ³•åŒ¹é…"></a>æœ€é‚»è¿‘ç®—æ³•åŒ¹é…</h4><p>best-bin-first ç®—æ³•åŸºäºk-dæ ‘</p>
<img src="/2024/05/02/13-20-59/QQ20240503-101702@2x.png" class>
<h4 id="åŸºäºå°æ³¢çš„æ•£åˆ—"><a href="#åŸºäºå°æ³¢çš„æ•£åˆ—" class="headerlink" title="åŸºäºå°æ³¢çš„æ•£åˆ—"></a>åŸºäºå°æ³¢çš„æ•£åˆ—</h4><img src="/2024/05/02/13-20-59/QQ20240503-101843@2x.png" class>
<p>å°æ³¢ï¼šæ˜¯ä¸€ç§æ¥è¿‘æ»¤æ³¢å™¨çš„å½¢å¼ï¼Œä»ä¸‰ä¸ªæ»¤æ³¢å™¨é‡Œè¾“å‡ºä¸‰ä¸ªæ•°ã€‚</p>
<p>æ€æƒ³ç±»ä¼¼å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼š<br><img src="/2024/05/02/13-20-59/QQ20240503-102231@2x.png" class><br>è€ƒè™‘äº†ç©ºé—´ä¸¤ç‚¹çš„è·ç¦»</p>
<h4 id="ä¾‹å­-3Dç‰©ä½“è¯†åˆ«"><a href="#ä¾‹å­-3Dç‰©ä½“è¯†åˆ«" class="headerlink" title="ä¾‹å­ 3Dç‰©ä½“è¯†åˆ«"></a>ä¾‹å­ 3Dç‰©ä½“è¯†åˆ«</h4><img src="/2024/05/02/13-20-59/QQ20240503-102435@2x.png" class>
<p>ä»æµ‹è¯•å›¾ä¸­åŒ¹é…ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240503-102518@2x.png" class></p>
<h4 id="ä¾‹å­-é®æŒ¡ä¸‹çš„è¯†åˆ«"><a href="#ä¾‹å­-é®æŒ¡ä¸‹çš„è¯†åˆ«" class="headerlink" title="ä¾‹å­ é®æŒ¡ä¸‹çš„è¯†åˆ«"></a>ä¾‹å­ é®æŒ¡ä¸‹çš„è¯†åˆ«</h4><p>é€šè¿‡éƒ¨åˆ†å…³é”®ç‚¹ï¼Œé¢„æµ‹å…¶ä»–ç‚¹å»å“ªé‡Œäº†ã€‚</p>
<h2 id="é²æ£’è¯¯å·®å‡½æ•°"><a href="#é²æ£’è¯¯å·®å‡½æ•°" class="headerlink" title="é²æ£’è¯¯å·®å‡½æ•°"></a>é²æ£’è¯¯å·®å‡½æ•°</h2><p>SSDï¼šå·®çš„å¹³æ–¹å’Œ<br>NN: æœ€è¿‘é‚»å±…</p>
<h4 id="Lowe-a-better-way"><a href="#Lowe-a-better-way" class="headerlink" title="Lowe a better way"></a>Lowe a better way</h4><img src="/2024/05/02/13-20-59/QQ20240503-104558@2x.png" class>
<p>æ„ä¹‰ï¼š<br>å¦‚æœæœ€ä½³åŒ¹é…è¢«é®æŒ¡äº†ï¼Œç¬¬ä¸€å’Œç¬¬äºŒåŒ¹é…ç›¸å·®ä¸å¤§ï¼Œè¯´æ˜æ²¡æœ‰æ‰¾åˆ°æ­£ç¡®çš„åŒ¹é…ã€‚</p>
<h3 id="æ¨¡å‹æ‹Ÿåˆ"><a href="#æ¨¡å‹æ‹Ÿåˆ" class="headerlink" title="æ¨¡å‹æ‹Ÿåˆ"></a>æ¨¡å‹æ‹Ÿåˆ</h3><h4 id="æœ€å°äºŒä¹˜çº¿æ‹Ÿåˆ-Typical-least-squares-line-fitting"><a href="#æœ€å°äºŒä¹˜çº¿æ‹Ÿåˆ-Typical-least-squares-line-fitting" class="headerlink" title="æœ€å°äºŒä¹˜çº¿æ‹Ÿåˆ Typical least squares line fitting"></a>æœ€å°äºŒä¹˜çº¿æ‹Ÿåˆ Typical least squares line fitting</h4><p>æœºå™¨å­¦ä¹ å†…å®¹<br>åªæ˜¯$y$æ–¹å‘ä¸Šçš„æ‹Ÿåˆã€‚</p>
<h4 id="æ€»ä½“æœ€å°äºŒä¹˜æ³•"><a href="#æ€»ä½“æœ€å°äºŒä¹˜æ³•" class="headerlink" title="æ€»ä½“æœ€å°äºŒä¹˜æ³•"></a>æ€»ä½“æœ€å°äºŒä¹˜æ³•</h4><p>$ax+by=d$<br>$E=\sum_{i=1}^n(ax_i+by_i-d)^2$<br><img src="/2024/05/02/13-20-59/QQ20240503-105511@2x.png" class></p>
<p>æ¨å¯¼å…¬å¼ï¼š<br>\begin{split}<br>\frac{\partial E}{\partial d}=\sum_{i=1}^n-2\left(ax_i+by_i-d\right)=0\\<br>\Rightarrow d=\frac an\sum_{i=1}^nx_i+\frac bn\sum_{i=1}^nx_i=a\overline{x}+b\overline{y}<br>\end{split}</p>
<p>\begin{split}<br>&amp;E = \sum_{i=1}^{n}(a (x_{i}-\overline{x})+b (y_{i}-<br>\overline{y}))^{2}\\<br>&amp;=\left\|\begin{bmatrix}x_{i}-\overline{x}&amp;y_{i}-<br>\overline{y}\\<br>\vdots&amp;\vdots&amp;\vdots\\<br>\lfloor x_{i}-\overline{x}&amp;y_{i}-\overline{y}\rfloor<br>\end{bmatrix}\begin{bmatrix}a\\<br>b\end{bmatrix}\right\|^{2} \\<br>&amp;=\left(U \mathbf{h}\right)^{T}\left(U \mathbf{h}\right)\\<br>&amp;\frac{dE}{d\mathbf{h}}=2(U^TU)\mathbf{h}=0<br>\end{split}</p>
<img src="/2024/05/02/13-20-59/QQ20240503-110151@2x.png" class>
<ul>
<li>å®é™…æµ‹é‡ç‚¹$(x,y)$ ç­‰äºçœŸå®ç‚¹$(u,v)$å‚ç›´äº$a,b$æ–¹å‘ä¸Šçš„ååŠ¨ã€‚</li>
<li>ç¬¦åˆé«˜æ–¯å™ªå£°</li>
</ul>
<h3 id="é²æ£’ä¼°è®¡å™¨"><a href="#é²æ£’ä¼°è®¡å™¨" class="headerlink" title="é²æ£’ä¼°è®¡å™¨"></a>é²æ£’ä¼°è®¡å™¨</h3><p>æ±‚ä¸€ä¸ªæœ€å°åŒ–ï¼š$\sum_i\rho\left(r_i\left(x_i,\theta_1\right);<br>\sigma_1\right)$</p>
<ul>
<li>$r_i\left(x_i,\theta_1\right)$ï¼šä»£è¡¨æ®‹å·®å€¼,è¯¥ç‚¹è·ç¦»æ‹Ÿåˆæ›²çº¿çš„è·ç¦»</li>
<li>$\rho$ï¼šæœ‰å°ºåº¦å‚æ•°$\sigma$é²æ£’å‡½æ•°</li>
</ul>
<p>ä¸€ç§é²æ£’å‡½æ•°ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240503-110931@2x.png" class></p>
<ul>
<li>å½“$u$å¾ˆå°çš„æ—¶å€™ï¼š</li>
<li>å½“$u$å¾ˆå¤§çš„æ—¶å€™ï¼šè¯¯å·®å¾ˆå¤§</li>
</ul>
<h2 id="RANSACç®—æ³•-RANdom-SAmple-Consensus"><a href="#RANSACç®—æ³•-RANdom-SAmple-Consensus" class="headerlink" title="RANSACç®—æ³• RANdom SAmple Consensus"></a>RANSACç®—æ³• RANdom SAmple Consensus</h2><h3 id="ä¸€èˆ¬æ¨¡å‹"><a href="#ä¸€èˆ¬æ¨¡å‹" class="headerlink" title="ä¸€èˆ¬æ¨¡å‹"></a>ä¸€èˆ¬æ¨¡å‹</h3><p>é€‰å–æ¨¡å‹çš„æœ€å°é›†ç‚¹æ•°é‡ï¼š<br>è·ç¦»é˜€å€¼ï¼š<br>$f(d)=\frac{\sqrt{2}e^{-(\frac{d^2}{2\sigma^2})} }<br>{\sqrt{\pi}\sigma},d\geq0$</p>
<h4 id="è®¡ç®—N"><a href="#è®¡ç®—N" class="headerlink" title="è®¡ç®—N"></a>è®¡ç®—N</h4><img src="/2024/05/02/13-20-59/QQ20240503-112533@2x.png" class>
<p>æ¨¡å‹æ‰€éœ€çš„æ ·æœ¬ç‚¹æ•°ï¼š<br>$N &gt; \log(1 - p ) / \log(1 - (1 - e )^S )$</p>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p>ä¸¤ä¸ªåŒ¹é…çš„ç‰¹å¾ï¼š<br><img src="/2024/05/02/13-20-59/QQ20240503-113228@2x.png" class></p>
<ul>
<li>æœ‰5ä¸ªç‰¹å¾åŒ¹é…ï¼Œ2ä¸ªä¸åŒ¹é…ï¼Œè®¤ä¸ºè¿™ä¸¤å¼ å›¾æ˜¯ç›¸åŒçš„ï¼Œé”™è¯¯</li>
<li>å› ä¸ºåŒ¹é…ç‰¹å¾ä¸­æœ‰å™ªéŸ³</li>
</ul>
<p>RANSACç®—æ³•<br><img src="/2024/05/02/13-20-59/QQ20240503-113151@2x.png" class></p>
<ul>
<li>å»é™¤é«˜æ–¯å™ªéŸ³ï¼Œé€‰æ‹©å¹³å‡å€¼</li>
</ul>
<h4 id="RANSACç®—æ³•-å¾ªç¯"><a href="#RANSACç®—æ³•-å¾ªç¯" class="headerlink" title="RANSACç®—æ³• å¾ªç¯"></a>RANSACç®—æ³• å¾ªç¯</h4><img src="/2024/05/02/13-20-59/QQ20240503-113501@2x.png" class>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰æ¦‚è®º ç›¸æœºå’Œå›¾åƒ</title>
    <url>/2024/04/29/16-24-21/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.29ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-42-03/" title="Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰æ¦‚ç‡-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="é€è§†æˆåƒ"><a href="#é€è§†æˆåƒ" class="headerlink" title="é€è§†æˆåƒ"></a>é€è§†æˆåƒ</h2><h4 id="å»ºæ¨¡æŠ•å½±"><a href="#å»ºæ¨¡æŠ•å½±" class="headerlink" title="å»ºæ¨¡æŠ•å½±"></a>å»ºæ¨¡æŠ•å½±</h4><p>åæ ‡ç³»ï¼š</p>
<img src="/2024/04/29/16-24-21/QQ20240501-091850@2x.png" class>
<ul>
<li>Center OF Projection:å…‰å­¦ä¸­å¿ƒï¼Œåœ¨åŸç‚¹</li>
<li>ä¸ç”¨æ‹…å¿ƒç¿»è½¬ï¼Œå›¾åƒæ”¾åœ¨åæ ‡ç³»å‰</li>
<li>åæ ‡ç³»ç¬¦åˆå³æ‰‹å®šåˆ™ï¼Œ$z$è½´æŒ‡å‘ç›¸æœºï¼Œè€Œä¸æ˜¯æŒ‡å‘ä¸–ç•Œ</li>
</ul>
<p>åæ ‡è½¬æ¢ï¼š<br>$(X,Y,Z)\to(-d\frac XZ,-d\frac YZ,-d)$</p>
<h4 id="é½æ¬¡åæ ‡-Homogeneous-coordinates"><a href="#é½æ¬¡åæ ‡-Homogeneous-coordinates" class="headerlink" title="é½æ¬¡åæ ‡ Homogeneous coordinates"></a>é½æ¬¡åæ ‡ Homogeneous coordinates</h4><p>äºŒç»´ï¼š<br>$(x,y)\Rightarrow\left[\begin{array}{c}x\\y\\\mathbf{1}\end{array}\right]$</p>
<p>ä¸‰ç»´ï¼š<br>$(x,y,z)\Rightarrow\left[\begin{array}{c}x\\y\\z\\\mathbf{1}\end{array}\right]$</p>
<p>é½æ¬¡è½¬å¸¸è§„ï¼š<br>$\left[\begin{array}{c}x\\y\\z\\w\end{array}\right]\Rightarrow\left(x/w,y/w,z/w\right)$</p>
<p>ä¾‹å­ï¼š</p>
<p>\begin{split}<br>\begin{bmatrix}1&amp;0&amp;0&amp;0\\0&amp;1&amp;0&amp;0\\0&amp;0&amp;1/f&amp;0\end{bmatrix}\begin{bmatrix}x\\|&amp;|\\y\\z\\1\end{bmatrix}&amp;=\begin{bmatrix}x\\y\\z/f\end{bmatrix}&amp;\Rightarrow\left(f\frac xz,f\frac yz\right)\\&amp;\Rightarrow\left(u,\nu\right)<br>\end{split}</p>
<p>é€šè¿‡ç„¦è·ä¸º$f$çš„æŠ•å½±ï¼ŒæŠ•å½±åˆ°ä¸–ç•Œä¸ŠæŸä¸ªç‚¹$(x,y,z)$çš„å›¾åƒä¸­çš„åæ ‡ã€‚<br>ç„¦è·ï¼šä»ä¸­å¿ƒæŠ•å½±åˆ°å›¾åƒçš„è·ç¦»</p>
<h4 id="æŠ•å½±çš„å‡ ä½•æ€§è´¨"><a href="#æŠ•å½±çš„å‡ ä½•æ€§è´¨" class="headerlink" title="æŠ•å½±çš„å‡ ä½•æ€§è´¨"></a>æŠ•å½±çš„å‡ ä½•æ€§è´¨</h4><img src="/2024/04/29/16-24-21/QQ20240501-093454@2x.png" class>
<ul>
<li>$O$ï¼Œæ˜¯æŠ•å½±ä¸­å¿ƒ</li>
<li>ç‚¹ï¼Œçº¿ï¼ŒæŠ•å½±åˆ°ç‚¹ï¼Œçº¿</li>
<li>å¤šè¾¹å½¢æŠ•å½±ä¼šæ”¹å˜</li>
</ul>
<p>å¹³è¡Œçº¿ä¼šæ”¹å˜ï¼š<br><strong>æ•°å­¦è§£é‡Šï¼š</strong><br>ä¸‰ç»´å¹³è¡Œçº¿ï¼š<br>$x\left(t\right)=x_0+at\\y\left(t\right)=y_0+bt\\z\left(t\right)=z_0+ct$</p>
<p>æŠ•å½±åæ ‡çš„æŠ•å½±æ–¹ç¨‹ï¼š<br>$xâ€™(t)=\frac{fx}z=\frac{f\left(x_0+at\right)}{z_0+ct}\\yâ€™(t)=\frac{fy}z=\frac{f\left(y_0+bt\right)}{z_0+ct}$</p>
<p>$\begin{split}&amp;\text{In the limit as }t\to\pm\infty\quad xâ€™(t)\to\frac{fa}c,\quad yâ€™(t)\to\frac{fb}c\\&amp;\text{we have (for }c\neq0){:}\end{split}$</p>
<ul>
<li>å…¬å¼ä¸­æ²¡æœ‰$x_0,y_0,z_0$ï¼Œç›´çº¿çš„èµ·ç‚¹ä¸é‡è¦ï¼Œç›´çº¿æ²¿ç€ç›´çº¿ä¸€ç›´å‘å‰</li>
<li>ä¸åŒçš„ç›´çº¿ä¼šæ±‡èšåˆ°åŒä¸€ä¸ªç‚¹ï¼Œ(ç‚¹ä¸ä¸€å®šç›¸åŒï¼Œå–å†³äºè§†è§’)</li>
<li>$c$ä¸èƒ½ä¸º0ï¼Œå¦‚æœcä¸º0ï¼Œæ„å‘³ç€å¹³è¡Œçº¿ä¸$z$è½´å‚ç›´ï¼Œä¸æŠ•å½±é¢å¹³è¡Œï¼Œæ°¸è¿œä¸ä¼šç›¸äº¤</li>
</ul>
<p>å¹³è¡Œçº¿ä¼šåœ¨æ— é™è¿œçš„åœ°æ–¹æ±‡èšæ¶ˆå¤±ï¼šæ¶ˆå¤±ç‚¹</p>
<p>ä¸‰ç‚¹é€è§†</p>
<img src="/2024/04/29/16-24-21/QQ20240501-094912@2x.png" class>
<p>äººç±»è§†è§‰ï¼šMÃ¼ller-LyerIllusion</p>
<img src="/2024/04/29/16-24-21/QQ20240501-095137@2x.png" class>
<p>çº¢çº¿å“ªä¸ªæ›´é•¿ï¼Œé€è§†é”™è§‰</p>
<h4 id="å…¶ä»–æŠ•å½±æ¨¡å‹"><a href="#å…¶ä»–æŠ•å½±æ¨¡å‹" class="headerlink" title="å…¶ä»–æŠ•å½±æ¨¡å‹"></a>å…¶ä»–æŠ•å½±æ¨¡å‹</h4><p>æ­£äº¤æŠ•å½±ï¼š Orthographic<br>ç‰¹æ®Šçš„å¹³è¡ŒæŠ•å½±ï¼Œå‡è®¾å…‰æºæ— é™è¿œï¼Œå…‰æ˜¯å¹³è¡Œçš„ã€‚<br><img src="/2024/04/29/16-24-21/QQ20240501-095431@2x.png" class><br>æŠ•å½±çŸ©é˜µï¼š<br>$\left[\begin{array}{cccc}1&amp;0&amp;0&amp;0\\0&amp;1&amp;0&amp;0\\0&amp;0&amp;0&amp;1\end{array}\right]\left[\begin{array}{c}x\\y\\z\\1\end{array}\right]\boldsymbol{=}\left[\begin{array}{c}x\\y\\1\end{array}\right]\boldsymbol{\Rightarrow}(x,y)$</p>
<p>å¼±è§†è§’æŠ•å½±ï¼š Weak perspective<br>ç¼©æ”¾æŠ•å½±<br>$\begin{bmatrix}1&amp;0&amp;0&amp;0\\0&amp;1&amp;0&amp;0\\\\0&amp;0&amp;0&amp;1/s\end{bmatrix}\begin{bmatrix}x\\y\\z\\1\end{bmatrix}=\begin{bmatrix}x\\y\\1/s\end{bmatrix}\Rightarrow(sx,sy)$</p>
<ul>
<li>$s$:ç¼©æ”¾å› å­</li>
</ul>
<h2 id="ç«‹ä½“å‡ ä½•"><a href="#ç«‹ä½“å‡ ä½•" class="headerlink" title="ç«‹ä½“å‡ ä½•"></a>ç«‹ä½“å‡ ä½•</h2><h4 id="å¤šè§†è§’å›¾åƒ"><a href="#å¤šè§†è§’å›¾åƒ" class="headerlink" title="å¤šè§†è§’å›¾åƒ"></a>å¤šè§†è§’å›¾åƒ</h4><img src="/2024/04/29/16-24-21/QQ20240501-100044@2x.png" class>
<p>ç»“æ„å’Œæ·±åº¦æ˜¯æ¨¡ç³Šçš„ï¼Œæ‰€ä»¥å‡ºç°äº†å¤šè§†è§’ï¼Œæœ¬è´¨æ¥è‡ªæŠ•å½±</p>
<p>äººç±»è§†è§‰å…·æœ‰æ„ŸçŸ¥æ·±åº¦çš„èƒ½åŠ›,ä¸»è¦å…ƒç´ ï¼š</p>
<ol>
<li>é˜´å½± shading</li>
<li>çº¹ç† texture</li>
<li>ç„¦ç‚¹/æ·±åº¦ç„¦ç‚¹ focus/defocus</li>
<li>ç§»åŠ¨ motion</li>
</ol>
<h4 id="ç«‹ä½“è§†è§‰"><a href="#ç«‹ä½“è§†è§‰" class="headerlink" title="ç«‹ä½“è§†è§‰"></a>ç«‹ä½“è§†è§‰</h4><p>ä¸¤ä¸ªçœ¼ç›çœ‹çš„å›¾åƒä¸åŒï¼Œä»ä¸¤ä¸ªè§†è§‰ä¸­æ¢å¤ç«‹ä½“</p>
<p>åŒè§†è§‰å›¾åƒï¼Œä¸­å¿ƒå…ƒç´ ï¼Œå‰åçš„å…ƒç´ éƒ½åœ¨åƒå®ƒç§»åŠ¨</p>
<p>éšæœºç‚¹ç«‹ä½“å›¾ï¼š</p>
<p>äººç±»å¯ä»¥ç›´æ¥èåˆåŒè§†è§’å›¾åƒ</p>
<img src="/2024/04/29/16-24-21/QQ20240501-101547@2x.png" class>
<p>ç›¸æœºæ˜¯ç”±å…‰å­¦ä¸­å¿ƒ(optical center)å®šä¹‰çš„</p>
<ul>
<li>æ ¡å‡†ï¼Œç›¸æœºå§¿æ€</li>
<li>å›¾åƒå¯¹åº”ç‚¹</li>
</ul>
<h4 id="ç®€å•çš„ç«‹ä½“ç³»ç»Ÿ"><a href="#ç®€å•çš„ç«‹ä½“ç³»ç»Ÿ" class="headerlink" title="ç®€å•çš„ç«‹ä½“ç³»ç»Ÿ"></a>ç®€å•çš„ç«‹ä½“ç³»ç»Ÿ</h4><p>ç›¸æœºçš„ä¿¯è§†å›¾ï¼š</p>
<img src="/2024/04/29/16-24-21/QQ20240501-102205@2x.png" class>
<p>è®¡ç®—æ·±åº¦çš„å…¬å¼ï¼š<br>$\begin{split}\frac{B-x_l+x_r}{Z-f}&amp;=\frac BZ\\\\Z = f \frac B{x_l - x_r}\end{split}$</p>
<p>è§†è§’å·®ä¸º0ï¼Œæ·±åº¦ä¸ºæ— ç©·ï¼Œæœˆäº®ä¸ºä»€ä¹ˆä¸€ç›´ä¼šè·Ÿç€ï¼Œå› ä¸ºæ·±åº¦æ— é™è¿œï¼Œè§†è§’æ²¡æœ‰å˜åŒ–ã€‚</p>
<p>è§†è§’å·®çš„ä¾‹å­ï¼š</p>
<img src="/2024/04/29/16-24-21/QQ20240501-102755@2x.png" class>
<p>æ‰¾å‡ºä¸¤å¼ å›¾ï¼Œå“ªä¸ªåœ¨å·¦è¾¹ï¼Œå“ªä¸ªåœ¨å³è¾¹ï¼Œä»ä¸Šé¢çš„çƒŸå›±å¯ä»¥çœ‹å‡ºï¼Œå³è¾¹å›¾åœ¨å³æ–¹æ‹æ‘„ã€‚<br>çº¢ç‚¹æ˜¯ä¸€ä¸ªå›¾åƒç›¸åŒä½ç½®çš„ç‚¹ï¼Œå³å›¾å‘å·¦ç§»åŠ¨ä¸€ç›´ï¼Œé‚£ä¸ªç‚¹æ‰èƒ½åˆ°å·¦å›¾ä¸­çš„çª—å£ç‚¹ï¼Œè¿™å°±æ˜¯è§†è§’å·®ã€‚</p>
<p>ä»è§†å·®åˆ°æ·±åº¦ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-103010@2x.png" class></p>
<p>é€šè¿‡è§†å·®å›¾åƒï¼Œäº®çš„åœ°æ–¹è§†å·®å¤§ï¼Œæš—çš„åœ°æ–¹è§†å·®å°ã€‚<br>æ ¹æ®è§†å·®ä¸æ·±åº¦çš„åæ¯”å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ·±åº¦ã€‚</p>
<p>ä»æ·±åº¦åˆ°è§†å·®ï¼š<br>å› ä¸º$yæ²¡æœ‰å˜åŒ–ï¼Œè§†å·®æ¥æºäº$x$ï¼Œæ‰€ä»¥$D(x,y)$ä¹Ÿæ˜¯xçš„å˜åŒ–ã€‚</p>
<p>$(xâ€™,yâ€™)=(x+D(x,y), y)$</p>
<h2 id="å¯¹æå‡ ä½•"><a href="#å¯¹æå‡ ä½•" class="headerlink" title="å¯¹æå‡ ä½•"></a>å¯¹æå‡ ä½•</h2><h4 id="ç«‹ä½“å¯¹åº”çº¦æŸ"><a href="#ç«‹ä½“å¯¹åº”çº¦æŸ" class="headerlink" title="ç«‹ä½“å¯¹åº”çº¦æŸ"></a>ç«‹ä½“å¯¹åº”çº¦æŸ</h4><img src="/2024/04/29/16-24-21/QQ20240501-122809@2x.png" class>
<p>å·¦ä¾§çš„å›¾åƒç‚¹pï¼Œå¯ä»¥ç‚¹åœ¨ä¸€æ¡ç›´çº¿ä¸Šçš„ä»»æ„ä¸€ç‚¹ï¼Œæ‰€ä»¥å®ƒå¯¹åº”åœ¨å¦ä¸€ä¸ªå›¾åƒä¸­çš„ç‚¹ï¼Œæ˜¯ä¸€æ¡ç›´çº¿ä¸Šä»»ä½•ä¸€ç‚¹ã€‚è¿™æ¡çº¿æˆä¸ºæçº¿ã€‚<br>è¿™å°±å«åšï¼šæçº¿çº¦æŸ Epipolar constraint</p>
<ul>
<li>åŸºçº¿ï¼šç›¸æœºç‚¹å’Œä½ç½®ç‚¹å½¢æˆçš„</li>
</ul>
<p>ä¸ºä»€ä¹ˆæçº¿çº¦æŸæœ‰ç”¨ï¼Ÿ<br>åœ¨æçº¿ä¸­æ‰¾å¯¹åº”å¦ä¸€ä¸ªå›¾åƒä¸­çš„ç‚¹ã€‚</p>
<p>ä¾‹å­ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-123218@2x.png" class><br>æç‚¹æ˜¯ä¸€ä¸ªæ•°å­¦æ¦‚å¿µï¼Œæ‰€æœ‰çš„æçº¿ä¼šåœ¨å±å¹•å¤–é¢èšåˆã€‚</p>
<p>å¹³è¡Œå›¾åƒçš„ä¾‹å­ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-123433@2x.png" class></p>
<h2 id="ç«‹ä½“å¯¹åº”-Stereo-correspondence"><a href="#ç«‹ä½“å¯¹åº”-Stereo-correspondence" class="headerlink" title="ç«‹ä½“å¯¹åº” Stereo correspondence"></a>ç«‹ä½“å¯¹åº” Stereo correspondence</h2><p>è½¯çº¦æŸï¼šå¯¹åº”ç‚¹ä¹‹é—´çš„å…³ç³»</p>
<ol>
<li>ç›¸ä¼¼æ€§</li>
<li>å”¯ä¸€æ€§</li>
<li>æœ‰åº</li>
<li>è§†å·®æ¢¯åº¦æœ‰é™-æ·±åº¦å˜åŒ–ä¸ä¼šå¤ªå¤§</li>
</ol>
<h4 id="ç›¸ä¼¼æ€§"><a href="#ç›¸ä¼¼æ€§" class="headerlink" title="ç›¸ä¼¼æ€§"></a>ç›¸ä¼¼æ€§</h4><img src="/2024/04/29/16-24-21/QQ20240501-135443@2x.png" class>
<p>å¼ºåº¦åˆ†å¸ƒå›¾ï¼šåŒ¹é…ä½ç½®å…·æœ‰å·®å¼‚</p>
<img src="/2024/04/29/16-24-21/QQ20240501-135637@2x.png" class>
<p>è§†å·®å›¾çš„ç›¸ä¼¼æ€§:åŒ¹é…çš„åœ°æ–¹å³°å€¼æœ€é«˜</p>
<img src="/2024/04/29/16-24-21/QQ20240501-135743@2x.png" class>
<p>æ²¡æœ‰çº¹ç†çš„åœ°æ–¹åšåŒ¹é…ï¼Œæ²¡æœ‰åŒ¹é…çš„åœ°æ–¹ï¼Ÿ<br>åŸå› ï¼šçª—å£å¤ªå°ï¼Œæ²¡æœ‰è·å¾—è¶³å¤Ÿçš„çº¹ç†ä¿¡æ¯ã€‚</p>
<p>çª—å£å¤§å°çš„å½±å“ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-135937@2x.png" class><br>æ˜¾ç¤ºçš„æ˜¯è§†å·®å›¾</p>
<ul>
<li>å°çª—å£ï¼Œè·å¾—äº†æ ‘å¹²ä¿¡æ¯</li>
<li>å¤§çª—å£ï¼Œæ ‘å¹²å’ŒèƒŒæ™¯èåˆåˆ°äº†ä¸€èµ·</li>
</ul>
<h4 id="æœ‰åºæ€§"><a href="#æœ‰åºæ€§" class="headerlink" title="æœ‰åºæ€§"></a>æœ‰åºæ€§</h4><p>å•ä¸€å›ºä½“ä¸­ï¼š<br>å·¦å›¾ä¸­çš„ç‚¹ $a,b,c$ï¼Œåœ¨å³å›¾ä¸­æœ‰ç›¸åŒçš„é¡ºåº$a,b,c$ã€‚</p>
<p>ä¾‹å¤–ï¼šåœ¨ä¸€ä¸ªé€æ˜çš„è¡¨é¢<br><img src="/2024/04/29/16-24-21/QQ20240501-140403@2x.png" class><br>é¡ºåºä¼šæ”¹å˜</p>
<p>ä¾‹å¤–ï¼šç‹­çª„çš„é®æŒ¡<br><img src="/2024/04/29/16-24-21/QQ20240501-140508@2x.png" class></p>
<p>ç«‹ä½“çš„æœ€æ–°æŠ€æœ¯:<br>ä¼˜åŒ–ç®—æ³•çš„ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol>
<li>ä¸€æ¬¡æ‰«æä¸€æ¡çº¿</li>
<li>åœ¨äºŒç»´å›¾åƒä¸­ï¼Œå¤šæ‰«æä¸€æ¡å‚ç›´çš„çº¿</li>
</ol>
<h4 id="åŠ¨æ€è§„åˆ’å…¬å¼"><a href="#åŠ¨æ€è§„åˆ’å…¬å¼" class="headerlink" title="åŠ¨æ€è§„åˆ’å…¬å¼"></a>åŠ¨æ€è§„åˆ’å…¬å¼</h4><img src="/2024/04/29/16-24-21/QQ20240501-141156@2x.png" class>
<p>å‡è®¾å·²çŸ¥å·¦ä¸Šè§’åƒç´ åœ¨å³å›¾ä¸­å¯¹åº”çš„ä½ç½®ã€‚</p>
<ul>
<li>ä¸€å¯¹ä¸€ï¼šä¸¤ä¸ªå›¾ä¸­åƒç´ ç‚¹éƒ½å­˜åœ¨</li>
<li>å·¦é®æŒ¡ï¼šå·¦å›¾å¯è§ï¼Œè€Œå³å›¾ä¸å¯è§<br>å·¦è¾¹çš„åƒç´ è¢«æ˜ å°„åˆ°å³è¾¹åŒä¸€åƒç´ ä½ç½®ï¼Œæ‰€ä»¥çœ‹ä¸è§</li>
<li>å³é®æŒ¡ï¼šç›¸ä¼¼</li>
</ul>
<h4 id="ç«‹ä½“ç›¸ä¼¼åº¦"><a href="#ç«‹ä½“ç›¸ä¼¼åº¦" class="headerlink" title="ç«‹ä½“ç›¸ä¼¼åº¦"></a>ç«‹ä½“ç›¸ä¼¼åº¦</h4><p>ä»€ä¹ˆæ˜¯ä¸€ä¸ªå¥½çš„ç«‹ä½“ç›¸ä¼¼ï¼š</p>
<ol>
<li>æ•°æ®è´¨é‡</li>
<li>å¹³æ»‘åº¦ï¼Œç›¸é‚»åƒç´ å·®å¼‚æœ€å°<img src="/2024/04/29/16-24-21/QQ20240501-141943@2x.png" class>
Data term:  $E_\text{ data }=\sum_i\left(W_1(i)-W_2(i+D(i))\right)^2$<br>Smoothness term: $E_\text{ smooth }=\sum_{\text{ neighbors }i,j}\rho\left(D(i)-D(j)\right)$</li>
</ol>
<p>Total energyï¼š$E = \alpha E_{_{\mathrm{data}}}(I_{_1},I_{_2},D)+ \beta E_{_{\mathrm{smooth}}}(D)$</p>
<p>æ‰¾åˆ°ä¸€ä¸ªä½¿æ€»ä½“èƒ½é‡æœ€å°çš„å‚æ•°ã€‚</p>
<p>æ›´å¥½çš„ç®—æ³•ï¼š<br>å°†å›¾åˆ†å‰²ç®—æ³•åº”ç”¨åˆ°ç«‹ä½“ç›¸ä¼¼å¤„ç†ã€‚</p>
<h2 id="å¤–ç½®ç›¸æœºæ ¡å‡†"><a href="#å¤–ç½®ç›¸æœºæ ¡å‡†" class="headerlink" title="å¤–ç½®ç›¸æœºæ ¡å‡†"></a>å¤–ç½®ç›¸æœºæ ¡å‡†</h2><h4 id="å‡ ä½•ç›¸æœºæ ‡å‡†"><a href="#å‡ ä½•ç›¸æœºæ ‡å‡†" class="headerlink" title="å‡ ä½•ç›¸æœºæ ‡å‡†"></a>å‡ ä½•ç›¸æœºæ ‡å‡†</h4><p>ä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>ä»»ä½•çš„ä¸–ç•Œåæ ‡ç³»</li>
<li>ä»3Dåˆ°2Dçš„ç›¸æœºåæ ‡ç³»<img src="/2024/04/29/16-24-21/QQ20240501-142833@2x.png" class>
ä»ä¸–ç•Œåæ ‡ç³»è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»</li>
</ol>
<h4 id="åˆšä½“å˜æ¢"><a href="#åˆšä½“å˜æ¢" class="headerlink" title="åˆšä½“å˜æ¢"></a>åˆšä½“å˜æ¢</h4><p>åˆšä½“æœ‰6ä¸ªè‡ªç”±åº¦ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-143138@2x.png" class></p>
<ol>
<li>ä¸€ä¸ªç‚¹å¯ä»¥å®šä½åˆšä½“ï¼š$(x,y,z)$ï¼Œä¸‰ä¸ªè‡ªç”±åº¦</li>
<li>åŠ ä¸€ä¸ªç‚¹ï¼Œåœ¨çŸ¢é‡æ–¹å‘ï¼Œç»çº¬åº¦ï¼ŒåŠ ä¸¤ä¸ªè‡ªç”±åº¦</li>
<li>å¯ä»¥æ—‹è½¬ï¼ŒåŠ ä¸€ä¸ªè‡ªç”±åº¦</li>
</ol>
<h4 id="ç¬¦å·-F-amp-P"><a href="#ç¬¦å·-F-amp-P" class="headerlink" title="ç¬¦å· F&amp;P"></a>ç¬¦å· F&amp;P</h4><img src="/2024/04/29/16-24-21/QQ20240501-143635@2x.png" class>
<p>$^AP=\left(\begin{array}{c}^Ax\\^Ay\\^Az\\\end{array}\right)\Leftrightarrow\overline{OP}=\left(\begin{array}{c}^Ax\cdot\overline{i}\\\end{array}\right)+\left(\begin{array}{c}^Ay\cdot\overline{j}\\\end{array}\right)+\left(\begin{array}{c}^Az\cdot\overline{k}\\\end{array}\right)$</p>
<ul>
<li>ä¸Šæ ‡ä»£è¡¨æ‰€åœ¨åæ ‡ç³»</li>
</ul>
<img src="/2024/04/29/16-24-21/QQ20240501-143832@2x.png" class>
<p>åæ ‡è½¬æ¢ï¼šå·²çŸ¥äº†ä¸¤ä¸ªåæ ‡åŸç‚¹ä¹‹é—´çš„å‘é‡<br>$^BP=^AP+^B\left(O_A\right)$<br>æˆ–<br>$^BP=2^B\left(O_A\right)+2^AP$<br>å°±æ˜¯å‘é‡åŠ æ³•</p>
<p>é½æ¬¡åæ ‡æ³•ï¼š<br>\begin{split}\left[\begin{array}{c}^BP\\1\end{array}\right]=\left[\begin{array}{cc}K^BO_A\\0^T&amp;1\end{array}\right]\left[\begin{array}{c}^AP\\1\end{array}\right]\end{split}</p>
<p>å˜æ¢å¯é€†</p>
<h4 id="æ—‹è½¬"><a href="#æ—‹è½¬" class="headerlink" title="æ—‹è½¬"></a>æ—‹è½¬</h4><img src="/2024/04/29/16-24-21/QQ20240501-144200@2x.png" class>
<p>åæ ‡åŸç‚¹é‡åˆ<br>$\overrightarrow{OP}=\begin{pmatrix}i_A&amp;&amp;j_A&amp;&amp;k_A\end{pmatrix}\left(\begin{array}{c}A\\X\\\\A\\y\\\\A\\z\end{array}\right)=\begin{pmatrix}i_B&amp;&amp;j_B&amp;&amp;k_B\end{pmatrix}\left(\begin{array}{c}B\\X\\\\B\\z\end{array}\right)$</p>
<p>è½¬æ¢å…¬å¼ï¼šåŸºå˜æ¢</p>
<p>$^BP=_A^BR^AP$<br>$_A^BR$: åœ¨Bçš„åæ ‡ç³»ä¸­æè¿°A</p>
<p>æ—‹è½¬ä¸å¯äº¤æ¢</p>
<h4 id="åˆšä½“å˜æ¢-1"><a href="#åˆšä½“å˜æ¢-1" class="headerlink" title="åˆšä½“å˜æ¢"></a>åˆšä½“å˜æ¢</h4><img src="/2024/04/29/16-24-21/QQ20240501-144753@2x.png" class>
<p>$^BP=\frac BAR^AP+^BO_A$<br>å°†åæ ‡ç‚¹æ—‹è½¬åˆ°Båæ ‡ç³»ï¼ŒåŠ ä¸ŠåŠ ä¸ŠAåæ ‡ç³»åœ¨Båæ ‡ç³»ä¸­çš„åç§»é‡ã€‚</p>
<p>ä»ä¸–ç•Œåæ ‡åˆ°ç›¸æœºåæ ‡çš„è½¬æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-145316@2x.png" class></p>
<h2 id="ç›¸æœºå†…éƒ¨æ ¡å‡†"><a href="#ç›¸æœºå†…éƒ¨æ ¡å‡†" class="headerlink" title="ç›¸æœºå†…éƒ¨æ ¡å‡†"></a>ç›¸æœºå†…éƒ¨æ ¡å‡†</h2><p>ä»3Dç›¸æœºåæ ‡åˆ°2Då›¾åƒåæ ‡</p>
<h4 id="å®é™…çš„å‚æ•°"><a href="#å®é™…çš„å‚æ•°" class="headerlink" title="å®é™…çš„å‚æ•°"></a>å®é™…çš„å‚æ•°</h4><img src="/2024/04/29/16-24-21/QQ20240501-145813@2x.png" class>
<p>\begin{split}&amp;u = \alpha \frac{x}{z}-\alpha \cot(\theta ) \frac{y}{z}+u_{_0}\\&amp;\nu=\frac\beta{\sin(\theta)}\quad\frac{y}z+\nu_0\end{split}</p>
<ul>
<li>å…‰å­¦ä¸­å¿ƒä¸åœ¨å›¾åƒä¸­é—´</li>
<li>åæ ‡ç³»ä¸å‚ç›´</li>
<li>é•¿å®½åƒç´ ç¼©æ”¾æ¯”ä¸ç›¸åŒ</li>
</ul>
<p>æ”¹å–„è½¬æ¢æ–¹ç¨‹ï¼š<br>é½æ¬¡åæ ‡æ³•ï¼š</p>
<p>\begin{split}<br>\begin{pmatrix}z^*u\\\\z^*\\\\nu\\\\z\end{pmatrix}=\begin{pmatrix}\alpha&amp;-\alpha\cot(\theta)&amp;u_0&amp;0\\\\0&amp;\frac{\beta}{\sin(\theta)}&amp;\nu_0&amp;0\\\\0&amp;0&amp;1&amp;0\end{pmatrix}\begin{pmatrix}x\\\\y\\\\z\\\\1\end{pmatrix}\\\vec{p^{\prime}}=K^c\vec{p}<br>\end{split}</p>
<p>5ä¸ªè‡ªç”±åº¦ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-150253@2x.png" class></p>
<h4 id="ç»“åˆå†…éƒ¨å‚æ•°å’Œå¤–éƒ¨å‚æ•°"><a href="#ç»“åˆå†…éƒ¨å‚æ•°å’Œå¤–éƒ¨å‚æ•°" class="headerlink" title="ç»“åˆå†…éƒ¨å‚æ•°å’Œå¤–éƒ¨å‚æ•°"></a>ç»“åˆå†…éƒ¨å‚æ•°å’Œå¤–éƒ¨å‚æ•°</h4><img src="/2024/04/29/16-24-21/QQ20240501-150413@2x.png" class>
<h4 id="ç›¸æœºçš„å…¨éƒ¨å‚æ•°"><a href="#ç›¸æœºçš„å…¨éƒ¨å‚æ•°" class="headerlink" title="ç›¸æœºçš„å…¨éƒ¨å‚æ•°"></a>ç›¸æœºçš„å…¨éƒ¨å‚æ•°</h4><p>11ä¸ªè‡ªç”±åº¦ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240501-150520@2x.png" class></p>
<h2 id="ä½¿ç”¨å…‰è°±æ ¡å‡†ç›¸æœº"><a href="#ä½¿ç”¨å…‰è°±æ ¡å‡†ç›¸æœº" class="headerlink" title="ä½¿ç”¨å…‰è°±æ ¡å‡†ç›¸æœº"></a>ä½¿ç”¨å…‰è°±æ ¡å‡†ç›¸æœº</h2><h4 id="æ ¡å‡†æ–¹æ³•"><a href="#æ ¡å‡†æ–¹æ³•" class="headerlink" title="æ ¡å‡†æ–¹æ³•"></a>æ ¡å‡†æ–¹æ³•</h4><p>åˆ©ç”¨å·²çŸ¥ç‚¹è¿›è¡Œæ ¡å‡†</p>
<p>åˆ‡å‰²æ³•æ ¡å‡†ï¼š<br>è·å–ä¸€äº›å·²çŸ¥ç‚¹ï¼Œå»ºç«‹ä¸–ç•Œåæ ‡ç³»ï¼Œæµ‹é‡è®¾ç½®ç‚¹çš„åæ ‡åœ¨ä¸–ç•Œä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œç„¶åå›æ¢å¤æ ¡å‡†åæ ‡ã€‚</p>
<h4 id="é½æ¬¡æ ¡å‡†"><a href="#é½æ¬¡æ ¡å‡†" class="headerlink" title="é½æ¬¡æ ¡å‡†"></a>é½æ¬¡æ ¡å‡†</h4><img src="/2024/04/29/16-24-21/QQ20240501-151052@2x.png" class>
<p>åæ ‡ç³»ä¸‹çš„ç›´çº¿æ ¡å‡†ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-121531@2x.png" class></p>
<p><strong>SVDåˆ†è§£</strong>:å¥‡å¼‚å€¼åˆ†è§£</p>
<img src="/2024/04/29/16-24-21/QQ20240502-121634@2x.png" class>
<img src="/2024/04/29/16-24-21/QQ20240502-121827@2x.png" class>
<p>éé½æ¬¡æ–¹æ³•</p>
<h2 id="è¯¯å·®å‡½æ•°"><a href="#è¯¯å·®å‡½æ•°" class="headerlink" title="è¯¯å·®å‡½æ•°"></a>è¯¯å·®å‡½æ•°</h2><p>$\text{minimize }E=\sum_id(x_i^\prime,\hat{x}_i^\prime)$</p>
<p>å¦‚æœæœ‰å¤æ‚çš„æ˜ å°„ï¼š<br>$\min_\mathbf{M}\sum_id(x_i^{\prime},\mathbf{MX}_i)$<br>ç”¨å‚æ•°$M$ä¿®æ­£</p>
<h4 id="é»„é‡‘æ ‡å‡†ç®—æ³•ï¼š"><a href="#é»„é‡‘æ ‡å‡†ç®—æ³•ï¼š" class="headerlink" title="é»„é‡‘æ ‡å‡†ç®—æ³•ï¼š"></a>é»„é‡‘æ ‡å‡†ç®—æ³•ï¼š</h4><p>æ ‡å‡†å½’ä¸€åŒ–ï¼š<br>$\tilde{\mathbf{X}}_i=\mathbf{U}\mathbf{X}_i\tilde{\mathbf{x}}_i=\mathbf{T}\mathbf{x}_i$</p>
<p>$\min_\mathbf{M}\sum_id\left(\tilde{\mathbf{x}}_i,\tilde{\mathbf{M}}\tilde{\mathbf{X}}_i\right)$</p>
<p>$\mathbf{M}=\mathbf{T}^{-1}\tilde{\mathbf{M}}\mathbf{U}$</p>
<p>ç±»ä¼¼ç‰¹å¾å‘é‡ï¼Œè½¬æ¢ä¸ºæ ‡å‡†æ­£äº¤åŸºä¸Š</p>
<h4 id="ä»Mä¸­æ‰¾3Dç›¸æœºä¸­å¿ƒ"><a href="#ä»Mä¸­æ‰¾3Dç›¸æœºä¸­å¿ƒ" class="headerlink" title="ä»Mä¸­æ‰¾3Dç›¸æœºä¸­å¿ƒ"></a>ä»Mä¸­æ‰¾3Dç›¸æœºä¸­å¿ƒ</h4><p>ç›´æ¥çš„æ–¹æ³•ï¼š<br>å¦‚æœèƒ½æ‰¾åˆ°ä¸€ä¸ªç‚¹$C$ï¼Œ ä½¿å¾—$\textbf{M C = 0}$ï¼Œå°±æ˜¯ç›¸æœºä¸­å¿ƒã€‚<br>åŸç†ï¼š<br>$\mathbf{X}=\lambda\mathbf{P}+(1-\lambda)\mathbf{C}$<br>$\mathbf{x}=\mathbf{M}\mathbf{X}=\lambda\mathbf{M}\mathbf{P}+(1-\lambda)\mathbf{M}\mathbf{C}$</p>
<p>ç®€å•çš„æ–¹æ³•ï¼š<br>$\mathbf{C}=\begin{pmatrix}-\mathbf{Q}^{-1}\mathbf{b}\\\\1\end{pmatrix}$</p>
<h4 id="å¤šå¹³é¢æ ¡å‡†"><a href="#å¤šå¹³é¢æ ¡å‡†" class="headerlink" title="å¤šå¹³é¢æ ¡å‡†"></a>å¤šå¹³é¢æ ¡å‡†</h4><p>ç›®å‰æœ€å¸¸ä½¿ç”¨çš„ï¼š</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>åªéœ€è¦ä¸€å¼ çº¸</li>
<li>ä¸éœ€è¦çŸ¥é“ç›¸æœºå†…éƒ¨å‚æ•°</li>
<li>ä»£ç æ˜¯å…¬å¼€çš„</li>
</ol>
<h2 id="å¤šè§†è§’"><a href="#å¤šè§†è§’" class="headerlink" title="å¤šè§†è§’"></a>å¤šè§†è§’</h2><h4 id="å›¾åƒåˆ°å›¾åƒæŠ•å½±"><a href="#å›¾åƒåˆ°å›¾åƒæŠ•å½±" class="headerlink" title="å›¾åƒåˆ°å›¾åƒæŠ•å½±"></a>å›¾åƒåˆ°å›¾åƒæŠ•å½±</h4><p>2Då˜æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-123620@2x.png" class></p>
<p>ç‰¹æ®ŠæŠ•å½±å˜æ¢ï¼š<br>å˜æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-123832@2x.png" class></p>
<p>åˆšä½“å˜æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-123903@2x.png" class></p>
<p>ç›¸ä¼¼å˜æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-123927@2x.png" class></p>
<p>ä»¿å°„å˜æ¢ï¼šAffine transform<br><img src="/2024/04/29/16-24-21/QQ20240502-123942@2x.png" class></p>
<p>ä¸€èˆ¬æŠ•å½±å˜æ¢ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-124130@2x.png" class></p>
<h2 id="é©¬èµ›å…‹"><a href="#é©¬èµ›å…‹" class="headerlink" title="é©¬èµ›å…‹"></a>é©¬èµ›å…‹</h2><p>å¹³é¢å›¾ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-124454@2x.png" class><br>å°„çº¿ä¸Šä»»ä¸€ç‚¹ï¼ŒæŠ•å½±åˆ°å¹³é¢ä¸Šï¼Œéƒ½æ˜¯äº¤ç‚¹é‡åˆã€‚</p>
<h4 id="å›¾åƒé‡å½±"><a href="#å›¾åƒé‡å½±" class="headerlink" title="å›¾åƒé‡å½±"></a>å›¾åƒé‡å½±</h4><p>ç›¸æœºä¸­å¿ƒç›¸åŒï¼Œæ‹æ‘„äº†ä¸¤å¼ ç…§ç‰‡ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-124653@2x.png" class></p>
<p>å…¨æ™¯å›¾åƒï¼š<br>ä¿å­˜ç›¸æœºä¸­å¿ƒä¸å˜ï¼Œç§»åŠ¨æ°´å¹³è§’åº¦ï¼Œæ‹æ‘„ç…§ç‰‡ï¼Œé‡åˆèµ·æ¥å°±æ˜¯å…¨æ™¯å›¾åƒã€‚</p>
<p>è‡ªç„¶å‡ ä½•ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-125002@2x.png" class><br>å°†å›¾åƒæŠ•å½±åˆ°å¤§å¹³é¢ä¸Šï¼Œç»„æˆå…¨æ™¯å›¾åƒï¼Œé‡å éƒ¨åˆ†æ··åˆã€‚</p>
<p>ç›¸åŒä½ç½®çš„ä¸åŒåæ ‡ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-125348@2x.png" class></p>
<p>å…³é”®æ˜¯æ±‚è§£ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-125433@2x.png" class></p>
<p>è½¬æ¢å›¾åƒ(å›¾åƒæ‰­æ›²)ï¼šæ˜¯ä¸€ç§æ’å€¼<br><img src="/2024/04/29/16-24-21/QQ20240502-125553@2x.png" class></p>
<p>å…¨æ™¯å›¾åƒæ–¹æ³•ï¼šå¯ä»¥ç”¨äºå»é™¤å›¾åƒä¸­å…ƒç´ <br><img src="/2024/04/29/16-24-21/QQ20240502-125804@2x.png" class></p>
<h4 id="3Då›¾åƒ"><a href="#3Då›¾åƒ" class="headerlink" title="3Då›¾åƒ"></a>3Då›¾åƒ</h4><img src="/2024/04/29/16-24-21/QQ20240502-125917@2x.png" class>
<h4 id="ä¸¤ç§å›¾åƒæ‰­æ›²æ–¹æ³•"><a href="#ä¸¤ç§å›¾åƒæ‰­æ›²æ–¹æ³•" class="headerlink" title="ä¸¤ç§å›¾åƒæ‰­æ›²æ–¹æ³•"></a>ä¸¤ç§å›¾åƒæ‰­æ›²æ–¹æ³•</h4><p>å‘å‰æ‰­æ›²ï¼šé”™è¯¯æ–¹å¼<br><img src="/2024/04/29/16-24-21/QQ20240502-130407@2x.png" class></p>
<p>åƒç´ ç¦»æ•£åŒ–æ—¶ï¼ŒæŸä¸€ç‚¹çš„åƒç´ ä½ç½®ç§»åŠ¨äº†ï¼Œéœ€è¦åˆ†æ•£ç»™å…¶ä»–åƒç´ ã€‚<br><img src="/2024/04/29/16-24-21/QQ20240502-130543@2x.png" class></p>
<p>åå‘æ‰­æ›²ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-130652@2x.png" class></p>
<p>ä¸­é—´åƒç´ çš„æ’å€¼æ³•ï¼š<br><img src="/2024/04/29/16-24-21/QQ20240502-130719@2x.png" class></p>
<h2 id="æŠ•å½±å‡ ä½•"><a href="#æŠ•å½±å‡ ä½•" class="headerlink" title="æŠ•å½±å‡ ä½•"></a>æŠ•å½±å‡ ä½•</h2><p>åŸºæœ¬å¹³é¢çŸ¥è¯†</p>
<h2 id="åŸºæœ¬çŸ©é˜µ"><a href="#åŸºæœ¬çŸ©é˜µ" class="headerlink" title="åŸºæœ¬çŸ©é˜µ"></a>åŸºæœ¬çŸ©é˜µ</h2><img src="/2024/04/29/16-24-21/QQ20240502-131351@2x.png" class>
<img src="/2024/04/29/16-24-21/QQ20240502-131523@2x.png" class>
<img src="/2024/04/29/16-24-21/QQ20240502-131532@2x.png" class>
<h2 id="åŸºç¡€çŸ©é˜µ"><a href="#åŸºç¡€çŸ©é˜µ" class="headerlink" title="åŸºç¡€çŸ©é˜µ"></a>åŸºç¡€çŸ©é˜µ</h2><h4 id="å¼±æ ¡å‡†"><a href="#å¼±æ ¡å‡†" class="headerlink" title="å¼±æ ¡å‡†"></a>å¼±æ ¡å‡†</h4><img src="/2024/04/29/16-24-21/QQ20240502-131844@2x.png" class>
<img src="/2024/04/29/16-24-21/QQ20240502-131901@2x.png" class>
<img src="/2024/04/29/16-24-21/QQ20240502-131918@2x.png" class>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰æ¦‚è®º è®¡ç®—æœºè§†è§‰çš„å›¾åƒå¤„ç†</title>
    <url>/2024/04/27/09-07-10/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.27ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-42-03/" title="Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰æ¦‚ç‡-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="å›¾åƒä½œä¸ºå‡½æ•°"><a href="#å›¾åƒä½œä¸ºå‡½æ•°" class="headerlink" title="å›¾åƒä½œä¸ºå‡½æ•°"></a>å›¾åƒä½œä¸ºå‡½æ•°</h2><h4 id="ç†è§£å›¾åƒå‡½æ•°"><a href="#ç†è§£å›¾åƒå‡½æ•°" class="headerlink" title="ç†è§£å›¾åƒå‡½æ•°"></a>ç†è§£å›¾åƒå‡½æ•°</h4><img src="/2024/04/27/09-07-10/QQ20240427-092957@2x.png" class>
<p>é€šå¸¸æˆ‘ä»¬è®¤ä¸ºå›¾åƒå°±æ˜¯çœ‹åˆ°çš„ä¸œè¥¿ï¼Œå®é™…ä¸Šï¼Œå›¾åƒæ˜¯ä¸€ä¸ªå‡½æ•°$I(x, y)$ï¼Œå€¼ä¸ºåƒç´ å€¼ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240427-093048@2x.png" class>
<p>ä¸Šé¢ä¸¤ç§å½¢å¼æ˜¯ä¸€ä¸ªç›¸åŒçš„å‡½æ•°ï¼Œåªæ˜¯å±•ç¤ºæ–¹å¼ä¸åŒã€‚</p>
<p>å¯¹å›¾åƒåšå¹³æ»‘å¤„ç†ï¼Œå‡½æ•°å˜ä¸ºï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-093326@2x.png" class></p>
<p>å¯¹å›¾åƒåšæ¨¡ç³Šå¤„ç†ï¼Œå‡½æ•°å˜ä¸ºï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-093357@2x.png" class></p>
<h4 id="å›¾åƒå‡½æ•°"><a href="#å›¾åƒå‡½æ•°" class="headerlink" title="å›¾åƒå‡½æ•°"></a>å›¾åƒå‡½æ•°</h4><p>$f(x, y)$ï¼šæ˜¯å›¾åƒåœ¨ç‚¹$(x, y)$å¤„çš„å…‰å¼ºåº¦æˆ–å€¼<br>é™åˆ¶$x$,$y$çš„èŒƒå›´ï¼Œä»¥åŠå¼ºåº¦çš„èŒƒå›´ï¼š$f:[a, b] x[c, d] \rightarrow[\min , \max ]$</p>
<blockquote>
<p>å›¾åƒå®šä¹‰ï¼š$x$ä¸ºåˆ—ï¼Œ$y$ä¸ºè¡Œ, åŸç‚¹åœ¨å›¾åƒå·¦ä¸Šè§’</p>
</blockquote>
<p>å›¾åƒèŒƒå›´ä¸æ˜¯0-255ï¼Œè€Œæ˜¯0-1ï¼Œ0ä¸ºé»‘ï¼Œ1ä¸ºç™½ï¼Œæœ€å°å€¼ä¸ºé»‘è‰²ï¼Œæœ€å¤§å€¼ä¸ºç™½è‰²ï¼Œç”šè‡³å¯ä»¥å­˜åœ¨è´Ÿå€¼å›¾åƒã€‚</p>
<blockquote>
<p>é»‘ç™½å®šä¹‰æ¥æºå…‰çš„å¼ºåº¦ï¼Œå€¼è¶Šå¤§ï¼Œå¼ºåº¦è¶Šé«˜ï¼Œä¸ºç™½è‰²</p>
</blockquote>
<p>å½©è‰²å›¾åƒï¼š</p>
<p>\begin{split}<br>f(x, y)=\left[\begin{array}{l}<br>r(x, y) \\<br>g(x, y) \\<br>b(x, y)<br>\end{array}\right]<br>\end{split}</p>
<p>æ¯ä¸ªåƒç´ ä¸ºä¸€ä¸ªå‘é‡ï¼ŒRGBï¼šå€¼åˆ†åˆ«ä¸ºï¼Œçº¢ï¼Œç»¿ï¼Œè“çš„é¢œè‰²å¼ºåº¦ã€‚</p>
<h4 id="çœŸå®çš„è²åˆ©æ–¯"><a href="#çœŸå®çš„è²åˆ©æ–¯" class="headerlink" title="çœŸå®çš„è²åˆ©æ–¯"></a>çœŸå®çš„è²åˆ©æ–¯</h4><img src="/2024/04/27/09-07-10/QQ20240427-095451@2x.png" class>
<p>è¿™ä¸çœ¼ç›çœ‹åˆ°çš„å›¾åƒæ˜¯ç›¸åŒçš„å‡½æ•°ã€‚</p>
<h4 id="æ•°å­—å›¾åƒ"><a href="#æ•°å­—å›¾åƒ" class="headerlink" title="æ•°å­—å›¾åƒ"></a>æ•°å­—å›¾åƒ</h4><p>Sampleï¼šé‡‡æ ·ï¼Œå¯¹2Då›¾åƒè¿›è¡Œé‡‡æ ·, å³åƒç´ <br>Quantizeï¼šé‡åŒ–ï¼Œç”¨ä¸€ä¸ªæœ‰é™æ•°é‡çš„ä½æ•°æ¥è¡¨ç¤ºå®ƒ</p>
<blockquote>
<p>é‡åŒ–ä½¿ç”¨æµ®ç‚¹å›¾åƒï¼Ÿ</p>
</blockquote>
<img src="/2024/04/27/09-07-10/QQ20240427-095943@2x.png" class>
<p>å›¾åƒç”±$(x,y)$ç¡®å®šï¼Œè€Œè®¡ç®—ä¸­çš„$(i,j)$ï¼Œä¸ºè¡Œï¼Œåˆ—å€¼ï¼Œä¸$x$,$y$ï¼Œç›¸åã€‚</p>
<p>æœ‰æ—¶å›¾åƒä¹Ÿå¯ç”¨ä¸€ç»´ä¿¡å·è¡¨ç¤ºã€‚</p>
<h4 id="å›¾åƒæ˜¯çŸ©é˜µå­˜å‚¨"><a href="#å›¾åƒæ˜¯çŸ©é˜µå­˜å‚¨" class="headerlink" title="å›¾åƒæ˜¯çŸ©é˜µå­˜å‚¨"></a>å›¾åƒæ˜¯çŸ©é˜µå­˜å‚¨</h4><blockquote>
<p>è¯¾ç¨‹ä½¿ç”¨çš„MATLABï¼Œç›®å‰å¤šä½¿ç”¨OpenCVï¼Œæ‰€ä»¥ä¸è®°ç¬”è®°ã€‚</p>
</blockquote>
<h4 id="å›¾åƒå™ªå£°"><a href="#å›¾åƒå™ªå£°" class="headerlink" title="å›¾åƒå™ªå£°"></a>å›¾åƒå™ªå£°</h4><p>$\vec{I}^{\prime}(x, y)=\vec{I}(x, y)+\vec{\eta}(x, y)$</p>
<img src="/2024/04/27/09-07-10/QQ20240427-100924@2x.png" class>
<p>æ¤’ç›å™ªå£°: äº§ç”Ÿé»‘ç™½åƒç´ ç‚¹</p>
<img src="/2024/04/27/09-07-10/QQ20240427-101112@2x.png" class>
<p>è„‰å†²å™ªå£°: äº§ç”Ÿç™½è‰²åƒç´ ç‚¹</p>
<img src="/2024/04/27/09-07-10/QQ20240427-101206@2x.png" class>
<p>é«˜æ–¯å™ªå£°æˆ–æ­£æ€åˆ†å¸ƒå™ªå£°: äº§ç”ŸæŸäº›æ­£æ€åˆ†å¸ƒæˆ–æŸäº›é«˜æ–¯åˆ†å¸ƒç‹¬ç«‹åŒåˆ†å¸ƒçš„å€¼</p>
<h4 id="Sigma-å¯¹é«˜æ–¯å™ªå£°çš„å½±å“"><a href="#Sigma-å¯¹é«˜æ–¯å™ªå£°çš„å½±å“" class="headerlink" title="Sigma å¯¹é«˜æ–¯å™ªå£°çš„å½±å“"></a>Sigma å¯¹é«˜æ–¯å™ªå£°çš„å½±å“</h4><img src="/2024/04/27/09-07-10/QQ20240427-101547@2x.png" class>
<p>ä¸åŒsigmaçš„å›¾åƒå‡½æ•°ã€‚</p>
<ul>
<li>å™ªå£°æœ‰ä»€ä¹ˆæ„æ€ï¼Ÿ<br>â€œé›¶â€<br>å¯¹äºè´Ÿå€¼å›¾åƒï¼Œé”™è¯¯çš„æƒ³æ³•æ˜¯0æ˜¯é»‘è‰²ï¼Œ255æ˜¯ç™½è‰²ï¼Œé»‘è‰²ç™½è‰²ï¼Œåªæ˜¯å€¼èŒƒå›´å†…çš„æœ€å°å€¼ä¸æœ€å¤§å€¼ï¼Œ0ä»£è¡¨çš„æ˜¯ä¸¤è€…ä¹‹é—´ï¼Œç°è‰²ã€‚éå¸¸å°çš„sigmaï¼Œæ˜¯ä¸€ä¸ªæ’ç°å‡½æ•°ã€‚</li>
<li>ä¸åŒçš„sigmaå¯¹åº”ä¸åŒçš„å›¾åƒå€¼èŒƒå›´ï¼Œ(0-255), sigma5æ˜¯åˆç†çš„ã€‚</li>
</ul>
<h2 id="è¿‡æ»¤å’Œå™ªå£°"><a href="#è¿‡æ»¤å’Œå™ªå£°" class="headerlink" title="è¿‡æ»¤å’Œå™ªå£°"></a>è¿‡æ»¤å’Œå™ªå£°</h2><h4 id="å¦‚ä½•è¿‡æ»¤é«˜æ–¯å™ªå£°"><a href="#å¦‚ä½•è¿‡æ»¤é«˜æ–¯å™ªå£°" class="headerlink" title="å¦‚ä½•è¿‡æ»¤é«˜æ–¯å™ªå£°"></a>å¦‚ä½•è¿‡æ»¤é«˜æ–¯å™ªå£°</h4><p>é‡‡ç”¨å¹³æ»‘å›¾åƒï¼Œåœ¨ä¸€ç»´åƒç´ ä¸­ï¼Œå‘¨å›´åƒç´ å¹³å‡å€¼è®¾ç½®ä¸ºå½“å‰åƒç´ å€¼ï¼Œå¯ä»¥æ¶ˆé™¤å™ªå£°ã€‚</p>
<h4 id="å¹³å‡å€¼çš„å‡è®¾"><a href="#å¹³å‡å€¼çš„å‡è®¾" class="headerlink" title="å¹³å‡å€¼çš„å‡è®¾"></a>å¹³å‡å€¼çš„å‡è®¾</h4><ul>
<li>çœŸå®åƒç´ å€¼å¯èƒ½ä¸å‘¨å›´åƒç´ å€¼ç›¸è¿‘</li>
<li>æ¯ä¸ªåƒç´ çš„å™ªå£°ç›¸äº’ç‹¬ç«‹<br>æ„å‘³ç€å¦‚æœå–å™ªå£°çš„å¹³å‡å€¼ï¼Œå™ªå£°å°†ä¸º0</li>
</ul>
<h4 id="åŠ æƒç§»åŠ¨å¹³å‡çº¿"><a href="#åŠ æƒç§»åŠ¨å¹³å‡çº¿" class="headerlink" title="åŠ æƒç§»åŠ¨å¹³å‡çº¿"></a>åŠ æƒç§»åŠ¨å¹³å‡çº¿</h4><img src="/2024/04/27/09-07-10/QQ20240427-103425@2x.png" class>
<p>éå‡åŒ€æƒé‡ï¼šè·ç¦»åƒç´ è¶Šè¿‘ï¼Œæƒé‡è¶Šå¤§ï¼Œå¯ä»¥ä½¿å›¾åƒæ›´å¹³æ»‘ã€‚</p>
<h4 id="2D-ç§»åŠ¨å¹³å‡çº¿"><a href="#2D-ç§»åŠ¨å¹³å‡çº¿" class="headerlink" title="2D ç§»åŠ¨å¹³å‡çº¿"></a>2D ç§»åŠ¨å¹³å‡çº¿</h4><img src="/2024/04/27/09-07-10/1.png" class>
<p>ç®€å•çš„å¹³å‡æƒé‡</p>
<img src="/2024/04/27/09-07-10/QQ20240427-103933@2x.png" class>
<p>ç§»åŠ¨å¹³å‡ä¹‹åçš„ç»“æœ</p>
<h4 id="ç›¸å…³è¿‡æ»¤"><a href="#ç›¸å…³è¿‡æ»¤" class="headerlink" title="ç›¸å…³è¿‡æ»¤"></a>ç›¸å…³è¿‡æ»¤</h4><p>ä¸Šè¿°è¿‡æ»¤ä¸ºç»Ÿä¸€æƒé‡è¿‡æ»¤ï¼Œå…¬å¼ä¸ºï¼š<br>æ ¸çš„sizeï¼š 2 * k + 1ï¼›</p>
<p>$G[i, j]=\frac{1}{(2 k+1)^2} \sum_{u=-k}^k \sum_{v=-k}^k F[i+u, j+v]$</p>
<p>éå‡å€¼æƒé‡çš„å…¬å¼ä¸ºï¼š<br>$G[i, j]=\sum_{u=-k}^k \sum_{v=-k}^k H[u, v] F[i+u, j+v]$</p>
<h4 id="å¹³å‡æ»¤æ³¢å™¨"><a href="#å¹³å‡æ»¤æ³¢å™¨" class="headerlink" title="å¹³å‡æ»¤æ³¢å™¨"></a>å¹³å‡æ»¤æ³¢å™¨</h4><img src="/2024/04/27/09-07-10/QQ20240427-104618@2x.png" class>
<p>å‡å€¼å¹³æ»‘åçš„ç»“æœï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-104655@2x.png" class></p>
<p>æ•ˆæœä¸å¥½çš„åŸå› ï¼š<br>  å¦‚æœä¸€ä¸ªä¸¤ç‚¹å¤±å»äº†ç„¦ç‚¹ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-104815@2x.png" class></p>
<h4 id="é«˜æ–¯è¿‡æ»¤"><a href="#é«˜æ–¯è¿‡æ»¤" class="headerlink" title="é«˜æ–¯è¿‡æ»¤"></a>é«˜æ–¯è¿‡æ»¤</h4><p>é«˜æ–¯å‡½æ•°ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-105107@2x.png" class></p>
<p>é«˜æ–¯è¿‡æ»¤åçš„å›¾åƒï¼šæ›´åŠ å¹³æ»‘<br><img src="/2024/04/27/09-07-10/QQ20240427-105212@2x.png" class><br>ä¸ä¼šå‡ºç°å°–é”çš„éƒ¨åˆ†</p>
<h4 id="æ–¹å·®ä¸æ ‡å‡†å·®"><a href="#æ–¹å·®ä¸æ ‡å‡†å·®" class="headerlink" title="æ–¹å·®ä¸æ ‡å‡†å·®"></a>æ–¹å·®ä¸æ ‡å‡†å·®</h4><p>sigmaè¶Šå¤§ï¼Œæ¨¡ç³Šç¨‹åº¦è¶Šé«˜, æ˜¯é«˜æ–¯çš„é«˜åº¦ï¼Œå¹³æ–¹æ˜¯é«˜æ–¯çš„æ–¹å·®ã€‚<br>å…³æ³¨çš„æœ‰ä¸¤ç‚¹ï¼ŒçŸ©é˜µå¤§å°å’Œsigmaçš„å€¼ã€‚<br>é«˜æ–¯è¿‡æ»¤:<br>ä¸åŒçš„sigmaï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-105612@2x.png" class><br>sigmaè¶Šå¤§ï¼Œè¿‡æ»¤çš„å†…å®¹è¶Šå¤šã€‚</p>
<p>ä¸åŒçš„å†…æ ¸å¤§å°ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-105651@2x.png" class></p>
<p>å†…æ ¸æ›´å¤§ï¼Œå¹³æ»‘æ•ˆæœè¶Šå¥½ï¼Œ</p>
<h4 id="ä¸¤ç§é«˜æ–¯ç›´çº¿"><a href="#ä¸¤ç§é«˜æ–¯ç›´çº¿" class="headerlink" title="ä¸¤ç§é«˜æ–¯ç›´çº¿"></a>ä¸¤ç§é«˜æ–¯ç›´çº¿</h4><img src="/2024/04/27/09-07-10/QQ20240427-110026@2x.png" class>
<ul>
<li>sigmaè¶Šå¤§ï¼Œå™ªéŸ³è¶Šå¤§</li>
<li>é«˜æ–¯è¿‡æ»¤ï¼Œç›¸åŒå¹³æ»‘é‡çš„å™ªå£°é‡è¾ƒå°çš„ä¼šæ›´åŠ å¹³æ»‘</li>
</ul>
<blockquote>
<p>ä¸¤ä¸ªsigmaå¯¹åº”ä¸åŒé˜¶æ®µçš„å‚æ•°</p>
</blockquote>
<h2 id="çº¿æ€§ç®—å­å’Œå·ç§¯"><a href="#çº¿æ€§ç®—å­å’Œå·ç§¯" class="headerlink" title="çº¿æ€§ç®—å­å’Œå·ç§¯"></a>çº¿æ€§ç®—å­å’Œå·ç§¯</h2><p>çº¿æ€§å˜æ¢ç‰¹ç‚¹ï¼šå¯åŠ æ€§, å€ä¹˜æ€§</p>
<p>çº¿æ€§ç®—å­å¦‚ä½•å½±å“æ•´ä¸ªå›¾åƒï¼Ÿ</p>
<p>è„‰å†²å‡½æ•°ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-131003@2x.png" class><br>è„‰å†²æ˜¯ä¸€ä¸ªå¾ˆå°çš„ä¿¡å·ï¼Œä½“ç§¯ä¸º1ã€‚</p>
<p>è¾“å…¥ä¸€ä¸ªè„‰å†²ï¼Œåœ¨é»‘ç›’ä¸­è¾“å‡ºä¸€ä¸ªå“åº”ã€‚<br><img src="/2024/04/27/09-07-10/QQ20240427-131216@2x.png" class></p>
<p>å¦‚æœçŸ¥é“é»‘ç›’å¦‚ä½•å½±å“å•ä¸ªè„‰å†²ï¼Œå°±å¯ä»¥è§£é‡Šå½±å“æ•´ä¸ªå›¾åƒã€‚</p>
<h4 id="è¿‡æ»¤è„‰å†²ä¿¡å·"><a href="#è¿‡æ»¤è„‰å†²ä¿¡å·" class="headerlink" title="è¿‡æ»¤è„‰å†²ä¿¡å·"></a>è¿‡æ»¤è„‰å†²ä¿¡å·</h4><img src="/2024/04/27/09-07-10/QQ20240427-131451@2x.png" class>
<p>å±•ç¤ºäº†è„‰å†²è¿‡æ»¤çš„ç¿»è½¬æƒ…å†µï¼Œå‡è®¾ä¸­å¿ƒå…ƒç´ ä¸ºè„‰å†²å…ƒç´ eã€‚</p>
<h4 id="äº’ç›¸å…³å’Œå·ç§¯"><a href="#äº’ç›¸å…³å’Œå·ç§¯" class="headerlink" title="äº’ç›¸å…³å’Œå·ç§¯"></a>äº’ç›¸å…³å’Œå·ç§¯</h4><p><strong>äº’ç›¸å…³</strong><br>ç›´æ¥åº”ç”¨è¿‡æ»¤å™¨ï¼š<br>$G[i, j]=\sum_{u=-k}^k \sum_{v=-k}^k H[u, v] F[i+u, j+v]$</p>
<p>$G=H \otimes F$</p>
<p><strong>å·ç§¯</strong><br>ç¿»è½¬ä¸Šä¸‹ï¼Œå·¦å³ï¼š</p>
<blockquote>
<p>ç›¸å½“äºå…ˆæŠŠæ ¸è¿›è¡Œä¸Šä¸‹å·¦å³ç¿»è½¬ï¼Œç„¶ååœ¨åº”ç”¨è¿‡æ»¤å™¨ï¼š</p>
</blockquote>
<p>$G[i, j]=\sum_{u=-k}^k \sum_{v=-k}^k H[u, v] F[i-u, j-v]$</p>
<p>$G=H \star F$</p>
<p>ç¿»è½¬è¿‡ç¨‹ä¸ºï¼š(*ä¸ºäº†æ–¹ä¾¿çœ‹åˆ°ç¿»è½¬æ•ˆæœ)<br><img src="/2024/04/27/09-07-10/QQ20240427-132224@2x.png" class></p>
<img src="/2024/04/27/09-07-10/QQ20240427-132133@2x.png" class>
<p>å·ç§¯å®é™…æ˜¯ä¸€ç§ç‰©ç†å­¦</p>
<ul>
<li>åœ¨å¯¹ç§°æ»¤æ³¢å™¨ä¸­ï¼Œä¸¤ç§æ“ä½œéƒ½æ˜¯ç»“æœéƒ½æ˜¯ç›¸åŒçš„</li>
<li>åªæœ‰åœ¨éå¯¹ç§°æ»¤æ³¢å™¨ä¸­ï¼Œæ‰èƒ½çœ‹åˆ°åŒºåˆ«</li>
</ul>
<p><strong>å·ç§¯çš„æ€§è´¨</strong></p>
<ul>
<li>çº¿æ€§è¿ç®—</li>
<li>ç»“åˆå¾‹</li>
<li>äº¤æ¢å¾‹</li>
<li>å•ä½è„‰å†²å’Œæ•´ä¸ªè„‰å†²æ“ä½œç›¸åŒ</li>
<li>å¾®åˆ†æ€§è´¨<br>å·ç§¯çš„å¯¼æ•°ç­‰äºç¬¬ä¸€ä¸ªå…ƒç´ çš„å¯¼æ•°ä¸ç¬¬äºŒä¸ªå…ƒç´ çš„å·ç§¯<br>$\frac\partial{\partial x}(f*g)=\frac{\partial f}{\partial x}*g$<br>è¾¹ç¼˜æ£€æµ‹å’Œæ¢¯åº¦æŸ¥æ‰¾ä¼šç”¨åˆ°</li>
</ul>
<h4 id="è®¡ç®—çš„å¤æ‚æ€§å’Œå¯åˆ†ç¦»æ€§"><a href="#è®¡ç®—çš„å¤æ‚æ€§å’Œå¯åˆ†ç¦»æ€§" class="headerlink" title="è®¡ç®—çš„å¤æ‚æ€§å’Œå¯åˆ†ç¦»æ€§"></a>è®¡ç®—çš„å¤æ‚æ€§å’Œå¯åˆ†ç¦»æ€§</h4><img src="/2024/04/27/09-07-10/QQ20240427-134946@2x.png" class>
<p>ä¹˜æ³•çš„æ“ä½œæ¬¡æ•°éœ€è¦ï¼š$N<em>N</em>W*W$</p>
<p>çº¿æ€§å¯åˆ†ç¦»æ ¸ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-135116@2x.png" class><br>å‡è®¾å…¶ä»–ä½ç½®å…ƒç´ ä¸º0ï¼Œç»“æœä¸ºä¸€åˆ—å‘é‡ä¹˜è¡Œå‘é‡ã€‚</p>
<p>å¯åˆ†ç¦»å·ç§¯æ“ä½œï¼š<br>$G=H*F=(C*R)*F=C*(R*F)$<br>ä¹˜æ³•æ“ä½œæ¬¡æ•°ä¸ºï¼š$2{\cdot}W{\cdot}N^2&lt;&lt;W^2{\cdot}N^2$</p>
<h4 id="è¾¹ç•Œé—®é¢˜"><a href="#è¾¹ç•Œé—®é¢˜" class="headerlink" title="è¾¹ç•Œé—®é¢˜"></a>è¾¹ç•Œé—®é¢˜</h4><p>è¿‡æ»¤å™¨ä¼šä¸ä¼šä»è¾¹ç•Œæ‰ä¸‹å»ï¼Ÿ<br>ä¸€å…±æœ‰ä¸‰ç§è¾¹ç•Œå¤„ç†æ–¹å¼ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-140836@2x.png" class></p>
<p>å…·ä½“çš„æ–¹æ³•ï¼š</p>
<ul>
<li><p>å‰ªè¾‘-clip filter<br>å‡è®¾è¾¹ç¼˜æ˜¯é»‘çš„ï¼Œç»“æœä¼šè®©è¾¹ç¼˜å˜æš—ï¼Œå› ä¸ºé»‘è‰²æ¸—å…¥äº†</p>
<img src="/2024/04/27/09-07-10/QQ20240427-141058@2x.png" class>
</li>
<li><p>ç¯ç»•æ³•-wrap around<br>ä¸å‚…é‡Œå¶åˆ†ææœ‰å…³<br>å‡è®¾å›¾ç‰‡ä¸€å‘¨å›´ç»•çš„åƒç´ ä¸å›¾åƒè¾¹ç¼˜æœ‰å…³ï¼šå³è¾¹å¡«å……ä¸ºå·¦è¾¹çš„å›¾åƒï¼Œä¸Šè¾¹å¡«å……ä¸ºä¸‹è¾¹çš„å›¾åƒ</p>
<img src="/2024/04/27/09-07-10/QQ20240427-141413@2x.png" class>
<p>è¿‡æ»¤æ•ˆæœï¼š</p>
<img src="/2024/04/27/09-07-10/QQ20240427-141603@2x.png" class>
<p>å›¾åƒçš„ä¸Šè¾¹ç¼˜ä¼šæ³›çº¢ï¼Œæ¥æºäºä¸‹è¾¹</p>
<blockquote>
<p>ç±»ä¼¼ä¸€ç§å‘¨æœŸæ€§ä¿¡å·ï¼Œä½†æ˜¯åœ¨å›¾åƒè¿‡æ»¤ä¸­æ•ˆæœä¸å¥½</p>
</blockquote>
</li>
<li><p>è¾¹ç¼˜å¤åˆ¶æ³•-copy edge<br>å¡«å……å¤åˆ¶å›¾åƒè¾¹ç¼˜</p>
<img src="/2024/04/27/09-07-10/QQ20240427-141754@2x.png" class>
<p>æ•ˆæœ: å›¾åƒåŸºæœ¬ä¿æŒä¸å˜ï¼Œæ˜¯ä¸€ä¸ªåˆç†çš„ç»“æœ</p>
<img src="/2024/04/27/09-07-10/QQ20240427-141927@2x.png" class> 
</li>
<li><p>åå°„æ³•-reflect across edge<br>å¡«å……çš„æ˜¯è¾¹ç¼˜çš„åå°„</p>
<img src="/2024/04/27/09-07-10/QQ20240427-142124@2x.png" class> 
<p>æ•ˆæœä¹Ÿæ˜¯å¾ˆå¥½ï¼š</p>
<img src="/2024/04/27/09-07-10/QQ20240427-142207@2x.png" class> 
</li>
</ul>
<h4 id="è”è”ç³»çº¿æ€§æ»¤æ³¢å™¨"><a href="#è”è”ç³»çº¿æ€§æ»¤æ³¢å™¨" class="headerlink" title="è”è”ç³»çº¿æ€§æ»¤æ³¢å™¨"></a>è”è”ç³»çº¿æ€§æ»¤æ³¢å™¨</h4><p>ç”¨è„‰å†²å¯¹å›¾åƒè¿‡æ»¤ï¼Œå¾—åˆ°çš„è¿˜æ˜¯åŸå›¾åƒï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-142606@2x.png" class></p>
<p>ä½¿ç”¨å‘å³ç§»åŠ¨äº†ä¸€ä½çš„è„‰å†²ï¼Œè¿‡æ»¤ç»“æœï¼š<strong>å›¾ä¸­è¿›è¡Œçš„æ˜¯ç›¸å…³æ“ä½œ</strong><br><img src="/2024/04/27/09-07-10/QQ20240427-142802@2x.png" class></p>
<blockquote>
<p>å–å‘å·¦è¿˜æ˜¯å‘å³ï¼Œå–å†³äºåšç›¸å…³è¿˜æ˜¯å·ç§¯æ“ä½œï¼š</p>
</blockquote>
<p>æ¨¡ç³Šçš„å¹³æ»‘æ»¤é•œï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-143056@2x.png" class></p>
<p>ç‰¹æ®Šçš„è¿‡æ»¤å™¨ï¼š(è„‰å†²çš„ä¸¤å€ï¼Œå‡å»æ¨¡ç³Š)<br><img src="/2024/04/27/09-07-10/QQ20240427-143220@2x.png" class></p>
<blockquote>
<p>é”åŒ–å›¾åƒï¼Œå¼ºè°ƒå·®å¼‚<br>  åº”ç”¨ï¼š<br>  <img src="/2024/04/27/09-07-10/QQ20240427-143339@2x.png" class> </p>
</blockquote>
<p>éé”åŒ–æ»¤é•œ:(unsharp mask)<br>ç±»ä¼¼å†²æ´—èƒ¶ç‰‡ï¼Œå°†ç™½å…‰ç…§å°„ï¼Œå¾—åˆ°åº•ç‰‡çš„è´Ÿç‰‡ã€‚</p>
<p>å¯¹åº”ä¸Šå›¾çš„é”åŒ–ï¼šåº•ç‰‡çš„è´Ÿç‰‡å‡å»æ¨¡ç³Šçš„éƒ¨åˆ†ï¼Œå¾—åˆ°çš„æ˜¯æ›´æ¸…æ™°çš„å›¾ç‰‡ã€‚</p>
<p>æ¨¡ç³Šçš„éƒ¨åˆ†æ˜¯ä¸æ¸…æ™°çš„è’™ç‰ˆï¼ŒåŠ å…¥å›¾åƒåå¾—åˆ°äº†æ›´æ¸…æ™°çš„å›¾åƒã€‚</p>
<h4 id="å…¶ä»–ç±»å‹çš„å™ªéŸ³ä¸å¯¹åº”çš„éçº¿æ€§è¿‡æ»¤å™¨"><a href="#å…¶ä»–ç±»å‹çš„å™ªéŸ³ä¸å¯¹åº”çš„éçº¿æ€§è¿‡æ»¤å™¨" class="headerlink" title="å…¶ä»–ç±»å‹çš„å™ªéŸ³ä¸å¯¹åº”çš„éçº¿æ€§è¿‡æ»¤å™¨"></a>å…¶ä»–ç±»å‹çš„å™ªéŸ³ä¸å¯¹åº”çš„éçº¿æ€§è¿‡æ»¤å™¨</h4><p>é«˜æ–¯å™ªéŸ³ä¸æ¤’ç›å™ªéŸ³<br><img src="/2024/04/27/09-07-10/QQ20240427-144017@2x.png" class><br>è¿‡æ»¤çš„æœ¬è´¨æ˜¯ä»å‘¨å›´çš„åƒç´ ç‚¹æ‰¾ä¸€ä¸ªå±€éƒ¨å¹³å‡å€¼æ›¿æ¢ã€‚</p>
<p>å½“å™ªéŸ³è¶‹äº0æ—¶ï¼Œå¯ä»¥å¾ˆå¥½çš„è¿‡æ»¤å™ªéŸ³ï¼Œå¦‚æœæŠŠå®Œå…¨éšæœºçš„å€¼åŠ å…¥å›¾åƒï¼Œå°±éœ€è¦å…¶ä»–è¿‡æ»¤æ–¹æ³•ï¼Œæ¯”å¦‚ä¸­å€¼è¿‡æ»¤å™¨ã€‚</p>
<p>ä¸­å€¼è¿‡æ»¤å™¨ï¼š(median filter)<br>å°†ä¸­é—´çš„ç™½è‰²åƒç´ 90ï¼Œæ›¿æ¢ä¸ºä¸­å€¼ï¼Œéçº¿æ€§çš„ï¼Œä¸å¯ä»¥å¤åŸ.<br><img src="/2024/04/27/09-07-10/QQ20240427-145325@2x.png" class> </p>
<p>å¯¹æ¤’ç›å™ªéŸ³æ•ˆæœå¾ˆå¥½ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-145558@2x.png" class> </p>
<p>éçº¿æ€§çš„è¿‡æ»¤ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-145725@2x.png" class><br>æœ‰æ—¶ä¹Ÿç§°ä¸ºè¾¹ç¼˜ä¿ç•™</p>
<blockquote>
<p>ç›¸å¯¹äºå‡å€¼è¿‡æ»¤ï¼Œå®ƒä¿ç•™äº†å›¾åƒåƒç´ è¾¹ç¼˜éå¹³æ»‘ã€‚</p>
</blockquote>
<h2 id="è¿‡æ»¤ç”¨ä½œæ¨¡å¼åŒ¹é…"><a href="#è¿‡æ»¤ç”¨ä½œæ¨¡å¼åŒ¹é…" class="headerlink" title="è¿‡æ»¤ç”¨ä½œæ¨¡å¼åŒ¹é…"></a>è¿‡æ»¤ç”¨ä½œæ¨¡å¼åŒ¹é…</h2><p>å½’ä¸€åŒ–ç›¸å…³æ€§<br>ä¸¤ä»¶äº‹ï¼š1. å¯¹è¿‡æ»¤å™¨è¿›è¡Œæ ‡å‡†åŒ–ã€‚2.ç”¨è¿‡æ»¤å™¨å°†boxå†…çš„åƒç´ å˜ä¸ºæ ‡å‡†å·®ä¸º1ã€‚</p>
<h4 id="1D-ä¿¡å·"><a href="#1D-ä¿¡å·" class="headerlink" title="1D ä¿¡å·"></a>1D ä¿¡å·</h4><img src="/2024/04/27/09-07-10/QQ20240427-153302@2x.png" class> 
<p>ç”¨æ‰€ç¤ºçš„æ»¤æ³¢å™¨ï¼Œå¯¹ä¿¡å·è¿›è¡Œå½’ä¸€åŒ–ç›¸å…³ï¼š<br>æ»¤æ³¢å™¨æ¥æºäºä¿¡å·çš„æŸä¸€æ®µï¼Œåœ¨æ­¤å¤„ï¼Œå½’ä¸€åŒ–ç›¸å…³åå¾—åˆ°å³°å€¼ã€‚</p>
<blockquote>
<p>åŸç†ï¼Œåœ¨å½’ä¸€åŒ–å¤„ç†åçš„æ­£è´Ÿå›¾åƒä¸­ï¼Œä¹˜ä¸€ä¸ªè‡ªå·±ç›¸åŒçš„æ»¤æ³¢å™¨ï¼Œå¾—åˆ°çš„å€¼æœ€å¤§ï¼Œè´Ÿè´Ÿä¸ºæ­£ã€‚å³°å€¼å¤„ï¼šæ­£å€¼ä¸æ­£å€¼å¯¹é½ï¼Œè´Ÿå€¼ä¸è´Ÿå€¼å¯¹é½ã€‚</p>
</blockquote>
<p>å¯¹åº”äºå›¾åƒï¼š<br><img src="/2024/04/27/09-07-10/QQ20240427-154142@2x.png" class> </p>
<p>ç›¸å…³åçš„å›¾åƒå‡½æ•°å›¾ï¼Œåœ¨ç›¸ä¼¼ä½ç½®çš„å€¼ä¸ºå³°å€¼<br><img src="/2024/04/27/09-07-10/QQ20240427-154201@2x.png" class> </p>
<blockquote>
<p>è§£é‡Šäº†è¿‡æ»¤å™¨å¦‚ä½•ç”¨ä½œæ¨¡å¼åŒ¹é…ã€‚</p>
</blockquote>
<h4 id="æ¨¡å¼è¯†åˆ«"><a href="#æ¨¡å¼è¯†åˆ«" class="headerlink" title="æ¨¡å¼è¯†åˆ«"></a>æ¨¡å¼è¯†åˆ«</h4><p>ç®€å•çš„ä¾‹å­ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-104609@2x.png" class> </p>
<p>ä½¿ç”¨ç›¸å…³æ€§è¿›è¡Œæ£€æµ‹ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-104723@2x.png" class> </p>
<p>æœ€äº®çš„ç‚¹å°±æ˜¯æ£€æµ‹åˆ°çš„ä½ç½®ã€‚</p>
<p>æ²ƒå°”å¤šåœ¨å“ªé‡Œï¼Ÿ<br><img src="/2024/04/27/09-07-10/QQ20240428-104903@2x.png" class> </p>
<img src="/2024/04/27/09-07-10/QQ20240428-104923@2x.png" class>
<p>ç›¸åŒçš„ç»“æœï¼šæ‰¾åˆ°æœ€äº®çš„ç‚¹ã€‚</p>
<p>å›¾åƒä¸åŒçš„æƒ…å†µï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-105048@2x.png" class> </p>
<img src="/2024/04/27/09-07-10/QQ20240428-104923@2x.png" class>
<blockquote>
<p>åŒ¹é…é”™è¯¯ã€‚</p>
</blockquote>
<h2 id="è¾¹ç¼˜æ£€æµ‹ï¼šæ¢¯åº¦"><a href="#è¾¹ç¼˜æ£€æµ‹ï¼šæ¢¯åº¦" class="headerlink" title="è¾¹ç¼˜æ£€æµ‹ï¼šæ¢¯åº¦"></a>è¾¹ç¼˜æ£€æµ‹ï¼šæ¢¯åº¦</h2><p>å¦‚æœäº‹å…ˆä¸çŸ¥é“è¦æ‰¾çš„å›¾åƒæ¨¡æ¿ï¼Œå¦‚ä½•åœ¨å›¾åƒä¸­æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå›¾åƒçš„ç‰¹å¾ã€‚</p>
<p>ç®€åŒ–å›¾åƒï¼š</p>
<p>å›¾ä¸­çš„æ‰€æœ‰ä¿¡æ¯å¤§å¤šæ¥æºäºè¾¹ç¼˜ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240428-105632@2x.png" class>
<p>è¾¹ç¼˜ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-105718@2x.png" class></p>
<p>ä¸Šå›¾ä¸­åˆ†åˆ«æœ‰æ·±åº¦è¾¹ç¼˜ï¼Œé˜´å½±è¾¹ç¼˜ï¼Œé¢œè‰²çš„è¾¹ç¼˜ï¼Œå½¢çŠ¶çš„è¾¹ç¼˜ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240428-105810@2x.png" class>
<p>å›¾ä¸­åŒ…å«äº†çº¹ç†è¾¹ç¼˜ã€‚</p>
<p>è¾¹ç¼˜æ£€æµ‹ï¼š<br>æ‰¾å‡ºå›¾åƒå‡½æ•°çš„è¾¹ç¼˜åƒç´ ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-110004@2x.png" class></p>
<p>ä»é«˜åº¦å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ€¥å‰§å˜åŒ–çš„ä½ç½®å°±æ˜¯è¾¹ç¼˜åƒç´ ã€‚</p>
<p>è¾¹ç¼˜æ£€æµ‹çš„é—®é¢˜ï¼š</p>
<ol>
<li>è¾¹ç¼˜æœ‰å¤šå¤§</li>
<li>å˜åŒ–çš„èŒƒå›´æ˜¯å¤šå°‘</li>
</ol>
<p><strong>å¯¼æ•°å’Œè¾¹ç¼˜</strong></p>
<img src="/2024/04/27/09-07-10/QQ20240428-110311@2x.png" class>
<p>å³å›¾ä¸­çš„ä¸€é˜¶å¯¼æ•°å‡½æ•°å›¾ï¼Œæå€¼ç‚¹å¯¹åº”çš„å°±æ˜¯å›¾åƒè¾¹ç¼˜åƒç´ ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯æ¢¯åº¦</strong></p>
<img src="/2024/04/27/09-07-10/QQ20240428-111127@2x.png" class>
<p>æ¢¯åº¦æ˜¯ï¼šå›¾åƒå˜åŒ–æœ€å¿«çš„æ–¹å‘ã€‚å¤§å°æ˜¯å•ä½é•¿åº¦ä¸Šå˜åŒ–çš„å¼ºåº¦ã€‚</p>
<p>å›¾åƒçš„æ¢¯åº¦ï¼š$\nabla f = [\frac{\partial f}{\partial x},\frac{\partial f}{\partial y}]$</p>
<p>æ¢¯åº¦çš„æ–¹å‘ï¼š$\theta^2=\tan^{-1}(\frac{\partial f}{\partial y}/\frac{\partial f}{\partial x})$</p>
<p>è¾¹ç¼˜å˜åŒ–çš„å¼ºåº¦ï¼š$\left\|\nabla f\right\|=\sqrt{(\frac{\partial f}{\partial x})^2+(\frac{\partial f}{\partial y})^2}$</p>
<p>å¹…åº¦æ£€æµ‹ï¼š</p>
<p>ç¦»æ•£æ¢¯åº¦ï¼šï¼ˆåœ¨ç¦»æ•£æ•°ä¸­ï¼Œæé™æ— æ³•é è¿‘ï¼Œåªèƒ½ä½¿ç”¨æœ‰é™å·®åˆ†ï¼‰<br>å®šä¹‰ä¸ºï¼š<br>\begin{split}<br>\frac{\partial f\left(x,y\right)}{\partial x}&amp;\approx\frac{f\left(x+1,y\right)-f\left(x,y\right)}1\\&amp;\approx f\left(x+1,y\right)-f\left(x,y\right)<br>\end{split}</p>
<p>æ¢¯åº¦æ˜¯å¯¹$x$ï¼Œè¿˜æ˜¯$y$åšåå¯¼ï¼Ÿ<br><img src="/2024/04/27/09-07-10/QQ20240428-111919@2x.png" class></p>
<p>ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨å‚ç›´æ–¹å‘å¯¹xçš„æ¢¯åº¦å¯ä»¥æ±‚å‡ºè¾¹ç¼˜åƒç´ ï¼Œä½†æ˜¯åœ¨æ°´å¹³æ–¹å‘çš„è¾¹ç¼˜åƒç´ æ•ˆæœä¸å¥½ã€‚<strong>ä¸Šå›¾æ˜¯ä¸€ä¸ªå¯¹xçš„æœ‰é™å·®åˆ†</strong><br>ä¸Šå›¾ä¹Ÿæ˜¯ä¸€ä¸ªæ­£è´Ÿå›¾ï¼Œè´Ÿæ•°ä¸ºé»‘è‰²ï¼Œæ­£æ•°ä¸ºç™½è‰²ï¼Œé›¶æ˜¯ç°è‰²ã€‚</p>
<p><strong>å›¾åƒçš„åå¯¼æ•°</strong><br><img src="/2024/04/27/09-07-10/QQ20240428-112419@2x.png" class><br>å¾ˆå®¹æ˜“å¯ä»¥çœ‹å‡ºï¼šå·¦è¾¹æ˜¯å¯¹xçš„åå¯¼å›¾ï¼Œå³è¾¹æ˜¯å¯¹yçš„åå¯¼å›¾ã€‚</p>
<p>ä½¿ç”¨çš„ç›¸å…³è¿‡æ»¤å™¨ï¼š</p>
<ul>
<li>å¯¹xï¼šå°†å³è¾¹çš„åƒç´ å‡å»å·¦è¾¹çš„åƒç´ ï¼Œå¢å¼ºå¯¹æ¯”ã€‚</li>
<li>å¯¹yï¼šæœ‰ä¸¤ç§ï¼Œå–å†³äºæƒ³è®©yä¸Šå‡è¿˜æ˜¯ä¸‹é™</li>
</ul>
<p>ç¦»æ•£æ¢¯åº¦ï¼šä½¿ç”¨è¿ç®—ç¬¦$H$å®ç°<br>ç”±å…¬å¼å¯ä»¥å¾—å‡ºï¼Œæ¢¯åº¦ä¸ºå·¦è¾¹çš„åƒç´ å‡å»è‡ªå·±çš„åƒç´ ã€‚<br><img src="/2024/04/27/09-07-10/QQ20240428-113714@2x.png" class></p>
<ul>
<li>ç¬¬ä¸€ç§è¿ç®—ç¬¦ï¼šæ²¡æœ‰ä¸­é—´å…ƒç´ ï¼Œä¸”åªè¾“å‡ºäº†å³è¾¹çš„æ¢¯åº¦</li>
<li>ç¬¬äºŒç§è¿ç®—ç¬¦ï¼šè¾“å‡ºå·¦è¾¹å’Œå³è¾¹çš„æ¢¯åº¦å¹³å‡å€¼<br>å…¬å¼æ¨å¯¼ï¼š</li>
</ul>
<p>\begin{split}<br>\frac{\partial f\left(x,y\right)}{\partial x} \\<br>&amp;\approx\frac{1}{2}\{(f\left(x+1,y\right)-f\left(x,y\right) + f\left(x,y\right)-f\left(x - 1,y\right)\}\\<br>&amp;\approx\frac{1}{2}\{f\left(x+1,y\right)-f\left(x - 1,y\right)\}<br>\end{split}</p>
<p>ç»å…¸çš„è¾¹ç¼˜ç®—æ³•ï¼šSobelç®—å­<br><img src="/2024/04/27/09-07-10/QQ20240428-123328@2x.png" class></p>
<ul>
<li>$S_x$ï¼šå·¦å³å’Œå·¦ä¸Šå³ä¸Šï¼Œå·¦ä¸‹å³ä¸‹çš„æ–¹å‘å¯¼æ•°ã€‚</li>
<li>$S_y$ï¼šåŒç†</li>
</ul>
<p>æ¢¯åº¦ï¼š$\nabla\mathbf{I}=[\mathbf{g}_\mathbf{X}\quad\mathbf{g}_\mathbf{y}]^\mathbf{T}$<br>å¼ºåº¦ï¼š$\mathrm{g=(g_X^2+g_y^2)^{1/2}}$<br>æ–¹å‘ï¼š$\theta=\operatorname{atan2}(\mathfrak{g}_\mathrm{y},\mathfrak{g}_\mathrm{x})$</p>
<p>Sobelå¤è€çš„ä¾‹å­ï¼šX windows</p>
<img src="/2024/04/27/09-07-10/QQ20240428-123839@2x.png" class>
<blockquote>
<p>å³è¾¹çš„å›¾åƒæ˜¯åšäº†é˜€å€¼åŒ–thresholded</p>
</blockquote>
<p>è‘—åçš„è¾¹ç¼˜ç®—å­ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-123955@2x.png" class></p>
<h4 id="ç°å®ä¸–ç•Œ"><a href="#ç°å®ä¸–ç•Œ" class="headerlink" title="ç°å®ä¸–ç•Œ"></a>ç°å®ä¸–ç•Œ</h4><p>ä¸Šè¿°ç®—å­åœ¨ç°å®ä¸­ä¸ä¼šèµ·ä½œç”¨ï¼Œå™ªå£°å¤ªå¤šã€‚<br><img src="/2024/04/27/09-07-10/QQ20240428-124215@2x.png" class><br>æ‰€ä»¥å¿…é¡»å…ˆå¤„ç†å™ªéŸ³ï¼Œåœ¨è¾¹ç¼˜åŒ–ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šå¹³æ»‘<br><img src="/2024/04/27/09-07-10/QQ20240428-124357@2x.png" class><br>å±±å³°å°±æ˜¯è¾¹ç¼˜åƒç´ ã€‚</p>
<p><strong>ç®—å­çš„çº¿æ€§ç»“åˆæ€§</strong><br>åˆ©ç”¨å·ç§¯çš„æ±‚å¯¼å…¬å¼: $\frac\partial{\partial x}(f*g)=\frac{\partial f}{\partial x}*g$</p>
<img src="/2024/04/27/09-07-10/QQ20240428-124636@2x.png" class>
<p><strong>äºŒé˜¶å¯¼æ•°</strong></p>
<img src="/2024/04/27/09-07-10/QQ20240428-124732@2x.png" class>
<blockquote>
<p>é›¶å¼ºåº¦çš„ä½ç½®å°±æ˜¯è¾¹ç¼˜åƒç´ ï¼Œä¸éœ€è¦å†æ‰¾å³°å€¼äº†</p>
</blockquote>
<h2 id="2Dè¾¹ç¼˜æ£€æµ‹"><a href="#2Dè¾¹ç¼˜æ£€æµ‹" class="headerlink" title="2Dè¾¹ç¼˜æ£€æµ‹"></a>2Dè¾¹ç¼˜æ£€æµ‹</h2><h4 id="äºŒç»´é«˜æ–¯æ»¤æ³¢å™¨çš„å¯¼æ•°"><a href="#äºŒç»´é«˜æ–¯æ»¤æ³¢å™¨çš„å¯¼æ•°" class="headerlink" title="äºŒç»´é«˜æ–¯æ»¤æ³¢å™¨çš„å¯¼æ•°"></a>äºŒç»´é«˜æ–¯æ»¤æ³¢å™¨çš„å¯¼æ•°</h4><img src="/2024/04/27/09-07-10/QQ20240428-125006@2x.png" class>
<ul>
<li>å…¬å¼ï¼š$(I\otimes g)\otimes h=I\otimes(g\otimes h)$<br>æ ¹æ®ç»“åˆæ€§</li>
<li>$h$: åªå¯¹xæ±‚å¯¼</li>
<li>$g$: é«˜æ–¯å¹³æ»‘</li>
</ul>
<p>é«˜æ–¯æ»¤æ³¢å™¨çš„å¯¼æ•°ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-125509@2x.png" class></p>
<ul>
<li>å·¦å›¾ï¼šå¯ä»¥çœ‹å‡ºæ˜¯ä¸€ä¸ªç›¸å…³æ“ä½œ,å› ä¸ºå¾€å³å¢ä¸ºæ­£æ–¹å‘ã€‚</li>
<li>å³å›¾ï¼š</li>
</ul>
<p>sigmaçš„å¤§å°ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-125956@2x.png" class> </p>
<p>ä¸åŒçš„sigmaå¯¹äºå›¾åƒè¾¹ç¼˜çš„å½±å“ï¼šè¾ƒå°çš„å€¼ï¼Œæœ‰ç²¾ç»†çš„ç‰¹å¾,è€Œè¾ƒå¤§çš„å€¼ä»…ä»…æ£€æµ‹åˆ°è¾ƒå¤§å°ºåº¦çš„è¾¹ç¼˜ã€‚</p>
<h4 id="å¦‚ä½•æ‰¾åˆ°è¾¹ç¼˜ï¼Ÿ"><a href="#å¦‚ä½•æ‰¾åˆ°è¾¹ç¼˜ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ‰¾åˆ°è¾¹ç¼˜ï¼Ÿ"></a>å¦‚ä½•æ‰¾åˆ°è¾¹ç¼˜ï¼Ÿ</h4><p>Cannyç®—å­:</p>
<ol>
<li>å¯¹é«˜æ–¯å›¾åƒè¿›è¡Œæ»¤æ³¢</li>
<li>æ‰¾å¹…åº¦æœ€å¤§çš„æ–¹å‘ï¼Œè¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ï¼Œå³ç»†åŒ–æ“ä½œ</li>
<li>è¿æ¥æ“ä½œï¼Œå°†è¾¹ç¼˜è¿æ¥èµ·æ¥<br>å®šä¹‰äº†ä¸¤ä¸ªé˜€å€¼ï¼šæå¤§é˜€å€¼å’Œæå°é˜€å€¼</li>
</ol>
<p>åŸå›¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-130730@2x.png" class> </p>
<p>æ¢¯åº¦å›¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-130742@2x.png" class> </p>
<p>é˜€å€¼å¤„ç†å›¾ï¼šæ¶ˆé™¤ä¸€éƒ¨åˆ†æ¢¯åº¦å¤Ÿé«˜çš„åƒç´ <br><img src="/2024/04/27/09-07-10/QQ20240428-130804@2x.png" class> </p>
<p>ç»†åŒ–å¤„ç†ï¼š(éæå¤§å€¼æŠ‘åˆ¶)<br><img src="/2024/04/27/09-07-10/QQ20240428-130903@2x.png" class> </p>
<p>åšæ³•ï¼šæŸä¸ªå±€éƒ¨æœ‰å¾ˆå¤šæ¢¯åº¦ç‚¹ï¼Œåªä¿ç•™æå€¼æœ€é«˜çš„ç‚¹ï¼ŒæŠ‘åˆ¶éæå¤§å€¼</p>
<p>ä¸ºä»€ä¹ˆè¦è¿›è¡Œç»†åŒ–æ“ä½œï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-131216@2x.png" class> </p>
<p>è¶…è¿‡é˜€å€¼çš„ç²—éƒ¨åˆ†,åªä¿ç•™æå¤§å€¼ï¼Œç»†åŒ–ä¸ºä¸€æ¡ç›´çº¿ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240428-131343@2x.png" class>
<p>åœ¨æ¢¯åº¦æ–¹å‘æ‰¾åˆ°æå¤§å€¼</p>
<p>å¦ä¸€ä¸ªé—®é¢˜ï¼šä¸‹å·´çš„è¾¹ç¼˜æ²¡æœ‰æ£€æµ‹å‡ºæ¥ï¼Ÿ<br><img src="/2024/04/27/09-07-10/QQ20240428-131520@2x.png" class><br>é˜€å€¼å¤ªé«˜ï¼Œä¸‹å·´çš„æ¢¯åº¦æ²¡æœ‰é€šè¿‡é˜€å€¼ã€‚</p>
<p>Cannyé˜€å€¼æ»å:</p>
<ol>
<li>ç”¨é«˜é˜€å€¼æ£€æµ‹è¾¹ç¼˜,æ‰¾å‡ºå¼ºè¾¹ç¼˜åƒç´ </li>
<li>è¿æ¥æˆå¼ºè¾¹ç¼˜</li>
<li>åº”ç”¨ä½é˜€å€¼æ‰¾å‡ºå¼±è¾¹ç¼˜åƒç´ </li>
<li>æŠŠå¼ºè¾¹ç¼˜å»¶é•¿åˆ°å¼±åƒç´ ä¸Š<blockquote>
<p>å¦‚æœä¸€æ¡è¾¹ç¼˜ä¸Šåªæœ‰å¼±è¾¹ç¼˜åƒç´ ï¼Œå°±ä¸æ˜¯ä¸€ä¸ªéœ€è¦çš„è¾¹ç¼˜<br>å¼ºè¾¹ç¼˜å¯èƒ½ä¼šç©¿è¿‡ä¸€äº›å¼±è¾¹ç¼˜åƒç´ </p>
</blockquote>
</li>
</ol>
<p>Canny ç®—å­çš„ç»“æœï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-132327@2x.png" class></p>
<p>ä»€ä¹ˆæ ·çš„è¾¹ç¼˜å›¾æ˜¯å¥½çš„ï¼Ÿå–å†³äºä½ æƒ³ç”¨ä»€ä¹ˆæ ·çš„è¾¹ç¼˜å›¾ã€‚</p>
<h4 id="ç®€å•çš„äºŒç»´è¾¹ç¼˜æ£€æµ‹æ»¤æ³¢å™¨"><a href="#ç®€å•çš„äºŒç»´è¾¹ç¼˜æ£€æµ‹æ»¤æ³¢å™¨" class="headerlink" title="ç®€å•çš„äºŒç»´è¾¹ç¼˜æ£€æµ‹æ»¤æ³¢å™¨"></a>ç®€å•çš„äºŒç»´è¾¹ç¼˜æ£€æµ‹æ»¤æ³¢å™¨</h4><img src="/2024/04/27/09-07-10/QQ20240428-132553@2x.png" class>
<p>åå¯¼æœ‰å¤šç§é¡ºåº</p>
<p><strong>æ‹‰æ™®æ‹‰æ–¯ç®—å­</strong>ç”¨äºæ±‚äºŒé˜¶åå¯¼</p>
<img src="/2024/04/27/09-07-10/QQ20240428-132734@2x.png" class>
<p>å…¬å¼ï¼š$\nabla^2h^2=\frac{\partial^2f}{\partial x^2}+\frac{\partial^2f}{\partial y^2}$</p>
<ul>
<li>$\nabla^2$: æ‹‰æ™®æ‹‰æ–¯ç®—å­</li>
<li>0ä¸ºè¾¹ç¼˜åƒç´ </li>
</ul>
<h2 id="éœå¤«å˜æ¢ï¼ˆHough-transformï¼‰-ç›´çº¿"><a href="#éœå¤«å˜æ¢ï¼ˆHough-transformï¼‰-ç›´çº¿" class="headerlink" title="éœå¤«å˜æ¢ï¼ˆHough transformï¼‰:ç›´çº¿"></a>éœå¤«å˜æ¢ï¼ˆHough transformï¼‰:ç›´çº¿</h2><p>å¦‚ä½•æ‰¾åˆ°ä»»æ„å½¢çŠ¶ï¼Ÿ</p>
<h4 id="å‚æ•°æ¨¡å‹ï¼ˆParametric-modelï¼‰"><a href="#å‚æ•°æ¨¡å‹ï¼ˆParametric-modelï¼‰" class="headerlink" title="å‚æ•°æ¨¡å‹ï¼ˆParametric modelï¼‰"></a>å‚æ•°æ¨¡å‹ï¼ˆParametric modelï¼‰</h4><p>å‚æ•°æ¨¡å‹æ˜¯ä¸€ä¸ªç±»</p>
<p>ç›´çº¿åŒ¹é…ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-133955@2x.png" class></p>
<p>è¾¹ç¼˜å›¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-133947@2x.png" class><br>å›°éš¾ï¼š</p>
<ul>
<li>æœ‰å¾ˆå…¶ä»–å½¢çŠ¶,å¤šç§æ¨¡å‹</li>
<li>çº¿ä¸è¿ç»­</li>
<li>å™ªéŸ³</li>
</ul>
<p>æŠ•ç¥¨ï¼š</p>
<ol>
<li>æ¯ä¸ªåƒç´ ç‚¹å¯¹æœ‰ç”¨æ¨¡å‹æŠ•ç¥¨</li>
<li>æ‰¾å‡ºæœ€é«˜çš„æ¨¡å‹</li>
</ol>
<blockquote>
<p>åŸå› ï¼šæœ‰å¾ˆå¤šæ— æ•ˆçš„åƒç´ ç‚¹ï¼Œä½†åªè¦æœ‰çœŸæ­£çš„åƒç´ ç‚¹æŠ•ç¥¨æ˜¯æœ‰æ•ˆçš„ï¼Œé€‰å‡ºåŒ¹é…çš„æ¨¡å‹ï¼Œå°±å¯ä»¥æ·˜æ±°æ‰å™ªéŸ³ã€‚</p>
</blockquote>
<p>æ‹Ÿåˆç›´çº¿çš„å‡ ä¸ªé—®é¢˜ï¼Ÿ</p>
<ol>
<li>ç»™å®šä¸€äº›ç‚¹ï¼Œå“ªäº›æ˜¯ä¸€æ¡çº¿</li>
<li>æœ‰å¤šå°‘æ¡çº¿</li>
<li>æœ‰å“ªäº›ç‚¹æ˜¯å±äºçº¿çš„</li>
</ol>
<p>éœå¤«å˜æ¢ï¼šä¸€ç§æŠ•ç¥¨æŠ€æœ¯ï¼Œå¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜</p>
<ul>
<li>æ¯ä¸ªè¾¹ç¼˜ç‚¹éƒ½ä¼šæŠ•ç¥¨ç»™å…¼å®¹çš„çº¿</li>
<li>æ‰¾ç¥¨æ•°æœ€å¤šçº¿</li>
<li>è¿½è¸ªç¥¨ï¼Œå¯ä»¥æ‰¾åˆ°å±äºçº¿çš„ç‚¹æœ‰å“ªäº›</li>
</ul>
<h4 id="éœå¤«ç©ºé—´Hough-parameter-space"><a href="#éœå¤«ç©ºé—´Hough-parameter-space" class="headerlink" title="éœå¤«ç©ºé—´Hough (parameter) space"></a>éœå¤«ç©ºé—´Hough (parameter) space</h4><img src="/2024/04/27/09-07-10/QQ20240428-135111@2x.png" class>
<p>å¯¹äºä¸€ä¸ªç‚¹$(x,y)$ï¼Œç©¿è¿‡è¿™ä¸ªç‚¹çš„ç›´çº¿ä¸º:$y_0=mx_0+b$ï¼Œ$m$,$b$ä¸ºä»»æ„å€¼ã€‚<br>æ‰€ä»¥å¯¹åº”éœå¤«ç©ºé—´çš„å‡½æ•°ä¸ºï¼š$b^2=-x_0m^2+y_0$</p>
<blockquote>
<p>å°†ç©ºé—´ä¸­çš„ä¸€ç‚¹ï¼Œå¯¹åº”åˆ°éœå¤«ç©ºé—´ä¸­çš„ä¸€æ¡ç›´çº¿</p>
</blockquote>
<img src="/2024/04/27/09-07-10/QQ20240428-135421@2x.png" class>
<ul>
<li>éœå¤«ç©ºé—´ä¸­çš„äº¤ç‚¹ï¼Œå¯¹åº”çš„å‚æ•°ï¼Œæ˜¯è¿‡ä¸¤ç‚¹çš„ç›´çº¿</li>
<li>è¿™å°±æ˜¯ä»ç‚¹ä¸­æ‰¾çº¿çš„æ–¹æ³•</li>
</ul>
<p><strong>éœå¤«ç®—æ³•</strong></p>
<img src="/2024/04/27/09-07-10/QQ20240428-135710@2x.png" class>
<p>ç‚¹å¯¹åº”äºéœå¤«ç©ºé—´ä¸­çš„çº¿ï¼š</p>
<ul>
<li>æ¯ä¸ªç‚¹éƒ½å¯¹è‡ªå·±ç»è¿‡çš„åˆ†åŒºæŠ•ç¥¨</li>
<li>ç¥¨æ•°æœ€å¤šçš„å°±æ˜¯çº¿<blockquote>
<p>å…·æœ‰åå·®</p>
</blockquote>
</li>
</ul>
<p>ä¸ºäº†é˜²æ­¢å‡ºç°å‚ç›´ç›´çº¿çš„è¡¨ç¤ºï¼Œé‡‡ç”¨æåæ ‡æ³•è¡¨ç¤ºå›¾åƒ</p>
<img src="/2024/04/27/09-07-10/QQ20240428-140007@2x.png" class>
<ul>
<li>$d$:åŸç‚¹åˆ°ç‚¹è·ç¦»</li>
<li>$\theta$: è¡¨ç¤ºåˆ°$x$è½´çš„è§’åº¦</li>
<li>$\quad x\cos\theta+y\sin\theta=d$</li>
</ul>
<blockquote>
<p>å¯ä»¥è¡¨ç¤ºä»»ä½•çš„ç›´çº¿<br>å›¾åƒç©ºé—´ä¸­çš„ç‚¹æ˜¯éœå¤«ç©ºé—´ä¸­çš„æ­£å¼¦æ›²çº¿</p>
</blockquote>
<h4 id="åŸºæœ¬éœå¤«å˜æ¢ç®—æ³•"><a href="#åŸºæœ¬éœå¤«å˜æ¢ç®—æ³•" class="headerlink" title="åŸºæœ¬éœå¤«å˜æ¢ç®—æ³•"></a>åŸºæœ¬éœå¤«å˜æ¢ç®—æ³•</h4><p>éœå¤«ç´¯åŠ å™¨æ•°ç»„ï¼ˆæ”¶é›†æŠ•ç¥¨çš„æ•°ç»„ï¼‰ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-140657@2x.png" class></p>
<p>éœå¤«ç®—æ³•ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-140911@2x.png" class></p>
<p>éœå¤«å˜åŒ–çš„å¤æ‚æ€§ï¼š<br>ç©ºé—´å¤æ‚æ€§å’Œæ—¶é—´å¤æ‚æ€§éƒ½å¾ˆå¤§</p>
<p>ç›´çº¿çš„éœå¤«ç©ºé—´ï¼š<br>æ— å™ªéŸ³çš„ç›´çº¿<br><img src="/2024/04/27/09-07-10/QQ20240428-141342@2x.png" class><br>æœ€äº®çš„ç‚¹ï¼šæ˜¯åƒç´ æœ€å¤šçš„ç›´çº¿</p>
<p>æ­£æ–¹å½¢çš„éœå¤«ç©ºé—´ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-141150@2x.png" class></p>
<h4 id="å™ªéŸ³å¯¹éœå¤«å˜åŒ–çš„å½±å“"><a href="#å™ªéŸ³å¯¹éœå¤«å˜åŒ–çš„å½±å“" class="headerlink" title="å™ªéŸ³å¯¹éœå¤«å˜åŒ–çš„å½±å“"></a>å™ªéŸ³å¯¹éœå¤«å˜åŒ–çš„å½±å“</h4><img src="/2024/04/27/09-07-10/QQ20240428-141725@2x.png" class>
<p>å³°å€¼ä¸æ˜ç¡®äº†</p>
<p>æ›´å¤šçš„å™ªéŸ³ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240428-141839@2x.png" class></p>
<h4 id="éœå¤«å˜åŒ–çš„æ‰©å±•"><a href="#éœå¤«å˜åŒ–çš„æ‰©å±•" class="headerlink" title="éœå¤«å˜åŒ–çš„æ‰©å±•"></a>éœå¤«å˜åŒ–çš„æ‰©å±•</h4><p>ä½¿ç”¨<strong>æ¢¯åº¦</strong>ä¼˜åŒ–éœå¤«å˜æ¢ç®—æ³•<br><img src="/2024/04/27/09-07-10/QQ20240428-142259@2x.png" class></p>
<blockquote>
<p>ä¼˜åŒ–çš„éœå¤«å˜æ¢çš„åœ°æ–¹ï¼Ÿ</p>
</blockquote>
<p>æ‰©å±•äºŒï¼š<br>æ”¹å˜é˜€å€¼<br>æ‰©å±•ä¸‰ï¼š<br>æ”¹å˜æŠ•ç¥¨ç®±çš„å¤§å°<br>æ‰©å±•å››ï¼š<br>ç›¸åŒçš„æ“ä½œå¯ä»¥ç”¨çš„å…¶ä»–å½¢çŠ¶</p>
<blockquote>
<p>è¯¾ä¸Šçš„ç®—æ³•å¯¹ç°å®æ˜¯ä¸èµ·ä½œç”¨çš„<br>è®ºæ–‡ä¸­çš„ç®—æ³•ä¹Ÿæ˜¯ä¸èµ·ä½œç”¨ï¼Œè¦æŠŠæ•…äº‹è®²å¾—å¥½å¬<br>å…³é”®æ˜¯ç†è§£åŸç†</p>
</blockquote>
<h2 id="éœå¤«å˜æ¢ï¼ˆHough-transformï¼‰-åœ†"><a href="#éœå¤«å˜æ¢ï¼ˆHough-transformï¼‰-åœ†" class="headerlink" title="éœå¤«å˜æ¢ï¼ˆHough transformï¼‰:åœ†"></a>éœå¤«å˜æ¢ï¼ˆHough transformï¼‰:åœ†</h2><p>åœ†çš„æ–¹ç¨‹ï¼š$\left(x_i-a\right)^2+\left(y_i-b\right)^2=r^2$</p>
<p>åœ†çš„éœå¤«ç©ºé—´ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-091353@2x.png" class></p>
<p>ä½¿ç”¨æ›´å¤§çš„æŠ•ç¥¨ç®±ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-091756@2x.png" class></p>
<h4 id="åœ†çš„éœå¤«å˜æ¢"><a href="#åœ†çš„éœå¤«å˜æ¢" class="headerlink" title="åœ†çš„éœå¤«å˜æ¢"></a>åœ†çš„éœå¤«å˜æ¢</h4><p>æŠ•ç¥¨ç®±åœ¨3Dç©ºé—´ä¸­ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-091605@2x.png" class></p>
<p>æ¢¯åº¦ä¼˜åŒ–ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-092109@2x.png" class></p>
<ul>
<li>è¿‡è¿™ç‚¹çš„åœ†å¿ƒåªå¯èƒ½åœ¨ï¼šç‚¹å’Œåœ†å¿ƒçš„è¿çº¿ï¼Œå³æ¢¯åº¦å‚çº¿ä¸Š</li>
<li>è¿™æ ·å°±è¿‡æ»¤æ‰å…¶ä»–ä½ç½®çš„åœ†å¿ƒæŠ•ç¥¨</li>
</ul>
<p>ç®—æ³•ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-091847@2x.png" class></p>
<h4 id="æŠ•ç¥¨çš„å®ç”¨æŠ€å·§"><a href="#æŠ•ç¥¨çš„å®ç”¨æŠ€å·§" class="headerlink" title="æŠ•ç¥¨çš„å®ç”¨æŠ€å·§"></a>æŠ•ç¥¨çš„å®ç”¨æŠ€å·§</h4><ul>
<li>å‰ªæï¼Œä¸è¦æŠ•æ²¡ç”¨å¾—ç¥¨</li>
<li>é€‰ä¸€ä¸ªåˆç†çš„æŠ•ç¥¨ç½‘æ ¼<ul>
<li>å¤ªå¤§ï¼ŒæŠ•çš„é”™è¯¯å¤ªå¤š</li>
<li>å¤ªå°ï¼Œå™ªéŸ³ä¼šå½±å“</li>
</ul>
</li>
<li>æŠ•ç¥¨ç»™ä¸´è¿‘çš„æŠ•ç¥¨ç®±ï¼Œç±»ä¼¼ç´¯åŠ å™¨å¹³æ»‘</li>
<li>ä½¿ç”¨æ¢¯åº¦ä¼˜åŒ–æŠ•ç¥¨</li>
</ul>
<h4 id="ä¼˜ç‚¹ç¼ºç‚¹"><a href="#ä¼˜ç‚¹ç¼ºç‚¹" class="headerlink" title="ä¼˜ç‚¹ç¼ºç‚¹"></a>ä¼˜ç‚¹ç¼ºç‚¹</h4><p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ¯ä¸ªåƒç´ æŠ•ç¥¨éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸å—é®æŒ¡å½±å“</li>
<li>å™ªéŸ³ä¹Ÿä¸å½±å“</li>
<li>å¯ä»¥åœ¨å•å›¾åƒæ‰¾å¤šå½¢çŠ¶</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å‚æ•°çš„å¤æ‚æ€§</li>
<li>éå¸¸è§„å½¢çŠ¶ï¼ŒæŠ•ç¥¨å¾ˆå¤æ‚</li>
</ul>
<h2 id="å¹¿ä¹‰éœå¤«å˜æ¢"><a href="#å¹¿ä¹‰éœå¤«å˜æ¢" class="headerlink" title="å¹¿ä¹‰éœå¤«å˜æ¢"></a>å¹¿ä¹‰éœå¤«å˜æ¢</h2><h4 id="éåˆ†ææ¨¡å‹"><a href="#éåˆ†ææ¨¡å‹" class="headerlink" title="éåˆ†ææ¨¡å‹"></a>éåˆ†ææ¨¡å‹</h4><p>éœå¤«è¡¨ï¼š<br>ç”¨äºç»™éè§„åˆ™å½¢çŠ¶æŠ•ç¥¨</p>
<p>å»ºè¡¨ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-093857@2x.png" class></p>
<ul>
<li>$c$ï¼šæ˜¯ä¸€ä¸ªå®šä½ç‚¹</li>
<li>$r$ï¼šä½ç§»çŸ¢é‡</li>
<li>$\theta_1$ï¼š æ¢¯åº¦</li>
<li>æŠŠ$r$æ”¾å…¥ç”±$\theta$ç´¢å¼•çš„è¡¨</li>
</ul>
<p>è¯†åˆ«ï¼š</p>
<img src="/2024/04/27/09-07-10/QQ20240429-093933@2x.png" class>
<ul>
<li>è®¡ç®—è¾¹ç•Œç‚¹çš„æ¢¯åº¦æ–¹å‘$\theta$</li>
<li>åœ¨è¡¨æ ¼ä¸­æ‰¾å‡ºæ‰€æœ‰è¯¥æ–¹å‘çš„ä½ç§»å‘é‡</li>
<li>ç»™ä½ç§»å‘é‡çš„ç»ˆç‚¹æŠ•ç¥¨ï¼Ÿ</li>
</ul>
<p>æ ·ä¾‹ï¼š</p>
<img src="/2024/04/27/09-07-10/QQ20240429-101040@2x.png" class>
<p>åº•éƒ¨çš„è¾¹æœ‰ç›¸åŒçš„$\theta$ï¼Œä½†æ˜¯ä¸ä¸€æ ·çš„ä½ç§»ï¼Œå¯¹æ‰€æœ‰çš„ä½ç§»æŠ•ç¥¨ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240429-101252@2x.png" class>
<p>å½“ä¸‹è¿™ä¸ªåƒç´ ç‚¹çš„ä½ç§»å›¾ï¼Œæ¥æºäºå®ƒç›¸åŒ$\theta$çš„æŠ•ç¥¨ï¼Œåšäº†å¹³ç§»ï¼Œä»–ä»¬å…¬ç”¨ä¸€ä¸ªç´¢å¼•ç‚¹ï¼Œæœ€ç»ˆåº•éƒ¨çš„æ‰€æœ‰åƒç´ ç‚¹æŠ•ç¥¨å¾—å‡ºäº†ä¸€æ¡ç›´çº¿ã€‚</p>
<img src="/2024/04/27/09-07-10/QQ20240429-101605@2x.png" class>
<p>è¿™æ¡ç›´çº¿ä¸­ï¼Œä¸­å¿ƒçš„æŠ•ç¥¨æ•°æ˜¯æœ€å¤šçš„ï¼Œé€šè¿‡å¯¹å¦ä¸€æ¡è¾¹åšç›¸åŒæ“ä½œï¼Œäº¤ç‚¹ä¸ºä¸­å¿ƒç‚¹ã€‚</p>
<p>ç®—æ³•ï¼šé»˜è®¤ä¸çŸ¥é“æ–¹å‘</p>
<img src="/2024/04/27/09-07-10/QQ20240429-102147@2x.png" class>
<p>ä¸çŸ¥é“æ¯”ä¾‹ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-102238@2x.png" class></p>
<p><strong>è¯†åˆ«ä¸­çš„åº”ç”¨</strong><br>åŸºäºè§†è§‰ä»£ç çš„ç´¢å¼•ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-102508@2x.png" class></p>
<p>ç”Ÿæˆä»£ç å—ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-102615@2x.png" class><br>åƒç´ æŒ‰è”Ÿåˆ†ç±»</p>
<p>ç”Ÿæˆç‰¹å¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-102705@2x.png" class></p>
<p>ç”Ÿæˆä½ç§»æŠ•ç¥¨ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-102750@2x.png" class><br>åœ¨æŠ•ç¥¨ç®±ä¸­ï¼Œç›¸åŒç‰¹å¾çš„æŠ•ç¥¨æ•°é‡å°±æ˜¯ç‰¹å¾çš„ä¸ªæ•°ã€‚<br>çœ‹è½®èƒæŠ•äº†å‡ ç¥¨</p>
<h2 id="å‚…é‡Œå¶å˜æ¢"><a href="#å‚…é‡Œå¶å˜æ¢" class="headerlink" title="å‚…é‡Œå¶å˜æ¢"></a>å‚…é‡Œå¶å˜æ¢</h2><p>è®¡ç®—è§†è§‰å°†å›¾åƒè§†ä¸ºæ•°æ®ï¼Œè€Œä¸æ˜¯ä¿¡å·ï¼Œä½†é¢‘ç‡åˆ†æçš„æ€æƒ³å¾ˆæœ‰ç”¨ã€‚</p>
<p>basis setsï¼šæ ‡å‡†åŸº(çº¿ä»£çš„å®šä¹‰)</p>
<p>åº”ç”¨åˆ°å›¾åƒçš„æ ‡å‡†åŸºï¼š<br>æŠŠå›¾åƒè§†ä¸ºéå¸¸å¤§çš„ç©ºé—´ä¸­çš„ç‚¹ï¼Œä¾‹å¦‚ä¸€ä¸ªN*Nçš„å›¾åƒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸€ç»´çš„å‘é‡ã€‚<br>å¦ä¸€ç§åšæ³•ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-140527@2x.png" class></p>
<ul>
<li>åŒä¸€ä½ç½®çš„å›¾åƒï¼šç±»ä¼¼æ­£å¼¦ä½™å¼¦</li>
</ul>
<p>ä¸Šé¢å°±æ˜¯<strong>å‚…é‡Œå¶åŸº</strong>ï¼Œé€’å¢çš„æ˜¯é¢‘ç‡</p>
<h4 id="æ­£å¼¦å’Œ"><a href="#æ­£å¼¦å’Œ" class="headerlink" title="æ­£å¼¦å’Œ"></a>æ­£å¼¦å’Œ</h4><p>å…¬å¼ï¼š$A\sin(\omega x^2+\varphi^2)$<br>å…±æœ‰ä¸‰ä¸ªè‡ªç”±åº¦ï¼š</p>
<ul>
<li>$A$ï¼šå¹…åº¦</li>
<li>$\omega$ï¼šé¢‘ç‡</li>
<li>$\varphi$ï¼šç›¸ä½</li>
</ul>
<img src="/2024/04/27/09-07-10/QQ20240429-141002@2x.png" class>
<p>é¢‘ç‡æ˜¯æœ€é‡è¦çš„ï¼Œé¢‘ç‡è¶Šé«˜ï¼Œæ‘†åŠ¨é€Ÿåº¦è¶Šå¿«</p>
<h4 id="æ—¶é—´å’Œé¢‘ç‡"><a href="#æ—¶é—´å’Œé¢‘ç‡" class="headerlink" title="æ—¶é—´å’Œé¢‘ç‡"></a>æ—¶é—´å’Œé¢‘ç‡</h4><p>$g(t)=\sin(2\pi ft)+\frac13\sin(2\pi(3f)t)$<br><img src="/2024/04/27/09-07-10/QQ20240429-141307@2x.png" class></p>
<p>ä¸€ç§ç»˜åˆ¶å…‰è°±çš„æ–¹å¼</p>
<img src="/2024/04/27/09-07-10/QQ20240429-141409@2x.png" class>
<p>fè¶Šå¤§ï¼Œè¶Šæ¥è¿‘æ–¹æ³¢</p>
<p>æ–¹æ³¢çš„æ­£å¼¦å…¬å¼ï¼š$A\sum\limits_{k=1}^{\infty}\frac{1}{k}\sin\left(2\pi kt\right)$<br>å›¾åƒï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-141517@2x.png" class><br>ä¸è€ƒè™‘ç›¸ä½</p>
<h4 id="å‚…é‡Œå¶å˜æ¢-1"><a href="#å‚…é‡Œå¶å˜æ¢-1" class="headerlink" title="å‚…é‡Œå¶å˜æ¢"></a>å‚…é‡Œå¶å˜æ¢</h4><p>$f(x)\longrightarrow\boxed{\begin{array}{c}\text{Fourier}\\\text{Transform}\end{array}}\longrightarrow F(\omega)$</p>
<p>å¤æ•°ï¼š$\begin{aligned}F\left(\omega\right)&amp;=R\left(\omega\right)+iI\left(\omega\right)\end{aligned}$<br>æ€§è´¨ï¼š</p>
<ul>
<li>$A = \pm\sqrt{R \left( \omega \right)^2 + I \left( \omega \right)^2}$</li>
<li>$\varphi^2=\tan^{-1}\frac{I\left(\omega\right)}{R\left(\omega\right)}$</li>
</ul>
<p>è™šéƒ¨æ˜¯å¥‡å‡½æ•°-æ­£å¼¦ï¼Œå®éƒ¨æ˜¯å¶å‡½æ•°-ä½™å¼¦ã€‚</p>
<h4 id="è®¡ç®—å‚…é‡Œå¶å˜æ¢"><a href="#è®¡ç®—å‚…é‡Œå¶å˜æ¢" class="headerlink" title="è®¡ç®—å‚…é‡Œå¶å˜æ¢"></a>è®¡ç®—å‚…é‡Œå¶å˜æ¢</h4><p>åŸºæœ¬æ€§è´¨ï¼š<br>$\int_{-\infty}^\infty\sin(ax+\phi)\sin(bx+\varphi)dx=0,\mathrm{~if~}a\neq b$</p>
<p>$\int_{-\infty}^\infty\sin(\alpha x+\phi)\sin(\alpha x+\varphi)dx=\pm\infty$</p>
<p>ä¾‹å­ï¼š<br>å‡è®¾ä¸€ä¸ªå±•å¼€ä¸ºä½™å¼¦çš„å‡½æ•°ï¼š<br>$f\left(x\right)=\cos\left(2\pi\omega x\right)$</p>
<p>$C\left(u\right)=\int_{-\infty}^{\infty}f\left(x\right)\cos\left(2\pi ux\right)dx$</p>
<ul>
<li>å¦‚æœ$u == \omega$ï¼šç§¯åˆ†ä¸ºæ— ç©·</li>
<li>å¦‚æœ$u \neq \omega$ï¼šç§¯åˆ†ä¸º0 </li>
</ul>
<p>å¾—åˆ°è„‰å†²å›¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-143042@2x.png" class></p>
<p>è¢«ç§°ä½œä¸ä½™å¼¦å¯¹åº”çš„è„‰å†²</p>
<p>å¦‚æœæ˜¯æ­£å¼¦ï¼Œå·¦è¾¹å°†ä¼šæ˜¯è´Ÿçš„è„‰å†²ï¼š$\sin(-x) = -\sin(x)$</p>
<h4 id="å‚…é‡Œå¶å˜æ¢é€šç”¨å®šä¹‰"><a href="#å‚…é‡Œå¶å˜æ¢é€šç”¨å®šä¹‰" class="headerlink" title="å‚…é‡Œå¶å˜æ¢é€šç”¨å®šä¹‰"></a>å‚…é‡Œå¶å˜æ¢é€šç”¨å®šä¹‰</h4><p>å®šä¹‰ï¼š$F\left(u^2\right)=\int_{-\infty}^{\infty}f\left(x^2\right)e^{-i2\pi ux}dx$<br>å…¶ä¸­ï¼š$e^{ik}=\text{ cos }k+i\sin k\quad i=\sqrt{-1}$</p>
<p>ä½œç”¨ï¼šä»ç©ºé—´åŸŸè½¬æ¢åˆ°é¢‘åŸŸ</p>
<p>å‚…é‡Œå¶é€†å˜æ¢ï¼š$f\left(x\right)=\int_{-\infty}^\infty F\left(u\right)e^{i2\pi ux}du$<br>å¯ä»¥æ¢å¤ä¿¡å·</p>
<h4 id="é¢‘è°±"><a href="#é¢‘è°±" class="headerlink" title="é¢‘è°±"></a>é¢‘è°±</h4><p>å¸¸ç”¨é¢‘è°±ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-144050@2x.png" class><br>æœ€åä¸€ä¸ªæ˜¯å¹‚é¢‘è°±</p>
<p>é¢‘è°±å›¾ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-144135@2x.png" class></p>
<p>å±€é™æ€§ï¼š<br>å‚…é‡Œå¶çº§æ•°ç§¯åˆ†æœ‰ç•Œ</p>
<h4 id="å‚…é‡Œå¶å˜æ¢åˆ°å‚…é‡Œå¶çº§æ•°"><a href="#å‚…é‡Œå¶å˜æ¢åˆ°å‚…é‡Œå¶çº§æ•°" class="headerlink" title="å‚…é‡Œå¶å˜æ¢åˆ°å‚…é‡Œå¶çº§æ•°"></a>å‚…é‡Œå¶å˜æ¢åˆ°å‚…é‡Œå¶çº§æ•°</h4><p>çº§æ•°ï¼š$F\left(k\right)=\frac1N\sum_{x=0}^{x=N-1}f\left(x\right)e^{-i\frac{2\pi kx}N}$</p>
<p>ç§¯åˆ†çš„å¦ä¸€ç§å†™æ³•ï¼šç¦»æ•£åŒ–</p>
<h4 id="äºŒç»´çš„å‚…é‡Œå¶"><a href="#äºŒç»´çš„å‚…é‡Œå¶" class="headerlink" title="äºŒç»´çš„å‚…é‡Œå¶"></a>äºŒç»´çš„å‚…é‡Œå¶</h4><p>$F\left(u,\nu\right)=\int_{-\infty}^\infty\int_{-\infty}^\infty f\left(x,y\right)e^{-i2\pi\left(ux+\nu y\right)}dxdy\frac12$</p>
<p>ç¦»æ•£ï¼š$F\left(k_x,k_y\right)=\frac1N\sum_{x=0}^{x=N-1}\sum_{y=0}^{y=N-1}f\left(x,y\right)e^{-i\frac{2\pi\left(k_xx+k_yy\right)}N}$</p>
<p>ä¾‹å­ï¼š<br>ä¸€ä¸ªæ­£å¼¦æ›²çº¿ï¼Œå¤„äºç‰¹å®šçš„é¢‘ç‡ï¼Œ ä»…ä»…æœ‰å‚ç›´çº¿ç»„æˆï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-144821@2x.png" class></p>
<p>å³å›¾æ˜¯å®ƒçš„å‚…é‡Œå¶é¢‘è°±å’ŒåŠŸèƒ½è°±ã€‚<br>äº®ç‚¹å°±æ˜¯é¢‘ç‡çš„å°–å³°</p>
<p>ä¸€ä¸ªä½™å¼¦æ›²çº¿ï¼Œé¢‘ç‡æ›´å¿«ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-145050@2x.png" class></p>
<blockquote>
<p>é¢‘ç‡åˆ†é‡æ›´é«˜ï¼Œå³°å€¼é å¤–</p>
</blockquote>
<p>çº¿æ€§ï¼šå‚…é‡Œå¶å˜æ¢æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢<br><img src="/2024/04/27/09-07-10/QQ20240429-145222@2x.png" class></p>
<h4 id="çœŸå®å›¾åƒçš„å…‰è°±"><a href="#çœŸå®å›¾åƒçš„å…‰è°±" class="headerlink" title="çœŸå®å›¾åƒçš„å…‰è°±"></a>çœŸå®å›¾åƒçš„å…‰è°±</h4><img src="/2024/04/27/09-07-10/QQ20240429-145348@2x.png" class>
<blockquote>
<p>è‡ªç„¶å›¾åƒæœ‰ç›¸åŒçš„å…‰è°±<br>é‡å»ºå›¾åƒæ‰éœ€è¦ç›¸ä½<br>ç”¨éƒ¨åˆ†å…‰è°±é‡å»ºå›¾åƒï¼Œå›¾åƒçš„å˜åŒ–å¦‚å³å›¾<br>é«˜é¢‘ç‡ï¼šå‘Šè¯‰è¾¹ç¼˜åœ¨å“ªé‡Œï¼Œé«˜é¢‘è¶Šäº®ï¼Œè¶Šæ¸…æ™°<br>æ˜äº®çº¿å‚ç›´äºè½®å»“çº¿</p>
</blockquote>
<img src="/2024/04/27/09-07-10/QQ20240429-145542@2x.png" class>
<p>äººé€ åœºæ™¯ï¼š</p>
<img src="/2024/04/27/09-07-10/QQ20240429-145613@2x.png" class>
<p>æ€è€ƒï¼š</p>
<ul>
<li>å¦‚æœä¸æ˜¯å‘¨æœŸå‡½æ•°ï¼Œå…‰è°±ä¼šæœ‰å€¾æ–œ</li>
<li></li>
</ul>
<h2 id="é¢‘ç‡åˆ†æä¸­çš„å·ç§¯"><a href="#é¢‘ç‡åˆ†æä¸­çš„å·ç§¯" class="headerlink" title="é¢‘ç‡åˆ†æä¸­çš„å·ç§¯"></a>é¢‘ç‡åˆ†æä¸­çš„å·ç§¯</h2><h4 id="å‚…é‡Œå¶å˜æ¢ä¸å·ç§¯"><a href="#å‚…é‡Œå¶å˜æ¢ä¸å·ç§¯" class="headerlink" title="å‚…é‡Œå¶å˜æ¢ä¸å·ç§¯"></a>å‚…é‡Œå¶å˜æ¢ä¸å·ç§¯</h4><p>å·ç§¯ï¼š$g = f * h$<br>å‚…é‡Œå¶å˜æ¢ï¼š<br>\begin{split}<br>G\left(u\right)&amp;=\int_{-\infty}^{\infty}g\left(x\right)e^{-i2\pi ux}dx \\<br>&amp;=\int_{-\infty}^\infty\int_{-\infty}^\infty f\left(\tau\right)h\left(x-\tau\right)e^{-i2\pi ux}d\tau dx \\<br>&amp;=\int_{-\infty}^\infty\int_{-\infty}^\infty\left[f\left(\tau\right)e^{-i2\pi u\tau}d\tau\right]\left[h\left(x-\tau\right)e^{-i2\pi u\left(x-\tau\right)}dx\right] \\<br>&amp;=\int_{-\infty}^{\infty}\left[f\left(\tau\right)e^{-i2\pi u\tau}d\tau\right]\int_{-\infty}^{\infty}\left[h\left(x^{\prime}\right)e^{-i2\pi ux^{\prime}}dx^{\prime}\right] \\<br>&amp;=F\left(\begin{array}{c}u\\\end{array}\right)H\left(\begin{array}{c}u\\\end{array}\right)<br>\end{split}</p>
<img src="/2024/04/27/09-07-10/QQ20240429-152239@2x.png" class>
<p><strong>ç©ºé—´ä¸­ä¹˜ç§¯$\Leftrightarrow$é¢‘ç‡ç©ºé—´ä¸­å·ç§¯</strong></p>
<blockquote>
<p>å¤§æ©ç çš„ç©ºé—´åŸŸå·ç§¯å¾ˆå¤æ‚ï¼Œç”¨å¿«é€Ÿå‚…é‡Œå¶å˜æ¢å¯ä»¥è½¬æ¢ä¸ºé¢‘ç‡åŸŸä¹˜æ³•ï¼Œé¿å…å·ç§¯ã€‚</p>
</blockquote>
<h4 id="å¹³æ»‘å’Œæ¨¡ç³Šä¸­çš„åº”ç”¨"><a href="#å¹³æ»‘å’Œæ¨¡ç³Šä¸­çš„åº”ç”¨" class="headerlink" title="å¹³æ»‘å’Œæ¨¡ç³Šä¸­çš„åº”ç”¨"></a>å¹³æ»‘å’Œæ¨¡ç³Šä¸­çš„åº”ç”¨</h4><img src="/2024/04/27/09-07-10/QQ20240429-152734@2x.png" class>
<img src="/2024/04/27/09-07-10/QQ20240429-152812@2x.png" class>
<p><strong>ç˜¦é«˜æ–¯çš„å‚…é‡Œå¶æ˜¯èƒ–çš„</strong><br>åŸå› ï¼š<br>å¦‚æœé«˜æ–¯å¾ˆç˜¦ï¼Œå°±å¸Œæœ›ä¿ç•™æ‰€æœ‰çš„é¢‘ç‡ï¼Œå‚…é‡Œå¶å°±å¾ˆèƒ–ã€‚<br>é«˜æ–¯å¾ˆèƒ–ï¼Œæ¨¡ç³Šäº†ä¸€åˆ‡ï¼Œå°±åªä¿ç•™ä¸€ç‚¹ç‚¹ä½é¢‘ç‡ï¼Œå‡ ä¹æ²¡æœ‰é«˜é¢‘ç‡ã€‚<br>ä½œç”¨ï¼š<br>ä¿å­˜ä½é¢‘ç‡ï¼Œé™ä½é«˜é¢‘ç‡ã€‚</p>
<blockquote>
<p>ç©ºé—´é‡‡æ ·é¢‘ç‡è¶Šä½ï¼Œå‚…é‡Œå¶é¢‘ç‡è¶Šé«˜.<br>å‚…é‡Œå¶çš„æ”¾ç¼©åŸç†</p>
</blockquote>
<p>æ•ˆæœå›¾ï¼›<br><img src="/2024/04/27/09-07-10/QQ20240429-153249@2x.png" class></p>
<h4 id="å‚…é‡Œå¶å˜æ¢çš„æ€§è´¨"><a href="#å‚…é‡Œå¶å˜æ¢çš„æ€§è´¨" class="headerlink" title="å‚…é‡Œå¶å˜æ¢çš„æ€§è´¨"></a>å‚…é‡Œå¶å˜æ¢çš„æ€§è´¨</h4><img src="/2024/04/27/09-07-10/QQ20240429-153642@2x.png" class>
<p>å‚…é‡Œå¶å¯¹ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-153804@2x.png" class></p>
<h2 id="æ··å -Aliasing"><a href="#æ··å -Aliasing" class="headerlink" title="æ··å  Aliasing"></a>æ··å  Aliasing</h2><p>å‚…é‡Œå¶åŸºæ˜¯å¦‚ä½•æ··å çš„ï¼Ÿ</p>
<h4 id="è„‰å†²ä¸²çš„æ¦‚å¿µ"><a href="#è„‰å†²ä¸²çš„æ¦‚å¿µ" class="headerlink" title="è„‰å†²ä¸²çš„æ¦‚å¿µ"></a>è„‰å†²ä¸²çš„æ¦‚å¿µ</h4><p>è„‰å†²ä¸²çš„å‚…é‡Œå¶å˜æ¢æ˜¯å¦ä¸€ä¸ªè„‰å†²ä¸²<br><img src="/2024/04/27/09-07-10/QQ20240429-154529@2x.png" class></p>
<blockquote>
<p>ç©ºé—´ä¸­è„‰å†²è·ç¦»è¶Šè¿œï¼Œé¢‘ç‡ä¸­è„‰å†²è¶Šæ¥è¿‘</p>
</blockquote>
<h4 id="é‡‡æ ·å’Œé‡æ„"><a href="#é‡‡æ ·å’Œé‡æ„" class="headerlink" title="é‡‡æ ·å’Œé‡æ„"></a>é‡‡æ ·å’Œé‡æ„</h4><img src="/2024/04/27/09-07-10/QQ20240429-154812@2x.png" class>
<p>é‡‡æ ·æ˜¯è®¡ç®—æœºå¦‚ä½•å­˜å‚¨è¿ç»­ä¿¡å·æå‡ºçš„,å¦‚ä½•é‡å»ºåŸå§‹ä¿¡å·ï¼Ÿ<br><img src="/2024/04/27/09-07-10/QQ20240429-154933@2x.png" class></p>
<p>åœ¨ç¦»æ•£ä½ç½®å¦‚ä½•å°†ä¿¡å·è¿ç»­èµ·æ¥ã€‚</p>
<p>æ ·ä¾‹ï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-155039@2x.png" class></p>
<p>é‡‡æ ·å¯†åº¦ä¸å¤Ÿï¼Œæ— æ³•æ¢å¤å›¾åƒã€‚</p>
<p>å¦‚ä½•é˜²æ­¢é”¯é½¿å‡ºç°ï¼Ÿ<br>è¿‡æ»¤é«˜é¢‘ç‡ï¼Œé™ä½é‡‡æ ·é‡ã€‚</p>
<h4 id="è„‰å†²"><a href="#è„‰å†²" class="headerlink" title="è„‰å†²"></a>è„‰å†²</h4><p>ä¸€ç»´è„‰å†²å‡½æ•°ï¼š$comb_M[x]=\sum_{k=-\infty}^{\infty}\delta[x-kM]$<br>å›¾åƒï¼š<br><img src="/2024/04/27/09-07-10/QQ20240429-155942@2x.png" class></p>
<p>äºŒç»´è„‰å†²å‡½æ•°ï¼š$comb_{M,N}(x,y)\equiv\sum_{k=-\infty}^\infty\sum_{l=-\infty}^\infty\delta\left(x-kM,y-lN\right)$<br>å‚…é‡Œå¶å˜æ¢ï¼š<br>$\sum_{k=-\infty}^n\sum_{l=-\infty}^n\delta\left(x-kM,y-lN\right)\Leftrightarrow\frac1{MN}\sum_{k=-\infty}^\infty\sum_{l=-\infty}^\infty\delta\left(u-\frac kM,\nu-\frac lN\right)$</p>
<h4 id="é‡‡æ ·ä½é¢‘ä¿¡å·"><a href="#é‡‡æ ·ä½é¢‘ä¿¡å·" class="headerlink" title="é‡‡æ ·ä½é¢‘ä¿¡å·"></a>é‡‡æ ·ä½é¢‘ä¿¡å·</h4><img src="/2024/04/27/09-07-10/QQ20240429-160402@2x.png" class>
<p>é‡‡æ ·ï¼šè¿ç»­ä¿¡å·ä¹˜ç¦»æ•£æ¢³å‡½æ•°</p>
<p>å¦‚æœåŠŸèƒ½é¢‘ç‡$W$æ»¡è¶³ï¼š$W&lt;\frac1{2M}$ï¼Œå°±å¯ä»¥æ¢å¤ã€‚</p>
<blockquote>
<p>è¿™é‡Œæœ‰ä¸€äº›é‡‡æ ·å®šç†çš„å†…å®¹</p>
</blockquote>
<h4 id="é‡‡æ ·é«˜é¢‘ä¿¡å·"><a href="#é‡‡æ ·é«˜é¢‘ä¿¡å·" class="headerlink" title="é‡‡æ ·é«˜é¢‘ä¿¡å·"></a>é‡‡æ ·é«˜é¢‘ä¿¡å·</h4><img src="/2024/04/27/09-07-10/QQ20240429-160831@2x.png" class>
<p>é«˜é¢‘ä¿¡å·é‡‡æ ·é‡å äº†ï¼Œé‡‡æ ·ä¹‹å‰ï¼Œå¿…é¡»å»å¤„é«˜é¢‘ï¼Œä»¥é˜²é‡å ã€‚</p>
<p>å¦‚ä½•å»å¤„é«˜é¢‘ï¼Ÿ<br><strong>æ¢³çŠ¶æ»¤æ³¢å™¨</strong><br><img src="/2024/04/27/09-07-10/QQ20240429-161033@2x.png" class></p>
<h4 id="å›¾åƒä¸­çš„é‡å "><a href="#å›¾åƒä¸­çš„é‡å " class="headerlink" title="å›¾åƒä¸­çš„é‡å "></a>å›¾åƒä¸­çš„é‡å </h4><p>å›¾åƒç¼©å°ï¼Œå¦‚æœç›´æ¥ä¸¢æ‰è¡Œåˆ—ï¼Œå›¾åƒä¼šå˜å°ã€‚æ”¾å¤§å›¾åƒåï¼Œå›¾åƒä¸åƒæ˜¯ç¼©å°çš„å›¾åƒï¼Œå¾ˆæ¨¡ç³Šã€‚</p>
<p>æ­£ç¡®çš„åšæ³•æ˜¯ï¼šç”¨é«˜æ–¯æ»¤æ³¢ã€‚<br><img src="/2024/04/27/09-07-10/QQ20240429-161449@2x.png" class><br>é«˜æ–¯æ»¤æ³¢åšäº†æŠ—é”¯é½¿ï¼Œæ‰€ä»¥æ•ˆæœæ›´å¥½ã€‚</p>
<h4 id="å¯¹æ¯”åº¦æ•æ„Ÿ"><a href="#å¯¹æ¯”åº¦æ•æ„Ÿ" class="headerlink" title="å¯¹æ¯”åº¦æ•æ„Ÿ"></a>å¯¹æ¯”åº¦æ•æ„Ÿ</h4><img src="/2024/04/27/09-07-10/QQ20240429-161728@2x.png" class>
<p>äººç±»çš„è§†è§‰å¯¹é«˜é¢‘ä¸æ•æ„Ÿã€‚</p>
<h4 id="JPEG"><a href="#JPEG" class="headerlink" title="JPEG"></a>JPEG</h4><p>DCTï¼šç¦»æ•£ä½™å¼¦å˜æ¢<br>ä¸ä¿ç•™é«˜é¢‘ä¿¡æ¯ï¼Œé™ä½å›¾åƒè´¨é‡æ—¶ï¼Œåªä¿å­˜ä½é¢‘ç‡ä¿¡æ¯ã€‚</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»</title>
    <url>/2024/04/27/08-42-03/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.27ï¼šåˆç¨¿</li>
<li>24.05.06ï¼šæš‚åœ</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-38-57/" title="è®¡ç®—æœºè§†è§‰æ¦‚è®º ä»€ä¹ˆæ˜¯è®¡ç®—æœºè§†è§‰">è®¡ç®—æœºè§†è§‰æ¦‚è®ºç¬”è®°-ç¬¬ä¸€ç«  ä»€ä¹ˆæ˜¯è®¡ç®—æœºè§†è§‰</a></li>
<li><a href="/2024/04/27/09-07-10/" title="è®¡ç®—æœºè§†è§‰æ¦‚è®º è®¡ç®—æœºè§†è§‰çš„å›¾åƒå¤„ç†">è®¡ç®—æœºè§†è§‰æ¦‚è®ºç¬”è®°-ç¬¬äºŒç«  è®¡ç®—æœºè§†è§‰çš„å›¾åƒå¤„ç†</a></li>
<li><a href="/2024/04/29/16-24-21/" title="è®¡ç®—æœºè§†è§‰æ¦‚è®º ç›¸æœºå’Œå›¾åƒ">è®¡ç®—æœºè§†è§‰æ¦‚è®ºç¬”è®°-ç¬¬ä¸‰ç«  ç›¸æœºå’Œå›¾åƒ</a></li>
<li><a href="/2024/05/02/13-20-59/" title="è®¡ç®—æœºè§†è§‰æ¦‚è®º å›¾åƒç‰¹å¾">è®¡ç®—æœºè§†è§‰æ¦‚è®ºç¬”è®°-ç¬¬å››ç«  å›¾åƒç‰¹å¾</a></li>
<li><a href="/2024/05/03/12-11-15/" title="è®¡ç®—æœºè§†è§‰æ¦‚è®º å…‰åå°„æˆåƒï¼Œäº®åº¦ï¼Œé˜´å½±">è®¡ç®—æœºè§†è§‰æ¦‚è®ºç¬”è®°-ç¬¬äº”ç«  å›¾åƒ</a></li>
<li></li>
</ul>
<h2 id="è¯¾ç¨‹ç®€ä»‹"><a href="#è¯¾ç¨‹ç®€ä»‹" class="headerlink" title="è¯¾ç¨‹ç®€ä»‹"></a>è¯¾ç¨‹ç®€ä»‹</h2><ol>
<li>ä»‹ç»</li>
<li>è®¡ç®—æœºè§†è§‰çš„å›¾åƒå¤„ç†</li>
<li>ç›¸æœºå’Œç›¸æœºæ¨¡å‹çš„å‡ ä½•ç»“æ„ä»¥åŠå¤šè§†è§’</li>
<li>å›¾åƒç‰¹å¾ä¸åŒ¹é…</li>
<li>å›¾åƒå¦‚ä½•å½¢æˆï¼Œå…‰ä¸çº¹ç†ï¼Œä¼ æ„Ÿå™¨å¦‚ä½•å½¢æˆå›¾åƒ</li>
<li>å›¾åƒè¿åŠ¨åºåˆ—</li>
<li>å›¾åƒè¿åŠ¨è·Ÿè¸ª</li>
<li>åˆ†ç±»å’Œè¯†åˆ«</li>
<li>è®¡ç®—æœºè§†è§‰ç®€å•çš„æ¨¡å¼è¯†åˆ« </li>
<li>äººç±»è§†è§‰ç³»ç»Ÿ-ç”Ÿç‰©æ–¹å‘</li>
</ol>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p><a href="https://docs.google.com/spreadsheets/d/1ecUGIyhYOfQPi3HPXb-7NndrLgpX_zgkwsqzfqHPaus/pubhtml">è¯¾ç¨‹PPTï¼Œä½œä¸š</a><br><a href="https://learn.udacity.com/courses/ud810">è¯¾ç¨‹è§†é¢‘</a></p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºè§†è§‰æ¦‚è®º ä»€ä¹ˆæ˜¯è®¡ç®—æœºè§†è§‰</title>
    <url>/2024/04/27/08-38-57/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.27ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/27/08-42-03/" title="Ud810 Intro-to-cv ç¬”è®°æ±‡æ€»">è®¡ç®—æœºè§†è§‰æ¦‚ç‡-ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="è®¡ç®—æœºè§†è§‰ä¸æ˜¯å›¾åƒå¤„ç†"><a href="#è®¡ç®—æœºè§†è§‰ä¸æ˜¯å›¾åƒå¤„ç†" class="headerlink" title="è®¡ç®—æœºè§†è§‰ä¸æ˜¯å›¾åƒå¤„ç†"></a>è®¡ç®—æœºè§†è§‰ä¸æ˜¯å›¾åƒå¤„ç†</h2><h3 id="å¤§è„‘è¿›è¡Œæ„é€ å›¾åƒ"><a href="#å¤§è„‘è¿›è¡Œæ„é€ å›¾åƒ" class="headerlink" title="å¤§è„‘è¿›è¡Œæ„é€ å›¾åƒ"></a>å¤§è„‘è¿›è¡Œæ„é€ å›¾åƒ</h3><p><strong>çƒçš„è¿åŠ¨</strong></p>
<img src="/2024/04/27/08-38-57/QQ20240427-084559@2x.png" class>
<p>å°çƒåšäº†ç›¸åŒçš„è¿åŠ¨ï¼Œåªæœ‰é˜´å½±ç§»åŠ¨ä¸åŒï¼Œæˆ‘ä»¬è®¤ä¸ºå°çƒé£èµ·æ¥äº†</p>
<img src="/2024/04/27/08-38-57/QQ20240427-084850@2x.png" class>
<p>å¤§è„‘åœ¨æè¿°çœ‹åˆ°çš„è§†è§‰</p>
<h3 id="è®¡ç®—æœºè§†è§‰æ˜¯ä»€ä¹ˆ"><a href="#è®¡ç®—æœºè§†è§‰æ˜¯ä»€ä¹ˆ" class="headerlink" title="è®¡ç®—æœºè§†è§‰æ˜¯ä»€ä¹ˆ"></a>è®¡ç®—æœºè§†è§‰æ˜¯ä»€ä¹ˆ</h3><img src="/2024/04/27/08-38-57/QQ20240427-085557@2x.png" class>
<p>è®¡ç®—æœºè§†è§‰: è®¡ç®—æ¨¡å‹ï¼Œç®—æ³•ï¼ŒçœŸå®å›¾åƒçš„ä¸‰ç§æ€è€ƒæ–¹å¼ä¸‰è§’å½¢</p>
<h3 id="è¯¾ç¨‹ç®€ä»‹"><a href="#è¯¾ç¨‹ç®€ä»‹" class="headerlink" title="è¯¾ç¨‹ç®€ä»‹"></a>è¯¾ç¨‹ç®€ä»‹</h3><ol>
<li>ä»‹ç»</li>
<li>è®¡ç®—æœºè§†è§‰çš„å›¾åƒå¤„ç†</li>
<li>ç›¸æœºå’Œç›¸æœºæ¨¡å‹çš„å‡ ä½•ç»“æ„ä»¥åŠå¤šè§†è§’</li>
<li>å›¾åƒç‰¹å¾ä¸åŒ¹é…</li>
<li>å›¾åƒå¦‚ä½•å½¢æˆï¼Œå…‰ä¸çº¹ç†ï¼Œä¼ æ„Ÿå™¨å¦‚ä½•å½¢æˆå›¾åƒ</li>
<li>å›¾åƒè¿åŠ¨åºåˆ—</li>
<li>å›¾åƒè¿åŠ¨è·Ÿè¸ª</li>
<li>åˆ†ç±»å’Œè¯†åˆ«</li>
<li>è®¡ç®—æœºè§†è§‰ç®€å•çš„æ¨¡å¼è¯†åˆ« </li>
<li>äººç±»è§†è§‰ç³»ç»Ÿ-ç”Ÿç‰©æ–¹å‘</li>
</ol>
<h3 id="è¯¾ç¨‹ä½œä¸š"><a href="#è¯¾ç¨‹ä½œä¸š" class="headerlink" title="è¯¾ç¨‹ä½œä¸š"></a>è¯¾ç¨‹ä½œä¸š</h3><p>ä¸€å…±8æ¬¡ä½œä¸šï¼ŒPS1æ˜¯ç®€å•çš„å›¾åƒå¤„ç†ï¼ŒPS2-8æ˜¯è¯¾ç¨‹è®¾è®¡ä½œä¸šã€‚</p>
<p>ä½¿ç”¨Python-OpenCVï¼Œä¸éœ€è¦matlab</p>
<ul>
<li>ä»£ç å¿…é¡»è‡ªå·±å†™ï¼Œè¦ç†è§£ç›¸å…³ä»£ç </li>
<li>ä¸ºä»€ä¹ˆè¦å†™ä¹¦ä¸­å­˜åœ¨çš„ä»£ç ï¼Ÿ<br>â€œå½“ä»£ç ä¸èµ·ä½œç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šçŸ¥é“ä¸ºä»€ä¹ˆâ€<br>ä¹¦ä¸­çš„ä»£ç é€šå¸¸ä¸èµ·ä½œç”¨æˆ–æ•ˆæœä¸ä½³ã€‚</li>
</ul>
<h3 id="è½¯ä»¶ç›¸å…³"><a href="#è½¯ä»¶ç›¸å…³" class="headerlink" title="è½¯ä»¶ç›¸å…³"></a>è½¯ä»¶ç›¸å…³</h3><p>è®¡ç®—æœºè§†è§‰ç›¸å…³å›¾åƒå¤„ç†<br>ä½¿ç”¨Pythonå’ŒOpenCVï¼Œå®Œæˆè¯¾ç¨‹ä½œä¸šã€‚</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºè§†è§‰</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºè§†è§‰, å›¾åƒå¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>äººä½“å§¿æ€ä¼°è®¡ç®—æ³•æ¼”å˜å†å²</title>
    <url>/2024/04/26/13-54-29/</url>
    <content><![CDATA[<h1 id="äººä½“å§¿æ€ä¼°è®¡ç®—æ³•æ¼”å˜è¿‡ç¨‹"><a href="#äººä½“å§¿æ€ä¼°è®¡ç®—æ³•æ¼”å˜è¿‡ç¨‹" class="headerlink" title="äººä½“å§¿æ€ä¼°è®¡ç®—æ³•æ¼”å˜è¿‡ç¨‹"></a>äººä½“å§¿æ€ä¼°è®¡ç®—æ³•æ¼”å˜è¿‡ç¨‹</h1><h2 id="ä¼ ç»Ÿè§†è§‰ç®—æ³•"><a href="#ä¼ ç»Ÿè§†è§‰ç®—æ³•" class="headerlink" title="ä¼ ç»Ÿè§†è§‰ç®—æ³•"></a>ä¼ ç»Ÿè§†è§‰ç®—æ³•</h2><p>åŸºäºä¸¤ç§ï¼Œä¸€ç§é‡‡ç”¨ç”µç£æ ‡è®°åæ ‡ï¼Œå¦ä¸€ç§é‡‡ç”¨åŸºäºè§†è§‰çš„æ— æ ‡è®°åˆ†æ<sup><a href="#fn_1" id="reffn_1">1</a></sup>ã€‚<br>ç ”ç©¶å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºäºæ¨¡å‹ï¼ˆæˆ–ç”Ÿæˆï¼‰å’Œæ— æ¨¡å‹ï¼ˆæˆ–åˆ¤åˆ«ï¼‰æ–¹æ³•ã€‚åŸºäºæ¨¡å‹çš„æ–¹æ³•é‡‡ç”¨å…ˆéªŒçš„äººä½“ã€‚å§¿æ€ä¼°è®¡è¿‡ç¨‹åŒ…æ‹¬å»ºæ¨¡å’Œä¼°è®¡ã€‚å»ºæ¨¡æ˜¯ä¼¼ç„¶å‡½æ•°çš„æ„é€ ï¼Œè€ƒè™‘äº†ç›¸æœºæ¨¡å‹ã€å›¾åƒæè¿°ç¬¦ã€äººä½“æ¨¡å‹å’ŒåŒ¹é…å‡½æ•°ä»¥åŠï¼ˆç‰©ç†ï¼‰çº¦æŸã€‚</p>
<h3 id="åŸºäºç”Ÿæˆæ¨¡å‹æ–¹æ³•"><a href="#åŸºäºç”Ÿæˆæ¨¡å‹æ–¹æ³•" class="headerlink" title="åŸºäºç”Ÿæˆæ¨¡å‹æ–¹æ³•"></a>åŸºäºç”Ÿæˆæ¨¡å‹æ–¹æ³•</h3><p><strong>å»ºæ¨¡</strong><br>å»ºæ¨¡é˜¶æ®µçš„ç›®æ ‡æ˜¯åœ¨ç»™å®šä¸€ç»„å‚æ•°çš„æƒ…å†µä¸‹æ„å»ºç»™å‡ºå›¾åƒå¯èƒ½æ€§çš„å‡½æ•°,å‚æ•°åŒ…æ‹¬ï¼Œèº«ä½“é…ç½®ï¼Œä½“å‹å’Œå¤–è§‚å‚æ•°ä»¥åŠç›¸æœºè§†è§’ã€‚</p>
<p>åŸºäºæ¨¡å‹çš„æ–¹æ³•ä½¿ç”¨äººä½“æ¨¡å‹ï¼Œå…¶ä¸­åŒ…æ‹¬è¿åŠ¨å­¦ç»“æ„å’Œèº«ä½“å°ºå¯¸ã€‚æ­¤å¤–ï¼Œè¿˜ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æè¿°äº†ç»™å®šæ¨¡å‹å‚æ•°çš„äººä½“å¦‚ä½•åœ¨å›¾åƒåŸŸä¸­å‡ºç°ã€‚å›¾åƒé€šå¸¸ä¸æ˜¯ä½¿ç”¨åŸå§‹çš„è§†è§‰è¾“å…¥ï¼Œè€Œæ˜¯ç”¨è¾¹ç¼˜ã€é¢œè‰²åŒºåŸŸæˆ–è½®å»“æ¥æè¿°ã€‚éœ€è¦è§†è§‰è¾“å…¥å’Œäººä½“æ¨¡å‹ç”Ÿæˆå¤–è§‚ä¹‹é—´çš„åŒ¹é…å‡½æ•°æ¥è¯„ä¼°æ¨¡å‹å®ä¾‹åŒ–å¯¹è§†è§‰è¾“å…¥çš„è§£é‡Šç¨‹åº¦ã€‚</p>
<p><strong>è¿åŠ¨å­¦æ¨¡å‹</strong></p>
<ul>
<li>è¿åŠ¨å­¦æ¨¡å‹æœ‰å…³èŠ‚ç»„æˆï¼Œå…³èŠ‚åŒ…å«å¤šä¸ªè‡ªç”±åº¦(DOF),æŒ‡ç¤ºå…³èŠ‚å¯ä»¥åœ¨å¤šå°‘ä¸ªæ–¹å‘ä¸Šç§»åŠ¨ã€‚</li>
</ul>
<h3 id="åŸºäºæ— æ¨¡å‹åˆ¤åˆ«æ–¹æ³•"><a href="#åŸºäºæ— æ¨¡å‹åˆ¤åˆ«æ–¹æ³•" class="headerlink" title="åŸºäºæ— æ¨¡å‹åˆ¤åˆ«æ–¹æ³•"></a>åŸºäºæ— æ¨¡å‹åˆ¤åˆ«æ–¹æ³•</h3><h1 id="äººä½“å§¿æ€ä¼°è®¡ç®—æ³•"><a href="#äººä½“å§¿æ€ä¼°è®¡ç®—æ³•" class="headerlink" title="äººä½“å§¿æ€ä¼°è®¡ç®—æ³•"></a>äººä½“å§¿æ€ä¼°è®¡ç®—æ³•</h1><h2 id="ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰æ–¹æ³•-1990-2000"><a href="#ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰æ–¹æ³•-1990-2000" class="headerlink" title="ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰æ–¹æ³• 1990-2000"></a>ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰æ–¹æ³• 1990-2000</h2><h3 id="ç›´æ¥çº¿æ€§å˜æ¢ç®—æ³•DLT-Direct-Linear-Transform"><a href="#ç›´æ¥çº¿æ€§å˜æ¢ç®—æ³•DLT-Direct-Linear-Transform" class="headerlink" title="ç›´æ¥çº¿æ€§å˜æ¢ç®—æ³•DLT(Direct Linear Transform)"></a>ç›´æ¥çº¿æ€§å˜æ¢ç®—æ³•DLT(Direct Linear Transform)</h3><p>&gt;</p>
<blockquote>
<p>d</p>
</blockquote>
<h3 id="é€è§†nç‚¹-PnP-ç®—æ³•-Perspective-n-Point"><a href="#é€è§†nç‚¹-PnP-ç®—æ³•-Perspective-n-Point" class="headerlink" title="é€è§†nç‚¹(PnP) ç®—æ³•(Perspective-n-Point)"></a>é€è§†nç‚¹(PnP) ç®—æ³•(Perspective-n-Point)</h3><h2 id><a href="#" class="headerlink" title=" "></a> </h2><h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><p>[1].Pope, R. ã€ŠVision-based human motion analysis: An overviewã€‹. Computer Vision and Image Understanding 108, æœŸ 1â€“2 (2007å¹´): 4â€“18. <a href="https://doi.org/10.1016/J.CVIU.2006.10.016">https://doi.org/10.1016/J.CVIU.2006.10.016</a>.</p>
]]></content>
      <categories>
        <category>äººä½“å§¿æ€ä¼°è®¡</category>
      </categories>
      <tags>
        <tag>äººä½“å§¿æ€ä¼°è®¡, è®ºæ–‡</tag>
      </tags>
  </entry>
  <entry>
    <title>äººä½“å§¿æ€ä¼°è®¡ç›¸å…³é“¾æ¥</title>
    <url>/2024/04/26/12-29-38/</url>
    <content><![CDATA[<h1 id="äººä½“å§¿æ€ä¼°è®¡"><a href="#äººä½“å§¿æ€ä¼°è®¡" class="headerlink" title="äººä½“å§¿æ€ä¼°è®¡"></a>äººä½“å§¿æ€ä¼°è®¡</h1><h2 id="githubä»“åº“"><a href="#githubä»“åº“" class="headerlink" title="githubä»“åº“"></a>githubä»“åº“</h2><h2 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h2><ul>
<li><a href="https://2d3d.ai">2030AI-Peter</a><ul>
<li><a href="https://2d3d.ai/index.php/2020/06/14/human-pose-estimation-hrnet/">HPEæ²™æ¼æ¨¡å‹ HRNet + HigherHRNet</a></li>
</ul>
</li>
</ul>
<h2 id="çŸ¥ä¹"><a href="#çŸ¥ä¹" class="headerlink" title="çŸ¥ä¹"></a>çŸ¥ä¹</h2><h2 id="ç½‘é¡µ"><a href="#ç½‘é¡µ" class="headerlink" title="ç½‘é¡µ"></a>ç½‘é¡µ</h2><ul>
<li><a href="https://blog.roboflow.com/pose-estimation-algorithms-history/">å§¿æ€ä¼°è®¡ç®—æ³•ï¼šå†å²ä¸æ¼”å˜</a><blockquote>
<p>ä»ä¼ ç»Ÿç®—æ³•åˆ°æ·±åº¦å­¦ä¹ ç®—æ³•</p>
</blockquote>
</li>
</ul>
<h2 id="youtube"><a href="#youtube" class="headerlink" title="youtube"></a>youtube</h2><ul>
<li><a href="https://www.youtube.com/playlist?list=PLoEMreTa9CNmPGaVQYDWydc2ZmEt6zdrV">Pose Estimation | Applied Deep Learning</a><blockquote>
<p>è§£è¯»æ·±åº¦å­¦ä¹ ç®—æ³•çš„ç›¸å…³è®ºæ–‡</p>
</blockquote>
</li>
</ul>
<h2 id="è¯¾é¢˜ç»„"><a href="#è¯¾é¢˜ç»„" class="headerlink" title="è¯¾é¢˜ç»„"></a>è¯¾é¢˜ç»„</h2><h3 id="åŒ—äº¬å¤§å­¦ç‹äº¦æ´²"><a href="#åŒ—äº¬å¤§å­¦ç‹äº¦æ´²" class="headerlink" title="åŒ—äº¬å¤§å­¦ç‹äº¦æ´²"></a>åŒ—äº¬å¤§å­¦ç‹äº¦æ´²</h3><blockquote>
<p>ä¸‰ç»´äººä½“å§¿æ€ä¼°è®¡</p>
</blockquote>
<h3 id="åŒ—äº¬å¤§å­¦åˆ˜å®"><a href="#åŒ—äº¬å¤§å­¦åˆ˜å®" class="headerlink" title="åŒ—äº¬å¤§å­¦åˆ˜å®"></a>åŒ—äº¬å¤§å­¦åˆ˜å®</h3><ul>
<li>è¯¾é¢˜ç»„ <a href="https://robotics.pkusz.edu.cn/">ç½‘é¡µ</a></li>
</ul>
<h4 id="ææ–‡è±ª-åšå£«ç”Ÿ"><a href="#ææ–‡è±ª-åšå£«ç”Ÿ" class="headerlink" title="ææ–‡è±ª-åšå£«ç”Ÿ"></a>ææ–‡è±ª-åšå£«ç”Ÿ</h4><ul>
<li>ä¸ªäººç®€ä»‹<a href="https://vegetebird.github.io/">ä¸»é¡µ</a><blockquote>
<p>3Däººä½“å§¿æ€ä¼°è®¡</p>
</blockquote>
</li>
</ul>
<h3 id="å“ˆå·¥å¤§å¼ ç››å¹³"><a href="#å“ˆå·¥å¤§å¼ ç››å¹³" class="headerlink" title="å“ˆå·¥å¤§å¼ ç››å¹³"></a>å“ˆå·¥å¤§å¼ ç››å¹³</h3><ul>
<li>è¯¾é¢˜ç»„ <a href="https://homepage.hit.edu.cn/zhangshengping">ç½‘é¡µ</a><blockquote>
<p>3Däººä½“å§¿æ€ä¼°è®¡</p>
</blockquote>
</li>
</ul>
<h3 id="å¦é—¨å¤§å­¦æ›¾é¸£"><a href="#å¦é—¨å¤§å­¦æ›¾é¸£" class="headerlink" title="å¦é—¨å¤§å­¦æ›¾é¸£"></a>å¦é—¨å¤§å­¦æ›¾é¸£</h3><ul>
<li>è¯¾é¢˜ç»„<a href="https://vcg.xmu.edu.cn/">ç½‘é¡µ</a></li>
</ul>
<h4 id="éƒ‘è‹±æ—-åšå£«ç”ŸMSRA"><a href="#éƒ‘è‹±æ—-åšå£«ç”ŸMSRA" class="headerlink" title="éƒ‘è‹±æ—-åšå£«ç”ŸMSRA"></a>éƒ‘è‹±æ—-åšå£«ç”ŸMSRA</h4><ul>
<li>ä¸ªäººç®€ä»‹<a href="https://yinglinzheng.netlify.app/">ä¸»é¡µ</a><blockquote>
<p>å¤šäººäººä½“å§¿æ€ä¼°è®¡ï¼Œäººè„¸è¯†åˆ«</p>
</blockquote>
</li>
</ul>
<h1 id="ç›¸å…³å·¥å…·"><a href="#ç›¸å…³å·¥å…·" class="headerlink" title="ç›¸å…³å·¥å…·"></a>ç›¸å…³å·¥å…·</h1><h2 id="è®ºæ–‡å¯è§†åŒ–æ¢ç´¢"><a href="#è®ºæ–‡å¯è§†åŒ–æ¢ç´¢" class="headerlink" title="è®ºæ–‡å¯è§†åŒ–æ¢ç´¢"></a>è®ºæ–‡å¯è§†åŒ–æ¢ç´¢</h2><p><a href="https://www.connectedpapers.com/">connectedpapers</a></p>
]]></content>
      <categories>
        <category>äººä½“å§¿æ€ä¼°è®¡</category>
      </categories>
      <tags>
        <tag>äººä½“å§¿æ€ä¼°è®¡, HPE, å·¥å…·, è®ºæ–‡</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°äº” ç¥ç»ç½‘ç»œçš„å­¦ä¹ </title>
    <url>/2024/04/23/12-43-40/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.23ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-40-33/" title="æœºå™¨ç¬”è®°æ±‡æ€»">å´æ©è¾¾æœºå™¨å­¦ä¹  - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="9-ç¥ç»ç½‘ç»œ-å­¦ä¹ ï¼ˆNeural-Networks-Learningï¼‰"><a href="#9-ç¥ç»ç½‘ç»œ-å­¦ä¹ ï¼ˆNeural-Networks-Learningï¼‰" class="headerlink" title="9 ç¥ç»ç½‘ç»œ: å­¦ä¹ ï¼ˆNeural Networks: Learningï¼‰"></a>9 ç¥ç»ç½‘ç»œ: å­¦ä¹ ï¼ˆNeural Networks: Learningï¼‰</h1><h2 id="9-1-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰"><a href="#9-1-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰" class="headerlink" title="9.1 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰"></a>9.1 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰</h2><p>ç¥ç»ç½‘ç»œçš„åˆ†ç±»é—®é¢˜æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li><p>äºŒå…ƒåˆ†ç±»é—®é¢˜ï¼ˆ0/1åˆ†ç±»ï¼‰</p>
<p>åªæœ‰ä¸€ä¸ªè¾“å‡ºå•å…ƒï¼ˆ$K=1$ï¼‰</p>
</li>
<li><p>å¤šå…ƒï¼ˆ$K$ï¼‰åˆ†ç±»é—®é¢˜</p>
<p>è¾“å‡ºå•å…ƒä¸æ­¢ä¸€ä¸ªï¼ˆ$K\gt1$ï¼‰</p>
</li>
</ul>
<p>ç¥ç»ç½‘ç»œçš„ä»£ä»·å‡½æ•°å…¬å¼ï¼š</p>
<p>$h_\Theta(x) = a^{(L)} = g(\Theta^{(L-1)}a^{(L-1)}) = g(z^{(L)})$</p>
<p>$$ \begin{split} J(\Theta) = - \frac{1}{m} \sum_{i=1}^m \sum_{k=1}^K \left[y^{(i)}_k \log ((h_\Theta (x^{(i)}))_k) + (1 - y^{(i)}_k)\log (1 - (h_\Theta(x^{(i)}))_k)\right] + \frac{\lambda}{2m}\sum_{l=1}^{L-1} \sum_{i=1}^{s_l} \sum_{j=1}^{s_{l+1} } ( \Theta_{j,i}^{(l)})^2\end{split}$$</p>
<blockquote>
<p>$L$: ç¥ç»ç½‘ç»œçš„æ€»å±‚æ•°</p>
<p>$s_l$: ç¬¬ $l$ å±‚æ¿€æ´»å•å…ƒçš„æ•°é‡ï¼ˆä¸åŒ…å«åç½®å•å…ƒï¼‰</p>
<p>$h_\Theta(x)_k$: åˆ†ä¸ºç¬¬ $k$ ä¸ªåˆ†ç±»($k^{th}$)çš„æ¦‚ç‡ $P(y=k | x ; \Theta) $</p>
<p>$K$: è¾“å‡ºå±‚çš„è¾“å‡ºå•å…ƒæ•°é‡ï¼Œå³ç±»æ•° - 1</p>
<p>$y_k^{(i)}$: ç¬¬ $i$ ä¸ªè®­ç»ƒæ ·æœ¬çš„ç¬¬ $k$ ä¸ªåˆ†é‡å€¼</p>
<p>$y$: $K$ ç»´å‘é‡</p>
</blockquote>
<p>å¯¹ç…§ä¸‹é€»è¾‘å›å½’ä¸­çš„ä»£ä»·å‡½æ•°ï¼š</p>
<p>$$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m [ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$$</p>
<p>åœ¨ç¥ç»ç½‘ç»œçš„ä»£ä»·å‡½æ•°ä¸­ï¼Œ</p>
<ul>
<li>å·¦è¾¹çš„å˜åŒ–å®é™…ä¸Šæ˜¯ä¸ºäº†æ±‚è§£ $K$ åˆ†ç±»é—®é¢˜ï¼Œå³å…¬å¼ä¼šå¯¹æ¯ä¸ªæ ·æœ¬ç‰¹å¾éƒ½è¿è¡Œ $K$ æ¬¡ï¼Œå¹¶ä¾æ¬¡ç»™å‡ºåˆ†ä¸ºç¬¬ $k$ ç±»çš„æ¦‚ç‡ï¼Œ$h_\Theta(x)\in \mathbb{R}^{K}, y \in \mathbb{R}^{K}$ã€‚</li>
<li>å³è¾¹çš„æ­£åˆ™åŒ–é¡¹æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œæ¯ä¸€å±‚æœ‰å¤šç»´çŸ©é˜µ $\Theta^{(l)}\in \mathbb{R}^{(s_l + 1)\times s_{l+1} }$ï¼Œä»å·¦åˆ°å³çœ‹è¿™ä¸ªä¸‰æ¬¡æ±‚å’Œå¼ $\sum\limits_{l=1}^{L-1}\sum\limits_{i=1}^{s_l}\sum\limits_{j=1}^{s_{l+1} }$ ï¼Œå°±æ˜¯å¯¹æ¯ä¸€å±‚é—´çš„å¤šç»´çŸ©æƒé‡ $\Theta^{(l)}$ ï¼Œä¾æ¬¡å¹³æ–¹åæ±‚å–å…¶é™¤äº†åç½®æƒé‡éƒ¨åˆ†çš„å’Œå€¼ï¼Œå¹¶å¾ªç¯ç´¯åŠ å³å¾—ç»“æœã€‚</li>
</ul>
<blockquote>
<p>$\mathbb{R}^{m}$: å³ $m$ ç»´å‘é‡</p>
<p>$\mathbb{R}^{m\times n}$: å³ $m \times n$ ç»´çŸ©é˜µ</p>
</blockquote>
<p>å†æ¬¡å¯è§ï¼Œç¥ç»ç½‘ç»œèƒŒåçš„æ€æƒ³æ˜¯å’Œé€»è¾‘å›å½’ä¸€æ ·çš„ï¼Œä½†ç”±äºè®¡ç®—å¤æ‚ï¼Œå®é™…ä¸Šç¥ç»ç½‘ç»œçš„ä»£ä»·å‡½æ•° $J(\Theta)$ æ˜¯ä¸€ä¸ªéå‡¸ï¼ˆnon-convexï¼‰å‡½æ•°ã€‚</p>
<h2 id="9-2-åå‘ä¼ æ’­ç®—æ³•ï¼ˆBackpropagation-Algorithmï¼‰"><a href="#9-2-åå‘ä¼ æ’­ç®—æ³•ï¼ˆBackpropagation-Algorithmï¼‰" class="headerlink" title="9.2 åå‘ä¼ æ’­ç®—æ³•ï¼ˆBackpropagation Algorithmï¼‰"></a>9.2 åå‘ä¼ æ’­ç®—æ³•ï¼ˆBackpropagation Algorithmï¼‰</h2><p>ç±»ä¼¼äºå›å½’æ¨¡å‹ä¸­çš„æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œä¸ºäº†æ±‚è§£ç¥ç»ç½‘ç»œæœ€ä¼˜åŒ–é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿè¦è®¡ç®— $\frac{\partial}{\partial\Theta}J(\Theta)$ï¼Œä»¥æ­¤ $\underset{\Theta}{\text{minimize} }J(\Theta)$ ã€‚</p>
<p>åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œä»£ä»·å‡½æ•°çœ‹ä¸Šå»è™½ç„¶ä¸å¤æ‚ï¼Œä½†è¦æ³¨æ„åˆ°å…¶ä¸­ $h_\Theta(x)$ çš„æ±‚å–å®é™…ä¸Šæ˜¯ç”±å‰å‘ä¼ æ’­ç®—æ³•æ±‚å¾—ï¼Œå³éœ€ä»è¾“å…¥å±‚å¼€å§‹ï¼Œæ ¹æ®æ¯å±‚é—´çš„æƒé‡çŸ©é˜µ $\Theta$ ä¾æ¬¡è®¡ç®—æ¿€æ´»å•å…ƒçš„å€¼ $a$ã€‚ åœ¨æœ€ä¼˜åŒ–ä»£ä»·å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¿…ç„¶ä¹Ÿéœ€è¦æœ€ä¼˜åŒ–æ¯ä¸€å±‚çš„æƒé‡çŸ©é˜µï¼Œå†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼Œ<strong>ç®—æ³•æœ€ä¼˜åŒ–çš„æ˜¯æƒé‡ï¼Œè€Œä¸æ˜¯è¾“å…¥</strong>ã€‚</p>

<p><strong>åå‘ä¼ æ’­ç®—æ³•</strong>ç”¨äºè®¡ç®—æ¯ä¸€å±‚æƒé‡çŸ©é˜µçš„åå¯¼ $\frac{\partial}{\partial\Theta}J(\Theta)$ï¼Œç®—æ³•å®é™…ä¸Šæ˜¯å¯¹ä»£ä»·å‡½æ•°æ±‚å¯¼çš„æ‹†è§£ã€‚</p>
<ol>
<li><p>å¯¹äºç»™å®šè®­ç»ƒé›† $\lbrace (x^{(1)}, y^{(1)}) \cdots (x^{(m)}, y^{(m)})\rbrace$ ï¼Œåˆå§‹åŒ–æ¯å±‚é—´çš„è¯¯å·®å’ŒçŸ©é˜µ $\Delta$ï¼Œå³ä»¤æ‰€æœ‰çš„ $\Delta^{(l)}_{i,j}=0$ï¼Œä½¿å¾—æ¯ä¸ª $\Delta^{(l)}$ ä¸ºä¸€ä¸ªå…¨é›¶çŸ©é˜µã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥éå†æ‰€æœ‰æ ·æœ¬å®ä¾‹ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬å®ä¾‹ï¼Œæœ‰ä¸‹åˆ—æ­¥éª¤ï¼š</p>
<ol>
<li><p>è¿è¡Œå‰å‘ä¼ æ’­ç®—æ³•ï¼Œå¾—åˆ°åˆå§‹é¢„æµ‹ $a^{(L)}=h_\Theta(x)$ ã€‚</p>
</li>
<li><p>è¿è¡Œåå‘ä¼ æ’­ç®—æ³•ï¼Œä»è¾“å‡ºå±‚å¼€å§‹è®¡ç®—æ¯ä¸€å±‚é¢„æµ‹çš„<strong>è¯¯å·®ï¼ˆerrorï¼‰</strong>ï¼Œä»¥æ­¤æ¥æ±‚å–åå¯¼ã€‚</p>

<p>è¾“å‡ºå±‚çš„è¯¯å·®å³ä¸ºé¢„æµ‹ä¸è®­ç»ƒé›†ç»“æœçš„ä¹‹é—´çš„å·®å€¼ï¼š$\delta^{(L)} = a^{(L)} - y$ï¼Œ</p>
<p>å¯¹äºéšè—å±‚ä¸­æ¯ä¸€å±‚çš„è¯¯å·®ï¼Œéƒ½é€šè¿‡ä¸Šä¸€å±‚çš„è¯¯å·®æ¥è®¡ç®—ï¼š</p>
<p>$\delta^{(l)} = (\Theta^{(l)})^T\delta^{(l+1)} .*\ \frac{\partial a^{(l)} }{\partial z^{(l)} }\; \; \; \; \;  \text{for }l := L-1, L-2,\dots,2.$</p>
<p>éšè—å±‚ä¸­ï¼Œ$a^{(l)}$ å³ä¸ºå¢åŠ åç½®å•å…ƒåçš„ $g(z^{(l)})$ï¼Œ$a^{(l)}$ ä¸ $\Theta^{(l)}$ ç»´åº¦åŒ¹é…ï¼Œå¾—ä»¥å®ŒæˆçŸ©é˜µè¿ç®—ã€‚</p>
<p>å³å¯¹äºéšè—å±‚ï¼Œæœ‰ $a^{(l)} = (g(z^{(l)})$ æ·»åŠ åç½®å•å…ƒ $a^{(l)}_0 = 1)$</p>
<p>è§£å¾— $\frac{\partial}{\partial z^{(l)} }g(z^{(l)})=gâ€™(z^{(l)})=g(z^{(l)}) .* \ (1-g(z^{(l)}))$ï¼Œ</p>
<p>åˆ™æœ‰ $\delta^{(l)} = (\Theta^{(l)})^T\delta^{(l+1)} .<em>\ a^{(l)} .</em>\ (1-a^{(l)}), \ \ a^{(l)}_0 = 1$ã€‚</p>
<blockquote>
<p>$\delta^{(l)}$ æ±‚å¯¼å‰çš„å…¬å¼ä¸åŒäºè§†é¢‘å†…å®¹ï¼Œç»æ ¸å®ä¸ºè§†é¢‘å†…å®¹é”™è¯¯ã€‚æ¨å¯¼è¯·é˜…ä¸‹èŠ‚ã€‚</p>
</blockquote>
<p>æ ¹æ®ä»¥ä¸Šå…¬å¼è®¡ç®—ä¾æ¬¡æ¯ä¸€å±‚çš„è¯¯å·® $\delta^{(L)}, \delta^{(L-1)},\dots,\delta^{(2)}$ã€‚</p>
</li>
<li><p>ä¾æ¬¡æ±‚è§£å¹¶ç´¯åŠ è¯¯å·® $\Delta^{(l)}_{i,j} := \Delta^{(l)}_{i,j} + a_j^{(l)} \delta_i^{(l+1)}$ï¼Œå‘é‡åŒ–å®ç°å³ $\Delta^{(l)} := \Delta^{(l)} + \delta^{(l+1)}(a^{(l)})^T$</p>
</li>
</ol>
</li>
<li><p>éå†å…¨éƒ¨æ ·æœ¬å®ä¾‹ï¼Œæ±‚è§£å®Œ $\Delta$ åï¼Œæœ€ååˆ™æ±‚å¾—åå¯¼ $\frac \partial {\partial \Theta_{i,j}^{(l)} } J(\Theta)=D_{i,j}^{(l)}$</p>
<ul>
<li>$D^{(l)}_{i,j} := \dfrac{1}{m}\left(\Delta^{(l)}_{i,j} + \lambda\Theta^{(l)}_{i,j}\right)$, if $j\neq0$,</li>
<li>$D^{(l)}_{i,j} := \dfrac{1}{m}\Delta^{(l)}_{i,j}$, if $j=0$.ï¼ˆå¯¹åº”äºåç½®å•å…ƒï¼‰</li>
</ul>
</li>
</ol>
<blockquote>
<p>$\delta^{(l)}$: ç¬¬ $l$ å±‚çš„è¯¯å·®å‘é‡</p>
<p>$\delta^{(l)}_i$: ç¬¬ $l$ å±‚çš„ç¬¬ $i$ ä¸ªæ¿€æ´»å•å…ƒçš„è¯¯å·®</p>
<p>$\Delta^{(l)}_{i,j}$: ä»ç¬¬ $l$ å±‚çš„ç¬¬ $j$ ä¸ªå•å…ƒæ˜ å°„åˆ°ç¬¬ $l+1$ å±‚çš„ç¬¬ $i$ ä¸ªå•å…ƒçš„æƒé‡ä»£ä»·çš„åå¯¼ï¼ˆæ‰€æœ‰æ ·æœ¬å®ä¾‹ä¹‹å’Œï¼‰</p>
<p>$D^{(l)}_{i,j}$: $\Delta^{(l)}_{i,j}$ çš„æ ·æœ¬å‡å€¼ä¸æ­£åˆ™åŒ–é¡¹ä¹‹å’Œ</p>
<p>æ³¨ï¼šæ— éœ€è®¡ç®— $\delta^{(1)}$ï¼Œå› ä¸ºè¾“å…¥æ²¡æœ‰è¯¯å·®ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯åå‘ä¼ æ’­ç®—æ³•ï¼Œå³ä»è¾“å‡ºå±‚å¼€å§‹ä¸æ–­<strong>å‘å‰è¿­ä»£</strong>ï¼Œæ ¹æ®<strong>ä¸Šä¸€å±‚</strong>çš„è¯¯å·®ä¾æ¬¡è®¡ç®—å½“å‰å±‚çš„è¯¯å·®ï¼Œä»¥æ±‚å¾—ä»£ä»·å‡½æ•°çš„åå¯¼ã€‚</p>
<blockquote>
<p>åº”ç”¨åå‘ä¼ æ’­ï¼ˆBPï¼‰ç®—æ³•çš„ç¥ç»ç½‘ç»œè¢«ç§°ä¸º BP ç½‘ç»œï¼Œä¹Ÿç§°å‰é¦ˆç½‘ç»œï¼ˆå‘å‰åé¦ˆï¼‰ã€‚</p>
</blockquote>
<p>ã€Šæœºå™¨å­¦ä¹ ã€‹ä¸€ä¹¦ä¸­æåˆ°çš„ BP ç½‘ç»œå¼ºå¤§ä¹‹å¤„ï¼š</p>
<blockquote>
<p>ä»»ä½•å¸ƒå°”å‡½æ•°éƒ½å¯ç”±ä¸¤å±‚ç¥ç»ç½‘ç»œå‡†ç¡®è¡¨è¾¾ï¼Œä½†æ‰€éœ€çš„ä¸­é—´å•å…ƒçš„æ•°é‡éšè¾“å…¥å‘ˆæŒ‡æ•°çº§å¢é•¿;</p>
<p>ä»»ä½•è¿ç»­å‡½æ•°éƒ½å¯ç”±ä¸¤å±‚ç¥ç»ç½‘ç»œä»¥ä»»æ„ç²¾åº¦é€¼è¿‘;</p>
<p>ä»»ä½•å‡½æ•°éƒ½å¯ç”±ä¸‰å±‚ç¥ç»ç½‘ç»œä»¥ä»»æ„ç¨‹åº¦é€¼è¿‘ã€‚</p>
</blockquote>
<h2 id="9-3-ç›´è§‚ç†è§£åå‘ä¼ æ’­ï¼ˆBackpropagation-Intuitionï¼‰"><a href="#9-3-ç›´è§‚ç†è§£åå‘ä¼ æ’­ï¼ˆBackpropagation-Intuitionï¼‰" class="headerlink" title="9.3 ç›´è§‚ç†è§£åå‘ä¼ æ’­ï¼ˆBackpropagation Intuitionï¼‰"></a>9.3 ç›´è§‚ç†è§£åå‘ä¼ æ’­ï¼ˆBackpropagation Intuitionï¼‰</h2><p>è¿™èŠ‚ç»™å‡ºäº†åå‘ä¼ æ’­ç®—æ³•ä¸­è¯¯å·®çš„æ•°å­¦æ„ä¹‰ï¼š</p>
<p>$cost(t) =y^{(t)} \ \log (h_\Theta (x^{(t)})) + (1 - y^{(t)})\ \log (1 - h_\Theta(x^{(t)}))$</p>
<p>$\delta_j^{(l)} = \dfrac{\partial}{\partial z_j^{(l)} } cost(t)$</p>
<p>è§†é¢‘å†…å®¹å®é™…åœ¨ä¸Šæ–‡éƒ½æ¶‰åŠåˆ°äº†ï¼Œä¸ŠèŠ‚ä¹Ÿåšäº†è§£é‡Šï¼š</p>
<blockquote>
<p>åå‘ä¼ æ’­ç®—æ³•ï¼Œå³ä»è¾“å‡ºå±‚å¼€å§‹ä¸æ–­<strong>å‘å‰è¿­ä»£</strong>ï¼Œæ ¹æ®<strong>ä¸Šä¸€å±‚</strong>çš„è¯¯å·®ä¾æ¬¡è®¡ç®—å½“å‰å±‚çš„è¯¯å·®ï¼Œä»¥æ±‚å¾—ä»£ä»·å‡½æ•°çš„åå¯¼ã€‚</p>
</blockquote>
<p>å‰æ–‡æåˆ°è¾“å…¥å±‚æ²¡æœ‰åå·®ï¼Œæ‰€ä»¥æ²¡æœ‰ $\delta^{(1)}$ï¼ŒåŒæ ·çš„ï¼Œåç½®å•å…ƒçš„å€¼å§‹ç»ˆä¸º 1ï¼Œä¹Ÿæ²¡æœ‰è¯¯å·®ï¼Œæ•…ä¸€èˆ¬ä¼šé€‰æ‹©<strong>å¿½ç•¥åç½®å•å…ƒé¡¹çš„è¯¯å·®</strong>ã€‚</p>
<p><strong>ç¥ç»ç½‘ç»œä¸­ä»£ä»·å‡½æ•°æ±‚å¯¼çš„æ¨å¯¼è¿‡ç¨‹</strong>ï¼š</p>
<p>ä»£ä»·å‡½æ•°æ— æ­£åˆ™åŒ–é¡¹æ—¶ï¼š</p>
<p>$\begin{split} J(\Theta) = - \frac{1}{m} \sum_{i=1}^m \left[y^{(i)} \log ((h_\Theta (x^{(i)}))) + (1 - y^{(i)})\log (1 - (h_\Theta(x^{(i)})))\right] \end{split}$</p>
<p>å†æ¬¡çš„ï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œå‡è®¾æ ·æœ¬åªæœ‰ä¸€ä¸ªï¼Œåˆ™æœ‰ï¼š</p>
<p>$\begin{split} J(\Theta) = -\left[y \log ((h_\Theta (x))) + (1 - y)\log (1 - (h_\Theta(x)))\right] \end{split}$</p>
<p>å¿†åŠ $h_\Theta(x) = a^{(L)} = g(z^{(L)})$ï¼Œ$g(z) = \frac{1}{1+e^{(-z)} }$ï¼Œä»£å…¥åæ•´ç†åå¯å¾—ï¼š</p>
<p>$J(\Theta) ={y}\log \left( 1+{ {e}^{-z^{(L)} }} \right)+\left( 1-{y} \right)\log \left( 1+{ {e}^{z^{(L)} }} \right)$</p>

<p>å†æ¬¡ä¸ºäº†ä¾¿äºè®¡ç®—ï¼Œæˆ‘ä»¬ç”¨åˆ°å¦‚ä¸Šå›¾è¿™ä¸ªä¸‰å±‚ï¼ˆè¾“å…¥å±‚ä¸€èˆ¬ä¸è®¡æ•°ï¼‰ç¥ç»ç½‘ç»œã€‚</p>
<p>å¿†åŠ $z^{(l)} = \Theta^{(l-1)}a^{(l-1)}$ï¼Œæˆ‘ä»¬æœ‰ $h_\Theta(x)=a^{(4)}= g(z^{(4)})=g(\Theta^{(3)}a^{(3)})$</p>
<p>è§‚å¯Ÿè€ƒè™‘å„å˜é‡ä¸ $\Theta^{(3)}$ ä¹‹é—´çš„å…³ç³»ï¼Œæœ‰ $J(\Theta) \rightarrow  a^{(4)}\rightarrow z^{(4)}\rightarrow \Theta^{(3)}$</p>
<p>è¦è®¡ç®— $J(\Theta)$ çš„åå¯¼ï¼Œå°±è¦æŒ‰ç…§å…³ç³»ä¸æ–­å¾€å‰çœ‹ï¼Œæ¯ä¸€æ¬¡å›å¤´çœ‹ï¼Œå°±ç§°ä¸ºä¸€æ¬¡åå‘ä¼ æ’­ã€‚</p>
<p>æŠŠå›å¤´çœ‹çš„å…³ç³»è¯´çš„â€œå¾®ç§¯åˆ†ä¸€ç‚¹â€ï¼Œé‚£å°±æ˜¯ $\Theta^{(3)}$ çš„å¾®å°æ”¹å˜ä¼šå¼•èµ· $z^{(4)}$ çš„æ”¹å˜ï¼Œ $z^{(4)}$ çš„å¾®å°æ”¹å˜ä¼šå¼•èµ· $a^{(4)}$ çš„æ”¹å˜ï¼Œ$a^{(4)}$ çš„å¾®å°æ”¹å˜åˆä¼šå¼•èµ· $ J(\Theta)$ çš„æ”¹å˜ï¼Œå…³ç³»æ–¹å‘ä¹Ÿå¯ä»¥åè¿‡æ¥å†™ï¼š$\Theta^{(3)} \rightarrow z^{(4)} \rightarrow a^{(4)} \rightarrow J(\Theta) $ã€‚</p>
<p>ä»¤ $\delta^{(l)} = \frac{\partial}{\partial z^{(l)} } J(\Theta)$ï¼Œåˆ™æœ‰ $J(\Theta)$ å…³äº $\Theta^{(3)}$ çš„åå¯¼ï¼š</p>
<p>$\frac{\partial}{\partial\Theta^{(3)} } J(\Theta) = \frac{\partial J(\Theta)}{\partial z^{(4)} }   \frac{\partial z^{(4)} }{\partial\Theta^{(3)} } = \delta^{(4)}\frac{\partial z^{(4)} }{\partial\Theta^{(3)} }$</p>
<p>å†æ¬¡å¿†åŠ $z^{(l)} = \Theta^{(l-1)}a^{(l-1)}$ï¼Œåˆ™ $\frac{\partial z^{(4)} }{\partial\Theta^{(3)} } = a^{(3)}$</p>
<p>åˆ™å¯¹äºè¾“å‡ºå±‚ï¼Œæˆ‘ä»¬è¯å¾— $\frac{\partial}{\partial\Theta^{(3)} } J(\Theta) =  a^{(3)}\delta^{(4)}$ã€‚</p>
<p>å†æ¬¡å¿†åŠ $g(z) = \frac{1}{1+e^{-z} }$ï¼Œ$a^{(L)}=g(z^{(L)})$</p>
<p>$\delta^{(4)}=\frac{\partial}{\partial z^{(4)} }J(\Theta)={ {y} }\frac{-e^{-z^{(4)} }}{1+e^{-z^{(4)} }}+\left( 1-{ {y} } \right)\frac{ {e^{z^{(4)} }} }{1+e^{z^{(4)} }} = g(z^{(4)}) - y = a^{(4)}-y$</p>
<p>å³è¯å¾— $\delta^{(4)} = a^{(4)}-y$</p>
<p>å¯¹äºä»»æ„çš„è¾“å‡ºå±‚ $L$ åŠ $\Theta^{(L-1)}$ï¼Œæœ‰ $J(\Theta) \rightarrow  a^{(L)}\rightarrow z^{(L)}\rightarrow \Theta^{(L-1)}$ å…³ç³»ä¸å˜ï¼Œæ•…è¯å¾—ï¼š<br>$$<br>\frac{\partial}{\partial\Theta^{(L-1)} } J(\Theta) =  a^{(L-1)}\delta^{(L)}, \ \ \delta^{(L)} = a^{(L)}-y<br>$$<br>å¥½äº†ï¼Œæ¥ä¸‹æ¥æ¥çœ‹ä¸€ä¸‹ $J(\Theta)$ å…³äº $\Theta^{(2)}$ çš„åå¯¼</p>
<p>ä»ç„¶è§‚å¯Ÿè€ƒè™‘å„å˜é‡ä¸ $\Theta^{(2)}$ ä¹‹é—´çš„å…³ç³»ï¼Œæœ‰ $J(\Theta)\rightarrow a^{(4)} \rightarrow z^{(4)} \rightarrow    a^{(3)} \rightarrow z^{(3)} \rightarrow\Theta^{(2)}$ </p>
<p>$\frac{\partial}{\partial \Theta^{(2)} }J(\Theta) = \frac{\partial J(\Theta)}{\partial z^{(3)} } \frac{\partial z^{(3)} }{\partial \Theta^{(2)} }=\delta^{(3)} \frac{\partial z^{(3)} }{\partial \Theta^{(2)} }=  a^{(2)}\delta^{(3)}$</p>
<p>$\delta^{(3)} = \frac{\partial}{\partial z^{(3)} }J(\Theta) =\frac{\partial J(\Theta)}{\partial z^{(4)} } \frac{\partial z^{(4)} }{\partial a^{(3)} }\frac{\partial a^{(3)} }{\partial z^{(3)} } = \delta^{(4)}\frac{\partial z^{(4)} }{\partial a^{(3)} }\frac{\partial a^{(3)} }{\partial z^{(3)} }$</p>
<p>æ˜“æ±‚å¾— $\frac{\partial z^{(4)} }{\partial a^{(3)} }=\Theta^{(3)}$</p>
<p>$gâ€™(z) =\frac{e^{-z} }{(1+e^{-z})^2}=\frac{(1+e^{-z})-1}{(1+e^{-z})^2}=\frac{1}{1+e^{-z} }-\frac{1}{(1+e^{-z})^2}=g(z)(1-g(z))$</p>
<p>å³ $gâ€™(z^{(l)})=g(z^{(l)}) .* \ (1-g(z^{(l)}))$</p>
<p>æœ‰ $a^{(l)} = (g(z^{(l)})$ æ·»åŠ åç½®å•å…ƒ $a^{(l)}_0 = 1)$ï¼Œåˆ™ $\frac{\partial a^{(3)} }{\partial z^{(3)} }=a^{(3)} .*\ (1-a^{(3)})$ï¼Œ</p>
<blockquote>
<p>è¯æ˜æ—¶ä¸ºå…ˆæ±‚å¯¼åæ·»åŠ åç½®å•å…ƒï¼Œä¸å‰å‘ä¼ æ’­ç®—æ³•é¡ºåºä¸€è‡´ï¼Œå®é™…å®ç°æ—¶ï¼Œæ±‚å¯¼å’Œæ·»åŠ åç½®å•å…ƒçš„é¡ºåºå¯ä½œè°ƒæ¢ï¼Œç”±äºä¸€èˆ¬é€‰æ‹©å¿½ç•¥åç½®å•å…ƒçš„è¯¯å·®ï¼Œæ‰€ä»¥å¹¶ä¸å½±å“ç»“æœã€‚</p>
</blockquote>
<p>å³è¯å¾— $\delta^{(3)}=(\Theta^{(3)})^T\delta^{(4)}.*(a^{(3)})â€™=(\Theta^{(3)})^T\delta^{(4)}.*\ a^{(3)} .*\ (1-a^{(3)})$</p>
<p>å¯¹äºä»»æ„çš„éšè—å±‚ $l + 1$ åŠæƒé‡çŸ©é˜µ $\Theta^{(l)}$ï¼Œæœ‰ $J(\Theta)\rightarrow a^{(L)} \rightarrow z^{(L)} \rightarrow \dots \rightarrow a^{(l+1)} \rightarrow z^{(l+1)} \rightarrow\Theta^{(l)}$ å…³ç³»ä¸å˜ï¼Œæ•…è¯å¾—ï¼š</p>
<p>$$<br>\frac{\partial}{\partial\Theta^{(l)} } J(\Theta) =  a^{(l)}\delta^{(l+1)}, \ \ \delta^{(l)} = (\Theta^{(l)})^T\delta^{(l+1)}.*\ a^{(l)} .*\ (1-a^{(l)})\; \; \; \; \;  \text{for }l := L-1, L-2,\dots,2.<br>$$</p>
<p>å†æ·»å›ä¸ºäº†è®¡ç®—æ–¹ä¾¿å»æ‰çš„ $\frac{1}{m}$ å’Œæ­£åˆ™åŒ–é¡¹ï¼ˆæ—¶åˆ»è®°ä½åç½®å•å…ƒä¸æ­£åˆ™åŒ–ï¼‰ç­‰ï¼Œå³å¯å¾—ä¸ŠèŠ‚ä¸­ $J(\Theta)$ çš„åå¯¼ã€‚</p>
<h2 id="9-4-å®ç°æ³¨æ„ç‚¹-å‚æ•°å±•å¼€ï¼ˆImplementation-Note-Unrolling-Parametersï¼‰"><a href="#9-4-å®ç°æ³¨æ„ç‚¹-å‚æ•°å±•å¼€ï¼ˆImplementation-Note-Unrolling-Parametersï¼‰" class="headerlink" title="9.4 å®ç°æ³¨æ„ç‚¹: å‚æ•°å±•å¼€ï¼ˆImplementation Note: Unrolling Parametersï¼‰"></a>9.4 å®ç°æ³¨æ„ç‚¹: å‚æ•°å±•å¼€ï¼ˆImplementation Note: Unrolling Parametersï¼‰</h2><p>åœ¨ Octave/Matlab ä¸­ï¼Œå¦‚æœè¦ä½¿ç”¨ç±»ä¼¼äº <code>fminunc</code> ç­‰é«˜çº§æœ€ä¼˜åŒ–å‡½æ•°ï¼Œå…¶å‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›å€¼ç­‰éƒ½ä¸ºä¸”åªä¸ºå‘é‡ï¼Œè€Œç”±äºç¥ç»ç½‘ç»œä¸­çš„æƒé‡æ˜¯å¤šç»´çŸ©é˜µï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°å‚æ•°å±•å¼€è¿™ä¸ªæŠ€å·§ã€‚</p>
<p>è¯´ç™½äº†ï¼Œè¿™ä¸ªæŠ€å·§å°±æ˜¯æŠŠå¤šä¸ªçŸ©é˜µè½¬æ¢ä¸ºä¸€ä¸ªé•¿é•¿çš„å‘é‡ï¼Œä¾¿äºä¼ å…¥å‡½æ•°ï¼Œä¹‹åå†æ ¹æ®çŸ©é˜µç»´åº¦ï¼Œè½¬å›çŸ©é˜µå³å¯ã€‚</p>
<p>Octave ä»£ç ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% å¤šä¸ªçŸ©é˜µå±•å¼€ä¸ºä¸€ä¸ªå‘é‡</span></span><br><span class="line">Theta1 = <span class="built_in">ones</span>(<span class="number">11</span>, <span class="number">10</span>);    <span class="comment">% åˆ›å»ºç»´åº¦ä¸º 11 * 10 çš„çŸ©é˜µ</span></span><br><span class="line">Theta2 = <span class="built_in">ones</span>(<span class="number">2</span>, <span class="number">4</span>) * <span class="number">2</span>;  <span class="comment">% åˆ›å»ºç»´åº¦ä¸º 2 * 4 çš„çŸ©é˜µ</span></span><br><span class="line">ThetaVec = [Theta1(:); Theta2(:)]; <span class="comment">% å°†ä¸Šé¢ä¸¤ä¸ªçŸ©é˜µå±•å¼€ä¸ºå‘é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ä»ä¸€ä¸ªå‘é‡é‡æ„è¿˜åŸå›å¤šä¸ªçŸ©é˜µ</span></span><br><span class="line">Theta1 = <span class="built_in">reshape</span>(ThetaVec(<span class="number">1</span>:<span class="number">110</span>), <span class="number">11</span>, <span class="number">10</span>)</span><br><span class="line">Theta2 = <span class="built_in">reshape</span>(ThetaVec(<span class="number">111</span>:<span class="number">118</span>), <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">% Theta2 = reshape(ThetaVec(111:(111 + 2 * 4) - 1), 2, 4)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>reshape(A,m,n)</code>: å°†å‘é‡ A é‡æ„ä¸º m * n ç»´çŸ©é˜µã€‚</p>
</blockquote>
<h2 id="9-5-æ¢¯åº¦æ£€éªŒï¼ˆGradient-Checkingï¼‰"><a href="#9-5-æ¢¯åº¦æ£€éªŒï¼ˆGradient-Checkingï¼‰" class="headerlink" title="9.5 æ¢¯åº¦æ£€éªŒï¼ˆGradient Checkingï¼‰"></a>9.5 æ¢¯åº¦æ£€éªŒï¼ˆGradient Checkingï¼‰</h2><p>ç”±äºç¥ç»ç½‘ç»œæ¨¡å‹ä¸­çš„åå‘ä¼ æ’­ç®—æ³•è¾ƒä¸ºå¤æ‚ï¼Œåœ¨å°ç»†èŠ‚éå¸¸å®¹æ˜“å‡ºé”™ï¼Œä»è€Œæ— æ³•å¾—åˆ°æœ€ä¼˜è§£ï¼Œæ•…å¼•å…¥æ¢¯åº¦æ£€éªŒã€‚</p>
<p>æ¢¯åº¦æ£€éªŒé‡‡ç”¨æ•°å€¼ä¼°ç®—ï¼ˆNumerical estimationï¼‰æ¢¯åº¦çš„æ–¹æ³•ï¼Œè¢«ç”¨äºéªŒè¯åå‘ä¼ æ’­ç®—æ³•çš„æ­£ç¡®æ€§ã€‚</p>

<p>æŠŠè§† $\Theta$ ä¸ºä¸€ä¸ªå®æ•°ï¼Œæ•°å€¼ä¼°ç®—æ¢¯åº¦çš„åŸç†å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå³æœ‰ $\dfrac{\partial}{\partial\Theta}J(\Theta) \approx \dfrac{J(\Theta + \epsilon) - J(\Theta - \epsilon)}{2\epsilon}$</p>
<p>å…¶ä¸­ï¼Œ$\epsilon$ ä¸ºæå°å€¼ï¼Œç”±äºå¤ªå°æ—¶å®¹æ˜“å‡ºç°æ•°å€¼è¿ç®—é—®é¢˜ï¼Œä¸€èˆ¬å– $10^{-4}$ã€‚</p>
<p>å¯¹äºçŸ©é˜µ $\Theta$ï¼Œæœ‰ $\dfrac{\partial}{\partial\Theta_j}J(\Theta) \approx \dfrac{J(\Theta_1, \dots, \Theta_j + \epsilon, \dots, \Theta_n) - J(\Theta_1, \dots, \Theta_j - \epsilon, \dots, \Theta_n)}{2\epsilon}$</p>
<p>Octave ä»£ç ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">epsilon = <span class="number">1e-4</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n,</span><br><span class="line">  thetaPlus = theta;</span><br><span class="line">  thetaPlus(<span class="built_in">i</span>) += epsilon;</span><br><span class="line">  thetaMinus = theta;</span><br><span class="line">  thetaMinus(<span class="built_in">i</span>) -= epsilon;</span><br><span class="line">  gradApprox(<span class="built_in">i</span>) = (J(thetaPlus) - J(thetaMinus))/(<span class="number">2</span>*epsilon);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å¾—å‡º gradApprox æ¢¯åº¦å‘é‡åï¼Œå°†å…¶åŒä¹‹å‰è®¡ç®—çš„åå¯¼ $D$ æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰æˆ–å¾ˆæ¥è¿‘ï¼Œå³è¯´æ˜ç®—æ³•æ²¡æœ‰é—®é¢˜ã€‚</p>
<p>åœ¨ç¡®è®¤ç®—æ³•<strong>æ²¡æœ‰é—®é¢˜å</strong>ï¼ˆä¸€èˆ¬åªéœ€è¿è¡Œä¸€æ¬¡ï¼‰ï¼Œç”±äºæ•°å€¼ä¼°è®¡çš„æ¢¯åº¦æ£€éªŒæ•ˆç‡å¾ˆä½ï¼Œæ‰€ä»¥ä¸€å®šè¦<strong>ç¦ç”¨å®ƒ</strong>ã€‚</p>
<h2 id="9-6-éšæœºåˆå§‹åŒ–ï¼ˆRandom-Initializationï¼‰"><a href="#9-6-éšæœºåˆå§‹åŒ–ï¼ˆRandom-Initializationï¼‰" class="headerlink" title="9.6 éšæœºåˆå§‹åŒ–ï¼ˆRandom Initializationï¼‰"></a>9.6 éšæœºåˆå§‹åŒ–ï¼ˆRandom Initializationï¼‰</h2><p>é€»è¾‘å›å½’ä¸­ï¼Œåˆå§‹å‚æ•°å‘é‡å…¨ä¸º 0 æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚</p>
<p>åˆå§‹æƒé‡å¦‚æœå…¨ä¸º 0ï¼Œå¿†åŠ $z^{(l)} = \Theta^{(l-1)}a^{(l-1)}$ï¼Œåˆ™éšè—å±‚é™¤äº†åç½®å•å…ƒï¼Œéƒ½ä¸º 0ï¼Œè€Œæ¯ä¸ªå•å…ƒæ±‚å¯¼çš„å€¼ä¹Ÿéƒ½ä¸€æ ·ï¼Œè¿™å°±ç›¸å½“äºæ˜¯åœ¨ä¸æ–­<strong>é‡å¤è®¡ç®—åŒä¸€ç»“æœ</strong>ï¼Œä¹Ÿå°±æ˜¯ç®—ç€ç®—ç€ï¼Œä¸€å †ç‰¹å¾åœ¨æ¯ä¸€å±‚éƒ½å˜æˆåªæœ‰ä¸€ä¸ªç‰¹å¾ï¼ˆè™½ç„¶æœ‰å¾ˆå¤šå•å…ƒï¼Œä½†å€¼éƒ½ç›¸ç­‰ï¼‰ï¼Œè¿™æ ·ï¼Œç¥ç»ç½‘ç»œçš„æ€§èƒ½å’Œæ•ˆæœéƒ½ä¼šå¤§æ‰“æŠ˜æ‰£ï¼Œæ•…éœ€è¦éšæœºåˆå§‹åŒ–åˆå§‹æƒé‡ã€‚</p>
<p>éšæœºåˆå§‹åŒ–æƒé‡çŸ©é˜µä¹Ÿä¸ºå®ç°ç»†èŠ‚ä¹‹ä¸€ï¼Œç”¨äºæ‰“ç ´å¯¹ç§°æ€§ï¼ˆSymmetry Breakingï¼‰ï¼Œä½¿å¾— $\Theta^{(l)}_{ij} \in [-\epsilon,\epsilon]$ ã€‚</p>
<p>Octave ä»£ç ï¼š</p>
<p>å½“ç„¶ï¼Œåˆå§‹æƒé‡çš„æ³¢åŠ¨ä¹Ÿä¸èƒ½å¤ªå¤§ï¼Œä¸€èˆ¬é™å®šåœ¨æå°å€¼ $\epsilon$ èŒƒå›´å†…ï¼Œå³ $\Theta^{(l)}_{i,j} \in [-\epsilon, \epsilon]$ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">If the dimensions of Theta1 is <span class="number">10</span>x11, Theta2 is <span class="number">10</span>x11 and Theta3 is <span class="number">1</span>x11.</span><br><span class="line"></span><br><span class="line">Theta1 = <span class="built_in">rand</span>(<span class="number">10</span>,<span class="number">11</span>) * (<span class="number">2</span> * INIT_EPSILON) - INIT_EPSILON;</span><br><span class="line">Theta2 = <span class="built_in">rand</span>(<span class="number">10</span>,<span class="number">11</span>) * (<span class="number">2</span> * INIT_EPSILON) - INIT_EPSILON;</span><br><span class="line">Theta3 = <span class="built_in">rand</span>(<span class="number">1</span>,<span class="number">11</span>) * (<span class="number">2</span> * INIT_EPSILON) - INIT_EPSILON;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>rand(m,n)</code>: è¿”å›ä¸€ä¸ªåœ¨åŒºé—´ $(0,1)$ å†…å‡åŒ€åˆ†å¸ƒçš„éšæœºçŸ©é˜µã€‚</p>
<p>$\epsilon$: å’Œæ¢¯åº¦ä¸‹é™ä¸­çš„ $\epsilon$ æ²¡æœ‰è”ç³»ï¼Œè¿™é‡Œåªæ˜¯ä¸€ä¸ªä»»æ„å®æ•°ï¼Œç»™å®šäº†æƒé‡çŸ©é˜µåˆå§‹åŒ–å€¼çš„èŒƒå›´ã€‚</p>
</blockquote>
<h2 id="9-7-ç»¼åˆèµ·æ¥ï¼ˆPutting-It-Togetherï¼‰"><a href="#9-7-ç»¼åˆèµ·æ¥ï¼ˆPutting-It-Togetherï¼‰" class="headerlink" title="9.7 ç»¼åˆèµ·æ¥ï¼ˆPutting It Togetherï¼‰"></a>9.7 ç»¼åˆèµ·æ¥ï¼ˆPutting It Togetherï¼‰</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œåº”ç”¨ç¥ç»ç½‘ç»œæœ‰å¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li><p>ç¥ç»ç½‘ç»œçš„å»ºæ¨¡ï¼ˆåç»­è¡¥å……ï¼‰</p>
<ul>
<li>é€‰å–ç‰¹å¾ï¼Œç¡®å®šç‰¹å¾å‘é‡ $x$ çš„ç»´åº¦ï¼Œå³è¾“å…¥å•å…ƒçš„æ•°é‡ã€‚</li>
<li>é‰´åˆ«åˆ†ç±»ï¼Œç¡®å®šé¢„æµ‹å‘é‡ $h_\Theta(x)$ çš„ç»´åº¦ï¼Œå³è¾“å‡ºå•å…ƒçš„æ•°é‡ã€‚</li>
<li>ç¡®å®šéšè—å±‚æœ‰å‡ å±‚ä»¥åŠæ¯å±‚éšè—å±‚æœ‰å¤šå°‘ä¸ªéšè—å•å…ƒã€‚</li>
</ul>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œéšè—å±‚è‡³å°‘è¦æœ‰ä¸€å±‚ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šå±‚ï¼Œå±‚æ•°è¶Šå¤šä¸€èˆ¬æ„å‘³ç€æ•ˆæœè¶Šå¥½ï¼Œè®¡ç®—é‡è¶Šå¤§ã€‚</p>
</blockquote>
</li>
<li><p>è®­ç»ƒç¥ç»ç½‘ç»œ</p>
<ol>
<li><p>éšæœºåˆå§‹åŒ–åˆå§‹æƒé‡çŸ©é˜µ</p>
</li>
<li><p>åº”ç”¨å‰å‘ä¼ æ’­ç®—æ³•è®¡ç®—åˆå§‹é¢„æµ‹</p>
</li>
<li><p>è®¡ç®—ä»£ä»·å‡½æ•° $J(\Theta)$ çš„å€¼</p>
</li>
<li><p>åº”ç”¨åå‘ä¼ æ’­å®£å‘è®¡ç®— $J(\Theta)$ çš„åå¯¼æ•°</p>
</li>
<li><p>ä½¿ç”¨æ¢¯åº¦æ£€éªŒæ£€æŸ¥ç®—æ³•çš„æ­£ç¡®æ€§ï¼Œåˆ«å¿˜äº†ç”¨å®Œå°±ç¦ç”¨å®ƒ</p>
</li>
<li><p>ä¸¢ç»™æœ€ä¼˜åŒ–å‡½æ•°æœ€å°åŒ–ä»£ä»·å‡½æ•°</p>
<blockquote>
<p>ç”±äºç¥ç»ç½‘ç»œçš„ä»£ä»·å‡½æ•°éå‡¸ï¼Œæœ€ä¼˜åŒ–æ—¶ä¸ä¸€å®šä¼šæ”¶æ•›åœ¨å…¨å±€æœ€å°å€¼å¤„ï¼Œé«˜çº§æœ€ä¼˜åŒ–å‡½æ•°èƒ½ç¡®ä¿æ”¶æ•›åœ¨æŸä¸ª<strong>å±€éƒ¨</strong>æœ€å°å€¼å¤„ã€‚</p>
</blockquote>
</li>
</ol>
</li>
</ol>
<h2 id="9-8-è‡ªä¸»é©¾é©¶ï¼ˆAutonomous-Drivingï¼‰"><a href="#9-8-è‡ªä¸»é©¾é©¶ï¼ˆAutonomous-Drivingï¼‰" class="headerlink" title="9.8 è‡ªä¸»é©¾é©¶ï¼ˆAutonomous Drivingï¼‰"></a>9.8 è‡ªä¸»é©¾é©¶ï¼ˆAutonomous Drivingï¼‰</h2>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>72-ä¼˜åŒ–ç®—æ³•</title>
    <url>/2024/04/23/11-06-12/</url>
    <content><![CDATA[<h2 id="72-ä¼˜åŒ–ç®—æ³•"><a href="#72-ä¼˜åŒ–ç®—æ³•" class="headerlink" title="72.ä¼˜åŒ–ç®—æ³•"></a>72.ä¼˜åŒ–ç®—æ³•</h2><h3 id="1-ä¼˜åŒ–é—®é¢˜"><a href="#1-ä¼˜åŒ–é—®é¢˜" class="headerlink" title="1.ä¼˜åŒ–é—®é¢˜"></a>1.ä¼˜åŒ–é—®é¢˜</h3><img src="/2024/04/23/11-06-12/72-01.png" class>
<h3 id="2-å±€éƒ¨æœ€å°-vs-å…¨å±€æœ€å°"><a href="#2-å±€éƒ¨æœ€å°-vs-å…¨å±€æœ€å°" class="headerlink" title="2.å±€éƒ¨æœ€å° vs å…¨å±€æœ€å°"></a>2.å±€éƒ¨æœ€å° vs å…¨å±€æœ€å°</h3><img src="/2024/04/23/11-06-12/72-02.png" class>
<h3 id="3-å‡¸é›†å’Œå‡¸å‡½æ•°"><a href="#3-å‡¸é›†å’Œå‡¸å‡½æ•°" class="headerlink" title="3.å‡¸é›†å’Œå‡¸å‡½æ•°"></a>3.å‡¸é›†å’Œå‡¸å‡½æ•°</h3><ul>
<li>å‡¸é›†ï¼šå½¢è±¡åŒ–æ¥è¯´ï¼Œå°±æ˜¯è¿™ä¸ªé›†åˆä¸Šä»»æ„ä¸¤ä¸ªç‚¹è¿ä¸€æ¡çº¿ï¼Œè¿™ä¸ªçº¿åœ¨é›†åˆé‡Œé¢</li>
<li>å‡¸å‡½æ•°ï¼šå½¢è±¡ä¸Šæ¥è¯´å‡½æ•°ä¸Šä»»å–ä¸¤ä¸ªç‚¹è¿çº¿ï¼Œå‡½æ•°éƒ½åœ¨è¯¥çº¿ä¸‹é¢</li>
<li>å‡¸ä¼˜åŒ–é—®é¢˜ï¼šå±€éƒ¨æœ€å°ä¸€å®šæ˜¯å…¨å±€æœ€å°ã€‚ä¸¥æ ¼å‡¸ä¼˜åŒ–é—®é¢˜æœ‰å”¯ä¸€çš„å…¨å±€æœ€å°ã€‚<ul>
<li>å‡¸ï¼šçº¿æ€§å›å½’ï¼Œsoftmaxå›å½’</li>
<li>éå‡¸ï¼šå…¶ä»–ï¼ˆMLP,CNN,RNN,attentionï¼‰</li>
</ul>
</li>
</ul>
<h3 id="4-æ¢¯åº¦ä¸‹é™"><a href="#4-æ¢¯åº¦ä¸‹é™" class="headerlink" title="4.æ¢¯åº¦ä¸‹é™"></a>4.æ¢¯åº¦ä¸‹é™</h3><ul>
<li>æ¢¯åº¦ä¸‹é™â€”â€”æœ€ç®€å•çš„è¿­ä»£æ±‚è§£ç®—æ³•</li>
<li>éšæœºæ¢¯åº¦ä¸‹é™<ul>
<li>æ±‚å¯¼æ•°éœ€è¦æ±‚æ‰€æœ‰æ ·æœ¬å¯¼æ•°ï¼Œæ ·æœ¬å¤šçš„æƒ…å†µä¸‹ä»£ä»·å¤ªå¤§</li>
<li>ç†è®ºä¾æ®ï¼šæ‰€ç”¨æ ·æœ¬ï¼Œå’Œéšæœºé€‰å–ä¸€ä¸ªæ ·æœ¬å¾—åˆ°çš„æ•°å­¦æœŸæœ›æ˜¯ä¸€æ ·çš„ã€‚</li>
</ul>
</li>
<li>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆå®é™…åº”ç”¨çš„ï¼‰<ul>
<li>è®¡ç®—åŸå› ï¼šè®¡ç®—å•æ ·æœ¬çš„æ¢¯åº¦éš¾ä»¥å®Œå…¨åˆ©ç”¨ç¡¬ä»¶èµ„æº</li>
<li>é‡‡é›†ä¸€ä¸ªéšæœºå­é›†</li>
<li>ç†è®ºä¾æ®ï¼šæ— åè¿‘ï¼Œä½†é™ä½äº†æ–¹å·®</li>
</ul>
</li>
</ul>
<h3 id="5-å†²é‡æ³•"><a href="#5-å†²é‡æ³•" class="headerlink" title="5.å†²é‡æ³•"></a>5.å†²é‡æ³•</h3><ul>
<li>ä½¿ç”¨å¹³æ»‘è¿‡çš„æ¢¯åº¦å¯¹æƒé‡æ›´æ–°ï¼Œä¸å®¹æ˜“éœ‡è¡</li>
<li>momentum</li>
</ul>
<img src="/2024/04/23/11-06-12/72-03.png" class>
<h3 id="6-Adam"><a href="#6-Adam" class="headerlink" title="6.Adam"></a>6.Adam</h3><ul>
<li>éå¸¸å¹³æ»‘ï¼Œå¯¹äºå­¦ä¹ ç‡ä¸æ•æ„Ÿ</li>
<li>å¯¹äºtæ¯”è¾ƒå°çš„æ—¶å€™ï¼Œç”±äº$v_0=0$,æ‰€ä»¥ä¼šå¯¼è‡´ä¸€å¼€å§‹å€¼æ¯”è¾ƒå°ï¼Œåšäº†ä¸€ä¸ªä¿®æ­£ã€‚</li>
</ul>
<img src="/2024/04/23/11-06-12/72-04.png" class>
<ul>
<li>ä¸ºä»€ä¹ˆé™¤ä»¥$\sqrt{\widehat{s}_t}+\epsilon$ï¼Ÿ<ul>
<li>åœ¨nlpé‡Œé¢å¸¸ç”¨ï¼Œèµ·åˆ°æ­£åˆ™åŒ–çš„ä½œç”¨ï¼Œæ§åˆ¶æ¯ä¸ªç»´åº¦çš„å€¼åœ¨åˆé€‚çš„å¤§å°ã€‚</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-06-12/72-05.png" class>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>æ·±åº¦å­¦ä¹ æ¨¡å‹å¤§éƒ¨åˆ†æ˜¯éå‡¸çš„</li>
<li>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™æ˜¯æœ€å¸¸è§çš„ä¼˜åŒ–ç®—æ³•</li>
<li>å†²é‡æ˜¯å¯¹æ¢¯åº¦åšå¹³æ»‘</li>
<li>Adamæ˜¯å¯¹æ¢¯åº¦åšå¹³æ»‘ï¼Œä¸”å¯¹æ¢¯åº¦å„ä¸ªç»´åº¦å€¼åšé‡æ–°è°ƒæ•´ï¼Œå¯¹äºå­¦ä¹ ç‡ä¸æ•æ„Ÿ</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>70-BERTå¾®è°ƒ</title>
    <url>/2024/04/23/11-06-10/</url>
    <content><![CDATA[<h2 id="70-BERTå¾®è°ƒ"><a href="#70-BERTå¾®è°ƒ" class="headerlink" title="70 BERTå¾®è°ƒ"></a>70 BERTå¾®è°ƒ</h2><h3 id="1-intro"><a href="#1-intro" class="headerlink" title="1.intro"></a>1.intro</h3><p>ä¸å›¾ç‰‡åˆ†ç±»ä¸åŒï¼ŒBERTé¢„è®­ç»ƒæ—¶ä½¿ç”¨çš„ä¸¤ä¸ªä»»åŠ¡æ²¡æœ‰ä»€ä¹ˆå®é™…åº”ç”¨åœºæ™¯ï¼Œæ‰€ä»¥ä½¿ç”¨BERTæ—¶å¤šéœ€è¦è¿›è¡Œå¾®è°ƒã€‚</p>
<p>BERTå¯¹æ¯ä¸€ä¸ªtokenéƒ½è¿”å›ä¸€ä¸ªç‰¹å®šé•¿åº¦çš„ç‰¹å¾å‘é‡ï¼ˆè¯¾å ‚æ¼”ç¤ºä¸º128ï¼Œbert-baseæ˜¯768ï¼Œbert-largeæ˜¯1024ï¼‰ï¼Œè¿™äº›ç‰¹å¾å‘é‡æŠ½å–äº†ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¸åŒçš„ä»»åŠ¡ä½¿ç”¨ä¸åŒçš„ç‰¹å¾ã€‚</p>
<h3 id="2-å…·ä½“åº”ç”¨"><a href="#2-å…·ä½“åº”ç”¨" class="headerlink" title="2.å…·ä½“åº”ç”¨"></a>2.å…·ä½“åº”ç”¨</h3><h4 id="2-1å¥å­åˆ†ç±»"><a href="#2-1å¥å­åˆ†ç±»" class="headerlink" title="2.1å¥å­åˆ†ç±»"></a>2.1å¥å­åˆ†ç±»</h4><p>å°†å¥é¦–çš„\<CLS\>tokenå¯¹åº”çš„å‘é‡è¾“å…¥åˆ°å…¨è¿æ¥å±‚åˆ†ç±»ã€‚å¯¹äºä¸€å¯¹å¥å­ä¹Ÿæ˜¯åŒç†ï¼Œå¥å­ä¸­é—´ç”¨\<SEP\>åˆ†å¼€ä½†ä»åªç”¨ç¬¬ä¸€ä¸ª\<CLS\>å¯¹åº”çš„å‘é‡ã€‚</CLS\></SEP\></CLS\></p>
<p>å…³äºä¸ºä»€ä¹ˆè¦ä½¿ç”¨\<CLS\>æ˜¯å› ä¸ºé¢„è®­ç»ƒä¸­åˆ¤æ–­å¥å­æ˜¯å¦è¿ç»­ä»»åŠ¡ä¸­ä½¿ç”¨çš„æ˜¯\<CLS\>ï¼Œå› æ­¤æ¨¡å‹ä¼šâ€œçŸ¥é“â€\<CLS\>æ˜¯å¥å­çº§åˆ«åˆ†ç±»ç”¨çš„å‘é‡ï¼Œè¡¨ç¤ºçš„ä¿¡æ¯åº”ä¸å¥å­æ•´ä½“æœ‰å…³ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨\<CLS\>é€‰å®šè‡ªå·±æƒ³è¦çš„tokenï¼Œä¹‹ååœ¨å¾®è°ƒä¸­æ›´æ–°bertçš„æƒé‡å³å¯ã€‚</CLS\></CLS\></CLS\></CLS\></p>
<h4 id="2-2å‘½åå®ä½“è¯†åˆ«"><a href="#2-2å‘½åå®ä½“è¯†åˆ«" class="headerlink" title="2.2å‘½åå®ä½“è¯†åˆ«"></a>2.2å‘½åå®ä½“è¯†åˆ«</h4><p>å‘½åå®ä½“è¯†åˆ«å³è¯†åˆ«ä¸€ä¸ªè¯å…ƒæ˜¯ä¸æ˜¯å‘½åå®ä½“ï¼Œä¾‹å¦‚äººåã€æœºæ„ã€ä½ç½®ã€‚å…¶æ–¹æ³•æ˜¯å°†æ¯ä¸€ä¸ªéç‰¹æ®Šè¯å…ƒçš„å‘é‡æ”¾è¿›å…¨è¿æ¥å±‚åˆ†ç±»ï¼ˆäºŒåˆ†ç±»å¤šåˆ†ç±»å‡å¯ï¼‰ã€‚</p>
<h4 id="2-3é—®é¢˜å›ç­”"><a href="#2-3é—®é¢˜å›ç­”" class="headerlink" title="2.3é—®é¢˜å›ç­”"></a>2.3é—®é¢˜å›ç­”</h4><p>ç»™å®šä¸€ä¸ªé—®é¢˜å’Œæè¿°æ–‡å­—ï¼Œæ‰¾å‡ºä¸€ä¸ªåˆ¤æ–­ä½œä¸ºå›ç­”ï¼Œå¾®è°ƒæ–¹æ³•ä¸ºå¯¹ç‰‡æ®µä¸­çš„æ¯ä¸ªè¯å…ƒé¢„æµ‹å®ƒæ˜¯ä¸æ˜¯å›ç­”çš„å¼€å¤´æˆ–ç»“æŸã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼Œæ— è®ºæ˜¯å¥å­çº§åˆ«è¿˜æ˜¯è¯çº§åˆ«çš„åˆ†ç±»ä»»åŠ¡ï¼Œéƒ½åªéœ€è¦åœ¨bertçš„åŸºç¡€ä¸ŠåŠ å…¨è¿æ¥å±‚ï¼Œbertä¸­çš„æƒé‡æ˜¯å¯ä»¥ç›´æ¥ä»é¢„è®­ç»ƒæ¨¡å‹å¾—åˆ°çš„ï¼ŒçœŸæ­£éœ€è¦è‡ªå·±ä»å¤´è®­ç»ƒçš„åªæœ‰å…¨è¿æ¥å±‚çš„æƒé‡ã€‚</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><ul>
<li>å³ä½¿ä¸‹æ¸¸ä»»åŠ¡å„æœ‰ä¸åŒï¼Œä½¿ç”¨BERTå¾®è°ƒæ—¶å‡åªéœ€è¦å¢åŠ è¾“å‡ºå±‚</li>
<li>ä½†æ ¹æ®ä»»åŠ¡çš„ä¸åŒï¼Œè¾“å…¥çš„è¡¨ç¤ºï¼Œå’Œä½¿ç”¨çš„BERTç‰¹å¾ä¹Ÿä¼šä¸ä¸€æ ·</li>
</ul>
<p>åœ¨BERTçš„åŸºç¡€ä¸Šå¾®è°ƒä½¿å¾—å¤šæ•°ä»»åŠ¡éƒ½å˜çš„ç®€å•è®¸å¤šä¸”æ•ˆæœç›¸æ¯”ä»é›¶å¼€å§‹è®­ç»ƒè¦å¥½å¾ˆå¤šï¼Œè‡³æ­¤è‡ªç„¶è¯­è¨€å¤„ç†ä¹Ÿå‘è®¡ç®—æœºè§†è§‰ä¸€æ ·è½¬å‘å¾®è°ƒè·¯çº¿ã€‚</p>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4.QA"></a>4.QA</h3><p>Q1: BERTå¾®è°ƒçš„æ—¶å€™å›ºå®šé¢„è®­ç»ƒæ¨¡å‹çš„å‚æ•°å—ï¼Ÿ</p>
<blockquote>
<p>ä¸€èˆ¬ä¸å›ºå®šï¼Œæ‰€æœ‰æƒé‡éƒ½è¿›è¡Œè®­ç»ƒã€‚ä¹Ÿå¯ä»¥å›ºå®šä½åº•éƒ¨ä¸€äº›å±‚æ¥åŠ é€Ÿè®­ç»ƒï¼Œä½†é€šå¸¸æ¥è¯´ä¸å›ºå®šæ•ˆæœæ›´å¥½ã€‚å¯ä»¥è‡ªè¡Œå°è¯•å›ºå®šå“ªå‡ å±‚åœ¨è®­ç»ƒé€Ÿåº¦æ›´å¿«çš„å‰æä¸‹æ•ˆæœæ›´å¥½</p>
</blockquote>
<p>Q2: ä¸ºä»€ä¹ˆæ²¡è®²YOLOï¼Ÿ</p>
<blockquote>
<p>YOLOçš„è¾ƒæ–°ç‰ˆæœ¬å·²ç»è·Ÿä¹‹å‰ç‰ˆæœ¬å¾ˆä¸ä¸€æ ·äº†ï¼Œä¸”é‡Œé¢çš„æŠ€æœ¯ç»†èŠ‚å¾ˆæ‚å¤šã€‚çº¯Pythonå®ç°çš„yoloæ•ˆæœä¸è§å¾—æ¯”å…¶ä»–ç®—æ³•å¥½ï¼Œä¹‹æ‰€ä»¥è¡¨ç°å‡ºä¼—æ˜¯å› ä¸ºåŠ å…¥äº†å¤§é‡çš„æŠ€æœ¯ç»†èŠ‚ã€‚åªç»™å¤§å®¶å®ç°ä¸€ä¸ªæœ¬èº«å¤§å®¶å¯èƒ½ä¸ä¼šå¤ªæ„Ÿå…´è¶£ã€‚</p>
</blockquote>
<p>Q3: BERTåœ¨å®é™…åº”ç”¨ä¸­æ€æ ·éƒ¨ç½²ï¼Ÿç”¨C++å†™ä»£ç å—ï¼Ÿ</p>
<blockquote>
<p>ä¸€èˆ¬ä¸éœ€è¦ç”¨C++ï¼Œå¯ä»¥å°†æ¨¡å‹ç¼–è¯‘åˆ°C++ï¼ˆæ¡†æ¶é€šå¸¸æœ‰æ”¯æŒï¼‰ã€‚ä½†æ¬åˆ°C++ä¹Ÿä¸èƒ½è§£å†³é€Ÿåº¦é—®é¢˜ï¼ŒBERTæœ¬èº«æ¯”resnetä¹‹ç±»æ…¢å¾ˆå¤šã€‚</p>
</blockquote>
<p>Q4: å¦‚æœè®¾å¤‡æ€§èƒ½ä¸é«˜æ˜¯ä¸æ˜¯ä¸å»ºè®®ç”¨BERTï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥ç”¨ç®€åŒ–ç‰ˆæœ¬çš„BERTï¼Œå¦‚è’¸é¦ç‰ˆçš„BERTå¤§çº¦åªæœ‰åŸæ¨¡å‹ååˆ†ä¹‹ä¸€å¤§å°ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>69-BERTé¢„è®­ç»ƒ</title>
    <url>/2024/04/23/11-06-09/</url>
    <content><![CDATA[<h2 id="BERTé¢„è®­ç»ƒ"><a href="#BERTé¢„è®­ç»ƒ" class="headerlink" title="BERTé¢„è®­ç»ƒ"></a>BERTé¢„è®­ç»ƒ</h2><h3 id="2-BERT"><a href="#2-BERT" class="headerlink" title="2.BERT:"></a>2.BERT:</h3><h4 id="2-1-NLPé‡Œçš„è¿ç§»å­¦ä¹ "><a href="#2-1-NLPé‡Œçš„è¿ç§»å­¦ä¹ " class="headerlink" title="2.1 NLPé‡Œçš„è¿ç§»å­¦ä¹ "></a>2.1 NLPé‡Œçš„è¿ç§»å­¦ä¹ </h4><ul>
<li><p>ä½¿ç”¨é¢„è®­ç»ƒå¥½çš„æ¨¡å‹æ¥æŠ½å–è¯ï¼Œå¥å­çš„ç‰¹å¾</p>
<ul>
<li>ä¾‹å¦‚word2vecæˆ–è¯­è¨€æ¨¡å‹</li>
</ul>
</li>
<li><p>ä¸æ›´æ–°é¢„è®­ç»ƒå¥½çš„æ¨¡å‹</p>
</li>
<li>éœ€è¦æ„å»ºæ–°çš„ç½‘ç»œæ¥æŠ“å–ä»»åŠ¡éœ€è¦çš„ä¿¡æ¯<ul>
<li>Word2vecå¿½ç•¥äº†æ—¶åºä¿¡æ¯</li>
<li>è¯­è¨€æ¨¡å‹åªçœ‹äº†ä¸€ä¸ªæ–¹å‘</li>
</ul>
</li>
</ul>
<h4 id="2-2-BERTçš„åŠ¨æœº"><a href="#2-2-BERTçš„åŠ¨æœº" class="headerlink" title="2.2 BERTçš„åŠ¨æœº"></a>2.2 BERTçš„åŠ¨æœº</h4><ul>
<li>åŸºäºå¾®è°ƒçš„NLPæ¨¡å‹</li>
<li>é¢„è®­ç»ƒçš„æ¨¡å‹æŠ½å–äº†è¶³å¤Ÿå¤šçš„ä¿¡æ¯</li>
<li>æ–°çš„ä»»åŠ¡åªéœ€è¦å¢åŠ ä¸€ä¸ªç®€å•åœ°è¾“å‡ºå±‚</li>
</ul>
<img src="/2024/04/23/11-06-09/69-1.png" class>
<h4 id="2-3-BERTæ¶æ„"><a href="#2-3-BERTæ¶æ„" class="headerlink" title="2.3 BERTæ¶æ„"></a>2.3 BERTæ¶æ„</h4><ul>
<li>åªæœ‰ç¼–ç å™¨çš„Transformer</li>
<li><p>ä¸¤ä¸ªç‰ˆæœ¬ï¼š</p>
<ul>
<li>Base:#blocks=12,hidden size=768,#heads=12,#parameters=110M</li>
<li>Large:#blocks=24,hidden size=1024,#heads=16,#paramerter=340M</li>
</ul>
</li>
<li><p>åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šè®­ç»ƒ&gt;3Bè¯</p>
</li>
</ul>
<h4 id="2-4-å¯¹è¾“å…¥çš„ä¿®æ”¹"><a href="#2-4-å¯¹è¾“å…¥çš„ä¿®æ”¹" class="headerlink" title="2.4 å¯¹è¾“å…¥çš„ä¿®æ”¹"></a>2.4 å¯¹è¾“å…¥çš„ä¿®æ”¹</h4><ul>
<li>æ¯ä¸ªæ ·æœ¬æ˜¯ä¸€ä¸ªå¥å­å¯¹</li>
<li>åŠ å…¥é¢å¤–çš„ç‰‡æ®µåµŒå…¥</li>
<li>ä½ç½®ç¼–ç å¯å­¦ä¹ </li>
</ul>
<img src="/2024/04/23/11-06-09/69-2.png" class>
<h4 id="2-5-é¢„è®­ç»ƒä»»åŠ¡"><a href="#2-5-é¢„è®­ç»ƒä»»åŠ¡" class="headerlink" title="2.5 é¢„è®­ç»ƒä»»åŠ¡"></a>2.5 é¢„è®­ç»ƒä»»åŠ¡</h4><h5 id="2-5-1-å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹"><a href="#2-5-1-å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹" class="headerlink" title="2.5.1 å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹"></a>2.5.1 å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹</h5><ul>
<li>Transformerçš„ç¼–ç å™¨æ˜¯åŒå‘çš„ï¼Œæ ‡å‡†è¯­è¨€æ¨¡å‹è¦æ±‚å•å‘</li>
<li>å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹æ¯æ¬¡éšæœºï¼ˆ15%æ¦‚ç‡ï¼‰å°†ä¸€äº›è¯å…ƒæ¢æˆ<mask>
</mask></li>
</ul>
<h5 id="2-5-2-ä¸‹ä¸€ä¸ªå¥å­é¢„æµ‹"><a href="#2-5-2-ä¸‹ä¸€ä¸ªå¥å­é¢„æµ‹" class="headerlink" title="2.5.2 ä¸‹ä¸€ä¸ªå¥å­é¢„æµ‹"></a>2.5.2 ä¸‹ä¸€ä¸ªå¥å­é¢„æµ‹</h5><ul>
<li>é¢„æµ‹ä¸€ä¸ªå¥å­å¯¹ä¸­ä¸¤ä¸ªå¥å­æ˜¯ä¸æ˜¯ç›¸é‚»</li>
<li><p>è®­ç»ƒæ ·æœ¬ä¸­ï¼š</p>
<ul>
<li>50%æ¦‚ç‡é€‰æ‹©ç›¸é‚»å¥å­å¯¹ï¼š<cls>this movie is great <sep> i like it <sep></sep></sep></cls></li>
<li>50%æ¦‚ç‡é€‰æ‹©éšæœºå¥å­å¯¹ï¼š<cls>this movie is great<sep> hello world<sep></sep></sep></cls></li>
</ul>
</li>
<li><p>å°†<cls>å¯¹åº”çš„è¾“å‡ºæ”¾åˆ°ä¸€ä¸ªå…¨è¿æ¥å±‚æ¥é¢„æµ‹</cls></p>
</li>
</ul>
<h4 id="2-6-æ€»ç»“"><a href="#2-6-æ€»ç»“" class="headerlink" title="2.6 æ€»ç»“"></a>2.6 æ€»ç»“</h4><ul>
<li>BERTé’ˆå¯¹å¾®è°ƒè®¾è®¡</li>
<li>åŸºäºTransformerçš„ç¼–ç å™¨åšäº†å¦‚ä¸‹ä¿®æ”¹<ul>
<li>æ¨¡å‹æ›´å¤§ï¼Œè®­ç»ƒæ•°æ®æ›´å¤š</li>
<li>è¾“å…¥å¥å­å¯¹ï¼Œç‰‡æ®µåµŒå…¥ï¼Œå¯å­¦ä¹ çš„ä½ç½®ç¼–ç </li>
<li>è®­ç»ƒæ—¶ä½¿ç”¨ä¸¤ä¸ªä»»åŠ¡ï¼š<ul>
<li>å¸¦æ©ç çš„è¯­è¨€æ¨¡å‹</li>
<li>ä¸‹ä¸€ä¸ªå¥å­é¢„æµ‹</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-ä»£ç å®ç°"><a href="#3-ä»£ç å®ç°" class="headerlink" title="3.ä»£ç å®ç°"></a>3.ä»£ç å®ç°</h3><h4 id="3-1-è·å–è¾“å…¥ï¼š"><a href="#3-1-è·å–è¾“å…¥ï¼š" class="headerlink" title="3.1 è·å–è¾“å…¥ï¼š"></a>3.1 è·å–è¾“å…¥ï¼š</h4><p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œæœ‰äº›ä»»åŠ¡ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æï¼‰ä»¥å•ä¸ªæ–‡æœ¬ä½œä¸ºè¾“å…¥ï¼Œè€Œæœ‰äº›ä»»åŠ¡ï¼ˆå¦‚è‡ªç„¶è¯­è¨€æ¨æ–­ï¼‰ä»¥ä¸€å¯¹æ–‡æœ¬åºåˆ—ä½œä¸ºè¾“å…¥ã€‚BERTè¾“å…¥åºåˆ—æ˜ç¡®åœ°è¡¨ç¤ºå•ä¸ªæ–‡æœ¬å’Œæ–‡æœ¬å¯¹ã€‚å½“è¾“å…¥ä¸ºå•ä¸ªæ–‡æœ¬æ—¶ï¼ŒBERTè¾“å…¥åºåˆ—æ˜¯ç‰¹æ®Šç±»åˆ«è¯å…ƒâ€œ<cls>â€ã€æ–‡æœ¬åºåˆ—çš„æ ‡è®°ã€ä»¥åŠç‰¹æ®Šåˆ†éš”è¯å…ƒâ€œ<sep>â€çš„è¿ç»“ã€‚å½“è¾“å…¥ä¸ºæ–‡æœ¬å¯¹æ—¶ï¼ŒBERTè¾“å…¥åºåˆ—æ˜¯â€œ<cls>â€ã€ç¬¬ä¸€ä¸ªæ–‡æœ¬åºåˆ—çš„æ ‡è®°ã€â€œ<sep>â€ã€ç¬¬äºŒä¸ªæ–‡æœ¬åºåˆ—æ ‡è®°ã€ä»¥åŠâ€œ<sep>â€çš„è¿ç»“ã€‚æˆ‘ä»¬å°†å§‹ç»ˆå¦‚ä¸€åœ°å°†æœ¯è¯­â€œBERTè¾“å…¥åºåˆ—â€ä¸å…¶ä»–ç±»å‹çš„â€œåºåˆ—â€åŒºåˆ†å¼€æ¥ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª<em>BERTè¾“å…¥åºåˆ—</em>å¯ä»¥åŒ…æ‹¬ä¸€ä¸ª<em>æ–‡æœ¬åºåˆ—</em>æˆ–ä¸¤ä¸ª<em>æ–‡æœ¬åºåˆ—</em>ã€‚</sep></sep></cls></sep></cls></p>
<p>ä¸ºäº†åŒºåˆ†æ–‡æœ¬å¯¹ï¼Œæ ¹æ®è¾“å…¥åºåˆ—å­¦åˆ°çš„ç‰‡æ®µåµŒå…¥eAå’ŒeBåˆ†åˆ«è¢«æ·»åŠ åˆ°ç¬¬ä¸€åºåˆ—å’Œç¬¬äºŒåºåˆ—çš„è¯å…ƒåµŒå…¥ä¸­ã€‚å¯¹äºå•æ–‡æœ¬è¾“å…¥ï¼Œä»…ä½¿ç”¨eAã€‚</p>
<p>ä¸‹é¢çš„<code>get_tokens_and_segments</code>å°†ä¸€ä¸ªå¥å­æˆ–ä¸¤ä¸ªå¥å­ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¿”å›BERTè¾“å…¥åºåˆ—çš„æ ‡è®°åŠå…¶ç›¸åº”çš„ç‰‡æ®µç´¢å¼•ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_tokens_and_segments</span>(<span class="params">tokens_a, tokens_b=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è·å–è¾“å…¥åºåˆ—çš„è¯å…ƒåŠå…¶ç‰‡æ®µç´¢å¼•&quot;&quot;&quot;</span></span><br><span class="line">    tokens = [<span class="string">&#x27;&lt;cls&gt;&#x27;</span>] + tokens_a + [<span class="string">&#x27;&lt;sep&gt;&#x27;</span>]</span><br><span class="line">    <span class="comment"># 0å’Œ1åˆ†åˆ«æ ‡è®°ç‰‡æ®µAå’ŒB</span></span><br><span class="line">    segments = [<span class="number">0</span>] * (<span class="built_in">len</span>(tokens_a) + <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> tokens_b <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        tokens += tokens_b + [<span class="string">&#x27;&lt;sep&gt;&#x27;</span>]</span><br><span class="line">        segments += [<span class="number">1</span>] * (<span class="built_in">len</span>(tokens_b) + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> tokens, segments</span><br></pre></td></tr></table></figure>
<p>BERTé€‰æ‹©Transformerç¼–ç å™¨ä½œä¸ºå…¶åŒå‘æ¶æ„ã€‚åœ¨Transformerç¼–ç å™¨ä¸­å¸¸è§æ˜¯ï¼Œä½ç½®åµŒå…¥è¢«åŠ å…¥åˆ°è¾“å…¥åºåˆ—çš„æ¯ä¸ªä½ç½®ã€‚ç„¶è€Œï¼Œä¸åŸå§‹çš„Transformerç¼–ç å™¨ä¸åŒï¼ŒBERTä½¿ç”¨<em>å¯å­¦ä¹ çš„</em>ä½ç½®åµŒå…¥ã€‚æ€»ä¹‹ï¼Œ ä¸‹å›¾è¡¨æ˜BERTè¾“å…¥åºåˆ—çš„åµŒå…¥æ˜¯è¯å…ƒåµŒå…¥ã€ç‰‡æ®µåµŒå…¥å’Œä½ç½®åµŒå…¥çš„å’Œã€‚</p>
<img src="/2024/04/23/11-06-09/69-3.png" class>
<h4 id="3-2-BERTå®ç°"><a href="#3-2-BERTå®ç°" class="headerlink" title="3.2 BERTå®ç°"></a>3.2 BERTå®ç°</h4><p>ä¸‹é¢çš„<code>BERTEncoder</code>ç±»ç±»ä¼¼äº <a href="https://zh-v2.d2l.ai/chapter_attention-mechanisms/transformer.html#sec-transformer">10.7èŠ‚</a>ä¸­å®ç°çš„<code>TransformerEncoder</code>ç±»ã€‚ä¸<code>TransformerEncoder</code>ä¸åŒï¼Œ<code>BERTEncoder</code>ä½¿ç”¨ç‰‡æ®µåµŒå…¥å’Œå¯å­¦ä¹ çš„ä½ç½®åµŒå…¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BERTEncoder</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;BERTç¼–ç å™¨&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, vocab_size, num_hiddens, norm_shape, ffn_num_input,</span></span><br><span class="line"><span class="params">                 ffn_num_hiddens, num_heads, num_layers, dropout,</span></span><br><span class="line"><span class="params">                 max_len=<span class="number">1000</span>, key_size=<span class="number">768</span>, query_size=<span class="number">768</span>, value_size=<span class="number">768</span>,</span></span><br><span class="line"><span class="params">                 **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(BERTEncoder, self).__init__(**kwargs)</span><br><span class="line">        self.token_embedding = nn.Embedding(vocab_size, num_hiddens)</span><br><span class="line">        self.segment_embedding = nn.Embedding(<span class="number">2</span>, num_hiddens)</span><br><span class="line">        self.blks = nn.Sequential()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_layers):</span><br><span class="line">            self.blks.add_module(<span class="string">f&quot;<span class="subst">&#123;i&#125;</span>&quot;</span>, d2l.EncoderBlock(</span><br><span class="line">                key_size, query_size, value_size, num_hiddens, norm_shape,</span><br><span class="line">                ffn_num_input, ffn_num_hiddens, num_heads, dropout, <span class="literal">True</span>))</span><br><span class="line">        <span class="comment"># åœ¨BERTä¸­ï¼Œä½ç½®åµŒå…¥æ˜¯å¯å­¦ä¹ çš„ï¼Œå› æ­¤æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¶³å¤Ÿé•¿çš„ä½ç½®åµŒå…¥å‚æ•°</span></span><br><span class="line">        self.pos_embedding = nn.Parameter(torch.randn(<span class="number">1</span>, max_len,</span><br><span class="line">                                                      num_hiddens))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, tokens, segments, valid_lens</span>):</span><br><span class="line">        <span class="comment"># åœ¨ä»¥ä¸‹ä»£ç æ®µä¸­ï¼ŒXçš„å½¢çŠ¶ä¿æŒä¸å˜ï¼šï¼ˆæ‰¹é‡å¤§å°ï¼Œæœ€å¤§åºåˆ—é•¿åº¦ï¼Œnum_hiddensï¼‰</span></span><br><span class="line">        X = self.token_embedding(tokens) + self.segment_embedding(segments)</span><br><span class="line">        X = X + self.pos_embedding.data[:, :X.shape[<span class="number">1</span>], :]</span><br><span class="line">        <span class="keyword">for</span> blk <span class="keyword">in</span> self.blks:</span><br><span class="line">            X = blk(X, valid_lens)</span><br><span class="line">        <span class="keyword">return</span> X</span><br></pre></td></tr></table></figure>
<p>å‡è®¾è¯è¡¨å¤§å°ä¸º10000ï¼Œä¸ºäº†æ¼”ç¤º<code>BERTEncoder</code>çš„å‰å‘æ¨æ–­ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®ä¾‹å¹¶åˆå§‹åŒ–å®ƒçš„å‚æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vocab_size, num_hiddens, ffn_num_hiddens, num_heads = <span class="number">10000</span>, <span class="number">768</span>, <span class="number">1024</span>, <span class="number">4</span></span><br><span class="line">norm_shape, ffn_num_input, num_layers, dropout = [<span class="number">768</span>], <span class="number">768</span>, <span class="number">2</span>, <span class="number">0.2</span></span><br><span class="line">encoder = BERTEncoder(vocab_size, num_hiddens, norm_shape, ffn_num_input,</span><br><span class="line">                      ffn_num_hiddens, num_heads, num_layers, dropout)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°†<code>tokens</code>å®šä¹‰ä¸ºé•¿åº¦ä¸º8çš„2ä¸ªè¾“å…¥åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªè¯å…ƒæ˜¯è¯è¡¨çš„ç´¢å¼•ã€‚ä½¿ç”¨è¾“å…¥<code>tokens</code>çš„<code>BERTEncoder</code>çš„å‰å‘æ¨æ–­è¿”å›ç¼–ç ç»“æœï¼Œå…¶ä¸­æ¯ä¸ªè¯å…ƒç”±å‘é‡è¡¨ç¤ºï¼Œå…¶é•¿åº¦ç”±è¶…å‚æ•°<code>num_hiddens</code>å®šä¹‰ã€‚æ­¤è¶…å‚æ•°é€šå¸¸ç§°ä¸ºTransformerç¼–ç å™¨çš„<em>éšè—å¤§å°</em>ï¼ˆéšè—å•å…ƒæ•°ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tokens = torch.randint(<span class="number">0</span>, vocab_size, (<span class="number">2</span>, <span class="number">8</span>))</span><br><span class="line">segments = torch.tensor([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line">encoded_X = encoder(tokens, segments, <span class="literal">None</span>)</span><br><span class="line">encoded_X.shape</span><br></pre></td></tr></table></figure>
<h4 id="3-3-é¢„è®­ç»ƒä»»åŠ¡"><a href="#3-3-é¢„è®­ç»ƒä»»åŠ¡" class="headerlink" title="3.3 é¢„è®­ç»ƒä»»åŠ¡"></a>3.3 é¢„è®­ç»ƒä»»åŠ¡</h4><h5 id="3-3-1-é®æ©è¯­è¨€æ¨¡å‹"><a href="#3-3-1-é®æ©è¯­è¨€æ¨¡å‹" class="headerlink" title="3.3.1 é®æ©è¯­è¨€æ¨¡å‹"></a>3.3.1 é®æ©è¯­è¨€æ¨¡å‹</h5><p>æˆ‘ä»¬å®ç°äº†ä¸‹é¢çš„<code>MaskLM</code>ç±»æ¥é¢„æµ‹BERTé¢„è®­ç»ƒçš„æ©è”½è¯­è¨€æ¨¡å‹ä»»åŠ¡ä¸­çš„æ©è”½æ ‡è®°ã€‚é¢„æµ‹ä½¿ç”¨å•éšè—å±‚çš„å¤šå±‚æ„ŸçŸ¥æœºï¼ˆ<code>self.mlp</code>ï¼‰ã€‚åœ¨å‰å‘æ¨æ–­ä¸­ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªè¾“å…¥ï¼š<code>BERTEncoder</code>çš„ç¼–ç ç»“æœå’Œç”¨äºé¢„æµ‹çš„è¯å…ƒä½ç½®ã€‚è¾“å‡ºæ˜¯è¿™äº›ä½ç½®çš„é¢„æµ‹ç»“æœã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MaskLM</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;BERTçš„æ©è”½è¯­è¨€æ¨¡å‹ä»»åŠ¡&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, vocab_size, num_hiddens, num_inputs=<span class="number">768</span>, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(MaskLM, self).__init__(**kwargs)</span><br><span class="line">        self.mlp = nn.Sequential(nn.Linear(num_inputs, num_hiddens),</span><br><span class="line">                                 nn.ReLU(),</span><br><span class="line">                                 nn.LayerNorm(num_hiddens),</span><br><span class="line">                                 nn.Linear(num_hiddens, vocab_size))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, X, pred_positions</span>):</span><br><span class="line">        num_pred_positions = pred_positions.shape[<span class="number">1</span>]</span><br><span class="line">        pred_positions = pred_positions.reshape(-<span class="number">1</span>)</span><br><span class="line">        batch_size = X.shape[<span class="number">0</span>]</span><br><span class="line">        batch_idx = torch.arange(<span class="number">0</span>, batch_size)</span><br><span class="line">        <span class="comment"># å‡è®¾batch_size=2ï¼Œnum_pred_positions=3</span></span><br><span class="line">        <span class="comment"># é‚£ä¹ˆbatch_idxæ˜¯np.arrayï¼ˆ[0,0,0,1,1]ï¼‰</span></span><br><span class="line">        batch_idx = torch.repeat_interleave(batch_idx, num_pred_positions)</span><br><span class="line">        masked_X = X[batch_idx, pred_positions]</span><br><span class="line">        masked_X = masked_X.reshape((batch_size, num_pred_positions, -<span class="number">1</span>))</span><br><span class="line">        mlm_Y_hat = self.mlp(masked_X)</span><br><span class="line">        <span class="keyword">return</span> mlm_Y_hat</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†æ¼”ç¤º<code>MaskLM</code>çš„å‰å‘æ¨æ–­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†å…¶å®ä¾‹<code>mlm</code>å¹¶å¯¹å…¶è¿›è¡Œäº†åˆå§‹åŒ–ã€‚å›æƒ³ä¸€ä¸‹ï¼Œæ¥è‡ª<code>BERTEncoder</code>çš„æ­£å‘æ¨æ–­<code>encoded_X</code>è¡¨ç¤º2ä¸ªBERTè¾“å…¥åºåˆ—ã€‚æˆ‘ä»¬å°†<code>mlm_positions</code>å®šä¹‰ä¸ºåœ¨<code>encoded_X</code>çš„ä»»ä¸€è¾“å…¥åºåˆ—ä¸­é¢„æµ‹çš„3ä¸ªæŒ‡ç¤ºã€‚<code>mlm</code>çš„å‰å‘æ¨æ–­è¿”å›<code>encoded_X</code>çš„æ‰€æœ‰æ©è”½ä½ç½®<code>mlm_positions</code>å¤„çš„é¢„æµ‹ç»“æœ<code>mlm_Y_hat</code>ã€‚å¯¹äºæ¯ä¸ªé¢„æµ‹ï¼Œç»“æœçš„å¤§å°ç­‰äºè¯è¡¨çš„å¤§å°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">mlm = MaskLM(vocab_size, num_hiddens)</span><br><span class="line">mlm_positions = torch.tensor([[<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>], [<span class="number">6</span>, <span class="number">1</span>, <span class="number">5</span>]])</span><br><span class="line">mlm_Y_hat = mlm(encoded_X, mlm_positions)</span><br><span class="line">mlm_Y_hat.shape</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æ©ç ä¸‹çš„é¢„æµ‹è¯å…ƒ<code>mlm_Y</code>çš„çœŸå®æ ‡ç­¾<code>mlm_Y_hat</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—åœ¨BERTé¢„è®­ç»ƒä¸­çš„é®è”½è¯­è¨€æ¨¡å‹ä»»åŠ¡çš„äº¤å‰ç†µæŸå¤±ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">mlm_Y = torch.tensor([[<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]])</span><br><span class="line">loss = nn.CrossEntropyLoss(reduction=<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">mlm_l = loss(mlm_Y_hat.reshape((-<span class="number">1</span>, vocab_size)), mlm_Y.reshape(-<span class="number">1</span>))</span><br><span class="line">mlm_l.shape</span><br></pre></td></tr></table></figure>
<h5 id="3-3-2-ä¸‹ä¸€å¥é¢„æµ‹"><a href="#3-3-2-ä¸‹ä¸€å¥é¢„æµ‹" class="headerlink" title="3.3.2 ä¸‹ä¸€å¥é¢„æµ‹"></a>3.3.2 ä¸‹ä¸€å¥é¢„æµ‹</h5><p>ä¸‹é¢çš„<code>NextSentencePred</code>ç±»ä½¿ç”¨å•éšè—å±‚çš„å¤šå±‚æ„ŸçŸ¥æœºæ¥é¢„æµ‹ç¬¬äºŒä¸ªå¥å­æ˜¯å¦æ˜¯BERTè¾“å…¥åºåˆ—ä¸­ç¬¬ä¸€ä¸ªå¥å­çš„ä¸‹ä¸€ä¸ªå¥å­ã€‚ç”±äºTransformerç¼–ç å™¨ä¸­çš„è‡ªæ³¨æ„åŠ›ï¼Œç‰¹æ®Šè¯å…ƒâ€œ<cls>â€çš„BERTè¡¨ç¤ºå·²ç»å¯¹è¾“å…¥çš„ä¸¤ä¸ªå¥å­è¿›è¡Œäº†ç¼–ç ã€‚å› æ­¤ï¼Œå¤šå±‚æ„ŸçŸ¥æœºåˆ†ç±»å™¨çš„è¾“å‡ºå±‚ï¼ˆ<code>self.output</code>ï¼‰ä»¥<code>X</code>ä½œä¸ºè¾“å…¥ï¼Œå…¶ä¸­<code>X</code>æ˜¯å¤šå±‚æ„ŸçŸ¥æœºéšè—å±‚çš„è¾“å‡ºï¼Œè€ŒMLPéšè—å±‚çš„è¾“å…¥æ˜¯ç¼–ç åçš„â€œ<cls>â€è¯å…ƒã€‚</cls></cls></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NextSentencePred</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;BERTçš„ä¸‹ä¸€å¥é¢„æµ‹ä»»åŠ¡&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_inputs, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(NextSentencePred, self).__init__(**kwargs)</span><br><span class="line">        self.output = nn.Linear(num_inputs, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, X</span>):</span><br><span class="line">        <span class="comment"># Xçš„å½¢çŠ¶ï¼š(batchsize,num_hiddens)</span></span><br><span class="line">        <span class="keyword">return</span> self.output(X)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>NextSentencePred</code>å®ä¾‹çš„å‰å‘æ¨æ–­è¿”å›æ¯ä¸ªBERTè¾“å…¥åºåˆ—çš„äºŒåˆ†ç±»é¢„æµ‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">encoded_X = torch.flatten(encoded_X, start_dim=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># NSPçš„è¾“å…¥å½¢çŠ¶:(batchsizeï¼Œnum_hiddens)</span></span><br><span class="line">nsp = NextSentencePred(encoded_X.shape[-<span class="number">1</span>])</span><br><span class="line">nsp_Y_hat = nsp(encoded_X)</span><br><span class="line">nsp_Y_hat.shape</span><br></pre></td></tr></table></figure>
<h4 id="3-4-æ•´åˆä»£ç "><a href="#3-4-æ•´åˆä»£ç " class="headerlink" title="3.4 æ•´åˆä»£ç "></a>3.4 æ•´åˆä»£ç </h4><p>åœ¨é¢„è®­ç»ƒBERTæ—¶ï¼Œæœ€ç»ˆçš„æŸå¤±å‡½æ•°æ˜¯æ©è”½è¯­è¨€æ¨¡å‹æŸå¤±å‡½æ•°å’Œä¸‹ä¸€å¥é¢„æµ‹æŸå¤±å‡½æ•°çš„çº¿æ€§ç»„åˆã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ä¾‹åŒ–ä¸‰ä¸ªç±»<code>BERTEncoder</code>ã€<code>MaskLM</code>å’Œ<code>NextSentencePred</code>æ¥å®šä¹‰<code>BERTModel</code>ç±»ã€‚å‰å‘æ¨æ–­è¿”å›ç¼–ç åçš„BERTè¡¨ç¤º<code>encoded_X</code>ã€æ©è”½è¯­è¨€æ¨¡å‹é¢„æµ‹<code>mlm_Y_hat</code>å’Œä¸‹ä¸€å¥é¢„æµ‹<code>nsp_Y_hat</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BERTModel</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;BERTæ¨¡å‹&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, vocab_size, num_hiddens, norm_shape, ffn_num_input,</span></span><br><span class="line"><span class="params">                 ffn_num_hiddens, num_heads, num_layers, dropout,</span></span><br><span class="line"><span class="params">                 max_len=<span class="number">1000</span>, key_size=<span class="number">768</span>, query_size=<span class="number">768</span>, value_size=<span class="number">768</span>,</span></span><br><span class="line"><span class="params">                 hid_in_features=<span class="number">768</span>, mlm_in_features=<span class="number">768</span>,</span></span><br><span class="line"><span class="params">                 nsp_in_features=<span class="number">768</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(BERTModel, self).__init__()</span><br><span class="line">        self.encoder = BERTEncoder(vocab_size, num_hiddens, norm_shape,</span><br><span class="line">                    ffn_num_input, ffn_num_hiddens, num_heads, num_layers,</span><br><span class="line">                    dropout, max_len=max_len, key_size=key_size,</span><br><span class="line">                    query_size=query_size, value_size=value_size)</span><br><span class="line">        self.hidden = nn.Sequential(nn.Linear(hid_in_features, num_hiddens),</span><br><span class="line">                                    nn.Tanh())</span><br><span class="line">        self.mlm = MaskLM(vocab_size, num_hiddens, mlm_in_features)</span><br><span class="line">        self.nsp = NextSentencePred(nsp_in_features)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, tokens, segments, valid_lens=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">                pred_positions=<span class="literal">None</span></span>):</span><br><span class="line">        encoded_X = self.encoder(tokens, segments, valid_lens)</span><br><span class="line">        <span class="keyword">if</span> pred_positions <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            mlm_Y_hat = self.mlm(encoded_X, pred_positions)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            mlm_Y_hat = <span class="literal">None</span></span><br><span class="line">        <span class="comment"># ç”¨äºä¸‹ä¸€å¥é¢„æµ‹çš„å¤šå±‚æ„ŸçŸ¥æœºåˆ†ç±»å™¨çš„éšè—å±‚ï¼Œ0æ˜¯â€œ&lt;cls&gt;â€æ ‡è®°çš„ç´¢å¼•</span></span><br><span class="line">        nsp_Y_hat = self.nsp(self.hidden(encoded_X[:, <span class="number">0</span>, :]))</span><br><span class="line">        <span class="keyword">return</span> encoded_X, mlm_Y_hat, nsp_Y_hat</span><br></pre></td></tr></table></figure>
<h4 id="3-5-å°ç»“"><a href="#3-5-å°ç»“" class="headerlink" title="3.5 å°ç»“"></a>3.5 å°ç»“</h4><ul>
<li>word2vecå’ŒGloVeç­‰è¯åµŒå…¥æ¨¡å‹ä¸ä¸Šä¸‹æ–‡æ— å…³ã€‚å®ƒä»¬å°†ç›¸åŒçš„é¢„è®­ç»ƒå‘é‡èµ‹ç»™åŒä¸€ä¸ªè¯ï¼Œè€Œä¸è€ƒè™‘è¯çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å®ƒä»¬å¾ˆéš¾å¤„ç†å¥½è‡ªç„¶è¯­è¨€ä¸­çš„ä¸€è¯å¤šä¹‰æˆ–å¤æ‚è¯­ä¹‰ã€‚</li>
<li>å¯¹äºä¸Šä¸‹æ–‡æ•æ„Ÿçš„è¯è¡¨ç¤ºï¼Œå¦‚ELMoå’ŒGPTï¼Œè¯çš„è¡¨ç¤ºä¾èµ–äºå®ƒä»¬çš„ä¸Šä¸‹æ–‡ã€‚</li>
<li>ELMoå¯¹ä¸Šä¸‹æ–‡è¿›è¡ŒåŒå‘ç¼–ç ï¼Œä½†ä½¿ç”¨ç‰¹å®šäºä»»åŠ¡çš„æ¶æ„ï¼ˆç„¶è€Œï¼Œä¸ºæ¯ä¸ªè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡è®¾è®¡ä¸€ä¸ªç‰¹å®šçš„ä½“ç³»æ¶æ„å®é™…ä¸Šå¹¶ä¸å®¹æ˜“ï¼‰ï¼›è€ŒGPTæ˜¯ä»»åŠ¡æ— å…³çš„ï¼Œä½†æ˜¯ä»å·¦åˆ°å³ç¼–ç ä¸Šä¸‹æ–‡ã€‚</li>
<li>BERTç»“åˆäº†è¿™ä¸¤ä¸ªæ–¹é¢çš„ä¼˜ç‚¹ï¼šå®ƒå¯¹ä¸Šä¸‹æ–‡è¿›è¡ŒåŒå‘ç¼–ç ï¼Œå¹¶ä¸”éœ€è¦å¯¹å¤§é‡è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡è¿›è¡Œæœ€å°çš„æ¶æ„æ›´æ”¹ã€‚</li>
<li>BERTè¾“å…¥åºåˆ—çš„åµŒå…¥æ˜¯è¯å…ƒåµŒå…¥ã€ç‰‡æ®µåµŒå…¥å’Œä½ç½®åµŒå…¥çš„å’Œã€‚</li>
<li>é¢„è®­ç»ƒåŒ…æ‹¬ä¸¤ä¸ªä»»åŠ¡ï¼šæ©è”½è¯­è¨€æ¨¡å‹å’Œä¸‹ä¸€å¥é¢„æµ‹ã€‚å‰è€…èƒ½å¤Ÿç¼–ç åŒå‘ä¸Šä¸‹æ–‡æ¥è¡¨ç¤ºå•è¯ï¼Œè€Œåè€…åˆ™æ˜¾å¼åœ°å»ºæ¨¡æ–‡æœ¬å¯¹ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚</li>
</ul>
<h3 id="Q-amp-Aï¼š"><a href="#Q-amp-Aï¼š" class="headerlink" title="Q&amp;Aï¼š"></a>Q&amp;Aï¼š</h3><h5 id="Q1-BERTæ˜¯ä¸æ˜¯å¾ˆå°‘ç”¨åœ¨CVä¸Šï¼Ÿ"><a href="#Q1-BERTæ˜¯ä¸æ˜¯å¾ˆå°‘ç”¨åœ¨CVä¸Šï¼Ÿ" class="headerlink" title="Q1:BERTæ˜¯ä¸æ˜¯å¾ˆå°‘ç”¨åœ¨CVä¸Šï¼Ÿ"></a>Q1:BERTæ˜¯ä¸æ˜¯å¾ˆå°‘ç”¨åœ¨CVä¸Šï¼Ÿ</h5><blockquote>
<p>transformeræ¶æ„è¿™å‡ å¹´åœ¨å¤§é‡çš„ç”¨äºCVä¸Š</p>
</blockquote>
<h5 id="Q2-å±•ç¤ºä¸€ä¸‹10W-batch-è®­ç»ƒç»“æœï¼Ÿ"><a href="#Q2-å±•ç¤ºä¸€ä¸‹10W-batch-è®­ç»ƒç»“æœï¼Ÿ" class="headerlink" title="Q2:å±•ç¤ºä¸€ä¸‹10W batch è®­ç»ƒç»“æœï¼Ÿ"></a>Q2:å±•ç¤ºä¸€ä¸‹10W batch è®­ç»ƒç»“æœï¼Ÿ</h5><blockquote>
<p>å¾®è°ƒæ—¶ä¼šç”¨åˆ°</p>
</blockquote>
<h5 id="Q3ï¼šä½¿ç”¨BERT-largeæ—¶æ˜¾å­˜ä¸è¶³ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å—ï¼Ÿ"><a href="#Q3ï¼šä½¿ç”¨BERT-largeæ—¶æ˜¾å­˜ä¸è¶³ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å—ï¼Ÿ" class="headerlink" title="Q3ï¼šä½¿ç”¨BERT largeæ—¶æ˜¾å­˜ä¸è¶³ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å—ï¼Ÿ"></a>Q3ï¼šä½¿ç”¨BERT largeæ—¶æ˜¾å­˜ä¸è¶³ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å—ï¼Ÿ</h5><blockquote>
<p>å•æœºå¤šå¡ï¼Œæ¨¡å‹å¹¶è¡Œï¼Œæˆ–æ”¹ç”¨å°æ¨¡å‹</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>68-transformeræ¶æ„</title>
    <url>/2024/04/23/11-06-08/</url>
    <content><![CDATA[<h3 id="1-transformeræ¶æ„"><a href="#1-transformeræ¶æ„" class="headerlink" title="1.transformeræ¶æ„"></a>1.transformeræ¶æ„</h3><ul>
<li>åŸºäºencoder-decoderæ¶æ„æ¥å¤„ç†åºåˆ—å¯¹</li>
<li>è·Ÿä½¿ç”¨æ³¨æ„åŠ›çš„seq2seqä¸åŒï¼Œtransformeræ˜¯çº¯åŸºäºæ³¨æ„åŠ›</li>
</ul>
<p>&lt;</p>
<h3 id="2-å¤šå¤´æ³¨æ„åŠ›"><a href="#2-å¤šå¤´æ³¨æ„åŠ›" class="headerlink" title="2.å¤šå¤´æ³¨æ„åŠ›"></a>2.å¤šå¤´æ³¨æ„åŠ›</h3><ul>
<li><p>å¯¹åŒä¸€keyï¼Œvalueï¼Œqueryï¼Œå¸Œæœ›æŠ½å–ä¸åŒçš„ä¿¡æ¯</p>
<ul>
<li>ä¾‹å¦‚çŸ­è·ç¦»å…³ç³»å’Œé•¿è·ç¦»å…³ç³»</li>
</ul>
</li>
<li><p>å¤šå¤´æ³¨æ„åŠ›ä½¿ç”¨hä¸ªç‹¬ç«‹çš„æ³¨æ„åŠ›æ± åŒ–</p>
<ul>
<li><p>åˆå¹¶å„ä¸ªå¤´ï¼ˆheadï¼‰è¾“å‡ºå¾—åˆ°æœ€ç»ˆè¾“å‡º</p>
</li>
<li><img src="/2024/04/23/11-06-08/68-02.png" class>
</li>
</ul>
</li>
<li><p>æ•°å­¦è¡¨è¾¾å¼</p>
<img src="/2024/04/23/11-06-08/68-02.png" class>
</li>
</ul>
<h3 id="3-æœ‰æ©ç çš„å¤šå¤´æ³¨æ„åŠ›"><a href="#3-æœ‰æ©ç çš„å¤šå¤´æ³¨æ„åŠ›" class="headerlink" title="3.æœ‰æ©ç çš„å¤šå¤´æ³¨æ„åŠ›"></a>3.æœ‰æ©ç çš„å¤šå¤´æ³¨æ„åŠ›</h3><ul>
<li>è§£ç å™¨å¯¹åºåˆ—ä¸­ä¸€ä¸ªå…ƒç´ è¾“å‡ºçš„æ—¶å€™ï¼Œä¸åº”è¯¥è€ƒè™‘è¯¥å…ƒç´ ä¹‹åçš„å…ƒç´ </li>
<li>å¯ä»¥ç”¨æ©ç æ¥å®ç°<ul>
<li>ä¹Ÿå°±æ˜¯è®¡ç®—$x_i$è¾“å‡ºçš„æ—¶å€™ï¼Œå‡è£…å½“å‰åºåˆ—é•¿åº¦ä¸ºi</li>
</ul>
</li>
</ul>
<h3 id="4-åŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œ"><a href="#4-åŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œ" class="headerlink" title="4.åŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œ"></a>4.åŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œ</h3><ul>
<li>å°†è¾“å…¥å½¢çŠ¶å˜åŒ–ï¼ˆb,n,dï¼‰å˜æ¢æˆï¼ˆbnï¼Œdï¼‰ï¼›è¾“å‡ºå½¢çŠ¶ç”±ï¼ˆbnï¼Œdï¼‰å˜æˆï¼ˆbï¼Œnï¼Œdï¼‰</li>
<li>ä½œç”¨ä¸¤ä¸ªå…¨è¿æ¥å±‚</li>
<li>ç­‰ä»·äºä¸¤å±‚æ ¸çª—å£ä¸º1çš„ä¸€ç»´å·ç§¯å±‚ï¼ˆå…¨è¿æ¥ï¼‰</li>
</ul>
<h3 id="5-å±‚å½’ä¸€åŒ–"><a href="#5-å±‚å½’ä¸€åŒ–" class="headerlink" title="5.å±‚å½’ä¸€åŒ–"></a>5.å±‚å½’ä¸€åŒ–</h3><ul>
<li>æ‰¹é‡å½’ä¸€åŒ–å¯¹æ¯ä¸ªç‰¹å¾/é€šé“é‡Œå…ƒç´ è¿›è¡Œå½’ä¸€åŒ–<ul>
<li>ä¸é€‚åˆåºåˆ—é•¿åº¦ä¼šå˜çš„nlpåº”ç”¨</li>
</ul>
</li>
<li>å±‚å½’ä¸€åŒ–å¯¹æ¯ä¸ªæ ·æœ¬é‡Œé¢çš„å…ƒç´ è¿›è¡Œå½’ä¸€åŒ–ï¼ˆ layer norm ï¼‰</li>
</ul>
<h3 id="6-ä¿¡æ¯ä¼ é€’"><a href="#6-ä¿¡æ¯ä¼ é€’" class="headerlink" title="6.ä¿¡æ¯ä¼ é€’"></a>6.ä¿¡æ¯ä¼ é€’</h3><ul>
<li>å°†ç¼–ç å™¨è¾“å‡ºä½œä¸ºè§£ç ä¸­ç¬¬iä¸ªtransformerå—ä¸­å¤šå¤´æ³¨æ„åŠ›çš„keyå’Œvalue<ul>
<li>queryæ¥è‡ªç›®æ ‡åºåˆ—</li>
</ul>
</li>
<li>æ„å‘³ç€ç¼–ç å™¨å’Œè§£ç å™¨ä¸­å—çš„ä¸ªæ•°ï¼Œè¾“å‡ºç»´åº¦éƒ½æ˜¯ä¸€æ ·çš„</li>
</ul>
<h3 id="7-é¢„æµ‹"><a href="#7-é¢„æµ‹" class="headerlink" title="7.é¢„æµ‹"></a>7.é¢„æµ‹</h3><ul>
<li>é¢„æµ‹ç¬¬t+1ä¸ªè¾“å‡ºæ—¶</li>
<li>è§£ç å™¨ä¸­è¾“å…¥å‰tä¸ªé¢„æµ‹å€¼ï¼ˆé¡ºåºï¼‰<ul>
<li>åœ¨è‡ªæ³¨æ„åŠ›ä¸­ï¼Œå‰tä¸ªé¢„æµ‹å€¼ä½œä¸ºkeyå’Œvalueï¼Œç¬¬tä¸ªé¢„æµ‹å€¼è¿˜ä½œä¸ºquery</li>
</ul>
</li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>transformeræ˜¯ä¸€ä¸ªçº¯ä½¿ç”¨æ³¨æ„åŠ›çš„encoder-decoder</li>
<li>ç¼–ç å™¨å’Œè§£ç å™¨éƒ½æœ‰nä¸ªtransformerå—</li>
<li>æ¯ä¸ªå—é‡Œé¢ä½¿ç”¨å¤šå¤´æ³¨æ„åŠ›ï¼ŒåŸºäºä½ç½®çš„å‰é¦ˆç½‘ç»œï¼Œå±‚å½’ä¸€åŒ–</li>
</ul>
<h3 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h3><ul>
<li>å¤šå¤´æ³¨æ„åŠ›ï¼Œconcatå’Œç›¸åŠ å–å¹³å‡æ€ä¹ˆé€‰æ‹©ï¼Ÿ<ul>
<li>è€å¸ˆè®¤ä¸ºconcatä¿ç•™çš„ä¿¡æ¯æ›´å…¨é¢ï¼Œæ›´å¥½</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆåœ¨è·å–è¯å‘é‡ä¹‹åï¼Œéœ€è¦å¯¹è¯å‘é‡è¿›è¡Œç¼©æ”¾ï¼ˆä¹˜ä»¥embedding sizeçš„å¼€æ–¹ä¹‹åå†åŠ ä¸ŠPEï¼‰<ul>
<li>embeddingä¹‹åï¼Œå‘é‡é•¿åº¦å˜é•¿ï¼Œå…ƒç´ å€¼å˜å°ï¼Œä¹˜ä»¥ä¹‹åå¯ä»¥ä¿è¯åœ¨-1ï¼Œ1ä¹‹é—´ï¼Œå’Œpositionå¤§å°å·®ä¸å¤š</li>
</ul>
</li>
<li>num of headæ˜¯ä»€ä¹ˆï¼Ÿ<ul>
<li>ç±»ä¼¼å·ç§¯çš„å¤šé€šé“ï¼Œå¤šä¸ªattentionå…³æ³¨çš„æ˜¯ä¸åŒçš„ç‰¹å¾</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>65-æ³¨æ„åŠ›åˆ†æ•°</title>
    <url>/2024/04/23/11-06-05/</url>
    <content><![CDATA[<h3 id="65-æ³¨æ„åŠ›åˆ†æ•°"><a href="#65-æ³¨æ„åŠ›åˆ†æ•°" class="headerlink" title="65 æ³¨æ„åŠ›åˆ†æ•°"></a>65 æ³¨æ„åŠ›åˆ†æ•°</h3><ul>
<li>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é«˜æ–¯æ ¸æ¥å¯¹æŸ¥è¯¢å’Œé”®ä¹‹é—´çš„å…³ç³»å»ºæ¨¡ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¸Šä¸€èŠ‚ä¸­çš„é«˜æ–¯æ ¸å‡½æ•°éƒ¨åˆ†è§†ä¸ºæ³¨æ„åŠ›è¯„åˆ†å‡½æ•°ï¼Œç®€ç§°è¯„åˆ†å‡½æ•°ï¼Œç„¶åæŠŠè¿™ä¸ªå‡½æ•°çš„è¾“å‡ºç»“æœè¾“å…¥åˆ°softmaxå‡½æ•°ä¸­è¿›è¡Œè¿ç®—ã€‚ é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸é”®å¯¹åº”çš„å€¼çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆå³æ³¨æ„åŠ›æƒé‡ï¼‰ã€‚ æœ€åï¼Œæ³¨æ„åŠ›æ±‡èšçš„è¾“å‡ºå°±æ˜¯åŸºäºè¿™äº›æ³¨æ„åŠ›æƒé‡çš„å€¼çš„åŠ æƒå’Œã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure>
<h4 id="æ©è”½softmaxæ“ä½œ"><a href="#æ©è”½softmaxæ“ä½œ" class="headerlink" title="æ©è”½softmaxæ“ä½œ"></a>æ©è”½softmaxæ“ä½œ</h4><ul>
<li>æ­£å¦‚ä¸Šé¢æåˆ°çš„ï¼Œsoftmaxæ“ä½œç”¨äºè¾“å‡ºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒä½œä¸ºæ³¨æ„åŠ›æƒé‡ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¹¶éæ‰€æœ‰çš„å€¼éƒ½åº”è¯¥è¢«çº³å…¥åˆ°æ³¨æ„åŠ›æ±‡èšä¸­ã€‚ ä¾‹å¦‚ï¼Œä¸ºäº†åœ¨ <a href="https://zh-v2.d2l.ai/chapter_recurrent-modern/machine-translation-and-dataset.html#sec-machine-translation">9.5èŠ‚</a>ä¸­é«˜æ•ˆå¤„ç†å°æ‰¹é‡æ•°æ®é›†ï¼Œ æŸäº›æ–‡æœ¬åºåˆ—è¢«å¡«å……äº†æ²¡æœ‰æ„ä¹‰çš„ç‰¹æ®Šè¯å…ƒã€‚ ä¸ºäº†ä»…å°†æœ‰æ„ä¹‰çš„è¯å…ƒä½œä¸ºå€¼æ¥è·å–æ³¨æ„åŠ›æ±‡èšï¼Œ æˆ‘ä»¬å¯ä»¥æŒ‡å®šä¸€ä¸ªæœ‰æ•ˆåºåˆ—é•¿åº¦ï¼ˆå³è¯å…ƒçš„ä¸ªæ•°ï¼‰ï¼Œ ä»¥ä¾¿åœ¨è®¡ç®—softmaxæ—¶è¿‡æ»¤æ‰è¶…å‡ºæŒ‡å®šèŒƒå›´çš„ä½ç½®ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸‹é¢çš„<code>masked_softmax</code>å‡½æ•°ä¸­ å®ç°è¿™æ ·çš„<em>æ©è”½softmaxæ“ä½œ</em>ï¼ˆmasked softmax operationï¼‰ï¼Œ å…¶ä¸­ä»»ä½•è¶…å‡ºæœ‰æ•ˆé•¿åº¦çš„ä½ç½®éƒ½è¢«æ©è”½å¹¶ç½®ä¸º0ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">masked_softmax</span>(<span class="params">X, valid_lens</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é€šè¿‡åœ¨æœ€åä¸€ä¸ªè½´ä¸Šæ©è”½å…ƒç´ æ¥æ‰§è¡Œsoftmaxæ“ä½œ&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># X:3Då¼ é‡ï¼Œvalid_lens:1Dæˆ–2Då¼ é‡</span></span><br><span class="line">    <span class="keyword">if</span> valid_lens <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> nn.functional.softmax(X, dim=-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        shape = X.shape</span><br><span class="line">        <span class="keyword">if</span> valid_lens.dim() == <span class="number">1</span>:</span><br><span class="line">            valid_lens = torch.repeat_interleave(valid_lens, shape[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            valid_lens = valid_lens.reshape(-<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æœ€åä¸€è½´ä¸Šè¢«æ©è”½çš„å…ƒç´ ä½¿ç”¨ä¸€ä¸ªéå¸¸å¤§çš„è´Ÿå€¼æ›¿æ¢ï¼Œä»è€Œå…¶softmaxè¾“å‡ºä¸º0</span></span><br><span class="line">        X = d2l.sequence_mask(X.reshape(-<span class="number">1</span>, shape[-<span class="number">1</span>]), valid_lens,</span><br><span class="line">                              value=-<span class="number">1e6</span>)</span><br><span class="line">        <span class="keyword">return</span> nn.functional.softmax(X.reshape(shape), dim=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h4 id="åŠ æ€§æ³¨æ„åŠ›"><a href="#åŠ æ€§æ³¨æ„åŠ›" class="headerlink" title="åŠ æ€§æ³¨æ„åŠ›"></a>åŠ æ€§æ³¨æ„åŠ›</h4><ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œå½“æŸ¥è¯¢å’Œé”®æ˜¯ä¸åŒé•¿åº¦çš„çŸ¢é‡æ—¶ï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ æ€§æ³¨æ„åŠ›ä½œä¸ºè¯„åˆ†å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AdditiveAttention</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åŠ æ€§æ³¨æ„åŠ›&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, key_size, query_size, num_hiddens, dropout, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(AdditiveAttention, self).__init__(**kwargs)</span><br><span class="line">        self.W_k = nn.Linear(key_size, num_hiddens, bias=<span class="literal">False</span>)</span><br><span class="line">        self.W_q = nn.Linear(query_size, num_hiddens, bias=<span class="literal">False</span>)</span><br><span class="line">        self.w_v = nn.Linear(num_hiddens, <span class="number">1</span>, bias=<span class="literal">False</span>)</span><br><span class="line">        self.dropout = nn.Dropout(dropout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, queries, keys, values, valid_lens</span>):</span><br><span class="line">        queries, keys = self.W_q(queries), self.W_k(keys)</span><br><span class="line">        <span class="comment"># åœ¨ç»´åº¦æ‰©å±•åï¼Œ</span></span><br><span class="line">        <span class="comment"># queriesçš„å½¢çŠ¶ï¼š(batch_sizeï¼ŒæŸ¥è¯¢çš„ä¸ªæ•°ï¼Œ1ï¼Œnum_hidden)</span></span><br><span class="line">        <span class="comment"># keyçš„å½¢çŠ¶ï¼š(batch_sizeï¼Œ1ï¼Œâ€œé”®ï¼å€¼â€å¯¹çš„ä¸ªæ•°ï¼Œnum_hiddens)</span></span><br><span class="line">        <span class="comment"># ä½¿ç”¨å¹¿æ’­æ–¹å¼è¿›è¡Œæ±‚å’Œ</span></span><br><span class="line">        features = queries.unsqueeze(<span class="number">2</span>) + keys.unsqueeze(<span class="number">1</span>)</span><br><span class="line">        features = torch.tanh(features)</span><br><span class="line">        <span class="comment"># self.w_vä»…æœ‰ä¸€ä¸ªè¾“å‡ºï¼Œå› æ­¤ä»å½¢çŠ¶ä¸­ç§»é™¤æœ€åé‚£ä¸ªç»´åº¦ã€‚</span></span><br><span class="line">        <span class="comment"># scoresçš„å½¢çŠ¶ï¼š(batch_sizeï¼ŒæŸ¥è¯¢çš„ä¸ªæ•°ï¼Œâ€œé”®-å€¼â€å¯¹çš„ä¸ªæ•°)</span></span><br><span class="line">        scores = self.w_v(features).squeeze(-<span class="number">1</span>)</span><br><span class="line">        self.attention_weights = masked_softmax(scores, valid_lens)</span><br><span class="line">        <span class="comment"># valuesçš„å½¢çŠ¶ï¼š(batch_sizeï¼Œâ€œé”®ï¼å€¼â€å¯¹çš„ä¸ªæ•°ï¼Œå€¼çš„ç»´åº¦)</span></span><br><span class="line">        <span class="keyword">return</span> torch.bmm(self.dropout(self.attention_weights), values)</span><br></pre></td></tr></table></figure>
<h4 id="ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›"><a href="#ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›" class="headerlink" title="ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›"></a>ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›</h4><ul>
<li>ä½¿ç”¨ç‚¹ç§¯å¯ä»¥å¾—åˆ°è®¡ç®—æ•ˆç‡æ›´é«˜çš„è¯„åˆ†å‡½æ•°ï¼Œ ä½†æ˜¯ç‚¹ç§¯æ“ä½œè¦æ±‚æŸ¥è¯¢å’Œé”®å…·æœ‰ç›¸åŒçš„é•¿åº¦<em>d</em>ã€‚ å‡è®¾æŸ¥è¯¢å’Œé”®çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯ç‹¬ç«‹çš„éšæœºå˜é‡ï¼Œ å¹¶ä¸”éƒ½æ»¡è¶³é›¶å‡å€¼å’Œå•ä½æ–¹å·®ï¼Œ é‚£ä¹ˆä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯çš„å‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º<em>d</em>ã€‚ ä¸ºç¡®ä¿æ— è®ºå‘é‡é•¿åº¦å¦‚ä½•ï¼Œ ç‚¹ç§¯çš„æ–¹å·®åœ¨ä¸è€ƒè™‘å‘é‡é•¿åº¦çš„æƒ…å†µä¸‹ä»ç„¶æ˜¯1ï¼Œ æˆ‘ä»¬å°†ç‚¹ç§¯é™¤ä»¥âˆšd,åœ¨ä¸‹é¢çš„ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æš‚é€€æ³•è¿›è¡Œæ¨¡å‹æ­£åˆ™åŒ–ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DotProductAttention</span>(nn.Module):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, dropout, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>(DotProductAttention, self).__init__(**kwargs)</span><br><span class="line">        self.dropout = nn.Dropout(dropout)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># queriesçš„å½¢çŠ¶ï¼š(batch_sizeï¼ŒæŸ¥è¯¢çš„ä¸ªæ•°ï¼Œd)</span></span><br><span class="line">    <span class="comment"># keysçš„å½¢çŠ¶ï¼š(batch_sizeï¼Œâ€œé”®ï¼å€¼â€å¯¹çš„ä¸ªæ•°ï¼Œd)</span></span><br><span class="line">    <span class="comment"># valuesçš„å½¢çŠ¶ï¼š(batch_sizeï¼Œâ€œé”®ï¼å€¼â€å¯¹çš„ä¸ªæ•°ï¼Œå€¼çš„ç»´åº¦)</span></span><br><span class="line">    <span class="comment"># valid_lensçš„å½¢çŠ¶:(batch_sizeï¼Œ)æˆ–è€…(batch_sizeï¼ŒæŸ¥è¯¢çš„ä¸ªæ•°)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, queries, keys, values, valid_lens=<span class="literal">None</span></span>):</span><br><span class="line">        d = queries.shape[-<span class="number">1</span>]</span><br><span class="line">        <span class="comment"># è®¾ç½®transpose_b=Trueä¸ºäº†äº¤æ¢keysçš„æœ€åä¸¤ä¸ªç»´åº¦</span></span><br><span class="line">        scores = torch.bmm(queries, keys.transpose(<span class="number">1</span>,<span class="number">2</span>)) / math.sqrt(d)</span><br><span class="line">        self.attention_weights = masked_softmax(scores, valid_lens)</span><br><span class="line">        <span class="keyword">return</span> torch.bmm(self.dropout(self.attention_weights), values)</span><br></pre></td></tr></table></figure>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><ul>
<li>å°†æ³¨æ„åŠ›æ±‡èšçš„è¾“å‡ºè®¡ç®—å¯ä»¥ä½œä¸ºå€¼çš„åŠ æƒå¹³å‡ï¼Œé€‰æ‹©ä¸åŒçš„æ³¨æ„åŠ›è¯„åˆ†å‡½æ•°ä¼šå¸¦æ¥ä¸åŒçš„æ³¨æ„åŠ›æ±‡èšæ“ä½œã€‚</li>
<li>å½“æŸ¥è¯¢å’Œé”®æ˜¯ä¸åŒé•¿åº¦çš„çŸ¢é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¯åŠ æ€§æ³¨æ„åŠ›è¯„åˆ†å‡½æ•°ã€‚å½“å®ƒä»¬çš„é•¿åº¦ç›¸åŒæ—¶ï¼Œä½¿ç”¨ç¼©æ”¾çš„â€œç‚¹ï¼ç§¯â€æ³¨æ„åŠ›è¯„åˆ†å‡½æ•°çš„è®¡ç®—æ•ˆç‡æ›´é«˜ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>63-æŸæœç´¢</title>
    <url>/2024/04/23/11-06-03/</url>
    <content><![CDATA[<h2 id="æŸæœç´¢"><a href="#æŸæœç´¢" class="headerlink" title="æŸæœç´¢"></a>æŸæœç´¢</h2><p>åœ¨åºåˆ—ç”Ÿæˆé—®é¢˜ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•æ˜¯ä¸€ä¸ªä¸ªè¯å…ƒåœ°è¿›è¡Œç”Ÿæˆï¼Œä½†æ˜¯å…ˆå‰æ­¥ç”Ÿæˆçš„è¯å…ƒä¼šå½±å“ä¹‹åè¯å…ƒçš„æ¦‚ç‡åˆ†å¸ƒï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æœç´¢ç®—æ³•æ¥å¾—åˆ°ä¸€ä¸ªè¾ƒå¥½çš„åºåˆ—</p>
<h3 id="è´ªå¿ƒæœç´¢"><a href="#è´ªå¿ƒæœç´¢" class="headerlink" title="è´ªå¿ƒæœç´¢"></a>è´ªå¿ƒæœç´¢</h3><p>è´ªå¿ƒæœç´¢å³æ¯ä¸ªæ—¶é—´æ­¥éƒ½é€‰æ‹©å…·æœ‰æœ€é«˜æ¡ä»¶æ¦‚ç‡çš„è¯å…ƒã€‚</p>
<script type="math/tex; mode=display">
y_{t'} = \operatorname*{argmax}_{y \in \mathcal{Y}} P(y \mid y_1, \ldots, y_{t'-1}, \mathbf{c})</script><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€æœ‰åºåˆ—ï¼Œä»–çš„è”åˆæ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯æ¯æ­¥ä¹‹é—´çš„æ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯ï¼Œæœ€å¤§ã€‚</p>
<script type="math/tex; mode=display">
\prod_{t'=1}^{T'} P(y_{t'} \mid y_1, \ldots, y_{t'-1}, \mathbf{c})</script><p>ç„¶è€Œï¼Œè´ªå¿ƒæœç´¢å¾ˆå¯èƒ½æœç´¢åˆ°çš„ä¸æ˜¯æœ€ä¼˜è§£ï¼Œä¾‹å¦‚ï¼š<img src="/2024/04/23/11-06-03/Greedy_or_not.png" class></p>
<p>å·¦ä¾§çš„æœç´¢æ–¹å¼ä¸ºè´ªå¿ƒæœç´¢ï¼Œæ¯æ¬¡æ‰¾åˆ°å½“å‰æ¡ä»¶æ¦‚ç‡æœ€å¤§çš„é€‰é¡¹è¿›è¡Œé¢„æµ‹ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå¯¼è‡´ä¹‹åçš„æ¡ä»¶æ¦‚ç‡è¾ƒå°ï¼Œä»è€Œå¯¼è‡´æœ€ç»ˆçš„è”åˆæ¦‚ç‡è¾ƒå°ï¼Œç”Ÿæˆçš„åºåˆ—ä¸ä¼˜ã€‚</p>
<p>è€Œå³ä¾§çš„é€‰æ‹©æ–¹å¼è™½ç„¶åœ¨ç¬¬äºŒæ­¥é€‰æ‹©äº†è¾ƒå°çš„é€‰é¡¹ï¼Œä½†ä¹‹ååœ¨ç¬¬ä¸‰æ­¥æ—¶æœ‰äº†æ¡ä»¶æ¦‚ç‡ä¸º0.6é€‰é¡¹ï¼Œæœ€ç»ˆç»“æœåè€Œæ›´å¥½ã€‚</p>
<h3 id="ç©·ä¸¾æœç´¢"><a href="#ç©·ä¸¾æœç´¢" class="headerlink" title="ç©·ä¸¾æœç´¢"></a>ç©·ä¸¾æœç´¢</h3><p>ç©·ä¸¾æœç´¢æšä¸¾æ‰€æœ‰å¯èƒ½çš„è¾“å‡ºåºåˆ—åŠå…¶æ¦‚ç‡ï¼Œç„¶åé€‰æ‹©æ¦‚ç‡æœ€å¤§çš„ä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºï¼Œæšä¸¾æœç´¢å¯ä»¥ä¿è¯å¾—åˆ°æœ€ä¼˜è§£ï¼Œä½†æ˜¯è®¡ç®—å¤æ‚åº¦å¾ˆé«˜ï¼Œéš¾ä»¥å®ç°</p>
<h3 id="æŸæœç´¢ï¼ˆbeam-searchï¼‰"><a href="#æŸæœç´¢ï¼ˆbeam-searchï¼‰" class="headerlink" title="æŸæœç´¢ï¼ˆbeam searchï¼‰"></a>æŸæœç´¢ï¼ˆbeam searchï¼‰</h3><p>æŸæœç´¢ç»¼åˆäº†è´ªå¿ƒæœç´¢å’Œç©·ä¸¾æœç´¢ï¼Œåœ¨èƒ½æ¥å—çš„è®¡ç®—æˆæœ¬ä¸‹å¾—åˆ°æ¯”è´ªå¿ƒæœç´¢æ›´å¥½çš„ç»“æœã€‚</p>
<p>æŸæœç´¢æœ‰ä¸€ä¸ªè¶…å‚æ•°ï¼Œåä¸º<strong>æŸå®½ï¼ˆbeam sizeï¼‰</strong>$k$ï¼ŒæŸæœç´¢çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>1ï¼šåœ¨ç¬¬ä¸€æ—¶é—´æ­¥é€‰æ‹©æ¡ä»¶æ¦‚ç‡æœ€é«˜çš„kä¸ªé€‰é¡¹</li>
<li><p>2ï¼šå¯¹éšåçš„æ¯ä¸ªæ—¶é—´æ­¥ï¼ŒåŸºäºä¸Šä¸€æ—¶é—´æ­¥çš„kä¸ªå€™é€‰è¾“å‡ºåºåˆ—é¢„æµ‹è¿™ä¸€æ—¶é—´æ­¥çš„æ‰€æœ‰å¯èƒ½é€‰é¡¹çš„æ¡ä»¶æ¦‚ç‡ï¼Œä»ä¸­å–kä¸ªæœ€å¤§çš„</p>
</li>
<li><p>3ï¼šæœ€ååŸºäºæ¯æ­¥å¾—åˆ°çš„åºåˆ—ï¼Œåˆ å»æˆªæ­¢ç¬¦å’Œå…¶åå…ƒç´ ï¼Œè·å¾—æœ€ç»ˆå€™é€‰åºåˆ—é›†åˆï¼Œå–å‡ºåŠ æƒæ¡ä»¶æ¦‚ç‡æœ€å¤§çš„</p>
</li>
</ul>
<p>åŠ æƒæ¡ä»¶æ¦‚ç‡å…¬å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\frac{1}{L^\alpha} \log P(y_1, \ldots, y_{L}\mid \mathbf{c}) = \frac{1}{L^\alpha} \sum_{t'=1}^L \log P(y_{t'} \mid y_1, \ldots, y_{t'-1}, \mathbf{c}),</script><p>å¼ä¸­$\frac{1}{L^\alpha}$ç”¨äºè°ƒæ•´é•¿åºåˆ—çš„è¯„ä¼°å€¼ä½¿å¾—é•¿çŸ­åºåˆ—é—´çš„æ¯”è¾ƒå…¬å¹³</p>
<p>æŸå®½kçš„é€‰æ‹©ï¼š</p>
<ul>
<li>k=1æ—¶å®é™…ä¸ºè´ªå¿ƒæœç´¢</li>
<li>kè¶Šå°æœç´¢é€Ÿåº¦è¶Šå¿«ï¼Œä½†ç»“æœè¶Šå·®ï¼Œkè¶Šå¤§åˆ™æœç´¢é€Ÿåº¦è¶Šæ…¢ï¼Œä½†ç»“æœè¶Šå¥½</li>
</ul>
<p>æŸæœç´¢åªåœ¨æµ‹è¯•æ—¶ä½¿ç”¨</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>62-åºåˆ—åˆ°åºåˆ—å­¦ä¹ </title>
    <url>/2024/04/23/11-06-02/</url>
    <content><![CDATA[<h2 id="62-åºåˆ—åˆ°åºåˆ—å­¦ä¹ "><a href="#62-åºåˆ—åˆ°åºåˆ—å­¦ä¹ " class="headerlink" title="62-åºåˆ—åˆ°åºåˆ—å­¦ä¹ "></a>62-åºåˆ—åˆ°åºåˆ—å­¦ä¹ </h2><h3 id="1-åº”ç”¨ä¸¾ä¾‹ï¼šæœºå™¨ç¿»è¯‘"><a href="#1-åº”ç”¨ä¸¾ä¾‹ï¼šæœºå™¨ç¿»è¯‘" class="headerlink" title="1. åº”ç”¨ä¸¾ä¾‹ï¼šæœºå™¨ç¿»è¯‘"></a>1. åº”ç”¨ä¸¾ä¾‹ï¼šæœºå™¨ç¿»è¯‘</h3><ul>
<li>ç»™å®šä¸€ä¸ªæºè¯­è¨€çš„å¥å­ï¼Œè‡ªåŠ¨ç¿»è¯‘æˆç›®æ ‡è¯­è¨€</li>
<li>è¿™ä¸¤ä¸ªå¥å­å¯ä»¥æœ‰ä¸åŒçš„é•¿åº¦</li>
</ul>
<h3 id="2-æ¨¡å‹æ¶æ„ï¼šSeq2seq"><a href="#2-æ¨¡å‹æ¶æ„ï¼šSeq2seq" class="headerlink" title="2. æ¨¡å‹æ¶æ„ï¼šSeq2seq"></a>2. æ¨¡å‹æ¶æ„ï¼šSeq2seq</h3><img src="/2024/04/23/11-06-02/62-01.png" class>
<ul>
<li><p>åºåˆ—åˆ°åºåˆ—æ¨¡å‹ç”±<strong>ç¼–ç å™¨-è§£ç å™¨</strong>æ„æˆã€‚</p>
</li>
<li><p><strong>ç¼–ç å™¨</strong>RNNå¯ä»¥æ˜¯<strong>åŒå‘</strong>ï¼Œç”±äºè¾“å…¥çš„å¥å­æ˜¯å®Œæ•´åœ°ï¼Œå¯ä»¥æ­£ç€çœ‹ï¼Œä¹Ÿå¯ä»¥åç€çœ‹ï¼›è€Œ<strong>è§£ç å™¨</strong>åªèƒ½æ˜¯<strong>å•å‘</strong>ï¼Œç”±äºé¢„æµ‹æ—¶ï¼Œåªèƒ½æ­£ç€å»é¢„æµ‹ã€‚</p>
</li>
<li>ç¼–ç å™¨ï¼Œè§£ç å™¨é‡‡ç”¨<strong>ä¸åŒçš„RNN</strong>ï¼Œæ­¤RNNä¹Ÿå¯ä»¥æ˜¯GRUï¼ŒLSTMç­‰ã€‚</li>
</ul>
<h3 id="3-ç¼–ç å™¨-è§£ç å™¨ç»†èŠ‚"><a href="#3-ç¼–ç å™¨-è§£ç å™¨ç»†èŠ‚" class="headerlink" title="3. ç¼–ç å™¨-è§£ç å™¨ç»†èŠ‚"></a>3. ç¼–ç å™¨-è§£ç å™¨ç»†èŠ‚</h3><img src="/2024/04/23/11-06-02/62-02.png" class>
<ul>
<li><p>ç¼–ç å™¨çš„RNN<strong>æ²¡æœ‰</strong>è¿æ¥<strong>è¾“å‡ºå±‚</strong></p>
</li>
<li><p><strong>ç¼–ç å™¨</strong>çš„<strong>æœ€åæ—¶é—´æ­¥çš„éšçŠ¶æ€</strong>ç”¨ä½œ<strong>è§£ç å™¨</strong>çš„<strong>åˆå§‹éšçŠ¶æ€</strong>ï¼ˆå›¾ä¸­ç®­å¤´çš„ä¼ é€’ï¼‰</p>
</li>
</ul>
<h3 id="4-è®­ç»ƒå’Œæ¨ç†"><a href="#4-è®­ç»ƒå’Œæ¨ç†" class="headerlink" title="4. è®­ç»ƒå’Œæ¨ç†"></a>4. è®­ç»ƒå’Œæ¨ç†</h3><img src="/2024/04/23/11-06-02/62-03.png" class>
<ul>
<li>ç¬¬3èŠ‚ä¸­æåˆ°ç¼–ç å™¨æ²¡æœ‰è¾“å‡ºå±‚ï¼Œåªæœ‰è§£ç å™¨æœ‰ï¼Œäºæ˜¯æŸå¤±å‡½æ•°çš„è®¡ç®—åªå…³æ³¨è§£ç å™¨çš„è¾“å‡ºå±‚ã€‚</li>
<li>è®­ç»ƒå’Œé¢„æµ‹ï¼ˆæ¨ç†ï¼‰æœ‰åŒºåˆ«çš„ï¼Œè®­ç»ƒæ—¶è§£ç å™¨ä½¿ç”¨ç›®æ ‡å¥å­ï¼ˆçœŸå€¼ï¼‰ä½œä¸ºè¾“å…¥ï¼Œä»¥æŒ‡å¯¼æ¨¡å‹è®­ç»ƒï¼›è€Œæ¨ç†æ—¶æ— æ³•æå‰å¾—çŸ¥çœŸå€¼ï¼Œéœ€è¦ä¸€æ­¥ä¸€æ­¥è¿›è¡Œé¢„æµ‹ã€‚</li>
</ul>
<h3 id="5-è¡¡é‡ç”Ÿæˆåºåˆ—çš„å¥½åï¼šBLEU"><a href="#5-è¡¡é‡ç”Ÿæˆåºåˆ—çš„å¥½åï¼šBLEU" class="headerlink" title="5. è¡¡é‡ç”Ÿæˆåºåˆ—çš„å¥½åï¼šBLEU"></a>5. è¡¡é‡ç”Ÿæˆåºåˆ—çš„å¥½åï¼šBLEU</h3><h4 id="5-1-BLUEå€¼å®šä¹‰ï¼š"><a href="#5-1-BLUEå€¼å®šä¹‰ï¼š" class="headerlink" title="5.1 BLUEå€¼å®šä¹‰ï¼š"></a>5.1 BLUEå€¼å®šä¹‰ï¼š</h4><img src="/2024/04/23/11-06-02/62-04.png" class>
<p>å®—æˆåº†è€å¸ˆã€Šç»Ÿè®¡è‡ªç„¶è¯­è¨€å¤„ç†ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ä¸€ä¹¦ä¸­å…³äºBLEUçš„å®šä¹‰ï¼š</p>
<img src="/2024/04/23/11-06-02/62-05.png" class>
<p>åŒæ—¶ï¼Œå´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­ä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸€æ–¹å¼å®šä¹‰ã€‚ä½†è§‚å¯Ÿä¸¤ç§æ–¹å¼ï¼ŒBPæƒ©ç½šå› å­çš„è®¡ç®—æ˜¯ä¸€è‡´çš„ï¼Œpnä¹Ÿæ˜¯ä½¿ç”¨äº†å‡ ä½•å¹³å‡çš„æ–¹å¼ï¼Œåªæ˜¯å¯¹äºwnè¿™ä¸€åŠ æƒå€¼çš„é€‰æ‹©æœ‰æ‰€ä¸åŒã€‚</p>
<h4 id="5-2-å®šä¹‰å¼è§£æ"><a href="#5-2-å®šä¹‰å¼è§£æ" class="headerlink" title="5.2 å®šä¹‰å¼è§£æ"></a>5.2 å®šä¹‰å¼è§£æ</h4><img src="/2024/04/23/11-06-02/62-06.png" class>
<p>BLEUå€¼è¡¡é‡çš„æ˜¯ç²¾ç¡®ç‡ï¼Œè€Œä¸”å¯¹ä¸åŒn-gramè¿›è¡Œé›†æˆæ‰“åˆ†ã€‚</p>
<ul>
<li><p>BPæƒ©ç½šå› å­ï¼šä¸ºäº†æƒ©ç½šè¿‡çŸ­çš„å¥å­ï¼Œç”±äºè¿‡çŸ­çš„å¥å­åŸºæ•°å°ï¼Œç²¾ç¡®ç‡å®¹æ˜“æå‡ï¼Œæ‰€ä»¥åŠ ä¸Šä¸€ä¸ªBPä¹˜å­ï¼Œå½“é¢„æµ‹å¥å­é•¿åº¦&lt;å‚è€ƒå¥å­é•¿åº¦ï¼Œåˆ™BP&lt;1ã€‚</p>
</li>
<li><p>wnçš„é€‰æ‹©ï¼šææ²è€å¸ˆè¯¾ç¨‹ä¸­æ˜¯é‡‡ç”¨äº†$\frac{1}{2^n}$â€‹ä½œä¸ºåŠ æƒå› å­ï¼Œnè¶Šå¤§ï¼ŒåŠ æƒå› å­è¶Šå°ï¼Œä½†ç”±äºpn&lt;1ï¼Œèµ‹äºˆçš„æƒé‡è¶Šå¤§ï¼Œå³é•¿åŒ¹é…å…·æœ‰æ›´é«˜çš„æƒé‡ã€‚è€Œå®—è€å¸ˆçš„ä¹¦ä¸­æ‰€è¿°ï¼šåœ¨BLEUçš„åŸºçº¿ç³»ç»Ÿä¸­å–Nï¼4ï¼Œwnï¼1/Nï¼Œä¹Ÿå¯ä»¥å‚è€ƒã€‚</p>
</li>
</ul>
<h3 id="6-QA"><a href="#6-QA" class="headerlink" title="6. QA"></a>6. QA</h3><p>é—®é¢˜ï¼šLSTMã€GRUã€Seq2Seqçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>Seq2Seqæ˜¯ä¸€ç§ç”±ç¼–ç å™¨å’Œè§£ç å™¨ç»„æˆçš„æ¡†æ¶ï¼Œè€ŒLSTMã€GRUæ˜¯ç»„æˆç¼–ç å™¨å’Œè§£ç å™¨çš„ä¸€ç§å•å…ƒã€‚</p>
</blockquote>
<p>é—®é¢˜ï¼šencoderçš„è¾“å‡ºå’Œdecoderçš„è¾“å…¥ï¼Œæ‹¼æ¥å’ŒæŒ‰ä½ç›¸åŠ èµ·æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ä¹ˆï¼Ÿ</p>
<blockquote>
<p>ä¸èƒ½å¤ŸæŒ‰ä½åŠ ï¼Œç”±äºencoderçš„è¾“å‡ºæœ€åç»´åº¦æ˜¯hidden_sizeï¼Œè€Œdecoderçš„è¾“å…¥æœ€åç»´åº¦æ˜¯embedding_sizeï¼Œå¯èƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ç”¨æ‹¼æ¥ã€‚</p>
</blockquote>
<p>é—®é¢˜ï¼šembeddingå±‚æ˜¯åšword2vecå—ï¼Ÿ</p>
<blockquote>
<p>è¿™é‡Œä¸æ˜¯ï¼Œè¿™é‡Œæ˜¯ä»å¤´å¼€å§‹è®­ç»ƒã€‚ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šå¾—éƒ½æ˜¯é¢„è®­ç»ƒï¼ŒBERTç­‰ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>61-ç¼–ç å™¨-è§£ç å™¨æ¶æ„</title>
    <url>/2024/04/23/11-06-01/</url>
    <content><![CDATA[<h2 id="ç¼–ç å™¨-è§£ç å™¨æ¶æ„"><a href="#ç¼–ç å™¨-è§£ç å™¨æ¶æ„" class="headerlink" title="ç¼–ç å™¨-è§£ç å™¨æ¶æ„"></a>ç¼–ç å™¨-è§£ç å™¨æ¶æ„</h2><h3 id="CNNä¸­çš„è§£é‡Š"><a href="#CNNä¸­çš„è§£é‡Š" class="headerlink" title="CNNä¸­çš„è§£é‡Š"></a>CNNä¸­çš„è§£é‡Š</h3><p>è€ƒè™‘ä¸€ä¸ªCNNæ¨¡å‹ï¼š</p>
<img src="/2024/04/23/11-06-01/CNN.png" class>
<p>æ•´ä¸ªCNNå®é™…ä¸Šå¯ä»¥çœ‹ä½œä¸€ä¸ªç¼–ç å™¨ï¼Œè§£ç å™¨ä¸¤éƒ¨åˆ†ã€‚</p>
<ul>
<li>åº•å±‚çš„ç¥ç»ç½‘ç»œï¼Œä¹Ÿå°±æ˜¯ç¼–ç å™¨å°†è¾“å…¥ç¼–ç æˆèƒ½è¢«æ¨¡å‹è¯†åˆ«çš„ä¸­é—´è¡¨è¾¾å½¢å¼ï¼Œä¹Ÿå°±æ˜¯ç‰¹å¾</li>
<li>è§£ç å™¨å°†ä¸­é—´ç»“æœè§£ç ä¸ºè¾“å‡º</li>
</ul>
<h3 id="RNNä¸­çš„è§£é‡Š"><a href="#RNNä¸­çš„è§£é‡Š" class="headerlink" title="RNNä¸­çš„è§£é‡Š"></a>RNNä¸­çš„è§£é‡Š</h3><p>å¯¹äºRNNè€Œè¨€ï¼ŒåŒæ ·æœ‰ç€ç±»ä¼¼çš„åˆ’åˆ†</p>
<img src="/2024/04/23/11-06-01/RNN.png" class>
<ul>
<li>ç¼–ç å™¨å°†è¾“å…¥æ–‡æœ¬è¡¨ç¤ºä¸ºå‘é‡</li>
<li>è§£ç å™¨å°†å‘é‡è¡¨ç¤ºä¸ºè¾“å‡º</li>
</ul>
<h3 id="æŠ½è±¡çš„ç¼–ç å™¨-è§£ç å™¨æ¶æ„"><a href="#æŠ½è±¡çš„ç¼–ç å™¨-è§£ç å™¨æ¶æ„" class="headerlink" title="æŠ½è±¡çš„ç¼–ç å™¨-è§£ç å™¨æ¶æ„"></a>æŠ½è±¡çš„ç¼–ç å™¨-è§£ç å™¨æ¶æ„</h3><p>æŒ‡ä¸€ä¸ªæ¨¡å‹è¢«åˆ†ä¸ºä¸¤å—ï¼š</p>
<ul>
<li>ä¸€å—æ˜¯ç¼–ç å™¨ï¼Œä¹Ÿå«encoderï¼Œç”¨äºå°†è¾“å…¥å¤„ç†ä¸ºä¸€ä¸ªä¸­é—´çŠ¶æ€</li>
<li>ä¸€å—æ˜¯è§£ç å™¨ï¼Œä¹Ÿå«decoderï¼Œç”¨äºå°†ä¸­é—´çŠ¶æ€è¡¨ç¤ºä¸ºè¾“å‡º</li>
<li>è§£ç å™¨ä¹Ÿå¯ä»¥æœ‰é¢å¤–çš„è¾“å…¥æä¾›ä¿¡æ¯</li>
</ul>
<img src="/2024/04/23/11-06-01/encoder-decoder.png" class>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>58-æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ</title>
    <url>/2024/04/23/11-01-58/</url>
    <content><![CDATA[<h2 id="58-æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ"><a href="#58-æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ" class="headerlink" title="58 æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ"></a>58 æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ</h2><p>x</p>
<h3 id="1-æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ"><a href="#1-æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ" class="headerlink" title="1.æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ"></a>1.æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œ</h3><p>ä¹‹å‰è®²çš„RNNéƒ½åªæœ‰ä¸€ä¸ªéšè—å±‚ï¼ˆåºåˆ—å˜é•¿ä¸ç®—æ˜¯æ·±åº¦ï¼‰ï¼Œè€Œä¸€ä¸ªéšè—å±‚çš„RNNä¸€æ—¦åšçš„å¾ˆå®½å°±å®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆã€‚å› æ­¤æˆ‘ä»¬è€ƒè™‘å°†ç½‘ç»œåšçš„æ›´æ·±è€Œéæ›´å®½ï¼Œæ¯å±‚éƒ½åªåšä¸€ç‚¹éçº¿æ€§ï¼Œé å±‚æ•°å åŠ å¾—åˆ°æ›´åŠ éçº¿æ€§çš„æ¨¡å‹ã€‚</p>
<p>æµ…RNNï¼šè¾“å…¥-éšå±‚-è¾“å‡º</p>
<p>æ·±RNNï¼šè¾“å…¥-éšå±‚-éšå±‚-â€¦-è¾“å‡º</p>
<img src="/2024/04/23/11-01-58/58-01.png" class>
<p>ï¼ˆè¯¾ç¨‹è§†é¢‘ä¸­çš„å›¾ç‰‡æœ‰é”™è¯¯ï¼Œæœ€åè¾“å‡ºå±‚åä¸€æ—¶é—´æ­¥æ˜¯ä¸å—å‰ä¸€æ­¥å½±å“çš„ï¼Œå³æ²¡æœ‰ç®­å¤´ï¼‰</p>
<h3 id="2-å…¬å¼"><a href="#2-å…¬å¼" class="headerlink" title="2.å…¬å¼"></a>2.å…¬å¼</h3><div align="center">

![](http://latex.codecogs.com/svg.latex?\mathbf{H}_t^1=f_1(\mathbf{H_{t-1}^1},\mathbf{X_t}))

</div>

<p><em>ç¬¬ä¸€å±‚çš„ç¬¬tæ­¥çŠ¶æ€æ˜¯å…³äºç¬¬ä¸€å±‚ç¬¬t-1æ­¥çŠ¶æ€å’Œç¬¬tæ­¥è¾“å…¥çš„å‡½æ•°</em></p>
<div align="center">

<p><img src="http://latex.codecogs.com/svg.latex?\mathbf{H}_t^j=f_j(\mathbf{H_{t-1}^j},\mathbf{H_{t}^{j-1}" alt>})</p>
<p>&lt;/div&gt;<br><em>ç¬¬jå±‚çš„ç¬¬tæ­¥çŠ¶æ€æ˜¯å…³äºå½“å‰å±‚ä¸Šä¸€æ­¥æ­¥çŠ¶æ€å’Œä¸Šä¸€å±‚å½“å‰æ­¥çš„å‡½æ•°</em></p>
<div align="center">

<p><img src="http://latex.codecogs.com/svg.latex?\mathbf{O}_t=g(\mathbf{H}_t^L" alt>)</p>
<p>&lt;/div&gt;<br><em>ç”±æœ€åä¸€ä¸ªéšè—å±‚å¾—åˆ°è¾“å‡º</em></p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><ul>
<li>æ·±åº¦å¾ªç¯ç¥ç»ç½‘ç»œä½¿ç”¨å¤šä¸ªéšè—å±‚æ¥è·å¾—æ›´å¤šçš„éçº¿æ€§æ€§</li>
</ul>
<p>å°†RNN/GRU/LSTMåšæ·±éƒ½æ˜¯ä¸€ä¸ªé“ç†ï¼Œä¸‰è€…åªæ˜¯ä½¿ç”¨çš„å‡½æ•°fä¸åŒã€‚</p>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4.QA"></a>4.QA</h3><p>Q1: NLPé‚£ä¸ªæ–¹å‘å¥½æ‰¾å·¥ä½œï¼Ÿæ–‡æœ¬ç¿»è¯‘æ˜¯ä¸æ˜¯ç°åœ¨åªåœ¨å­¦æœ¯ç ”ç©¶ä¸­æ‰éœ€è¦è‡ªå·±å®ç°ï¼Ÿï¼ˆ2021-7-27ï¼‰</p>
<blockquote>
<p>æ–‡æœ¬ç¿»è¯‘å·²ç»æ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„é¢†åŸŸï¼ŒNLPæŒºå¥½æ‰¾å·¥ä½œï¼Œäººäº§ç”Ÿçš„æ–‡æœ¬è¿œå¤šäºå›¾ç‰‡ã€‚</p>
</blockquote>
<p>Q2: å…³äºBPTT</p>
<blockquote>
<p>è¯¾ä¸Šä¸è®²ï¼Œä¹¦ä¸Šæœ‰è®²åŸç†</p>
</blockquote>
<p>Q3: æ·±å±‚RNNæ˜¯ä¸æ˜¯æ¯å±‚éƒ½éœ€è¦ä¸€ä¸ªåˆå§‹hidenstate?</p>
<blockquote>
<p>æ˜¯çš„</p>
</blockquote>
<p>Q4: å¯ä¸å¯ä»¥æ‰‹åŠ¨å®ç°hidden_sizeä¸ä¸€æ ·çš„å¤šå±‚RNNï¼Ÿ</p>
<blockquote>
<p>åº”è¯¥æ²¡é—®é¢˜ï¼Œä½†é€šå¸¸å¤§å®¶ä¸ä¼šå»è°ƒhidden_sizeï¼Œå› ä¸ºç½‘ç»œä¸ä¼šåšçš„å¾ˆæ·±ï¼Œæœ€åè¿˜æœ‰å…¨è¿æ¥å±‚ã€‚</p>
</blockquote>
<p>Q5: å…³äºè¯¾ä¸Šæåˆ°çš„classifier</p>
<blockquote>
<p>åˆ†ç±»çš„ä»»åŠ¡åœ¨æœ€åçš„å…¨è¿æ¥å±‚å®Œæˆ</p>
</blockquote>
</div></div>]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>57-é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ(LSTM)</title>
    <url>/2024/04/23/11-01-57/</url>
    <content><![CDATA[<h1 id="é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ"><a href="#é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ" class="headerlink" title="é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ"></a>é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ</h1><h3 id="2-é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼š"><a href="#2-é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼š" class="headerlink" title="2.é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼š"></a>2.é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼š</h3><ul>
<li>å¿˜è®°é—¨ï¼šå°†å€¼æœ0å‡å°‘</li>
<li>è¾“å…¥é—¨ï¼šå†³å®šæ˜¯ä¸æ˜¯å¿½ç•¥æ‰è¾“å…¥æ•°æ®</li>
<li>è¾“å‡ºé—¨ï¼šå†³å®šæ˜¯ä¸æ˜¯ä½¿ç”¨éšçŠ¶æ€</li>
</ul>
<p>å¯ä»¥è¯´ï¼Œé•¿çŸ­æœŸè®°å¿†ç½‘ç»œçš„è®¾è®¡çµæ„Ÿæ¥è‡ªäºè®¡ç®—æœºçš„é€»è¾‘é—¨ã€‚ é•¿çŸ­æœŸè®°å¿†ç½‘ç»œå¼•å…¥äº†<em>è®°å¿†å…ƒ</em>ï¼ˆmemory cellï¼‰ï¼Œæˆ–ç®€ç§°ä¸º<em>å•å…ƒ</em>ï¼ˆcellï¼‰ã€‚ æœ‰äº›æ–‡çŒ®è®¤ä¸ºè®°å¿†å…ƒæ˜¯éšçŠ¶æ€çš„ä¸€ç§ç‰¹æ®Šç±»å‹ï¼Œ å®ƒä»¬ä¸éšçŠ¶æ€å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨äºè®°å½•é™„åŠ çš„ä¿¡æ¯ã€‚ ä¸ºäº†æ§åˆ¶è®°å¿†å…ƒï¼Œæˆ‘ä»¬éœ€è¦è®¸å¤šé—¨ã€‚ å…¶ä¸­ä¸€ä¸ªé—¨ç”¨æ¥ä»å•å…ƒä¸­è¾“å‡ºæ¡ç›®ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º<em>è¾“å‡ºé—¨</em>ï¼ˆoutput gateï¼‰ã€‚ å¦å¤–ä¸€ä¸ªé—¨ç”¨æ¥å†³å®šä½•æ—¶å°†æ•°æ®è¯»å…¥å•å…ƒï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º<em>è¾“å…¥é—¨</em>ï¼ˆinput gateï¼‰ã€‚ æˆ‘ä»¬è¿˜éœ€è¦ä¸€ç§æœºåˆ¶æ¥é‡ç½®å•å…ƒçš„å†…å®¹ï¼Œç”±<em>é—å¿˜é—¨</em>ï¼ˆforget gateï¼‰æ¥ç®¡ç†ï¼Œ è¿™ç§è®¾è®¡çš„åŠ¨æœºä¸é—¨æ§å¾ªç¯å•å…ƒç›¸åŒï¼Œ èƒ½å¤Ÿé€šè¿‡ä¸“ç”¨æœºåˆ¶å†³å®šä»€ä¹ˆæ—¶å€™è®°å¿†æˆ–å¿½ç•¥éšçŠ¶æ€ä¸­çš„è¾“å…¥ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹è¿™åœ¨å®è·µä¸­æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚</p>
<h4 id="2-1-é—¨ï¼š"><a href="#2-1-é—¨ï¼š" class="headerlink" title="2.1 é—¨ï¼š"></a>2.1 é—¨ï¼š</h4><p>è¾“å…¥é—¨ï¼š<img src="https://latex.codecogs.com/svg.image?I_{t}=\sigma&space;(X_{t}W_{xi}&plus;H_{t-1}W_{hi}&plus;b_{i})" title="I_{t}=\sigma (X_{t}W_{xi}+H_{t-1}W_{hi}+b_{i})"></p>
<p>å¿˜è®°é—¨ï¼š<img src="https://latex.codecogs.com/svg.image?F_{t}=\sigma&space;(X_{t}W_{xf}&plus;H_{t-1}W_{hf}&plus;b_{f})" title="F_{t}=\sigma (X_{t}W_{xf}+H_{t-1}W_{hf}+b_{f})"></p>
<p>è¾“å‡ºé—¨ï¼š<img src="https://latex.codecogs.com/svg.image?O_{t}=\sigma&space;(X_{t}W_{xo}&plus;H_{t-1}W_{ho}&plus;b_{o})" title="O_{t}=\sigma (X_{t}W_{xo}+H_{t-1}W_{ho}+b_{o})"></p>
<p>è¿™ä¸‰ä¸ªé—¨çš„ç®—å¼å’Œæ™®é€šRNNè®¡ç®—Htç®—å¼ç›¸åŒã€‚</p>
<img src="/2024/04/23/11-01-57/57-1.png" class>
<h4 id="2-2å€™é€‰è®°å¿†å•å…ƒ"><a href="#2-2å€™é€‰è®°å¿†å•å…ƒ" class="headerlink" title="2.2å€™é€‰è®°å¿†å•å…ƒ"></a>2.2å€™é€‰è®°å¿†å•å…ƒ</h4><p><img src="https://latex.codecogs.com/svg.image?\widetilde{C_{t}}=tanh(X_{t}W_{xc}&plus;H_{t-1}W_{hc}&plus;b_{c})" title="\widetilde{C_{t}}=tanh(X_{t}W_{xc}+H_{t-1}W_{hc}+b_{c})"></p>
<p>ç›¸å½“äºåœ¨ht-1åˆ°htçš„é¢„æµ‹ä¸­åˆåŠ äº†ä¸€å±‚éšè—å•å…ƒ</p>
<img src="/2024/04/23/11-01-57/57-2.png" class>
<h4 id="2-2è®°å¿†å•å…ƒ"><a href="#2-2è®°å¿†å•å…ƒ" class="headerlink" title="2.2è®°å¿†å•å…ƒ"></a>2.2è®°å¿†å•å…ƒ</h4><p><img src="https://latex.codecogs.com/svg.image?C_{t}=F_{t}\odot&space;C_{t-1}&plus;I_{t}\odot&space;\widetilde{C_{t}}" title="C_{t}=F_{t}\odot C_{t-1}+I_{t}\odot \widetilde{C_{t}}"></p>
<p>å¦‚æœé—å¿˜é—¨å§‹ç»ˆä¸º(1)ä¸”è¾“å…¥é—¨å§‹ç»ˆä¸º(0)ï¼Œ åˆ™è¿‡å»çš„è®°å¿†å…ƒ å°†éšæ—¶é—´è¢«ä¿å­˜å¹¶ä¼ é€’åˆ°å½“å‰æ—¶é—´æ­¥ã€‚ å¼•å…¥è¿™ç§è®¾è®¡æ˜¯ä¸ºäº†ç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œ å¹¶æ›´å¥½åœ°æ•è·åºåˆ—ä¸­çš„é•¿è·ç¦»ä¾èµ–å…³ç³»ã€‚</p>
<img src="/2024/04/23/11-01-57/57-3.png" class>
<h4 id="2-3éšçŠ¶æ€"><a href="#2-3éšçŠ¶æ€" class="headerlink" title="2.3éšçŠ¶æ€"></a>2.3éšçŠ¶æ€</h4><p><img src="https://latex.codecogs.com/svg.image?H_{t}=O_{t}\odot&space;tanh(C_{t})" title="H_{t}=O_{t}\odot tanh(C_{t})"></p>
<p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å¦‚ä½•è®¡ç®—éšçŠ¶æ€ï¼Œ è¿™å°±æ˜¯è¾“å‡ºé—¨å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚ åœ¨é•¿çŸ­æœŸè®°å¿†ç½‘ç»œä¸­ï¼Œå®ƒä»…ä»…æ˜¯è®°å¿†å…ƒçš„çš„é—¨æ§ç‰ˆæœ¬ã€‚ è¿™å°±ç¡®ä¿äº†Htçš„å€¼å§‹ç»ˆåœ¨åŒºé—´((-1, 1))å†….</p>
<p>åªè¦è¾“å‡ºé—¨æ¥è¿‘1ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿæœ‰æ•ˆåœ°å°†æ‰€æœ‰è®°å¿†ä¿¡æ¯ä¼ é€’ç»™é¢„æµ‹éƒ¨åˆ†ï¼Œ è€Œå¯¹äºè¾“å‡ºé—¨æ¥è¿‘(0)ï¼Œæˆ‘ä»¬åªä¿ç•™è®°å¿†å…ƒå†…çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦æ›´æ–°éšçŠ¶æ€ã€‚</p>
<img src="/2024/04/23/11-01-57/57-4.png" class>
<h4 id="2-4æ€»ç»“"><a href="#2-4æ€»ç»“" class="headerlink" title="2.4æ€»ç»“"></a>2.4æ€»ç»“</h4><p>LSTMçš„è®¡ç®—æµç¨‹ï¼š</p>
<p><img src="https://latex.codecogs.com/svg.image?I_{t}=\sigma&space;(X_{t}W_{xi}&plus;H_{t-1}W_{hi}&plus;b_{i})" title="I_{t}=\sigma (X_{t}W_{xi}+H_{t-1}W_{hi}+b_{i})"></p>
<p><img src="https://latex.codecogs.com/svg.image?F_{t}=\sigma&space;(X_{t}W_{xf}&plus;H_{t-1}W_{hf}&plus;b_{f})" title="F_{t}=\sigma (X_{t}W_{xf}+H_{t-1}W_{hf}+b_{f})"></p>
<p><img src="https://latex.codecogs.com/svg.image?O_{t}=\sigma&space;(X_{t}W_{xo}&plus;H_{t-1}W_{ho}&plus;b_{o})" title="O_{t}=\sigma (X_{t}W_{xo}+H_{t-1}W_{ho}+b_{o})"></p>
<p><img src="https://latex.codecogs.com/svg.image?\widetilde{C_{t}}=tanh(X_{t}W_{xc}&plus;H_{t-1}W_{hc}&plus;b_{c})" title="\widetilde{C_{t}}=tanh(X_{t}W_{xc}+H_{t-1}W_{hc}+b_{c})"></p>
<p><img src="https://latex.codecogs.com/svg.image?C_{t}=F_{t}\odot&space;C_{t-1}&plus;I_{t}\odot&space;\widetilde{C_{t}}" title="C_{t}=F_{t}\odot C_{t-1}+I_{t}\odot \widetilde{C_{t}}"></p>
<p><img src="https://latex.codecogs.com/svg.image?H_{t}=O_{t}\odot&space;tanh(C_{t})" title="H_{t}=O_{t}\odot tanh(C_{t})"></p>
<h3 id="3-ä»é›¶å®ç°"><a href="#3-ä»é›¶å®ç°" class="headerlink" title="3.ä»é›¶å®ç°"></a>3.ä»é›¶å®ç°</h3><p>åŠ è½½æ—¶å…‰æœºå™¨æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line">batch_size, num_steps = <span class="number">32</span>, <span class="number">35</span></span><br><span class="line">train_iter, vocab = d2l.load_data_time_machine(batch_size, num_steps)</span><br></pre></td></tr></table></figure>
<h4 id="3-1åˆå§‹åŒ–æ¨¡å‹å‚æ•°"><a href="#3-1åˆå§‹åŒ–æ¨¡å‹å‚æ•°" class="headerlink" title="3.1åˆå§‹åŒ–æ¨¡å‹å‚æ•°"></a>3.1åˆå§‹åŒ–æ¨¡å‹å‚æ•°</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_lstm_params</span>(<span class="params">vocab_size, num_hiddens, device</span>):</span><br><span class="line">    num_inputs = num_outputs = vocab_size</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">normal</span>(<span class="params">shape</span>):</span><br><span class="line">        <span class="keyword">return</span> torch.randn(size=shape, device=device)*<span class="number">0.01</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">three</span>():</span><br><span class="line">        <span class="keyword">return</span> (normal((num_inputs, num_hiddens)),</span><br><span class="line">                normal((num_hiddens, num_hiddens)),</span><br><span class="line">                torch.zeros(num_hiddens, device=device))</span><br><span class="line"></span><br><span class="line">    W_xi, W_hi, b_i = three()  <span class="comment"># è¾“å…¥é—¨å‚æ•°</span></span><br><span class="line">    W_xf, W_hf, b_f = three()  <span class="comment"># é—å¿˜é—¨å‚æ•°</span></span><br><span class="line">    W_xo, W_ho, b_o = three()  <span class="comment"># è¾“å‡ºé—¨å‚æ•°</span></span><br><span class="line">    W_xc, W_hc, b_c = three()  <span class="comment"># å€™é€‰è®°å¿†å…ƒå‚æ•°</span></span><br><span class="line">    <span class="comment"># è¾“å‡ºå±‚å‚æ•°</span></span><br><span class="line">    W_hq = normal((num_hiddens, num_outputs))</span><br><span class="line">    b_q = torch.zeros(num_outputs, device=device)</span><br><span class="line">    <span class="comment"># é™„åŠ æ¢¯åº¦</span></span><br><span class="line">    params = [W_xi, W_hi, b_i, W_xf, W_hf, b_f, W_xo, W_ho, b_o, W_xc, W_hc,</span><br><span class="line">              b_c, W_hq, b_q]</span><br><span class="line">    <span class="keyword">for</span> param <span class="keyword">in</span> params:</span><br><span class="line">        param.requires_grad_(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> params</span><br></pre></td></tr></table></figure>
<h4 id="3-2å®šä¹‰æ¨¡å‹"><a href="#3-2å®šä¹‰æ¨¡å‹" class="headerlink" title="3.2å®šä¹‰æ¨¡å‹"></a>3.2å®šä¹‰æ¨¡å‹</h4><p>åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œ é•¿çŸ­æœŸè®°å¿†ç½‘ç»œçš„éšçŠ¶æ€éœ€è¦è¿”å›ä¸€ä¸ª<em>é¢å¤–</em>çš„è®°å¿†å…ƒï¼Œ å•å…ƒçš„å€¼ä¸º0ï¼Œå½¢çŠ¶ä¸ºï¼ˆæ‰¹é‡å¤§å°ï¼Œéšè—å•å…ƒæ•°ï¼‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹çš„çŠ¶æ€åˆå§‹åŒ–ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">init_lstm_state</span>(<span class="params">batch_size, num_hiddens, device</span>):</span><br><span class="line">    <span class="keyword">return</span> (torch.zeros((batch_size, num_hiddens), device=device),</span><br><span class="line">            torch.zeros((batch_size, num_hiddens), device=device))</span><br></pre></td></tr></table></figure>
<p>å®é™…æ¨¡å‹çš„å®šä¹‰ä¸æˆ‘ä»¬å‰é¢è®¨è®ºçš„ä¸€æ ·ï¼š æä¾›ä¸‰ä¸ªé—¨å’Œä¸€ä¸ªé¢å¤–çš„è®°å¿†å…ƒã€‚ è¯·æ³¨æ„ï¼Œåªæœ‰éšçŠ¶æ€æ‰ä¼šä¼ é€’åˆ°è¾“å‡ºå±‚ï¼Œ è€Œè®°å¿†å…ƒ(\mathbf{C}_t)ä¸ç›´æ¥å‚ä¸è¾“å‡ºè®¡ç®—ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">lstm</span>(<span class="params">inputs, state, params</span>):</span><br><span class="line">    [W_xi, W_hi, b_i, W_xf, W_hf, b_f, W_xo, W_ho, b_o, W_xc, W_hc, b_c,</span><br><span class="line">     W_hq, b_q] = params</span><br><span class="line">    (H, C) = state</span><br><span class="line">    outputs = []</span><br><span class="line">    <span class="keyword">for</span> X <span class="keyword">in</span> inputs:</span><br><span class="line">        I = torch.sigmoid((X @ W_xi) + (H @ W_hi) + b_i)</span><br><span class="line">        F = torch.sigmoid((X @ W_xf) + (H @ W_hf) + b_f)</span><br><span class="line">        O = torch.sigmoid((X @ W_xo) + (H @ W_ho) + b_o)</span><br><span class="line">        C_tilda = torch.tanh((X @ W_xc) + (H @ W_hc) + b_c)</span><br><span class="line">        C = F * C + I * C_tilda</span><br><span class="line">        H = O * torch.tanh(C)</span><br><span class="line">        Y = (H @ W_hq) + b_q</span><br><span class="line">        outputs.append(Y)</span><br><span class="line">    <span class="keyword">return</span> torch.cat(outputs, dim=<span class="number">0</span>), (H, C)</span><br></pre></td></tr></table></figure>
<h4 id="3-3è®­ç»ƒå’Œé¢„æµ‹"><a href="#3-3è®­ç»ƒå’Œé¢„æµ‹" class="headerlink" title="3.3è®­ç»ƒå’Œé¢„æµ‹"></a>3.3è®­ç»ƒå’Œé¢„æµ‹</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vocab_size, num_hiddens, device = <span class="built_in">len</span>(vocab), <span class="number">256</span>, d2l.try_gpu()</span><br><span class="line">num_epochs, lr = <span class="number">500</span>, <span class="number">1</span></span><br><span class="line">model = d2l.RNNModelScratch(<span class="built_in">len</span>(vocab), num_hiddens, device, get_lstm_params,</span><br><span class="line">                            init_lstm_state, lstm)</span><br><span class="line">d2l.train_ch8(model, train_iter, vocab, lr, num_epochs, device)</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-57/57-5.png" class>
<h3 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h3><h5 id="Q1ï¼šè¯·é—®LSTMå¦‚æœä¸è¦C-æŠŠå…¬å¼é‡Œçš„æ¢æˆï¼Œå¥½åƒå¯ä»¥å®ç°éšè—çŠ¶æ€å¾€ä¸‹ä¼ é€’ï¼Ÿ"><a href="#Q1ï¼šè¯·é—®LSTMå¦‚æœä¸è¦C-æŠŠå…¬å¼é‡Œçš„æ¢æˆï¼Œå¥½åƒå¯ä»¥å®ç°éšè—çŠ¶æ€å¾€ä¸‹ä¼ é€’ï¼Ÿ" class="headerlink" title="Q1ï¼šè¯·é—®LSTMå¦‚æœä¸è¦C,æŠŠå…¬å¼é‡Œçš„æ¢æˆï¼Œå¥½åƒå¯ä»¥å®ç°éšè—çŠ¶æ€å¾€ä¸‹ä¼ é€’ï¼Ÿ"></a>Q1ï¼šè¯·é—®LSTMå¦‚æœä¸è¦C,æŠŠå…¬å¼é‡Œçš„<img src="https://latex.codecogs.com/svg.image?&space;C_{t-1}" title=" C_{t-1}">æ¢æˆ<img src="https://latex.codecogs.com/svg.image?&space;H_{t-1}" title=" H_{t-1}">ï¼Œå¥½åƒå¯ä»¥å®ç°éšè—çŠ¶æ€å¾€ä¸‹ä¼ é€’ï¼Ÿ</h5><blockquote>
<p><img src="https://latex.codecogs.com/svg.image?&space;C_{t-1}" title=" C_{t-1}">çš„å¯ä»¥çº¦æŸ<img src="https://latex.codecogs.com/svg.image?&space;H_{t-1}" title=" H_{t-1}">çš„å¤§å°åœ¨0-1ä¹‹é—´ï¼Œé¿å…æ¢¯åº¦çˆ†ç‚¸ï¼Œè€Œä¸”ä½¿ç®—å¼æ›´åŠ è‡ªç„¶ï¼Œcæ¢æˆhå¤æ‚åº¦é™ä½ã€‚</p>
</blockquote>
<h5 id="Q2ï¼šI-F-O-C-tildaçš„åˆå§‹åŒ–ä¸ºé›¶ï¼Ÿ"><a href="#Q2ï¼šI-F-O-C-tildaçš„åˆå§‹åŒ–ä¸ºé›¶ï¼Ÿ" class="headerlink" title="Q2ï¼šI,F,O,C_tildaçš„åˆå§‹åŒ–ä¸ºé›¶ï¼Ÿ"></a>Q2ï¼šI,F,O,C_tildaçš„åˆå§‹åŒ–ä¸ºé›¶ï¼Ÿ</h5><blockquote>
<p>è¿™äº›æ˜¯è®¡ç®—çš„ä¸­é—´å˜é‡ï¼Œä¸éœ€è¦åˆå§‹åŒ–</p>
</blockquote>
<h5 id="Q3ï¼šå¦‚ä½•è®¡ç®—æ¨¡å‹å ç”¨æ˜¾å­˜ï¼Œbatchå ç”¨çš„æ˜¾å­˜ï¼Ÿ"><a href="#Q3ï¼šå¦‚ä½•è®¡ç®—æ¨¡å‹å ç”¨æ˜¾å­˜ï¼Œbatchå ç”¨çš„æ˜¾å­˜ï¼Ÿ" class="headerlink" title="Q3ï¼šå¦‚ä½•è®¡ç®—æ¨¡å‹å ç”¨æ˜¾å­˜ï¼Œbatchå ç”¨çš„æ˜¾å­˜ï¼Ÿ"></a>Q3ï¼šå¦‚ä½•è®¡ç®—æ¨¡å‹å ç”¨æ˜¾å­˜ï¼Œbatchå ç”¨çš„æ˜¾å­˜ï¼Ÿ</h5><blockquote>
<p>å–å†³äºæ¡†æ¶å’Œåº“ï¼Œæ²¡æ³•å…·ä½“ç®—</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>56-é—¨æ§å¾ªç¯å•å…ƒ(GRU)</title>
    <url>/2024/04/23/11-01-56/</url>
    <content><![CDATA[<h2 id="56-é—¨æ§å¾ªç¯å•å…ƒ-GRU"><a href="#56-é—¨æ§å¾ªç¯å•å…ƒ-GRU" class="headerlink" title="56-é—¨æ§å¾ªç¯å•å…ƒ(GRU)"></a>56-é—¨æ§å¾ªç¯å•å…ƒ(GRU)</h2><h3 id="1-åŠ¨æœºï¼šå¦‚ä½•å…³æ³¨ä¸€ä¸ªåºåˆ—"><a href="#1-åŠ¨æœºï¼šå¦‚ä½•å…³æ³¨ä¸€ä¸ªåºåˆ—" class="headerlink" title="1. åŠ¨æœºï¼šå¦‚ä½•å…³æ³¨ä¸€ä¸ªåºåˆ—"></a>1. åŠ¨æœºï¼šå¦‚ä½•å…³æ³¨ä¸€ä¸ªåºåˆ—</h3><ul>
<li>ä¸æ˜¯æ¯ä¸ªè§‚å¯Ÿå€¼éƒ½æ˜¯åŒç­‰é‡è¦</li>
</ul>
<img src="/2024/04/23/11-01-56/56-01.png" class>
<p>æ¯”å¦‚ä¸Šå›¾ä¸­çš„åºåˆ—ï¼Œè‹¥å¹²ä¸ªçŒ«ä¸­å‡ºç°äº†ä¸€ä¸ªé¼ ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é‡ç‚¹å…³æ³¨è¿™ä¸ªé¼ ï¼Œè€Œä¸­é—´é‡å¤å‡ºç°çš„çŒ«åˆ™å‡å°‘å…³æ³¨ã€‚æ–‡æœ¬åºåˆ—åŒç†ï¼Œé€šå¸¸é•¿æ–‡æœ¬æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯å‡ ä¸ªå…³é”®è¯ï¼Œå…³é”®å¥ã€‚</p>
<ul>
<li>æƒ³åªè®°ä½ç›¸å…³çš„è§‚å¯Ÿéœ€è¦ï¼š<ul>
<li>èƒ½<strong>å…³æ³¨</strong>çš„æœºåˆ¶ï¼ˆ<strong>æ›´æ–°é—¨</strong>ï¼‰ï¼šé¡¾åæ€ä¹‰ï¼Œæ˜¯å¦éœ€è¦æ ¹æ®æˆ‘çš„è¾“å…¥ï¼Œæ›´æ–°éšè—çŠ¶æ€</li>
<li>èƒ½<strong>é—å¿˜</strong>çš„æœºåˆ¶ï¼ˆ<strong>é‡ç½®é—¨</strong>ï¼‰ï¼šæ›´æ–°å€™é€‰é¡¹æ—¶ï¼Œæ˜¯å¦è¦è€ƒè™‘å‰ä¸€éšè—çŠ¶æ€ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-é—¨çš„æ¦‚å¿µ"><a href="#2-é—¨çš„æ¦‚å¿µ" class="headerlink" title="2. é—¨çš„æ¦‚å¿µ"></a>2. é—¨çš„æ¦‚å¿µ</h3><ul>
<li><p>æ›´æ–°é—¨Ztï¼Œé‡ç½®é—¨Rtçš„å…¬å¼å¤§ä½“ç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯å­¦ä¹ åˆ°çš„å‚æ•°ã€‚</p>
</li>
<li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¡ç®—é—¨çš„æ–¹å¼å’ŒåŸæ¥RNNçš„å®ç°ä¸­è®¡ç®—æ–°çš„éšçŠ¶æ€ç›¸ä¼¼ï¼Œåªæ˜¯æ¿€æ´»å‡½æ•°æ”¹æˆäº†sigmoidã€‚</p>
</li>
<li>é—¨æœ¬æ¥æ˜¯ç”µè·¯ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œ0,1ä»£è¡¨ä¸åŒçš„ç”µå¹³ï¼Œå¯ä»¥ç”¨äºæ§åˆ¶ç”µè·¯çš„é€šæ–­ã€‚æ­¤å¤„sigmoidå°†é—¨çš„æ•°å€¼å½’ä¸€åŒ–åˆ°0åˆ°1ä¹‹é—´ï¼Œæ˜¯ä¸€ç§â€è½¯æ›´æ–°â€æ–¹å¼ã€‚è€Œä»åé¢çš„å…¬å¼ä¸Šå¯ä»¥çœ‹å‡ºï¼Œæœ¬è®²è¯¾ç¨‹é‡‡ç”¨çš„æ˜¯ä½ç”µå¹³æœ‰æ•ˆï¼ˆè¶Šé è¿‘0ï¼Œé—¨çš„ä½œç”¨è¶Šæ˜æ˜¾ï¼‰çš„æ–¹å¼æ§åˆ¶ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-56/56-02.png" class>
<h3 id="3-å€™é€‰éšçŠ¶æ€"><a href="#3-å€™é€‰éšçŠ¶æ€" class="headerlink" title="3. å€™é€‰éšçŠ¶æ€"></a>3. å€™é€‰éšçŠ¶æ€</h3><img src="/2024/04/23/11-01-56/56-03.png" class>
<ul>
<li><p>å€™é€‰éšçŠ¶æ€ï¼Œå¦‚æœæŠ›å¼€å…¬å¼ä¸­çš„$R_{t}$é—å¿˜é—¨æ¥è¯´ï¼Œè¿™ä¸ªå’Œä¹‹å‰RNNä¸­è®¡ç®—å½“å‰æ­¥çš„éšçŠ¶æ€æ²¡æœ‰å·®åˆ«ã€‚</p>
</li>
<li><p>ä½†æ˜¯è¿™é‡Œå¼•å…¥äº†é—å¿˜é—¨ï¼Œå¦‚æœ$R_{t}$æ— é™æ¥è¿‘äº0ï¼Œé‚£ä¹ˆæ­¤æ—¶å€™é€‰éšçŠ¶æ€å°†ä¸å†è€ƒè™‘å‰ä¸€éšçŠ¶æ€çš„å½±å“ï¼Œä¹Ÿå°±æ˜¯å’ŒMLPæ²¡æœ‰åŒºåˆ«ï¼Œèµ·åˆ°â€œé—å¿˜â€çš„ä½œç”¨ï¼›</p>
</li>
<li>åä¹‹ï¼Œå¦‚æœ$R_{t}$æ— é™æ¥è¿‘äº1ï¼Œé‚£ä¹ˆä¸RNNè®¡ç®—éšçŠ¶æ€çš„è¿‡ç¨‹æ²¡æœ‰å·®åˆ«ï¼Œä¸è¿›è¡Œé—å¿˜ã€‚</li>
<li>å…¬å¼ä¸­çš„âŠ™è¡¨ç¤ºé€å…ƒç´ ä¹˜ç§¯ã€‚</li>
</ul>
<blockquote>
<p>ä¸ºä»€ä¹ˆå«å€™é€‰éšçŠ¶æ€ï¼Ÿ</p>
<p>åœ¨RNNä¸­ï¼Œè¿™ä¸ªæ‰€è°“çš„å€™é€‰éšçŠ¶æ€å°±æ˜¯å½“å‰æ­¥çš„éšçŠ¶æ€ï¼ˆ$R_{t}$æ— é™æ¥è¿‘1æ—¶ï¼‰ã€‚ä½†æ˜¯ç”±äºå¼•å…¥äº†æ›´æ–°é—¨ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘æ˜¯ç›´æ¥æ²¿ç”¨ä¸Šä¸€æ­¥çš„éšè—çŠ¶æ€ï¼Œè¿˜æ˜¯åƒRNNä¸€æ ·ä½¿ç”¨å½“å‰æ­¥è®¡ç®—çš„éšçŠ¶æ€ã€‚æ‰€ä»¥è¿™ä¸ªç»“åˆäº†å½“å‰è¾“å…¥è®¡ç®—çš„éšçŠ¶æ€ï¼Œä¸èƒ½ç«‹é©¬å˜æˆå½“å‰çš„$H_{t}$ï¼Œè€Œæ˜¯éœ€è¦ç”¨æ›´æ–°é—¨å’Œå‰ä¸€éšçŠ¶æ€$H_{t-1}$åšä¸€ä¸ªåŠ æƒï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå€™é€‰é¡¹ã€‚</p>
</blockquote>
<h3 id="4-éšçŠ¶æ€"><a href="#4-éšçŠ¶æ€" class="headerlink" title="4. éšçŠ¶æ€"></a>4. éšçŠ¶æ€</h3><img src="/2024/04/23/11-01-56/56-04.png" class>
<p>ç”¨æ›´æ–°é—¨å¯¹<strong>å€™é€‰éšçŠ¶æ€</strong>å’Œ<strong>å‰ä¸€éšçŠ¶æ€</strong>åšåŠ æƒï¼Œå¾—åˆ°å½“å‰æ­¥<strong>éšçŠ¶æ€</strong>çš„å€¼ã€‚</p>
<p>å¦‚æœ$Z_{t}$æ— é™æ¥è¿‘äº0ï¼Œæ›´æ–°èµ·ä½œç”¨ï¼Œå€™é€‰éšçŠ¶æ€â€œè½¬æ­£â€ï¼Œå˜ä¸ºå½“å‰éšçŠ¶æ€ã€‚</p>
<p>å¦‚æœ$Z_{t}$æ— é™æ¥è¿‘äº1ï¼Œæ›´æ–°ä¸èµ·ä½œç”¨ï¼Œå½“å‰éšçŠ¶æ€è¿˜æ˜¯æ²¿ç”¨å‰ä¸€éšçŠ¶æ€ã€‚</p>
<h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h3><img src="/2024/04/23/11-01-56/56-05.png" class>
<p>ä¸Šå›¾å››è¡Œå…¬å¼æ¦‚æ‹¬äº†GRUæ¨¡å‹ã€‚åœ¨RNNçš„åŸºç¡€ä¸Šï¼Œæœ€é‡è¦çš„æ˜¯å¼•å…¥äº†<strong>æ›´æ–°é—¨å’Œé‡ç½®é—¨</strong>ï¼Œæ¥å†³å®šå‰ä¸€éšçŠ¶æ€å¯¹å½“å‰éšçŠ¶æ€çš„å½±å“ã€‚ä»¥æœ€å¼€å§‹çš„çŒ«é¼ åºåˆ—çš„ä¾‹å­æ¥è¯´ï¼Œå¦‚æœæˆ‘çš„æ¨¡å‹ä¸€ç›´çœ‹åˆ°çŒ«ï¼Œæ¨¡å‹å¯ä»¥å­¦ä¹ åˆ°éšçŠ¶æ€ä¸æ€ä¹ˆå»æ›´æ–°ï¼Œäºæ˜¯éšçŠ¶æ€ä¸€ç›´ä¿ç•™äº†çŒ«çš„ä¿¡æ¯ï¼Œè€Œçœ‹åˆ°è€é¼ ï¼ŒéšçŠ¶æ€æ‰è¿›è¡Œæ›´æ–°ã€‚</p>
<ul>
<li>å¯¹äºä¸€ä¸ªæ›´å…·ä½“çš„ä¾‹å­è€Œè¨€(è¯­è¨€æ¨¡å‹)ï¼š</li>
</ul>
<p>â€œThe cat, which already ate â€¦â€¦, __(is/ was) full.â€ï¼Œå‡è®¾æˆ‘çš„å¥å­å¾ˆé•¿ï¼Œé¢„æµ‹å®Œå‰é¢çš„è¯åéœ€è¦é¢„æµ‹ä¸‹ä¸€ä¸ªè¯isè¿˜æ˜¯wasï¼Œå¦‚æœå¼•å…¥è¿™ç§æ›´æ–°/é‡ç½®çš„æœºåˆ¶ï¼Œé‚£æˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥åœ¨wasè¿™ä¸ªè¯ä¹‹å‰å°½å¯èƒ½å»ä¿æŒéšçŠ¶æ€çš„ä¿¡æ¯ï¼Œä»è€Œå³ä½¿é˜…è¯»äº†ä¸€ä¸ªå¾ˆé•¿çš„å®šè¯­ä»å¥ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯ä¿ç•™äº†catè¿™ä¸ªè¯çš„å•æ•°ä¿¡æ¯ï¼Œä»è€Œæ¨¡å‹é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ä¸ºâ€™wasâ€™ã€‚</p>
<ul>
<li>ä¸€ä¸ªä¸RNNçš„è”åŠ¨åœ¨äºï¼š</li>
</ul>
<p>å¦‚æœæ›´æ–°é—¨å®Œå…¨å‘æŒ¥ä½œç”¨ï¼ˆæ— é™æ¥è¿‘äº0ï¼‰ï¼Œé‡ç½®é—¨ä¸èµ·ä½œç”¨ï¼ˆæ— é™æ¥è¿‘äº1ï¼‰ï¼Œæ­¤æ—¶GRUæ¨¡å‹é€€åŒ–ä¸ºRNNæ¨¡å‹ã€‚</p>
<h3 id="6-QA"><a href="#6-QA" class="headerlink" title="6. QA"></a>6. QA</h3><p>é—®é¢˜ï¼šGRUä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªé—¨ï¼Ÿ</p>
<blockquote>
<p>é‡ç½®é—¨å’Œæ›´æ–°é—¨å„å¸å…¶èŒã€‚é‡ç½®é—¨å•æ–¹é¢æ§åˆ¶è‡ªæŸä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œä¹‹å‰çš„è®°å¿†ï¼ˆéšçŠ¶æ€ï¼‰ä¸åœ¨ä¹äº†ï¼Œç›´æ¥æ¸…ç©ºå½±å“ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦æ›´æ–°é—¨å¸®åŠ©å®ƒå®ç°è®°å¿†çš„æ›´æ–°ã€‚æ›´æ–°é—¨æ›´å¤šæ˜¯ç”¨äºå¤„ç†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œå¯ä»¥é€‰æ‹©ä¸€å®šç¨‹åº¦åœ°ä¿ç•™è®°å¿†ï¼Œé˜²æ­¢æ¢¯åº¦æ¶ˆå¤±ã€‚</p>
<p>é‡ç½®é—¨å½±å“çš„æ˜¯å½“å‰æ­¥æ–°çš„å€™é€‰éšçŠ¶æ€çš„è®¡ç®—ï¼Œæ›´æ–°é—¨å½±å“çš„æ˜¯å½“å‰æ­¥éšçŠ¶æ€çš„æ›´æ–°ç¨‹åº¦ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>54-å¾ªç¯ç¥ç»ç½‘ç»œRNN</title>
    <url>/2024/04/23/11-01-54/</url>
    <content><![CDATA[<h3 id="ä½¿ç”¨æ½œå˜é‡"><a href="#ä½¿ç”¨æ½œå˜é‡" class="headerlink" title="ä½¿ç”¨æ½œå˜é‡"></a>ä½¿ç”¨æ½œå˜é‡</h3><ul>
<li>RNNä½¿ç”¨äº†éšè—å±‚æ¥è®°å½•è¿‡å»å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶çš„ä¿¡æ¯ï¼Œä»è€Œå¼•å…¥æ—¶è®¸çš„ç‰¹æ€§ï¼Œå¹¶ä¸”é¿å…å¸¸è§„åºåˆ—æ¨¡å‹æ¯æ¬¡éƒ½è¦é‡æ–°è®¡ç®—å‰é¢æ‰€æœ‰å·²å‘ç”Ÿçš„äº‹ä»¶è€Œå¸¦æ¥çš„å·¨å¤§è®¡ç®—é‡ã€‚<img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/54/54-01.png" alt="æˆªå±2022-02-12 ä¸‹åˆ2.17.32"></li>
</ul>
<h3 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h3><ul>
<li>æµç¨‹å¦‚ä¸‹ï¼Œé¦–å…ˆæœ‰ä¸€ä¸ªè¾“å…¥åºåˆ—ï¼Œå¯¹äºæ—¶åˆ»tï¼Œæˆ‘ä»¬ç”¨t-1æ—¶åˆ»çš„è¾“å…¥x~t-1~å’Œæ½œå˜é‡h~t-1~æ¥è®¡ç®—æ–°çš„æ½œå˜é‡h~t~ã€‚åŒæ—¶ï¼Œå¯¹äºtæ—¶åˆ»çš„è¾“å‡ºo~t~ï¼Œåˆ™ç›´æ¥ä½¿ç”¨h~t~æ¥è®¡ç®—å¾—åˆ°ã€‚æ³¨æ„ï¼Œè®¡ç®—ç¬¬ä¸€ä¸ªæ½œå˜é‡åªéœ€è¦è¾“å…¥å³å¯ï¼ˆå› ä¸ºå‰é¢å¹¶ä¸å­˜åœ¨ä»¥å¾€çš„æ½œå˜é‡ï¼‰ã€‚<img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/54/54-02.png" alt="æˆªå±2022-02-12 ä¸‹åˆ2.34.14"> </li>
<li>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒRNNæœ¬è´¨ä¹Ÿæ˜¯ä¸€ç§MLPï¼Œå°¤å…¶æ˜¯å°†h~t-1~è¿™ä¸€é¡¹å»æ‰æ—¶å°±å®Œå…¨é€€åŒ–æˆäº†MLPã€‚RNNçš„æ ¸å¿ƒå…¶å®ä¹Ÿå°±æ˜¯h~t-1~è¿™ä¸€é¡¹ï¼Œå®ƒä½¿å¾—æ¨¡å‹å¯ä»¥å’Œå‰é¢çš„ä¿¡æ¯è”ç³»èµ·æ¥ï¼Œå°†æ—¶åºä¿¡æ¯å‚¨å­˜èµ·æ¥ï¼Œå¯ä»¥æŠŠRNNç†è§£ä¸ºæ˜¯åŒ…å«æ—¶åºä¿¡æ¯çš„MLPã€‚</li>
</ul>
<h3 id="å›°æƒ‘åº¦"><a href="#å›°æƒ‘åº¦" class="headerlink" title="å›°æƒ‘åº¦"></a>å›°æƒ‘åº¦</h3><ul>
<li>ä¸ºäº†è¡¡é‡ä¸€ä¸ªè¯­è¨€æ¨¡å‹çš„å¥½åï¼Œä¾‹å¦‚åˆ†ç±»æ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨å¹³å‡äº¤å‰ç†µæ¥è¡¡é‡ï¼Œå°±æ˜¯å°†é¢„æµ‹æ¦‚ç‡çš„è´Ÿå¯¹æ•°å€¼æ±‚å’Œä¹‹åå†å»å¹³å‡ï¼Œå³å¸¸ç”¨çš„äº¤å‰ç†µæŸå¤±ã€‚ä½†æ˜¯ç”±äºæŸäº›å†å²åŸå› ï¼ŒNLPå¾€å¾€ä¸æ˜¯ç”¨è¿™ç§æ–¹å¼ï¼Œè€Œæ˜¯åœ¨è¿™ç§æ–¹å¼çš„åŸºç¡€ä¸Šæœ€åå†å–æŒ‡æ•°ï¼Œå³expï¼Œè¿™æ ·å¾—åˆ°çš„ç»“æœå¦‚æœæ˜¯1ï¼Œè¯´æ˜å®Œç¾ï¼›å¦‚æœæ˜¯æ— ç©·å¤§ï¼Œè¯´æ˜ç»“æœå¾ˆå·®ã€‚</li>
</ul>
<h3 id="æ¢¯åº¦è£å‰ª"><a href="#æ¢¯åº¦è£å‰ª" class="headerlink" title="æ¢¯åº¦è£å‰ª"></a>æ¢¯åº¦è£å‰ª</h3><ul>
<li>åœ¨Tä¸ªæ—¶é—´æ­¥ä¸­è¿›è¡Œåå‘ä¼ æ’­ï¼Œä¼šç”±äºäº§ç”ŸO(T)é•¿åº¦çš„æ¢¯åº¦ä¹˜æ³•é“¾ï¼Œå¯¼è‡´å¯¼æ•°æ•°å€¼ä¸ç¨³å®šï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªé™åˆ¶Î¸ï¼Œé€šå¸¸ä¸º5åˆ°10ï¼Œæ¥æ§åˆ¶æ¢¯åº¦ä¹˜æ³•é“¾çš„é•¿åº¦ã€‚ä½¿ç”¨å¦‚ä¸‹çš„å…¬å¼<img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/54/54-03.png" alt="æˆªå±2022-02-12 ä¸‹åˆ3.10.38">åœ¨è¿™ä¸ªå…¬å¼ä¸­ï¼Œå¦‚æœæ¢¯åº¦é•¿åº¦å¤§äºÎ¸ï¼Œæ¢¯åº¦gä¼šå˜ä¸º<script type="math/tex; mode=display">
\frac{\theta}{\Vert g \Vert} g</script>è¿™æ ·å†å¯¹gæ±‚2èŒƒå¼å°±å˜æˆäº†Î¸ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæ¢¯åº¦é™åˆ¶åœ¨Î¸ä»¥ä¸‹ã€‚</li>
</ul>
<h3 id="æ›´å¤šçš„åº”ç”¨RNNs"><a href="#æ›´å¤šçš„åº”ç”¨RNNs" class="headerlink" title="æ›´å¤šçš„åº”ç”¨RNNs"></a>æ›´å¤šçš„åº”ç”¨RNNs</h3><ul>
<li>åŸºæœ¬çš„åº”ç”¨å¦‚ä¸‹å›¾<img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/54/54-04.png" alt="æˆªå±2022-02-12 ä¸‹åˆ3.36.29"></li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>53-è¯­è¨€æ¨¡å‹</title>
    <url>/2024/04/23/11-01-53/</url>
    <content><![CDATA[<h3 id="53-è¯­è¨€æ¨¡å‹"><a href="#53-è¯­è¨€æ¨¡å‹" class="headerlink" title="53 è¯­è¨€æ¨¡å‹"></a>53 è¯­è¨€æ¨¡å‹</h3><ul>
<li><p>è¯­è¨€æ¨¡å‹çš„ç›®æ ‡ï¼š</p>
<p>å‡è®¾é•¿åº¦ä¸º<em>T</em>çš„æ–‡æœ¬åºåˆ—ä¸­çš„è¯å…ƒä¾æ¬¡ä¸º<em>x</em>~1~,<em>x</em>~2~,â€¦,<em>x~T~</em>ã€‚ äºæ˜¯ï¼Œ<em>x~t~</em>ï¼ˆ1â‰¤<em>t</em>â‰¤<em>T</em>ï¼‰ å¯ä»¥è¢«è®¤ä¸ºæ˜¯æ–‡æœ¬åºåˆ—åœ¨æ—¶é—´æ­¥<em>t</em>å¤„çš„è§‚æµ‹æˆ–æ ‡ç­¾ã€‚ åœ¨ç»™å®šè¿™æ ·çš„æ–‡æœ¬åºåˆ—æ—¶ç›®æ ‡æ˜¯ä¼°è®¡åºåˆ—çš„è”åˆæ¦‚ç‡<em>P</em>(<em>x</em>~1~,<em>x~2~</em>,â€¦,<em>x~T~</em>)</p>
</li>
</ul>
<h4 id="å­¦ä¹ è¯­è¨€æ¨¡å‹"><a href="#å­¦ä¹ è¯­è¨€æ¨¡å‹" class="headerlink" title="å­¦ä¹ è¯­è¨€æ¨¡å‹"></a>å­¦ä¹ è¯­è¨€æ¨¡å‹</h4><ul>
<li><p>åŸºæœ¬æƒ³æ³•ï¼š</p>
<p><em>P</em>(<em>x</em>~1~,<em>x~2~</em>,â€¦,<em>x~T~</em>) = <em>P</em>(<em>x~t~</em>âˆ£<em>x</em>~1~,â€¦,<em>x~tâˆ’1~</em>). (1 &lt;= t &lt;= T) å…±Tä¸ªç»“æœç›¸ä¹˜</p>
<p>ä¾‹å¦‚ï¼ŒåŒ…å«äº†å››ä¸ªå•è¯çš„ä¸€ä¸ªæ–‡æœ¬åºåˆ—çš„æ¦‚ç‡æ˜¯ï¼š</p>
<p><em>P</em>(deep,learning,is,fun)=<em>P</em>(deep)<em>P</em>(learningâˆ£deep)<em>P</em>(isâˆ£deep,learning)<em>P</em>(funâˆ£deep,learning,is) </p>
<p>ä¸ºäº†è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å•è¯çš„æ¦‚ç‡ï¼Œ ä»¥åŠç»™å®šå‰é¢å‡ ä¸ªå•è¯åå‡ºç°æŸä¸ªå•è¯çš„æ¡ä»¶æ¦‚ç‡ã€‚ è¿™äº›æ¦‚ç‡æœ¬è´¨ä¸Šå°±æ˜¯è¯­è¨€æ¨¡å‹çš„å‚æ•°ã€‚è®­ç»ƒæ•°æ®é›†ä¸­è¯çš„æ¦‚ç‡å¯ä»¥æ ¹æ®ç»™å®šè¯çš„ç›¸å¯¹è¯é¢‘æ¥è®¡ç®—ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥å°†ä¼°è®¡å€¼<em>P</em>^(deep) è®¡ç®—ä¸ºä»»ä½•ä»¥å•è¯â€œdeepâ€å¼€å¤´çš„å¥å­çš„æ¦‚ç‡ã€‚ ä¸€ç§ï¼ˆç¨ç¨ä¸å¤ªç²¾ç¡®çš„ï¼‰æ–¹æ³•æ˜¯ç»Ÿè®¡å•è¯â€œdeepâ€åœ¨æ•°æ®é›†ä¸­çš„å‡ºç°æ¬¡æ•°ï¼Œ ç„¶åå°†å…¶é™¤ä»¥æ•´ä¸ªè¯­æ–™åº“ä¸­çš„å•è¯æ€»æ•°ã€‚ è¿™ç§æ–¹æ³•æ•ˆæœä¸é”™ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé¢‘ç¹å‡ºç°çš„å•è¯ã€‚</p>
</li>
<li><p>åŸºæœ¬æƒ³æ³•çš„é—®é¢˜ï¼š</p>
<p>ç”±äºè¿ç»­å•è¯å¯¹â€œdeep learningâ€çš„å‡ºç°é¢‘ç‡è¦ä½å¾—å¤šï¼Œ æ‰€ä»¥ä¼°è®¡è¿™ç±»å•è¯æ­£ç¡®çš„æ¦‚ç‡è¦å›°éš¾å¾—å¤šã€‚ ç‰¹åˆ«æ˜¯å¯¹äºä¸€äº›ä¸å¸¸è§çš„å•è¯ç»„åˆï¼Œè¦æƒ³æ‰¾åˆ°è¶³å¤Ÿçš„å‡ºç°æ¬¡æ•°æ¥è·å¾—å‡†ç¡®çš„ä¼°è®¡å¯èƒ½éƒ½ä¸å®¹æ˜“ã€‚ è€Œå¯¹äºä¸‰ä¸ªæˆ–è€…æ›´å¤šçš„å•è¯ç»„åˆï¼Œæƒ…å†µä¼šå˜å¾—æ›´ç³Ÿã€‚ è®¸å¤šåˆç†çš„ä¸‰ä¸ªå•è¯ç»„åˆå¯èƒ½æ˜¯å­˜åœ¨çš„ï¼Œä½†æ˜¯åœ¨æ•°æ®é›†ä¸­å´æ‰¾ä¸åˆ°ã€‚ é™¤éæˆ‘ä»¬æä¾›æŸç§è§£å†³æ–¹æ¡ˆï¼Œæ¥å°†è¿™äº›å•è¯ç»„åˆæŒ‡å®šä¸ºéé›¶è®¡æ•°ï¼Œ å¦åˆ™å°†æ— æ³•åœ¨è¯­è¨€æ¨¡å‹ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ å¦‚æœæ•°æ®é›†å¾ˆå°ï¼Œæˆ–è€…å•è¯éå¸¸ç½•è§ï¼Œé‚£ä¹ˆè¿™ç±»å•è¯å‡ºç°ä¸€æ¬¡çš„æœºä¼šå¯èƒ½éƒ½æ‰¾ä¸åˆ°ã€‚</p>
</li>
</ul>
<h4 id="é©¬å°”å¯å¤«æ¨¡å‹ä¸nå…ƒè¯­æ³•"><a href="#é©¬å°”å¯å¤«æ¨¡å‹ä¸nå…ƒè¯­æ³•" class="headerlink" title="é©¬å°”å¯å¤«æ¨¡å‹ä¸nå…ƒè¯­æ³•"></a>é©¬å°”å¯å¤«æ¨¡å‹ä¸nå…ƒè¯­æ³•</h4><ul>
<li>å¦‚æœ<em>P</em>(x~t+1~âˆ£<em>x~t~</em>,â€¦,<em>x</em>~1~)=<em>P</em>(x~t+1~âˆ£<em>x~t~</em>)ï¼Œ åˆ™åºåˆ—ä¸Šçš„åˆ†å¸ƒæ»¡è¶³ä¸€é˜¶é©¬å°”å¯å¤«æ€§è´¨ã€‚ é˜¶æ•°è¶Šé«˜ï¼Œå¯¹åº”çš„ä¾èµ–å…³ç³»å°±è¶Šé•¿ã€‚ è¿™ç§æ€§è´¨æ¨å¯¼å‡ºäº†è®¸å¤šå¯ä»¥åº”ç”¨äºåºåˆ—å»ºæ¨¡çš„è¿‘ä¼¼å…¬å¼ï¼š<ul>
<li>P(x~1~,x~2~,x~3~,x~4~) = P(x~1~)P(x~2~)P(x~3~)P(x~4~)</li>
<li>P(x~1~,x~2~,x~3~,x~4~) = P(x~1~)P(x~2~ |x~1~)P(x~3~|x~2~)P(x~4~|x~3~)</li>
<li>P(x~1~,x~2~,x~3~,x~4~) = P(x~1~)P(x~2~ |x~1~)P(x~3~|x~1~,x~2~)P(x~4~|x~2~,x~3~)</li>
</ul>
</li>
</ul>
<h4 id="è‡ªç„¶è¯­è¨€ç»Ÿè®¡"><a href="#è‡ªç„¶è¯­è¨€ç»Ÿè®¡" class="headerlink" title="è‡ªç„¶è¯­è¨€ç»Ÿè®¡"></a>è‡ªç„¶è¯­è¨€ç»Ÿè®¡</h4><ul>
<li>åœ¨çœŸå®æ•°æ®ä¸Šå¦‚æœè¿›è¡Œè‡ªç„¶è¯­è¨€ç»Ÿè®¡ï¼š</li>
</ul>
<p>æ ¹æ®å‰å‡ èŠ‚ä»‹ç»çš„æ—¶å…‰æœºå™¨æ•°æ®é›†æ„å»ºè¯è¡¨ï¼Œå¹¶æ‰“å°å‰10ä¸ªæœ€å¸¸ç”¨çš„å•è¯</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line">tokens = d2l.tokenize(d2l.read_time_machine())</span><br><span class="line"><span class="comment"># å› ä¸ºæ¯ä¸ªæ–‡æœ¬è¡Œä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¥å­æˆ–ä¸€ä¸ªæ®µè½ï¼Œå› æ­¤æˆ‘ä»¬æŠŠæ‰€æœ‰æ–‡æœ¬è¡Œæ‹¼æ¥åˆ°ä¸€èµ·</span></span><br><span class="line">corpus = [token <span class="keyword">for</span> line <span class="keyword">in</span> tokens <span class="keyword">for</span> token <span class="keyword">in</span> line]</span><br><span class="line">vocab = d2l.Vocab(corpus)</span><br><span class="line">vocab.token_freqs[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[(<span class="string">&#x27;the&#x27;</span>, <span class="number">2261</span>),</span><br><span class="line"> (<span class="string">&#x27;i&#x27;</span>, <span class="number">1267</span>),</span><br><span class="line"> (<span class="string">&#x27;and&#x27;</span>, <span class="number">1245</span>),</span><br><span class="line"> (<span class="string">&#x27;of&#x27;</span>, <span class="number">1155</span>),</span><br><span class="line"> (<span class="string">&#x27;a&#x27;</span>, <span class="number">816</span>),</span><br><span class="line"> (<span class="string">&#x27;to&#x27;</span>, <span class="number">695</span>),</span><br><span class="line"> (<span class="string">&#x27;was&#x27;</span>, <span class="number">552</span>),</span><br><span class="line"> (<span class="string">&#x27;in&#x27;</span>, <span class="number">541</span>),</span><br><span class="line"> (<span class="string">&#x27;that&#x27;</span>, <span class="number">443</span>),</span><br><span class="line"> (<span class="string">&#x27;my&#x27;</span>, <span class="number">440</span>)]</span><br></pre></td></tr></table></figure>
<ul>
<li>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œæœ€æµè¡Œçš„è¯çœ‹èµ·æ¥å¾ˆæ— èŠï¼Œ è¿™äº›è¯é€šå¸¸è¢«ç§°ä¸º<em>åœç”¨è¯</em>ï¼ˆstop wordsï¼‰ï¼Œå› æ­¤å¯ä»¥è¢«è¿‡æ»¤æ‰ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œå®ƒä»¬æœ¬èº«ä»ç„¶æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæˆ‘ä»¬ä»ç„¶ä¼šåœ¨æ¨¡å‹ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ æ­¤å¤–ï¼Œè¿˜æœ‰ä¸ªæ˜æ˜¾çš„é—®é¢˜æ˜¯è¯é¢‘è¡°å‡çš„é€Ÿåº¦ç›¸å½“åœ°å¿«ã€‚ ä¾‹å¦‚ï¼Œæœ€å¸¸ç”¨å•è¯çš„è¯é¢‘å¯¹æ¯”ï¼Œç¬¬10ä¸ªè¿˜ä¸åˆ°ç¬¬1ä¸ªçš„1/5ã€‚ ä¸ºäº†æ›´å¥½åœ°ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºçš„è¯é¢‘å›¾ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">freqs = [freq <span class="keyword">for</span> token, freq <span class="keyword">in</span> vocab.token_freqs]</span><br><span class="line">d2l.plot(freqs, xlabel=<span class="string">&#x27;token: x&#x27;</span>, ylabel=<span class="string">&#x27;frequency: n(x)&#x27;</span>,</span><br><span class="line">         xscale=<span class="string">&#x27;log&#x27;</span>, yscale=<span class="string">&#x27;log&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼šè¯é¢‘ä»¥ä¸€ç§æ˜ç¡®çš„æ–¹å¼è¿…é€Ÿè¡°å‡ã€‚ å°†å‰å‡ ä¸ªå•è¯ä½œä¸ºä¾‹å¤–æ¶ˆé™¤åï¼Œå‰©ä½™çš„æ‰€æœ‰å•è¯å¤§è‡´éµå¾ªåŒå¯¹æ•°åæ ‡å›¾ä¸Šçš„ä¸€æ¡ç›´çº¿ã€‚</p>
<ul>
<li>æˆ‘ä»¬æ¥çœ‹çœ‹äºŒå…ƒè¯­æ³•çš„é¢‘ç‡æ˜¯å¦ä¸ä¸€å…ƒè¯­æ³•çš„é¢‘ç‡è¡¨ç°å‡ºç›¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bigram_tokens = [pair <span class="keyword">for</span> pair <span class="keyword">in</span> <span class="built_in">zip</span>(corpus[:-<span class="number">1</span>], corpus[<span class="number">1</span>:])]</span><br><span class="line">bigram_vocab = d2l.Vocab(bigram_tokens)</span><br><span class="line">bigram_vocab.token_freqs[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[((<span class="string">&#x27;of&#x27;</span>, <span class="string">&#x27;the&#x27;</span>), <span class="number">309</span>),</span><br><span class="line"> ((<span class="string">&#x27;in&#x27;</span>, <span class="string">&#x27;the&#x27;</span>), <span class="number">169</span>),</span><br><span class="line"> ((<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;had&#x27;</span>), <span class="number">130</span>),</span><br><span class="line"> ((<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;was&#x27;</span>), <span class="number">112</span>),</span><br><span class="line"> ((<span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;the&#x27;</span>), <span class="number">109</span>),</span><br><span class="line"> ((<span class="string">&#x27;the&#x27;</span>, <span class="string">&#x27;time&#x27;</span>), <span class="number">102</span>),</span><br><span class="line"> ((<span class="string">&#x27;it&#x27;</span>, <span class="string">&#x27;was&#x27;</span>), <span class="number">99</span>),</span><br><span class="line"> ((<span class="string">&#x27;to&#x27;</span>, <span class="string">&#x27;the&#x27;</span>), <span class="number">85</span>),</span><br><span class="line"> ((<span class="string">&#x27;as&#x27;</span>, <span class="string">&#x27;i&#x27;</span>), <span class="number">78</span>),</span><br><span class="line"> ((<span class="string">&#x27;of&#x27;</span>, <span class="string">&#x27;a&#x27;</span>), <span class="number">73</span>)]</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå€¼å¾—æ³¨æ„ï¼šåœ¨åä¸ªæœ€é¢‘ç¹çš„è¯å¯¹ä¸­ï¼Œæœ‰ä¹ä¸ªæ˜¯ç”±ä¸¤ä¸ªåœç”¨è¯ç»„æˆçš„ï¼Œ åªæœ‰ä¸€ä¸ªä¸â€œthe timeâ€æœ‰å…³ã€‚ æˆ‘ä»¬å†è¿›ä¸€æ­¥çœ‹çœ‹ä¸‰å…ƒè¯­æ³•çš„é¢‘ç‡æ˜¯å¦è¡¨ç°å‡ºç›¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">trigram_tokens = [triple <span class="keyword">for</span> triple <span class="keyword">in</span> <span class="built_in">zip</span>(</span><br><span class="line">    corpus[:-<span class="number">2</span>], corpus[<span class="number">1</span>:-<span class="number">1</span>], corpus[<span class="number">2</span>:])]</span><br><span class="line">trigram_vocab = d2l.Vocab(trigram_tokens)</span><br><span class="line">trigram_vocab.token_freqs[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[((<span class="string">&#x27;the&#x27;</span>, <span class="string">&#x27;time&#x27;</span>, <span class="string">&#x27;traveller&#x27;</span>), <span class="number">59</span>),</span><br><span class="line"> ((<span class="string">&#x27;the&#x27;</span>, <span class="string">&#x27;time&#x27;</span>, <span class="string">&#x27;machine&#x27;</span>), <span class="number">30</span>),</span><br><span class="line"> ((<span class="string">&#x27;the&#x27;</span>, <span class="string">&#x27;medical&#x27;</span>, <span class="string">&#x27;man&#x27;</span>), <span class="number">24</span>),</span><br><span class="line"> ((<span class="string">&#x27;it&#x27;</span>, <span class="string">&#x27;seemed&#x27;</span>, <span class="string">&#x27;to&#x27;</span>), <span class="number">16</span>),</span><br><span class="line"> ((<span class="string">&#x27;it&#x27;</span>, <span class="string">&#x27;was&#x27;</span>, <span class="string">&#x27;a&#x27;</span>), <span class="number">15</span>),</span><br><span class="line"> ((<span class="string">&#x27;here&#x27;</span>, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;there&#x27;</span>), <span class="number">15</span>),</span><br><span class="line"> ((<span class="string">&#x27;seemed&#x27;</span>, <span class="string">&#x27;to&#x27;</span>, <span class="string">&#x27;me&#x27;</span>), <span class="number">14</span>),</span><br><span class="line"> ((<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;did&#x27;</span>, <span class="string">&#x27;not&#x27;</span>), <span class="number">14</span>),</span><br><span class="line"> ((<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;saw&#x27;</span>, <span class="string">&#x27;the&#x27;</span>), <span class="number">13</span>),</span><br><span class="line"> ((<span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;began&#x27;</span>, <span class="string">&#x27;to&#x27;</span>), <span class="number">13</span>)]</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åï¼Œæˆ‘ä»¬ç›´è§‚åœ°å¯¹æ¯”ä¸‰ç§æ¨¡å‹ä¸­çš„è¯å…ƒé¢‘ç‡ï¼šä¸€å…ƒè¯­æ³•ã€äºŒå…ƒè¯­æ³•å’Œä¸‰å…ƒè¯­æ³•ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bigram_freqs = [freq <span class="keyword">for</span> token, freq <span class="keyword">in</span> bigram_vocab.token_freqs]</span><br><span class="line">trigram_freqs = [freq <span class="keyword">for</span> token, freq <span class="keyword">in</span> trigram_vocab.token_freqs]</span><br><span class="line">d2l.plot([freqs, bigram_freqs, trigram_freqs], xlabel=<span class="string">&#x27;token: x&#x27;</span>,</span><br><span class="line">         ylabel=<span class="string">&#x27;frequency: n(x)&#x27;</span>, xscale=<span class="string">&#x27;log&#x27;</span>, yscale=<span class="string">&#x27;log&#x27;</span>,</span><br><span class="line">         legend=[<span class="string">&#x27;unigram&#x27;</span>, <span class="string">&#x27;bigram&#x27;</span>, <span class="string">&#x27;trigram&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p><img src="https://zh-v2.d2l.ai/_images/output_language-models-and-dataset_789d14_54_0.svg" alt="../_images/output_language-models-and-dataset_789d14_54_0.svg"></p>
<h4 id="è¯»å–é•¿åºåˆ—æ•°æ®"><a href="#è¯»å–é•¿åºåˆ—æ•°æ®" class="headerlink" title="è¯»å–é•¿åºåˆ—æ•°æ®"></a>è¯»å–é•¿åºåˆ—æ•°æ®</h4><ul>
<li><p>ç”±äºåºåˆ—æ•°æ®æœ¬è´¨ä¸Šæ˜¯è¿ç»­çš„ï¼Œå› æ­¤æˆ‘ä»¬åœ¨å¤„ç†æ•°æ®æ—¶éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨å‰å‡ èŠ‚ä¸­æˆ‘ä»¬ä»¥ä¸€ç§ç›¸å½“ç‰¹åˆ«çš„æ–¹å¼åšåˆ°äº†è¿™ä¸€ç‚¹ï¼š å½“åºåˆ—å˜å¾—å¤ªé•¿è€Œä¸èƒ½è¢«æ¨¡å‹ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†æ—¶ï¼Œ æˆ‘ä»¬å¯èƒ½å¸Œæœ›æ‹†åˆ†è¿™æ ·çš„åºåˆ—æ–¹ä¾¿æ¨¡å‹è¯»å–ã€‚</p>
</li>
<li><p>åœ¨ä»‹ç»è¯¥æ¨¡å‹ä¹‹å‰ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ€»ä½“ç­–ç•¥ã€‚ å‡è®¾æˆ‘ä»¬å°†ä½¿ç”¨ç¥ç»ç½‘ç»œæ¥è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œ æ¨¡å‹ä¸­çš„ç½‘ç»œä¸€æ¬¡å¤„ç†å…·æœ‰é¢„å®šä¹‰é•¿åº¦ ï¼ˆä¾‹å¦‚<em>n</em>ä¸ªæ—¶é—´æ­¥ï¼‰çš„ä¸€ä¸ªå°æ‰¹é‡åºåˆ—ã€‚ ç°åœ¨çš„é—®é¢˜æ˜¯å¦‚ä½•éšæœºç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡æ•°æ®çš„ç‰¹å¾å’Œæ ‡ç­¾ä»¥ä¾›è¯»å–ã€‚é¦–å…ˆï¼Œç”±äºæ–‡æœ¬åºåˆ—å¯ä»¥æ˜¯ä»»æ„é•¿çš„ï¼Œ ä¾‹å¦‚æ•´æœ¬ã€Šæ—¶å…‰æœºå™¨ã€‹ï¼ˆ<em>The Time Machine</em>ï¼‰ï¼Œ äºæ˜¯ä»»æ„é•¿çš„åºåˆ—å¯ä»¥è¢«æˆ‘ä»¬åˆ’åˆ†ä¸ºå…·æœ‰ç›¸åŒæ—¶é—´æ­¥æ•°çš„å­åºåˆ—ã€‚ å½“è®­ç»ƒæˆ‘ä»¬çš„ç¥ç»ç½‘ç»œæ—¶ï¼Œè¿™æ ·çš„å°æ‰¹é‡å­åºåˆ—å°†è¢«è¾“å…¥åˆ°æ¨¡å‹ä¸­ã€‚ å‡è®¾ç½‘ç»œä¸€æ¬¡åªå¤„ç†å…·æœ‰<em>n</em>ä¸ªæ—¶é—´æ­¥çš„å­åºåˆ—ã€‚ä¸‹ç”»å‡ºäº†ä»åŸå§‹æ–‡æœ¬åºåˆ—è·å¾—å­åºåˆ—çš„æ‰€æœ‰ä¸åŒçš„æ–¹å¼ï¼Œ å…¶ä¸­<em>n</em>=5ï¼Œå¹¶ä¸”æ¯ä¸ªæ—¶é—´æ­¥çš„è¯å…ƒå¯¹åº”äºä¸€ä¸ªå­—ç¬¦ã€‚ è¯·æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»»æ„åç§»é‡æ¥æŒ‡ç¤ºåˆå§‹ä½ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ç›¸å½“å¤§çš„è‡ªç”±åº¦ã€‚</p>
<p><img src="https://zh-v2.d2l.ai/_images/timemachine-5gram.svg" alt="../_images/timemachine-5gram.svg"></p>
</li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥ä»ä¸­é€‰æ‹©å“ªä¸€ä¸ªå‘¢ï¼Ÿ äº‹å®ä¸Šï¼Œä»–ä»¬éƒ½ä¸€æ ·çš„å¥½ã€‚ ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬åªé€‰æ‹©ä¸€ä¸ªåç§»é‡ï¼Œ é‚£ä¹ˆç”¨äºè®­ç»ƒç½‘ç»œçš„ã€æ‰€æœ‰å¯èƒ½çš„å­åºåˆ—çš„è¦†ç›–èŒƒå›´å°†æ˜¯æœ‰é™çš„ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»éšæœºåç§»é‡å¼€å§‹åˆ’åˆ†åºåˆ—ï¼Œ ä»¥åŒæ—¶è·å¾—<em>è¦†ç›–æ€§</em>ï¼ˆcoverageï¼‰å’Œ<em>éšæœºæ€§</em>ï¼ˆrandomnessï¼‰ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬å°†æè¿°å¦‚ä½•å®ç°<em>éšæœºé‡‡æ ·</em>ï¼ˆrandom samplingï¼‰å’Œ <em>é¡ºåºåˆ†åŒº</em>ï¼ˆsequential partitioningï¼‰ç­–ç•¥ã€‚</p>
<h4 id="éšæœºé‡‡æ ·"><a href="#éšæœºé‡‡æ ·" class="headerlink" title="éšæœºé‡‡æ ·"></a>éšæœºé‡‡æ ·</h4><ul>
<li>åœ¨éšæœºé‡‡æ ·ä¸­ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½æ˜¯åœ¨åŸå§‹çš„é•¿åºåˆ—ä¸Šä»»æ„æ•è·çš„å­åºåˆ—ã€‚ åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæ¥è‡ªä¸¤ä¸ªç›¸é‚»çš„ã€éšæœºçš„ã€å°æ‰¹é‡ä¸­çš„å­åºåˆ—ä¸ä¸€å®šåœ¨åŸå§‹åºåˆ—ä¸Šç›¸é‚»ã€‚ å¯¹äºè¯­è¨€å»ºæ¨¡ï¼Œç›®æ ‡æ˜¯åŸºäºåˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬çœ‹åˆ°çš„è¯å…ƒæ¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯å…ƒï¼Œ å› æ­¤æ ‡ç­¾æ˜¯ç§»ä½äº†ä¸€ä¸ªè¯å…ƒçš„åŸå§‹åºåˆ—ã€‚ä¸‹é¢çš„ä»£ç æ¯æ¬¡å¯ä»¥ä»æ•°æ®ä¸­éšæœºç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡ã€‚ åœ¨è¿™é‡Œï¼Œå‚æ•°<code>batch_size</code>æŒ‡å®šäº†æ¯ä¸ªå°æ‰¹é‡ä¸­å­åºåˆ—æ ·æœ¬çš„æ•°ç›®ï¼Œ å‚æ•°<code>num_steps</code>æ˜¯æ¯ä¸ªå­åºåˆ—ä¸­é¢„å®šä¹‰çš„æ—¶é—´æ­¥æ•°ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">seq_data_iter_random</span>(<span class="params">corpus, batch_size, num_steps</span>):  <span class="comment">#@save</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä½¿ç”¨éšæœºæŠ½æ ·ç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡å­åºåˆ—&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä»éšæœºåç§»é‡å¼€å§‹å¯¹åºåˆ—è¿›è¡Œåˆ†åŒºï¼ŒéšæœºèŒƒå›´åŒ…æ‹¬num_steps-1</span></span><br><span class="line">    corpus = corpus[random.randint(<span class="number">0</span>, num_steps - <span class="number">1</span>):]</span><br><span class="line">    <span class="comment"># å‡å»1ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦è€ƒè™‘æ ‡ç­¾</span></span><br><span class="line">    num_subseqs = (<span class="built_in">len</span>(corpus) - <span class="number">1</span>) // num_steps</span><br><span class="line">    <span class="comment"># é•¿åº¦ä¸ºnum_stepsçš„å­åºåˆ—çš„èµ·å§‹ç´¢å¼•</span></span><br><span class="line">    initial_indices = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">0</span>, num_subseqs * num_steps, num_steps))</span><br><span class="line">    <span class="comment"># åœ¨éšæœºæŠ½æ ·çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œ</span></span><br><span class="line">    <span class="comment"># æ¥è‡ªä¸¤ä¸ªç›¸é‚»çš„ã€éšæœºçš„ã€å°æ‰¹é‡ä¸­çš„å­åºåˆ—ä¸ä¸€å®šåœ¨åŸå§‹åºåˆ—ä¸Šç›¸é‚»</span></span><br><span class="line">    random.shuffle(initial_indices)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">data</span>(<span class="params">pos</span>):</span><br><span class="line">        <span class="comment"># è¿”å›ä»posä½ç½®å¼€å§‹çš„é•¿åº¦ä¸ºnum_stepsçš„åºåˆ—</span></span><br><span class="line">        <span class="keyword">return</span> corpus[pos: pos + num_steps]</span><br><span class="line"></span><br><span class="line">    num_batches = num_subseqs // batch_size</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, batch_size * num_batches, batch_size):</span><br><span class="line">        <span class="comment"># åœ¨è¿™é‡Œï¼Œinitial_indicesåŒ…å«å­åºåˆ—çš„éšæœºèµ·å§‹ç´¢å¼•</span></span><br><span class="line">        initial_indices_per_batch = initial_indices[i: i + batch_size]</span><br><span class="line">        X = [data(j) <span class="keyword">for</span> j <span class="keyword">in</span> initial_indices_per_batch]</span><br><span class="line">        Y = [data(j + <span class="number">1</span>) <span class="keyword">for</span> j <span class="keyword">in</span> initial_indices_per_batch]</span><br><span class="line">        <span class="keyword">yield</span> torch.tensor(X), torch.tensor(Y)</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸‹é¢æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªä»0åˆ°34çš„åºåˆ—ã€‚ å‡è®¾æ‰¹é‡å¤§å°ä¸º2ï¼Œæ—¶é—´æ­¥æ•°ä¸º5ï¼Œè¿™æ„å‘³ç€å¯ä»¥ç”Ÿæˆ âŒŠ(35âˆ’1)/5âŒ‹=6ä¸ªâ€œç‰¹å¾ï¼æ ‡ç­¾â€å­åºåˆ—å¯¹ã€‚ å¦‚æœè®¾ç½®å°æ‰¹é‡å¤§å°ä¸º2ï¼Œæˆ‘ä»¬åªèƒ½å¾—åˆ°3ä¸ªå°æ‰¹é‡ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_seq = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">35</span>))</span><br><span class="line"><span class="keyword">for</span> X, Y <span class="keyword">in</span> seq_data_iter_random(my_seq, batch_size=<span class="number">2</span>, num_steps=<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;X: &#x27;</span>, X, <span class="string">&#x27;\nY:&#x27;</span>, Y)</span><br></pre></td></tr></table></figure>
<h4 id="é¡ºåºåˆ†åŒº"><a href="#é¡ºåºåˆ†åŒº" class="headerlink" title="é¡ºåºåˆ†åŒº"></a>é¡ºåºåˆ†åŒº</h4><ul>
<li>åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œé™¤äº†å¯¹åŸå§‹åºåˆ—å¯ä»¥éšæœºæŠ½æ ·å¤–ï¼Œ æˆ‘ä»¬è¿˜å¯ä»¥ä¿è¯ä¸¤ä¸ªç›¸é‚»çš„å°æ‰¹é‡ä¸­çš„å­åºåˆ—åœ¨åŸå§‹åºåˆ—ä¸Šä¹Ÿæ˜¯ç›¸é‚»çš„ã€‚ è¿™ç§ç­–ç•¥åœ¨åŸºäºå°æ‰¹é‡çš„è¿­ä»£è¿‡ç¨‹ä¸­ä¿ç•™äº†æ‹†åˆ†çš„å­åºåˆ—çš„é¡ºåºï¼Œå› æ­¤ç§°ä¸ºé¡ºåºåˆ†åŒºã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">seq_data_iter_sequential</span>(<span class="params">corpus, batch_size, num_steps</span>):  <span class="comment">#@save</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä½¿ç”¨é¡ºåºåˆ†åŒºç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡å­åºåˆ—&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä»éšæœºåç§»é‡å¼€å§‹åˆ’åˆ†åºåˆ—</span></span><br><span class="line">    offset = random.randint(<span class="number">0</span>, num_steps)</span><br><span class="line">    num_tokens = ((<span class="built_in">len</span>(corpus) - offset - <span class="number">1</span>) // batch_size) * batch_size</span><br><span class="line">    Xs = torch.tensor(corpus[offset: offset + num_tokens])</span><br><span class="line">    Ys = torch.tensor(corpus[offset + <span class="number">1</span>: offset + <span class="number">1</span> + num_tokens])</span><br><span class="line">    Xs, Ys = Xs.reshape(batch_size, -<span class="number">1</span>), Ys.reshape(batch_size, -<span class="number">1</span>)</span><br><span class="line">    num_batches = Xs.shape[<span class="number">1</span>] // num_steps</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, num_steps * num_batches, num_steps):</span><br><span class="line">        X = Xs[:, i: i + num_steps]</span><br><span class="line">        Y = Ys[:, i: i + num_steps]</span><br><span class="line">        <span class="keyword">yield</span> X, Y</span><br></pre></td></tr></table></figure>
<ul>
<li>åŸºäºç›¸åŒçš„è®¾ç½®ï¼Œé€šè¿‡é¡ºåºåˆ†åŒºè¯»å–æ¯ä¸ªå°æ‰¹é‡çš„å­åºåˆ—çš„ç‰¹å¾<code>X</code>å’Œæ ‡ç­¾<code>Y</code>ã€‚ é€šè¿‡å°†å®ƒä»¬æ‰“å°å‡ºæ¥å¯ä»¥å‘ç°ï¼š è¿­ä»£æœŸé—´æ¥è‡ªä¸¤ä¸ªç›¸é‚»çš„å°æ‰¹é‡ä¸­çš„å­åºåˆ—åœ¨åŸå§‹åºåˆ—ä¸­ç¡®å®æ˜¯ç›¸é‚»çš„ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> X, Y <span class="keyword">in</span> seq_data_iter_sequential(my_seq, batch_size=<span class="number">2</span>, num_steps=<span class="number">5</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;X: &#x27;</span>, X, <span class="string">&#x27;\nY:&#x27;</span>, Y)</span><br></pre></td></tr></table></figure>
<ul>
<li>ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¸¤ä¸ªé‡‡æ ·å‡½æ•°åŒ…è£…åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œ ä»¥ä¾¿ç¨åå¯ä»¥å°†å…¶ç”¨ä½œæ•°æ®è¿­ä»£å™¨ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SeqDataLoader</span>:  <span class="comment">#@save</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;åŠ è½½åºåˆ—æ•°æ®çš„è¿­ä»£å™¨&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, batch_size, num_steps, use_random_iter, max_tokens</span>):</span><br><span class="line">        <span class="keyword">if</span> use_random_iter:</span><br><span class="line">            self.data_iter_fn = d2l.seq_data_iter_random</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.data_iter_fn = d2l.seq_data_iter_sequential</span><br><span class="line">        self.corpus, self.vocab = d2l.load_corpus_time_machine(max_tokens)</span><br><span class="line">        self.batch_size, self.num_steps = batch_size, num_steps</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.data_iter_fn(self.corpus, self.batch_size, self.num_steps)</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°<code>load_data_time_machine</code>ï¼Œ å®ƒåŒæ—¶è¿”å›æ•°æ®è¿­ä»£å™¨å’Œè¯è¡¨ï¼Œ å› æ­¤å¯ä»¥ä¸å…¶ä»–å¸¦æœ‰<code>load_data</code>å‰ç¼€çš„å‡½æ•°ç±»ä¼¼åœ°ä½¿ç”¨ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_data_time_machine</span>(<span class="params">batch_size, num_steps,  <span class="comment">#@save</span></span></span><br><span class="line"><span class="params">                           use_random_iter=<span class="literal">False</span>, max_tokens=<span class="number">10000</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è¿”å›æ—¶å…‰æœºå™¨æ•°æ®é›†çš„è¿­ä»£å™¨å’Œè¯è¡¨&quot;&quot;&quot;</span></span><br><span class="line">    data_iter = SeqDataLoader(</span><br><span class="line">        batch_size, num_steps, use_random_iter, max_tokens)</span><br><span class="line">    <span class="keyword">return</span> data_iter, data_iter.vocab</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>51-åºåˆ—æ¨¡å‹</title>
    <url>/2024/04/23/11-01-51/</url>
    <content><![CDATA[<h1 id="åºåˆ—æ¨¡å‹"><a href="#åºåˆ—æ¨¡å‹" class="headerlink" title="åºåˆ—æ¨¡å‹"></a>åºåˆ—æ¨¡å‹</h1><h3 id="2-åºåˆ—æ•°æ®"><a href="#2-åºåˆ—æ•°æ®" class="headerlink" title="2.åºåˆ—æ•°æ®"></a>2.åºåˆ—æ•°æ®</h3><ul>
<li>å®é™…ä¸­å¾ˆå¤šæ•°æ®æ˜¯æœ‰æ—¶åºçš„</li>
<li>ç”µå½±çš„è¯„ä»·éšæ—¶é—´å˜åŒ–è€Œå˜åŒ–<ul>
<li>æ‹¿äº†å¥–åè¯„åˆ†ä¸Šå‡ï¼Œç›´åˆ°å¥–é¡¹è¢«é—å¿˜</li>
<li>çœ‹äº†å¾ˆå¤šå¥½ç”µå½±åï¼Œäººä»¬çš„æœŸæœ›å˜é«˜</li>
<li>å­£èŠ‚æ€§ï¼šè´ºå²ç‰‡ï¼Œæš‘æœŸæ¡£</li>
<li>å¯¼æ¼”ã€æ¼”å‘˜çš„è´Ÿé¢æŠ¥é“å¯¼è‡´è¯„åˆ†å˜ä½</li>
</ul>
</li>
</ul>
<h4 id="2-1-æ›´å¤šä¾‹å­"><a href="#2-1-æ›´å¤šä¾‹å­" class="headerlink" title="2.1 æ›´å¤šä¾‹å­"></a>2.1 æ›´å¤šä¾‹å­</h4><ul>
<li><p>éŸ³ä¹ã€æ–‡æœ¬ã€è¯­è¨€å’Œè§†é¢‘éƒ½æ˜¯è¿ç»­çš„</p>
<ul>
<li>æ ‡é¢˜â€œç‹—å’¬äººâ€è¿œæ²¡æœ‰â€œäººå’¬ç‹—â€é‚£ä¹ˆä»¤äººæƒŠè®¶</li>
</ul>
</li>
<li><p>å¤§åœ°éœ‡å‘ç”Ÿåï¼Œå¾ˆæœ‰å¯èƒ½ä¼šæœ‰å‡ æ¬¡è¾ƒå°çš„ä½™éœ‡</p>
</li>
<li>äººçš„äº’åŠ¨æ˜¯è¿ç»­çš„ï¼Œä»ç½‘ä¸Šåµæ¶å¯ä»¥çœ‹å‡º</li>
<li>é¢„æµ‹æ˜å¤©çš„è‚¡ä»·è¦æ¯”å¡«è¡¥æ˜¨å¤©é—å¤±çš„è‚¡ä»·æ›´å›°éš¾</li>
</ul>
<h3 id="3-ç»Ÿè®¡å·¥å…·"><a href="#3-ç»Ÿè®¡å·¥å…·" class="headerlink" title="3.ç»Ÿè®¡å·¥å…·"></a>3.ç»Ÿè®¡å·¥å…·</h3><ul>
<li><p>åœ¨æ—¶é—´tè§‚å¯Ÿåˆ°<img src="https://latex.codecogs.com/svg.image?X_{t}" title="X_{t}">ï¼Œé‚£ä¹ˆå¾—åˆ°Tä¸ªä¸ç‹¬ç«‹çš„éšæœºå˜é‡<img src="https://latex.codecogs.com/svg.image?(X_{1},...X_{t})\sim&space;p(X)" title="(X_{1},...X_{t})\sim p(X)"></p>
</li>
<li><p>ä½¿ç”¨æ¡ä»¶æ¦‚ç‡å±•å¼€</p>
<p><img src="https://latex.codecogs.com/svg.image?p(a,b)=p(a)p(b|a)=p(b)p(a|b)" title="p(a,b)=p(a)p(b|a)=p(b)p(a|b)"></p>
</li>
</ul>
<img src="/2024/04/23/11-01-51/51-01.png" class>
<h3 id="4-åºåˆ—æ¨¡å‹"><a href="#4-åºåˆ—æ¨¡å‹" class="headerlink" title="4.åºåˆ—æ¨¡å‹"></a>4.åºåˆ—æ¨¡å‹</h3><img src="/2024/04/23/11-01-51/51-02.png" class>
<ul>
<li>å¯¹æ¡ä»¶æ¦‚ç‡å»ºæ¨¡</li>
</ul>
<img src="/2024/04/23/11-01-51/51-03.png" class>
<h4 id="4-1-æ–¹æ¡ˆA-é©¬å°”ç§‘å¤«å‡è®¾"><a href="#4-1-æ–¹æ¡ˆA-é©¬å°”ç§‘å¤«å‡è®¾" class="headerlink" title="4.1 æ–¹æ¡ˆA:é©¬å°”ç§‘å¤«å‡è®¾"></a>4.1 æ–¹æ¡ˆA:é©¬å°”ç§‘å¤«å‡è®¾</h4><img src="/2024/04/23/11-01-51/51-04.png" class>
<ul>
<li>å‡è®¾å½“å‰æ•°æ®åªè·ŸÏ„ä¸ªè¿‡å»æ•°æ®ç‚¹ç›¸å…³</li>
</ul>
<img src="/2024/04/23/11-01-51/51-05.png" class>
<h4 id="4-2-æ–¹æ¡ˆB-æ½œå˜é‡æ¨¡å‹"><a href="#4-2-æ–¹æ¡ˆB-æ½œå˜é‡æ¨¡å‹" class="headerlink" title="4.2 æ–¹æ¡ˆB:æ½œå˜é‡æ¨¡å‹"></a>4.2 æ–¹æ¡ˆB:æ½œå˜é‡æ¨¡å‹</h4><img src="/2024/04/23/11-01-51/51-06.png" class>
<ul>
<li>å¼•å…¥æ½œå˜é‡<img src="https://latex.codecogs.com/svg.image?h_{t}" title="h_{t}">æ¥è¡¨ç¤ºè¿‡å»ä¿¡æ¯<img src="https://latex.codecogs.com/svg.image?h_{t}=f(x_{1},...x_{t-1})" title="h_{t}=f(x_{1},...x_{t-1})"><ul>
<li>è¿™æ ·<img src="https://latex.codecogs.com/svg.image?x_{t}=p(x_{t}|h_{t})" title="x_{t}=p(x_{t}|h_{t})"></li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-51/51-07.png" class>
<h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5.æ€»ç»“"></a>5.æ€»ç»“</h3><ul>
<li>æ—¶åºæ¨¡å‹ä¸­ï¼Œå½“å‰æ•°æ®è·Ÿä¹‹å‰è§‚å¯Ÿåˆ°çš„æ•°æ®ç›¸å…³</li>
<li>è‡ªå›å½’æ¨¡å‹ä½¿ç”¨è‡ªèº«è¿‡å»æ•°æ®æ¥é¢„æµ‹æœªæ¥</li>
<li>é©¬å°”ç§‘å¤«æ¨¡å‹å‡è®¾å½“å‰åªè·Ÿæœ€è¿‘å°‘æ•°æ•°æ®ç›¸å…³ï¼Œä»è€Œç®€åŒ–æ¨¡å‹</li>
<li>æ½œå˜é‡æ¨¡å‹ä½¿ç”¨æ½œå˜é‡æ¥æ¦‚æ‹¬å†å²ä¿¡æ¯</li>
</ul>
<h3 id="6-Q-amp-Aï¼š"><a href="#6-Q-amp-Aï¼š" class="headerlink" title="6.Q&amp;Aï¼š"></a>6.Q&amp;Aï¼š</h3><h5 id="Q1-åœ¨å¸¸è§„èŒƒå›´å†…tauæ˜¯ä¸æ˜¯è¶Šå¤§è¶Šå¥½ã€‚åˆšæ‰ä¾‹å­tau-5æ˜¯ä¸æ˜¯æ¯”4å¥½ï¼Ÿ"><a href="#Q1-åœ¨å¸¸è§„èŒƒå›´å†…tauæ˜¯ä¸æ˜¯è¶Šå¤§è¶Šå¥½ã€‚åˆšæ‰ä¾‹å­tau-5æ˜¯ä¸æ˜¯æ¯”4å¥½ï¼Ÿ" class="headerlink" title="Q1:åœ¨å¸¸è§„èŒƒå›´å†…tauæ˜¯ä¸æ˜¯è¶Šå¤§è¶Šå¥½ã€‚åˆšæ‰ä¾‹å­tau=5æ˜¯ä¸æ˜¯æ¯”4å¥½ï¼Ÿ"></a>Q1:åœ¨å¸¸è§„èŒƒå›´å†…tauæ˜¯ä¸æ˜¯è¶Šå¤§è¶Šå¥½ã€‚åˆšæ‰ä¾‹å­tau=5æ˜¯ä¸æ˜¯æ¯”4å¥½ï¼Ÿ</h5><blockquote>
<p>å½“ç„¶æ¯”4å¥½ï¼Œä¹Ÿæœ‰å±€é™æ€§ï¼Œtauç‰¹åˆ«å¤§ï¼Œè®­ç»ƒæ ·æœ¬å˜å°ï¼Œæ¨¡å‹å˜å¤æ‚</p>
</blockquote>
<h5 id="Q2ï¼šæ½œå˜é‡æ¨¡å‹å’Œéšé©¬å°”ç§‘å¤«æ¨¡å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#Q2ï¼šæ½œå˜é‡æ¨¡å‹å’Œéšé©¬å°”ç§‘å¤«æ¨¡å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="Q2ï¼šæ½œå˜é‡æ¨¡å‹å’Œéšé©¬å°”ç§‘å¤«æ¨¡å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>Q2ï¼šæ½œå˜é‡æ¨¡å‹å’Œéšé©¬å°”ç§‘å¤«æ¨¡å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><blockquote>
<p>æ²¡æœ‰å¤ªå¤šè”ç³»ï¼Œä¸¤ä¸ªä¸åŒçš„è§‚ç‚¹ï¼Œä½†æ˜¯æ½œå˜é‡æ¨¡å‹å¯ä»¥ä½¿ç”¨éšé©¬å°”ç§‘å¤«å‡è®¾ã€‚æ½œå˜é‡-æ€ä¹ˆå»ºæ¨¡ï¼Œéšé©¬å°”ç§‘å¤«-è¿™ä¸ªæ•°æ®å’Œä¹‹å‰å¤šå°‘ä¸ªæ•°æ®æœ‰å…³ã€‚</p>
</blockquote>
<h5 id="Q3ï¼šè‹¥é¢„æµ‹ä¸€ä¸ªæœˆï¼Œtau-30-é¢„æµ‹7å¤©ï¼Œtau-7ï¼Œæ˜¯å¦æœ‰è¿™æ ·çš„å…³ç³»ï¼Ÿ"><a href="#Q3ï¼šè‹¥é¢„æµ‹ä¸€ä¸ªæœˆï¼Œtau-30-é¢„æµ‹7å¤©ï¼Œtau-7ï¼Œæ˜¯å¦æœ‰è¿™æ ·çš„å…³ç³»ï¼Ÿ" class="headerlink" title="Q3ï¼šè‹¥é¢„æµ‹ä¸€ä¸ªæœˆï¼Œtau=30,é¢„æµ‹7å¤©ï¼Œtau=7ï¼Œæ˜¯å¦æœ‰è¿™æ ·çš„å…³ç³»ï¼Ÿ"></a>Q3ï¼šè‹¥é¢„æµ‹ä¸€ä¸ªæœˆï¼Œtau=30,é¢„æµ‹7å¤©ï¼Œtau=7ï¼Œæ˜¯å¦æœ‰è¿™æ ·çš„å…³ç³»ï¼Ÿ</h5><blockquote>
<p>tauå–å†³äºå¯¹æ•°æ®çš„ç†è§£ï¼Œæ²¡æœ‰å›ºå®šçš„è§„åˆ™</p>
</blockquote>
<h5 id="Q4ï¼šåœ¨é¢„æµ‹æœªæ¥æ–¹é¢ï¼Œç°åœ¨çš„sotaæ¨¡å‹èƒ½åšåˆ°å¤šå¥½ï¼Ÿ"><a href="#Q4ï¼šåœ¨é¢„æµ‹æœªæ¥æ–¹é¢ï¼Œç°åœ¨çš„sotaæ¨¡å‹èƒ½åšåˆ°å¤šå¥½ï¼Ÿ" class="headerlink" title="Q4ï¼šåœ¨é¢„æµ‹æœªæ¥æ–¹é¢ï¼Œç°åœ¨çš„sotaæ¨¡å‹èƒ½åšåˆ°å¤šå¥½ï¼Ÿ"></a>Q4ï¼šåœ¨é¢„æµ‹æœªæ¥æ–¹é¢ï¼Œç°åœ¨çš„sotaæ¨¡å‹èƒ½åšåˆ°å¤šå¥½ï¼Ÿ</h5><blockquote>
<p>å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œåœ¨æœ‰äº›é¢†åŸŸåšå¾—å¥½æ¯”å¦‚å†™ä½œï¼Œå†™ä»£ç ï¼Œåœ¨ä¸€äº›é¢†åŸŸåšçš„ä¸å¥½ï¼Œæ¯”å¦‚é¢„æµ‹è‚¡ç¥¨ã€‚</p>
</blockquote>
<h5 id="Q5-tauèƒ½å¤Ÿéšç€xtçš„å˜åŒ–è€Œå˜åŒ–å—ï¼Ÿè¿™æ ·æ„Ÿè§‰æ›´ç¬¦åˆå®é™…æƒ…å†µ"><a href="#Q5-tauèƒ½å¤Ÿéšç€xtçš„å˜åŒ–è€Œå˜åŒ–å—ï¼Ÿè¿™æ ·æ„Ÿè§‰æ›´ç¬¦åˆå®é™…æƒ…å†µ" class="headerlink" title="Q5:tauèƒ½å¤Ÿéšç€xtçš„å˜åŒ–è€Œå˜åŒ–å—ï¼Ÿè¿™æ ·æ„Ÿè§‰æ›´ç¬¦åˆå®é™…æƒ…å†µ"></a>Q5:tauèƒ½å¤Ÿéšç€xtçš„å˜åŒ–è€Œå˜åŒ–å—ï¼Ÿè¿™æ ·æ„Ÿè§‰æ›´ç¬¦åˆå®é™…æƒ…å†µ</h5><blockquote>
<p>å½“ç„¶å¯ä»¥ï¼Œæœ‰è®¡ç®—é‡çš„å¢åŠ ï¼Œä¹Ÿä¸ä¸€å®šæ›´å¥½</p>
</blockquote>
<h5 id="Q6-é¢„æµ‹ç”µæ± ä¹‹ç±»å¾ˆå¤šå‚æ•°çš„æœªæ¥å˜åŒ–è¶‹åŠ¿æ—¶æ€ä¹ˆé•¿æ­¥é¢„æµ‹ï¼Ÿ"><a href="#Q6-é¢„æµ‹ç”µæ± ä¹‹ç±»å¾ˆå¤šå‚æ•°çš„æœªæ¥å˜åŒ–è¶‹åŠ¿æ—¶æ€ä¹ˆé•¿æ­¥é¢„æµ‹ï¼Ÿ" class="headerlink" title="Q6:é¢„æµ‹ç”µæ± ä¹‹ç±»å¾ˆå¤šå‚æ•°çš„æœªæ¥å˜åŒ–è¶‹åŠ¿æ—¶æ€ä¹ˆé•¿æ­¥é¢„æµ‹ï¼Ÿ"></a>Q6:é¢„æµ‹ç”µæ± ä¹‹ç±»å¾ˆå¤šå‚æ•°çš„æœªæ¥å˜åŒ–è¶‹åŠ¿æ—¶æ€ä¹ˆé•¿æ­¥é¢„æµ‹ï¼Ÿ</h5><blockquote>
<p>ä¸æ•°æ®å…³ç³»æ¯”è¾ƒå¤§ï¼Œè´Ÿç±»æ ·æœ¬è¾ƒå°‘ï¼Œæ‰€ä»¥æ¯”è¾ƒéš¾è®­ç»ƒ</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>50-è¯¾ç¨‹ç«èµ›ï¼šç‰›ä»”è¡Œå¤´æ£€æµ‹</title>
    <url>/2024/04/23/11-01-50/</url>
    <content><![CDATA[<h2 id="è¯¾ç¨‹ç«èµ›ï¼šç‰›ä»”è¡Œå¤´æ£€æµ‹"><a href="#è¯¾ç¨‹ç«èµ›ï¼šç‰›ä»”è¡Œå¤´æ£€æµ‹" class="headerlink" title="è¯¾ç¨‹ç«èµ›ï¼šç‰›ä»”è¡Œå¤´æ£€æµ‹"></a>è¯¾ç¨‹ç«èµ›ï¼šç‰›ä»”è¡Œå¤´æ£€æµ‹</h2><h3 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h3><p>å›¾åƒä¸­çš„ç›®æ ‡æ£€æµ‹ï¼Œæ£€æµ‹ç‰›ä»”çš„è£…å¤‡ï¼Œä¸»è¦åŒ…æ‹¬ï¼šå¤¹å…‹ï¼Œå¢¨é•œï¼Œé´å­ï¼Œç‰›ä»”å¸½ï¼Œè…°å¸¦</p>
<p>æœ‰6937å¼ è®­ç»ƒå›¾ç‰‡ï¼Œ12660ä¸ªæ ‡æ³¨æ¡†ï¼Œæ•°æ®é›†ä½¿ç”¨MS-COCOæ ¼å¼ï¼Œå¯ä»¥è°ƒç”¨pycocotoolsåº“ï¼Œè¯„æµ‹ä½¿ç”¨mAPï¼ˆè¯„æµ‹å¯¹æ¯ä¸ªç±»é¢„æµ‹çš„æ¡†çš„å¥½åï¼‰</p>
<p>æŒ‘æˆ˜ï¼šäº”ä¸ªç±»åˆ«å‡ºç°æ¬¡æ•°ä¸åŒï¼Œå¢¨é•œã€å¤¹å…‹æ¬¡æ•°å¤šï¼Œç‰›ä»”å¸½ã€é´å­å…¶æ¬¡ï¼Œè…°å¸¦å¾ˆå°‘</p>
<img src="/2024/04/23/11-01-50/%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1.png" class>
<h3 id="å®‰æ’"><a href="#å®‰æ’" class="headerlink" title="å®‰æ’"></a>å®‰æ’</h3><p>Kaggleä¸æ”¯æŒmAPï¼Œæäº¤ç»“æœcsvæ–‡ä»¶æ—¶ç½‘å€ä¸åŒ</p>
<p>å…¬ç§æ¦œåˆ†é…å’Œä¹‹å‰ä¸åŒï¼Œä¹‹å‰kaggleä»æ‰€æœ‰æ•°æ®ä¸­é€‰å‡ºä¸€éƒ¨åˆ†ä½œä¸ºç§æ¦œï¼Œæœ¬æ¬¡é™å®šäº†æ—¶é—´å…¬æ¦œç»“æŸå12å°æ—¶å†…æ‹¿åˆ°ç§æ¦œæ•°æ®å¹¶æäº¤ç»“æœï¼Œè‡³å¤šæäº¤ä¸‰æ¬¡</p>
<p>æä¾›äº†ä¸€ä¸ªç¤ºä¾‹ç¨‹åº</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>49-æ ·å¼è¿ç§»</title>
    <url>/2024/04/23/11-01-49/</url>
    <content><![CDATA[<h2 id="æ ·å¼è¿ç§»"><a href="#æ ·å¼è¿ç§»" class="headerlink" title="æ ·å¼è¿ç§»"></a>æ ·å¼è¿ç§»</h2><p>æ ·å¼è¿ç§»ç±»ä¼¼äºæ‰‹æœºç›¸æœºä¸­çš„æ»¤é•œï¼ŒæŒ‡çš„æ˜¯ç»™å®šå†…å®¹å›¾ç‰‡å’Œé£æ ¼å›¾ç‰‡ï¼Œåˆæˆä¸€å¼ æ–°çš„å›¾ç‰‡ï¼Œä½¿å¾—ä»–çš„å†…å®¹ä¸å†…å®¹å›¾ç‰‡ç›¸ä¼¼ï¼Œè€Œé£æ ¼å´æ˜¯é£æ ¼å›¾ç‰‡çš„æ ·å­ï¼Œå¦‚ä¸‹ä¾‹ï¼š</p>
<img src="/2024/04/23/11-01-49/%E6%A0%B7%E5%BC%8F%E8%BF%81%E7%A7%BB%E7%A4%BA%E4%BE%8B.png" class>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé¢„è®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œæ¥å®ç°æ ·å¼è¿ç§»ï¼š</p>
<ul>
<li>1ï¼šå¤åˆ¶å†…å®¹å›¾ç‰‡æ¥åˆå§‹åŒ–ä¸€å¼ å›¾ç‰‡ï¼Œä¹‹åå°†è¿™å¼ å›¾ç‰‡ä¸­çš„åƒç´ ä½œä¸ºå‚æ•°è¿›è¡Œæ›´æ–°ï¼Œæœ€ç»ˆå¾—åˆ°åˆæˆçš„å›¾ç‰‡</li>
<li>2ï¼šå°†å†…å®¹å›¾ç‰‡ï¼Œå½“å‰çš„åˆæˆå›¾ç‰‡ï¼Œæ ·å¼å›¾ç‰‡åˆ†åˆ«è¾“å…¥ä¸€ä¸ªç›¸åŒçš„é¢„è®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œ</li>
<li>3ï¼šå‡è®¾è¯¥ç¥ç»ç½‘ç»œçš„ä¸åŒå±‚åˆ†åˆ«æå–ä¸å†…å®¹å’Œé£æ ¼ç›¸å…³çš„ä¿¡æ¯ï¼Œå¯ä»¥æ®æ­¤å¾—åˆ°ä¸€ä¸ªæŸå¤±ï¼š<ul>
<li>å°†åˆæˆå›¾ç‰‡ä¸<strong>å†…å®¹</strong>ç›¸å…³çš„å±‚çš„è¾“å‡ºä¸<strong>å†…å®¹</strong>å›¾ç‰‡å¯¹åº”å±‚çš„è¾“å‡ºè¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°<strong>å†…å®¹æŸå¤±</strong></li>
<li>å°†åˆæˆå›¾ç‰‡ä¸<strong>é£æ ¼</strong>ç›¸å…³çš„å±‚çš„è¾“å‡ºä¸<strong>é£æ ¼</strong>å›¾ç‰‡å¯¹åº”å±‚çš„è¾“å‡ºè¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°<strong>é£æ ¼æŸå¤±</strong></li>
<li>å¯¹åˆæˆå›¾ç‰‡æœ¬èº«ï¼Œç»Ÿè®¡å›¾ç‰‡ä¸­çš„é«˜é¢‘å™ªç‚¹ï¼ˆå³è¿‡æ˜æˆ–è¿‡æš—åƒç´ ç‚¹ï¼‰ï¼Œå¾—åˆ°<strong>å…¨å˜åˆ†æŸå¤±</strong></li>
<li>å°†ä¸‰éƒ¨åˆ†æŸå¤±åŠ èµ·æ¥å¾—åˆ°æ€»çš„æ ·å¼è¿ç§»çš„<strong>æŸå¤±å‡½æ•°</strong></li>
</ul>
</li>
<li>4ï¼šåˆ©ç”¨3å®šä¹‰çš„æŸå¤±å‡½æ•°ï¼Œä»¥åˆæˆå›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹ä¸ºå‚æ•°è¿›è¡Œæ¢¯åº¦ä¸‹é™ï¼Œå¾—åˆ°æœ€ç»ˆåˆæˆçš„å›¾ç‰‡</li>
</ul>
<img src="/2024/04/23/11-01-49/CNN%E5%AE%9E%E7%8E%B0.png" class>
<h3 id="å†…å®¹æŸå¤±"><a href="#å†…å®¹æŸå¤±" class="headerlink" title="å†…å®¹æŸå¤±"></a>å†…å®¹æŸå¤±</h3><p>ç¥ç»ç½‘ç»œå†…å®¹ç›¸å…³å±‚çš„è¾“å‡ºçš„ç›¸ä¼¼åº¦å¯ä»¥ç›´æ¥ååº”ä¸¤å¼ å›¾ç‰‡åœ¨å†…å®¹ä¸Šçš„ç›¸ä¼¼åº¦ï¼Œå› æ­¤å†…å®¹æŸå¤±å¯ä»¥ç›´æ¥å°†å¯¹åº”å±‚çš„è¾“å‡ºè§†ä¸ºå†…å®¹ç›´æ¥æ±‚å¹³æ–¹å·®æŸå¤±ã€‚</p>
<h3 id="é£æ ¼æŸå¤±ï¼šæ ¼æ‹‰å§†çŸ©é˜µ"><a href="#é£æ ¼æŸå¤±ï¼šæ ¼æ‹‰å§†çŸ©é˜µ" class="headerlink" title="é£æ ¼æŸå¤±ï¼šæ ¼æ‹‰å§†çŸ©é˜µ"></a>é£æ ¼æŸå¤±ï¼šæ ¼æ‹‰å§†çŸ©é˜µ</h3><p>å¯¹äºå†…å®¹å±‚ï¼Œå¯ä»¥ç›´æ¥å°†å¯¹åº”å±‚çš„è¾“å‡ºæ±‚å¹³æ–¹å·®æŸå¤±ï¼Œä½†æ˜¯å¯¹äºé£æ ¼åˆ™ç•¥æœ‰ä¸åŒ</p>
<p>ä¸€èˆ¬è®¤ä¸ºï¼Œé£æ ¼å±‚å¯¹åº”çš„è¾“å‡ºçš„å¤šä¸ªé€šé“åˆ†åˆ«å¯¹åº”ç€ä¸åŒç±»å‹çš„ä¿¡æ¯ï¼Œå¦‚æœå°†è¾“å‡ºçš„å½¢çŠ¶ä»$[batch_size=1,channels,h,w]$è½¬åŒ–ä¸º$[channels,h*w]$å°±èƒ½å¾—åˆ°é€šé“æ•°ä¸ªå‘é‡ï¼Œä»¥$x_1,x_2â€¦x_c$è¡¨ç¤ºï¼Œä»£è¡¨ä¸åŒé€šé“æ‰€æå–å‡ºçš„ä¸åŒä¿¡æ¯ï¼Œè€Œé£æ ¼å¯ä»¥è§†ä½œè¿™äº›ä¿¡æ¯ä¹‹é—´çš„å…³è”ï¼Œå³ç›¸ä¼¼åº¦ã€‚</p>
<p>å®šä¹‰æ ¼æ‹‰å§†çŸ©é˜µ$\bold X * \bold X^T \in R^{c \cdot c}$ï¼ŒçŸ©é˜µçš„ç¬¬iè¡Œç¬¬jåˆ—å³å‘é‡$x_i$ä¸$x_j$çš„å†…ç§¯ï¼Œè¿™ä¸ªçŸ©é˜µå°±ä»£è¡¨äº†ä¸€å¼ å›¾ç‰‡çš„é£æ ¼ã€‚</p>
<p>å¯¹äºç”Ÿæˆå›¾ç‰‡å’Œé£æ ¼å›¾ç‰‡çš„æ ¼æ‹‰å§†çŸ©é˜µæ±‚å¹³æ–¹å·®æŸå¤±å°±èƒ½å¾—åˆ°æ‰€éœ€çš„é£æ ¼æŸå¤±</p>
<p>æ­¤å¤–ï¼Œä¸ºäº†è®©é£æ ¼æŸå¤±ä¸å—æ ¼æ‹‰å§†çŸ©é˜µåŠå‘é‡çš„å¤§å°å½±å“ï¼Œå®é™…å°†æ ¼æ‹‰å§†çŸ©é˜µé™¤ä»¥è¿™äº›å¤§å°$channnels<em>h</em>w$ã€‚</p>
<h3 id="å…¨å˜åˆ†æŸå¤±"><a href="#å…¨å˜åˆ†æŸå¤±" class="headerlink" title="å…¨å˜åˆ†æŸå¤±"></a>å…¨å˜åˆ†æŸå¤±</h3><p>ç”¨äºå»é™¤é«˜é¢‘å™ªç‚¹ï¼ˆè¿‡æ˜è¿‡æš—åƒç´ ç‚¹ï¼‰</p>
<script type="math/tex; mode=display">
\sum_{i, j} \left|x_{i, j} - x_{i+1, j}\right| + \left|x_{i, j} - x_{i, j+1}\right|</script>]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>48-å…¨è¿æ¥å·ç§¯ç¥ç»ç½‘ç»œï¼ˆFCNï¼‰</title>
    <url>/2024/04/23/11-01-48/</url>
    <content><![CDATA[<h2 id="48-å…¨è¿æ¥å·ç§¯ç¥ç»ç½‘ç»œï¼ˆFCNï¼‰"><a href="#48-å…¨è¿æ¥å·ç§¯ç¥ç»ç½‘ç»œï¼ˆFCNï¼‰" class="headerlink" title="48.å…¨è¿æ¥å·ç§¯ç¥ç»ç½‘ç»œï¼ˆFCNï¼‰"></a>48.å…¨è¿æ¥å·ç§¯ç¥ç»ç½‘ç»œï¼ˆFCNï¼‰</h2><img src="/2024/04/23/11-01-48/48-01.png" class>
<ul>
<li><p>ä»£ç </p>
<ul>
<li>è§code</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>47-è½¬ç½®å·ç§¯</title>
    <url>/2024/04/23/11-01-47/</url>
    <content><![CDATA[<h3 id="47-è½¬ç½®å·ç§¯"><a href="#47-è½¬ç½®å·ç§¯" class="headerlink" title="47-è½¬ç½®å·ç§¯"></a>47-è½¬ç½®å·ç§¯</h3><h3 id="1-è½¬ç½®å·ç§¯"><a href="#1-è½¬ç½®å·ç§¯" class="headerlink" title="1.è½¬ç½®å·ç§¯"></a>1.è½¬ç½®å·ç§¯</h3><ul>
<li>è½¬ç½®å·ç§¯å’Œå·ç§¯çš„åŒºåˆ«ï¼š<ul>
<li>å·ç§¯ä¸ä¼šå¢å¤§è¾“å…¥çš„é«˜å®½ï¼Œé€šå¸¸è¦ä¹ˆä¸å˜ã€è¦ä¹ˆå‡åŠ</li>
<li>è½¬ç½®å·ç§¯åˆ™å¯ä»¥ç”¨æ¥å¢å¤§è¾“å…¥é«˜å®½</li>
</ul>
</li>
<li>è½¬ç½®å·ç§¯çš„å…·ä½“å®ç°ï¼š</li>
</ul>
<img src="/2024/04/23/11-01-47/47-01.png" class>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œinputé‡Œçš„æ¯ä¸ªå…ƒç´ å’Œkernelç›¸ä¹˜ï¼Œæœ€åæŠŠå¯¹åº”ä½ç½®ç›¸åŠ ï¼Œç›¸å½“äºå·ç§¯çš„é€†å˜æ¢</p>
<ul>
<li>ä¸ºä»€ä¹ˆç§°ä¹‹ä¸ºâ€œè½¬ç½®ï¼š<ul>
<li>å¯¹äºå·ç§¯Y=X*W<ul>
<li>å¯ä»¥å¯¹Wæ„é€ ä¸€ä¸ªVï¼Œä½¿å¾—å·ç§¯ç­‰ä»·äºçŸ©é˜µä¹˜æ³•Yâ€™=VXâ€™</li>
<li>è¿™é‡ŒYâ€™,Xâ€™æ˜¯Y,Xå¯¹åº”çš„å‘é‡ç‰ˆæœ¬</li>
</ul>
</li>
<li>è½¬ç½®å·ç§¯ç­‰ä»·äºYâ€™=VTXâ€™</li>
<li>å¦‚æœå·ç§¯å°†è¾“å…¥ä»ï¼ˆhï¼Œwï¼‰å˜æˆäº†ï¼ˆhâ€˜ï¼Œwâ€™ï¼‰<ul>
<li>åŒæ ·è¶…å‚æ•°çš„è½¬ç½®å·ç§¯åˆ™ä»ï¼ˆhâ€˜ï¼Œwâ€™ï¼‰å˜æˆä¸ºï¼ˆhï¼Œwï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-è½¬ç½®å·ç§¯æ˜¯ä¸€ç§å·ç§¯"><a href="#2-è½¬ç½®å·ç§¯æ˜¯ä¸€ç§å·ç§¯" class="headerlink" title="2.è½¬ç½®å·ç§¯æ˜¯ä¸€ç§å·ç§¯"></a>2.è½¬ç½®å·ç§¯æ˜¯ä¸€ç§å·ç§¯</h3><ul>
<li><p>é‡æ–°æ’åˆ—è¾“å…¥å’Œæ ¸</p>
<ul>
<li>å½“å¡«å……ä¸º0æ­¥å¹…ä¸º1æ—¶ï¼š<ul>
<li>å°†è¾“å…¥å¡«å……k-1ï¼ˆkæ—¶æ ¸çª—å£ï¼‰</li>
<li>å°†æ ¸çŸ©é˜µä¸Šä¸‹ã€å·¦å³ç¿»è½¬</li>
<li>ç„¶ååšæ­£å¸¸å·ç§¯ï¼ˆå¡«å……0ã€æ­¥å¹…1ï¼‰</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-47/47-02.png" class>
<ul>
<li>å½“å¡«å……ä¸ºpæ­¥å¹…ä¸º1æ—¶ï¼š<ul>
<li>å°†è¾“å¦‚å¡«å……k-p-1ï¼ˆkæ˜¯æ ¸çª—å£ï¼‰</li>
<li>å°†æ ¸çŸ©é˜µä¸Šä¸‹ã€å·¦å³ç¿»è½¬</li>
<li>ç„¶ååšæ­£å¸¸å·ç§¯ï¼ˆå¡«å……0ã€æ­¥å¹…1ï¼‰</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-47/47-03.png" class>
<ul>
<li><p>å½“å¡«å……ä¸ºpæ­¥å¹…ä¸ºsæ—¶ï¼š</p>
<ul>
<li><p>åœ¨è¡Œå’Œåˆ—ä¹‹é—´æ’å…¥s-1è¡Œæˆ–åˆ—</p>
</li>
<li><p>å°†è¾“å¦‚å¡«å……k-p-1ï¼ˆkæ˜¯æ ¸çª—å£ï¼‰</p>
</li>
<li>å°†æ ¸çŸ©é˜µä¸Šä¸‹ã€å·¦å³ç¿»è½¬</li>
<li>ç„¶ååšæ­£å¸¸å·ç§¯ï¼ˆå¡«å……0ã€æ­¥å¹…1ï¼‰</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-47/47-04.png" class>
</li>
<li><p>å½¢çŠ¶æ¢ç®—</p>
<ul>
<li><p>è¾“å…¥é«˜ï¼ˆå®½ï¼‰ä¸ºnï¼Œæ ¸kï¼Œå¡«å……pï¼Œæ­¥å¹…sï¼š</p>
<ul>
<li><p>è½¬ç½®å·ç§¯ï¼šnâ€˜=sn+k-2p-s</p>
</li>
<li><p>å·ç§¯ï¼šnâ€™=[(n-k-2p+s)/s]å‘ä¸‹å–æ•´</p>
</li>
</ul>
</li>
<li><p>å¦‚æœè®©é«˜å®½æˆå€å¢åŠ ï¼Œé‚£ä¹ˆk=2p+s</p>
</li>
</ul>
</li>
<li><p>åŒåå·ç§¯çš„å…³ç³»</p>
<ul>
<li>æ•°å­¦ä¸Šçš„åå·ç§¯æ˜¯æŒ‡å·ç§¯çš„é€†è¿ç®—<ul>
<li>è‹¥Y=convï¼ˆX,Kï¼‰ï¼Œé‚£ä¹ˆX=deconvï¼ˆY,Kï¼‰</li>
</ul>
</li>
<li>åå·ç§¯å¾ˆå°‘ç”¨åœ¨æ·±åº¦å­¦ä¹ ä¸­<ul>
<li>æˆ‘ä»¬è¯´çš„åå·ç§¯ç¥ç»ç½‘ç»œæŒ‡ç”¨äº†è½¬ç½®å·ç§¯çš„ç¥ç»ç½‘ç»œ</li>
</ul>
</li>
</ul>
</li>
<li><p>æ€»ç»“</p>
<ul>
<li>è½¬ç½®å·ç§¯æ˜¯ä¸€ç§å˜åŒ–äº†è¾“å…¥å’Œæ ¸çš„å·ç§¯ï¼Œæ¥å¾—åˆ°ä¸Šé‡‡ç”¨çš„ç›®çš„</li>
<li>ä¸ç­‰åŒäºæ•°å­¦ä¸Šçš„åå·ç§¯æ“ä½œ</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>46.è¯­ä¹‰åˆ†å‰²</title>
    <url>/2024/04/23/11-01-46/</url>
    <content><![CDATA[<h2 id="46-è¯­ä¹‰åˆ†å‰²"><a href="#46-è¯­ä¹‰åˆ†å‰²" class="headerlink" title="46 è¯­ä¹‰åˆ†å‰²"></a>46 è¯­ä¹‰åˆ†å‰²</h2><h3 id="1-è¯­ä¹‰åˆ†å‰²"><a href="#1-è¯­ä¹‰åˆ†å‰²" class="headerlink" title="1.è¯­ä¹‰åˆ†å‰²"></a>1.è¯­ä¹‰åˆ†å‰²</h3><p>æœ‰æ—¶åªèƒ½å®ç°æ¡†é€‰çš„ç›®æ ‡æ£€æµ‹è¿˜æ˜¯å¤ªç²—ç³™äº†ï¼Œæ— æ³•å¾—åˆ°æ›´ç²¾ç»†çš„ä¿¡æ¯ã€‚è¯­ä¹‰åˆ†å‰²å°†å›¾ç‰‡ä¸­çš„æ¯ä¸ªåƒç´ åˆ†ç±»åˆ°å¯¹åº”çš„ç±»åˆ«ã€‚</p>
<p>åˆ†å‰²è¿™ä¸€æ¦‚å¿µåœ¨è®¡ç®—æœºè§†è§‰ä¸­ç”±æ¥å·²ä¹…ã€‚æœ€æ—©çš„å›¾ç‰‡åˆ†å‰²å¯¹ç»™å®šå›¾ç‰‡ä½¿ç”¨èšç±»ç­‰æ–¹æ³•æŠŠè¯­ä¹‰ä¸Šæ¯”è¾ƒåƒçš„åƒç´ æ”¾åœ¨ä¸€èµ·ï¼Œä½†é€šå¸¸ä¸ä¼šå‘Šè¯‰æˆ‘ä»¬è¿™äº›åƒç´ åˆ°åº•æ˜¯ä»€ä¹ˆã€‚è€Œè¯­ä¹‰åˆ†å‰²å¯ä»¥å‘Šè¯‰æˆ‘ä»¬æ¯ä¸ªåƒç´ å¯¹åº”çš„labelæ˜¯ä»€ä¹ˆã€‚</p>
<p>è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬éœ€è¦å¯¹å›¾ç‰‡çš„æ¯ä¸€ä¸ªåƒç´ éƒ½åšlabelï¼Œä½¿å¾—è¯­ä¹‰åˆ†å‰²æˆä¸ºäº†ä¸€ä¸ªæ¯”è¾ƒç²¾ç»†ä¸”å¤§çš„ä»»åŠ¡ã€‚è¯­ä¹‰åˆ†å‰²çš„æ•°æ®é›†æˆæœ¬ä¹Ÿè¾ƒé«˜ï¼Œå¾€å¾€è§„æ¨¡å°åƒç´ é«˜ã€‚å¸¸ç”¨çš„æ•°æ®é›†ä¹‹ä¸€æ˜¯Pascal VOC2012ã€‚</p>
<img src="/2024/04/23/11-01-46/46-01.jpg" class>
<h3 id="2-åº”ç”¨"><a href="#2-åº”ç”¨" class="headerlink" title="2.åº”ç”¨"></a>2.åº”ç”¨</h3><p>èƒŒæ™¯è™šåŒ–ï¼šä¼ ç»Ÿçš„èƒŒæ™¯æ›¿æ¢å¾€å¾€é‡‡ç”¨ç»¿å¹•ã€‚åœ¨æ²¡æœ‰ç»¿å¹•çš„æƒ…å†µä¸‹ä¼ ç»Ÿç›¸æœºå¯ä»¥é€šè¿‡å…‰åœˆæ¥å®ç°èƒŒæ™¯è™šåŒ–ï¼Œå¯¹äºæ‰‹æœºç­‰è®¾å¤‡è€Œè¨€èƒŒæ™¯è™šåŒ–é€šå¸¸ä½¿ç”¨çš„éƒ½æ˜¯è¯­ä¹‰åˆ†å‰²æˆ–ç»“åˆå›¾åƒæ™¯æ·±ä¿¡æ¯ã€‚</p>
<p>è·¯é¢åˆ†å‰²ï¼šå¦‚æ— äººé©¾é©¶æ—¶ç”¨äºå®æ—¶è¯†åˆ«å‘¨å›´ç‰©ä½“ï¼Œå®ç°æ‰¾è·¯çš„åŠŸèƒ½ã€‚</p>
<h3 id="3-å®ä¾‹åˆ†å‰²"><a href="#3-å®ä¾‹åˆ†å‰²" class="headerlink" title="3.å®ä¾‹åˆ†å‰²"></a>3.å®ä¾‹åˆ†å‰²</h3><p>è¯­ä¹‰åˆ†å‰²åªå…³å¿ƒåƒç´ å±äºå“ªä¸€ç±»ï¼Œè€Œå®ä¾‹åˆ†å‰²åˆ™æ›´è¿›ä¸€æ­¥ï¼Œå¦‚å›¾ç‰‡é‡Œæœ‰ä¸¤åªç‹—ï¼Œåˆ™éœ€è¦å¾—å‡ºå“ªä¸ªåƒç´ å±äºå“ªä¸€åªç‹—ã€‚å¯ä»¥å°†å…¶ç†è§£ä¸ºç›®æ ‡æ£€æµ‹çš„è¿›åŒ–ç‰ˆæœ¬ã€‚</p>
<img src="/2024/04/23/11-01-46/46-02.png" class>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4.QA"></a>4.QA</h3><p>Q1: èƒ½å¦åšæ›´ç»†çš„è¯­ä¹‰åˆ†å‰²å¦‚ç‹—çš„å¤´/èº«/è…¿ï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥ï¼Œæœ‰æ ‡æ³¨æ•°æ®å³å¯ï¼Œä¸è¿‡å¯èƒ½ä¼šå‡ºç°ä¸åŒæ ‡æ³¨è€…å¯¹èº«ä½“éƒ¨ä½åˆ†ç•Œä¸åŒä¹‹ç±»çš„é—®é¢˜ã€‚é’ˆå¯¹ç‹—å¤´è¿™ä¸€ä¾‹å­å¯ä»¥è€ƒè™‘ä½¿ç”¨å§¿æ€è¯†åˆ«å¾—åˆ°å…³èŠ‚ç‚¹ã€‚</p>
</blockquote>
<p>Q2: ç›®æ ‡æ£€æµ‹é‡Œåšå›¾åƒå¢å¹¿ï¼Œç›®æ ‡æ¡†åšå¯¹åº”å˜æ¢åä¸å†æ˜¯çŸ©å½¢æ€ä¹ˆåŠï¼Ÿ</p>
<blockquote>
<p>å¦‚æœå¾ˆå…³å¿ƒè§’åº¦ä¿¡æ¯å¯ä»¥ç»™æ¡†åŠ å…¥ä¸€ä¸ªè¡¨ç¤ºæ—‹è½¬è§’åº¦çš„featureï¼Œä¹Ÿå¯ä»¥è€ƒè™‘åœ¨æ—‹è½¬åçš„åŸæ¡†å¤–é¢ç”»ä¸€ä¸ªå¤§æ¡†æŠŠå®ƒåœˆèµ·æ¥ï¼Œè¿™ä¸ªå¤§æ¡†æ˜¯å¯ä»¥è®¡ç®—å‡ºæ¥çš„ã€‚</p>
</blockquote>
<p>Q3: æŠŠäººåƒè¯­ä¹‰åˆ†å‰²åšåˆ°slidesä¸­çš„æ•ˆæœå¤§æ¦‚éœ€è¦å¤šå°‘è®­ç»ƒé›†ï¼Ÿ</p>
<blockquote>
<p>äººåƒè¿™å—æŠ€æœ¯ç›¸å¯¹æ¯”è¾ƒæˆç†Ÿï¼Œåº”è¯¥èƒ½æ‰¾åˆ°å¾ˆå¥½çš„é¢„è®­ç»ƒæ¨¡å‹åœ¨å…¶åŸºç¡€ä¸Šè°ƒæ•´å³å¯ã€‚äººåƒçš„å½¢çŠ¶æ˜¯æ¯”è¾ƒå®¹æ˜“åšçš„ï¼Œéš¾ç‚¹ä¸»è¦åœ¨äºå…‰ç…§ä¸åŒï¼ˆå¯èƒ½ä½¿èƒŒæ™¯ä¸äººåƒ/è¡£æœæ¨¡ç³Šï¼‰</p>
</blockquote>
<p>Q4: ä¸‰ç»´è¯­ä¹‰åˆ†å‰²æ ‡æ³¨æ€ä¹ˆåšï¼Ÿ</p>
<blockquote>
<p>ï¼ˆè¿™é‡ŒæŠŠä¸‰ç»´ç†è§£æˆæœ‰æ™¯æ·±çš„å›¾ç‰‡ï¼‰ä¸€ä¸ªç®€å•çš„åšæ³•æ˜¯æŠŠå›¾ç‰‡å‹ç¼©æˆ2ç»´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‰ç»´å·ç§¯ã€‚ä¸‰ç»´çš„åˆ†å‰²å®é™…ä¸Šæ˜¯å¥½åšçš„ï¼Œå› ä¸ºä¸€ä¸ªç‰©ä½“çš„åƒç´ æ™¯æ·±å¾€å¾€æ˜¯è¿ç»­çš„ä¸”ä¸èƒŒæ™¯å·®è·è¾ƒå¤§ã€‚</p>
</blockquote>
<p>Q5: è‡ªåŠ¨é©¾é©¶ç”¨è¯­ä¹‰åˆ†å‰²ï¼Œå®ä¾‹åˆ†å‰²è¿˜æ˜¯ç›®æ ‡æ£€æµ‹æ›´åˆé€‚ï¼Ÿ</p>
<blockquote>
<p>è‡ªåŠ¨é©¾é©¶éœ€è¦ç”¨åˆ°å¤§é‡ä¸åŒçš„æ¨¡å‹ï¼Œè¯­ä¹‰åˆ†å‰²ä¸»è¦ç”¨äºè·¯é¢åˆ†å‰²ï¼Œç›®æ ‡æ£€æµ‹ç”¨äºæ£€æµ‹å‰è½¦/è¡ŒäººåŠå…¶è·ç¦»/é€Ÿåº¦ã€‚</p>
</blockquote>
<p>Q6: è¯­ä¹‰åˆ†å‰²æœ‰ä»€ä¹ˆæ ‡æ³¨å·¥å…·ï¼Ÿ</p>
<blockquote>
<p>å›½å†…å¤–çš„æ•°æ®æ ‡æ³¨å…¬å¸ä¼šæœ‰è¿™æ–¹é¢çš„å¹³å°ï¼Œå¯ä»¥è‡ªå·±æ‰¾æ‰¾ï¼Œè€å¸ˆè®¤ä¸ºè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå·¥å…·å¤§åŒå°å¼‚ã€‚</p>
<p>ï¼ˆå¼¹å¹•æåŠè¾ƒå¤šï¼šlabelmeï¼‰</p>
</blockquote>
<p>Q7: æ‘„åƒå¤´æ€•è¿‡æ›ï¼Œé€†å…‰ç›¸å…³</p>
<blockquote>
<p>è¿‡æ›ä¸å¸¸è§ï¼Œä½†æ¬ æ›åœ¨å…‰çº¿ä¸è¶³æ—¶å¾ˆå¸¸è§ï¼Œä¸€ç§æ–¹æ³•æ˜¯åšå¤§é‡æ•°æ®å¢å¹¿ã€‚é€†å…‰æ›´éš¾åšä¸€ç‚¹ï¼Œä¸è¿‡photoshopå¯ä»¥æ¨¡æ‹Ÿå‡ºé€†å…‰æ•ˆæœç”¨äºæ•°æ®å¢å¼ºï¼Œä¹Ÿå¯ä»¥åœ¨é‡‡é›†æ•°æ®æ—¶é‡‡é›†ä¸€äº›é€†å…‰ç…§ç‰‡ï¼Œæ£€æŸ¥ä½ç½®ä¿¡åº¦çš„ç…§ç‰‡ç¡®è®¤æ˜¯å¦ä¸ºé€†å…‰ï¼Œä¹‹ååŠ ä»¥æ ‡æ³¨å¯¹æ¨¡å‹é‡æ–°è®­ç»ƒã€‚è¿™æ ·çš„æ–¹æ³•å¯èƒ½ä¼šæ¶‰åŠåˆ°æ•°æ®éšç§é—®é¢˜ã€‚</p>
</blockquote>
<p>Q8: è‡ªåŠ¨é©¾é©¶ç”¨çº¯è§†è§‰æ–¹æ¡ˆèƒ½ä¸èƒ½åšåˆ°å¾ˆå¯é ï¼Ÿ</p>
<blockquote>
<p>teslaåšçš„å°±æ˜¯çº¯è§†è§‰ï¼Œå›½å†…/Googleç”¨æ¿€å…‰é›·è¾¾ï¼ˆè´µä½†ç²¾å‡†ï¼‰ï¼Œæ­¤å¤–å¤§å®¶éƒ½ä¼šç”¨æ‘„åƒå¤´å’Œé›·è¾¾ã€‚è€å¸ˆçš„å¹¿ç”µæ˜¯ä½¿ç”¨çº¯æ‘„åƒå¤´æ–¹æ¡ˆä¸€æ–¹é¢æ˜¯å› ä¸ºæŠ€æœ¯å›¢é˜Ÿåœ¨è¿™æ–¹é¢æœ‰ç§¯ç´¯ï¼Œå¦ä¸€ä¸ªå¯èƒ½çš„åŸå› æ˜¯æ‘„åƒå¤´ä¾¿å®œï¼Œç¬¬ä¸‰ä¸ªåŸå› æ˜¯teslaçš„ç®—åŠ›å¾ˆå¤§èƒ½å¾ˆå¥½å¤„ç†å¤§é‡æ‘„åƒå¤´ä¿¡æ¯ï¼Œæœ€åæ˜¯Teslaæœ‰å¤§é‡çš„æ•°æ®ç§¯ç´¯ï¼Œå¤§é‡çš„æ•°æ®å¯ä»¥å¼¥è¡¥ä¼ æ„Ÿå™¨æ–¹é¢çš„åŠ£åŠ¿ã€‚</p>
<p>ç†è®ºä¸Šçº¯è§†è§‰è‡ªåŠ¨é©¾é©¶æ˜¯å¯è¡Œçš„ï¼Œä½†ç›®å‰åªæœ‰Teslaåšçš„è¿˜ç®—å¯é ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>44.ç‰©ä½“æ£€æµ‹ç®—æ³•ï¼šR-CNN,SSD,YOLO</title>
    <url>/2024/04/23/11-01-44/</url>
    <content><![CDATA[<h2 id="44-ç‰©ä½“æ£€æµ‹ç®—æ³•ï¼šR-CNN-SSD-YOLO"><a href="#44-ç‰©ä½“æ£€æµ‹ç®—æ³•ï¼šR-CNN-SSD-YOLO" class="headerlink" title="44.ç‰©ä½“æ£€æµ‹ç®—æ³•ï¼šR-CNN,SSD,YOLO"></a>44.ç‰©ä½“æ£€æµ‹ç®—æ³•ï¼šR-CNN,SSD,YOLO</h2><h3 id="1-åŒºåŸŸå·ç§¯ç¥ç»ç½‘ç»œ"><a href="#1-åŒºåŸŸå·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="1.åŒºåŸŸå·ç§¯ç¥ç»ç½‘ç»œ"></a>1.åŒºåŸŸå·ç§¯ç¥ç»ç½‘ç»œ</h3><h4 id="1-1-R-CNN"><a href="#1-1-R-CNN" class="headerlink" title="1.1.R-CNN"></a>1.1.R-CNN</h4><ul>
<li>ä½¿ç”¨å¯å‘å¼æœç´¢ç®—æ³•æ¥é€‰æ‹©é”šæ¡†</li>
<li>ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹æ¥å¯¹æ¯ä¸ªé”šæ¡†æŠ½å–ç‰¹å¾ï¼ˆæ¯ä¸ªé”šæ¡†å½“ä½œä¸€ä¸ªå›¾ç‰‡ï¼Œç”¨CNNï¼‰</li>
<li>è®­ç»ƒä¸€ä¸ªSVMæ¥ç±»åˆ«åˆ†ç±»ï¼ˆç¥ç»ç½‘ç»œä¹‹å‰ï¼Œcategory predictionï¼‰</li>
<li>è®­ç»ƒä¸€ä¸ªçº¿æ€§å›å½’æ¨¡å‹æ¥é¢„æµ‹è¾¹ç¼˜æ¡†åç§»ï¼ˆbounding box predictionï¼‰</li>
<li>å…´è¶£åŒºåŸŸï¼ˆRolï¼‰æ± åŒ–å±‚<ul>
<li>ç»™å®šä¸€ä¸ªé”šæ¡†ï¼Œå‡åŒ€åˆ†å‰²ï¼ˆå¦‚æœæ²¡æ³•å‡åŒ€åˆ†å‰²ï¼Œå–æ•´ï¼‰æˆ n x m å—ï¼Œè¾“å‡ºæ¯å—çš„æœ€å¤§å€¼ï¼ˆmax poolingï¼‰</li>
<li>ä¸ç®¡é”šæ¡†å¤šå¤§ï¼Œæ€»æ˜¯è¾“å‡ºnmä¸ªå€¼</li>
<li>ç›®çš„ï¼šæ¯ä¸ªé”šæ¡†éƒ½å¯ä»¥å˜æˆæƒ³è¦çš„å½¢çŠ¶</li>
</ul>
</li>
</ul>
<h4 id="1-2-Fast-RCNN"><a href="#1-2-Fast-RCNN" class="headerlink" title="1.2 Fast RCNN"></a>1.2 Fast RCNN</h4><ul>
<li><p>RCNNéœ€è¦å¯¹æ¯ä¸ªé”šæ¡†è¿›è¡ŒCNNè¿ç®—ï¼Œè¿™äº›ç‰¹å¾æŠ½å–è®¡ç®—æœ‰é‡å¤ï¼Œå¹¶ä¸”é”šæ¡†æ•°é‡å¤§ï¼Œç‰¹å¾æŠ½å–çš„è®¡ç®—é‡ä¹Ÿå¤§ã€‚Fast RCNNæ”¹è¿›äº†è¿™ç§è®¡ç®—é‡å¤§çš„é—®é¢˜</p>
</li>
<li><p>ä½¿ç”¨CNNå¯¹æ•´å¼ å›¾ç‰‡æŠ½å–ç‰¹å¾ï¼ˆå¿«çš„å…³é”®ï¼‰</p>
</li>
<li><p>ä½¿ç”¨Rolæ± åŒ–å±‚å¯¹æ¯ä¸ªé”šæ¡†ï¼ˆå°†åœ¨åŸå›¾ç‰‡ä¸­æœç´¢åˆ°çš„é”šæ¡†ï¼Œæ˜ å°„åˆ°CNNå¾—åˆ°çš„ç»“æœä¸Šï¼‰ï¼Œç”Ÿæˆå›ºå®šé•¿åº¦çš„ç‰¹å¾</p>
</li>
</ul>
<img src="/2024/04/23/11-01-44/44-01.png" class>
<h4 id="1-3-Faster-RCNN"><a href="#1-3-Faster-RCNN" class="headerlink" title="1.3 Faster RCNN"></a>1.3 Faster RCNN</h4><ul>
<li>åœ¨Fast RCNNåŸºç¡€ä¸Šå˜å¾—æ›´å¿«</li>
<li>ä½¿ç”¨ä¸€ä¸ª <strong>åŒºåŸŸæè®®ç½‘ç»œæ¥æ›¿ä»£å¯å‘å¼æœç´¢è·å¾—æ›´å¥½çš„é”šæ¡†</strong></li>
<li>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†CNNç»“æœè¾“å…¥åˆ°å·ç§¯å±‚ï¼Œç„¶åç”¨é”šæ¡†å»åœˆåŒºåŸŸï¼Œè¿™äº›é”šæ¡†å¾ˆå¤šæœ‰å¥½æœ‰åï¼Œç„¶åè¿›è¡Œé¢„æµ‹ï¼Œbinary é¢„æµ‹æ˜¯é¢„æµ‹è¿™ä¸ªé”šæ¡†çš„å¥½åï¼Œå³æœ‰æ²¡æœ‰æœ‰æ•ˆçš„åœˆä½ç‰©ä½“ï¼Œbounding box predictioné¢„æµ‹æ˜¯å¯¹é”šæ¡†è¿›è¡Œä¸€äº›æ”¹è¿›ï¼Œæœ€åç”¨NMSï¼ˆéæå¤§å€¼æŠ‘åˆ¶ï¼‰å¯¹é”šæ¡†è¿›è¡Œåˆå¹¶ã€‚</li>
<li>å…·ä½“æ¥è¯´ï¼ŒåŒºåŸŸæè®®ç½‘ç»œçš„è®¡ç®—æ­¥éª¤å¦‚ä¸‹ï¼š<ol>
<li>ä½¿ç”¨å¡«å……ä¸º1çš„3Ã—3çš„å·ç§¯å±‚å˜æ¢å·ç§¯ç¥ç»ç½‘ç»œçš„è¾“å‡ºï¼Œå¹¶å°†è¾“å‡ºé€šé“æ•°è®°ä¸ºcã€‚è¿™æ ·ï¼Œå·ç§¯ç¥ç»ç½‘ç»œä¸ºå›¾åƒæŠ½å–çš„ç‰¹å¾å›¾ä¸­çš„æ¯ä¸ªå•å…ƒå‡å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºcçš„æ–°ç‰¹å¾ã€‚</li>
<li>ä»¥ç‰¹å¾å›¾çš„æ¯ä¸ªåƒç´ ä¸ºä¸­å¿ƒï¼Œç”Ÿæˆå¤šä¸ªä¸åŒå¤§å°å’Œå®½é«˜æ¯”çš„é”šæ¡†å¹¶æ ‡æ³¨å®ƒä»¬ã€‚</li>
<li>ä½¿ç”¨é”šæ¡†ä¸­å¿ƒå•å…ƒé•¿åº¦ä¸ºcçš„ç‰¹å¾ï¼Œåˆ†åˆ«é¢„æµ‹è¯¥é”šæ¡†çš„äºŒå…ƒç±»åˆ«ï¼ˆå«ç›®æ ‡è¿˜æ˜¯èƒŒæ™¯ï¼‰å’Œè¾¹ç•Œæ¡†ã€‚</li>
<li>ä½¿ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œä»é¢„æµ‹ç±»åˆ«ä¸ºç›®æ ‡çš„é¢„æµ‹è¾¹ç•Œæ¡†ä¸­ç§»é™¤ç›¸ä¼¼çš„ç»“æœã€‚æœ€ç»ˆè¾“å‡ºçš„é¢„æµ‹è¾¹ç•Œæ¡†å³æ˜¯å…´è¶£åŒºåŸŸæ±‡èšå±‚æ‰€éœ€çš„æè®®åŒºåŸŸã€‚</li>
</ol>
</li>
</ul>
<img src="/2024/04/23/11-01-44/44-02.png" class>
<h4 id="1-4-Mask-RCNN"><a href="#1-4-Mask-RCNN" class="headerlink" title="1.4 Mask RCNN"></a>1.4 Mask RCNN</h4><ul>
<li>å¦‚æœæœ‰<strong>åƒç´ çº§åˆ«çš„æ ‡å·</strong>ï¼Œä½¿ç”¨FCNï¼ˆfully convolutional networkï¼‰åˆ©ç”¨è¿™äº›ä¿¡æ¯ã€‚å¯ä»¥æå‡CNNçš„æ€§èƒ½</li>
<li><strong>Rol align</strong>ã€‚ä¹‹å‰çš„Rolè¿›è¡Œæ± åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æ³•æ•´é™¤ï¼Œå¯ä»¥ç›´æ¥å–æ•´ã€‚ä½†æ˜¯åƒç´ çº§åˆ«çš„æ ‡å·é¢„æµ‹çš„æ—¶å€™ï¼Œä¼šé€ æˆåå·®çš„ç´¯ç§¯ï¼Œå¯¼è‡´è¾¹ç•Œé¢„æµ‹ä¸å‡†ç¡®ã€‚æœªæ¥é¿å…è¿™ç§æƒ…å†µï¼Œä½¿ç”¨Rol alignï¼Œä¹Ÿå°±æ˜¯å½“æ²¡æ³•æ•´é™¤ï¼Œå¯¹æ¯ä¸ªåƒç´ å€¼è¿›è¡ŒæŒ‰æ¯”ä¾‹åˆ†é…ã€‚</li>
<li>å…·ä½“æ¥è¯´ï¼ŒMask R-CNNå°†å…´è¶£åŒºåŸŸæ±‡èšå±‚æ›¿æ¢ä¸ºäº†<em>å…´è¶£åŒºåŸŸå¯¹é½</em>å±‚ï¼Œä½¿ç”¨<em>åŒçº¿æ€§æ’å€¼</em>ï¼ˆbilinear interpolationï¼‰æ¥ä¿ç•™ç‰¹å¾å›¾ä¸Šçš„ç©ºé—´ä¿¡æ¯ï¼Œä»è€Œæ›´é€‚äºåƒç´ çº§é¢„æµ‹ã€‚ å…´è¶£åŒºåŸŸå¯¹é½å±‚çš„è¾“å‡ºåŒ…å«äº†æ‰€æœ‰ä¸å…´è¶£åŒºåŸŸçš„å½¢çŠ¶ç›¸åŒçš„ç‰¹å¾å›¾ã€‚ å®ƒä»¬ä¸ä»…è¢«ç”¨äºé¢„æµ‹æ¯ä¸ªå…´è¶£åŒºåŸŸçš„ç±»åˆ«å’Œè¾¹ç•Œæ¡†ï¼Œè¿˜é€šè¿‡é¢å¤–çš„å…¨å·ç§¯ç½‘ç»œé¢„æµ‹ç›®æ ‡çš„åƒç´ çº§ä½ç½®ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-44/44-03.png" class>
<h4 id="1-5-æ€»ç»“"><a href="#1-5-æ€»ç»“" class="headerlink" title="1.5 æ€»ç»“"></a>1.5 æ€»ç»“</h4><ul>
<li>R-CNNæ˜¯æœ€æ—©ä¹Ÿæ˜¯æœ€æœ‰åçš„ä¸€ç±»åŸºäºé”šæ¡†å’ŒCNNçš„ç›®æ ‡æ£€æµ‹ç®—æ³•</li>
<li>Fast/Faster RCNN æŒç»­æå‡æ€§èƒ½</li>
<li>Faster RCNNå’ŒMask RCNNæ˜¯åœ¨è¦æ±‚é«˜ç²¾åº¦åœºæ™¯ä¸‹å¸¸ç”¨çš„ç®—æ³•ï¼ˆä½†æ˜¯é€Ÿåº¦æ˜¯æœ€æ…¢çš„ï¼‰</li>
</ul>
<h3 id="2-å•å‘å¤šæ¡†æ£€æµ‹ï¼ˆSSD-single-shot-detectionï¼‰"><a href="#2-å•å‘å¤šæ¡†æ£€æµ‹ï¼ˆSSD-single-shot-detectionï¼‰" class="headerlink" title="2. å•å‘å¤šæ¡†æ£€æµ‹ï¼ˆSSD single shot detectionï¼‰"></a>2. å•å‘å¤šæ¡†æ£€æµ‹ï¼ˆSSD single shot detectionï¼‰</h3><ul>
<li>ç”Ÿæˆé”šæ¡†<ul>
<li>å¯¹æ¯ä¸ªåƒç´ ï¼Œç”Ÿæˆå¤šä¸ªä»¥å®ƒä¸ºä¸­å¿ƒçš„é”šæ¡†</li>
<li>ç»™å®š n ä¸ªå¤§å°$s_1,â€¦,s_n$å’Œmä¸ªé«˜å®½æ¯”ï¼Œç”Ÿæˆn+m-1ä¸ªé”šæ¡†ï¼Œå…¶å¤§å°å’Œé«˜å®½æ¯”åˆ†åˆ«ä¸ºï¼š$(s_1,r_1),(s_2,r_1)â€¦,(s_n,r_1),(s_1,r_2),â€¦,(s_1,r_m)$</li>
</ul>
</li>
<li>SSDæ¨¡å‹<ul>
<li>å¯¹å¤šä¸ªåˆ†è¾¨ç‡ä¸‹çš„å·ç§¯ç‰¹å¾ï¼Œç”Ÿæˆé”šæ¡†ï¼Œé¢„æµ‹</li>
<li>ä¸€ä¸ªåŸºç¡€ç½‘ç»œï¼ŒæŠ½å–ç‰¹å¾ï¼Œç„¶åç”¨å¤šä¸ªå·ç§¯å±‚æ¥å‡åŠé«˜å®½</li>
<li>åœ¨æ¯æ®µéƒ½ç”Ÿæˆé”šæ¡†<ul>
<li>åº•éƒ¨æ®µæ‹Ÿåˆå°ç‰©ä½“</li>
<li>é¡¶éƒ¨æ®µæ‹Ÿåˆå¤§ç‰©ä½“</li>
</ul>
</li>
<li>å¯¹æ¯ä¸ªé”šæ¡†é¢„æµ‹ç±»åˆ«å’Œè¾¹ç¼˜æ¡†</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-44/44-04.png" class>
<ul>
<li>æ€»ç»“<ul>
<li>é€Ÿåº¦å¿«ï¼Œç²¾åº¦å¾ˆä½ã€‚è¿™ä¹ˆå¤šå¹´ï¼Œä½œè€…æ²¡æœ‰æŒç»­çš„æå‡ï¼Œä½†æ˜¯å¯å‘äº†åé¢çš„ä¸€ç³»åˆ—å·¥ä½œï¼Œå®ç°ä¸Šç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚</li>
<li>SSDé€šè¿‡å•ç¥ç»ç½‘ç»œæ¥æ£€æµ‹æ¨¡å‹ï¼ˆsingle shotï¼‰</li>
<li>ä»¥åƒç´ ä¸ºä¸­å¿ƒçš„äº§ç”Ÿå¤šä¸ªé”šæ¡†</li>
<li>åœ¨å¤šä¸ªæ®µçš„è¾“å‡ºä¸Šè¿›è¡Œå¤šå°ºåº¦çš„æ£€æµ‹</li>
</ul>
</li>
</ul>
<h3 id="3-YOLOï¼ˆyou-only-look-onceï¼‰"><a href="#3-YOLOï¼ˆyou-only-look-onceï¼‰" class="headerlink" title="3. YOLOï¼ˆyou only look onceï¼‰"></a>3. YOLOï¼ˆyou only look onceï¼‰</h3><ul>
<li>SSDä¸­é”šæ¡†å¤§é‡é‡å¤ï¼Œå› æ­¤æµªè´¹äº†å¾ˆå¤šè®¡ç®—èµ„æº</li>
<li>YOLOå°†å›¾ç‰‡å‡åˆ†ä¸º S X S ä¸ªé”šæ¡†</li>
<li>æ¯ä¸ªé”šæ¡†é¢„æµ‹ B ä¸ªè¾¹ç¼˜æ¡†ï¼ˆé˜²æ­¢å¤šä¸ªç‰©ä½“å‡ºç°åœ¨ä¸€ä¸ªé”šæ¡†é‡Œé¢ï¼‰</li>
<li>åç»­ç‰ˆæœ¬ v2 v3 v4 æœ‰æŒç»­æ”¹è¿›</li>
<li>éé”šæ¡†ç®—æ³•</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>43-æ ‘å¶åˆ†ç±»ç«èµ›æŠ€æœ¯æ€»ç»“</title>
    <url>/2024/04/23/11-01-43/</url>
    <content><![CDATA[<h2 id="43-æ ‘å¶åˆ†ç±»ç«èµ›æŠ€æœ¯æ€»ç»“"><a href="#43-æ ‘å¶åˆ†ç±»ç«èµ›æŠ€æœ¯æ€»ç»“" class="headerlink" title="43-æ ‘å¶åˆ†ç±»ç«èµ›æŠ€æœ¯æ€»ç»“"></a>43-æ ‘å¶åˆ†ç±»ç«èµ›æŠ€æœ¯æ€»ç»“</h2><h3 id="1-æ¯”èµ›ç»“æœ"><a href="#1-æ¯”èµ›ç»“æœ" class="headerlink" title="1. æ¯”èµ›ç»“æœ"></a>1. æ¯”èµ›ç»“æœ</h3><ul>
<li>176ç±»ï¼Œ18353è®­ç»ƒæ ·æœ¬</li>
</ul>
<img src="/2024/04/23/11-01-43/43-01.png" class>
<ul>
<li>165åªé˜Ÿä¼å‚åŠ <ul>
<li>41åªé˜Ÿä¼ç²¾åº¦ &gt; 98% (éå¸¸å¥½)</li>
<li>83åªé˜Ÿä¼ç²¾åº¦ &gt; 95% (å¤Ÿç”¨)</li>
</ul>
</li>
</ul>
<h3 id="2-ç»“æœåˆ†æ"><a href="#2-ç»“æœåˆ†æ" class="headerlink" title="2. ç»“æœåˆ†æ"></a>2. ç»“æœåˆ†æ</h3><ul>
<li><p>16åªé˜Ÿä¼æä¾›äº†ä»£ç ï¼š</p>
<ul>
<li><a href="https://www.kaggle.com/c/classify-leaves/code">Classify Leaves | Kaggle</a></li>
</ul>
</li>
<li><p>é¢å¤–åŠ ä¸ŠNeko Kiku</p>
<ul>
<li>å¾ˆå¤šäººå‚è€ƒäº†æ­¤ä»£ç  <a href="https://www.kaggle.com/nekokiku/simple-resnet-baseline">simple resnet baseline | Kaggle</a></li>
</ul>
</li>
</ul>
<h3 id="3-æŠ€æœ¯åˆ†æ"><a href="#3-æŠ€æœ¯åˆ†æ" class="headerlink" title="3. æŠ€æœ¯åˆ†æ"></a>3. æŠ€æœ¯åˆ†æ</h3><p>ç›¸æ¯”äºè¯¾ç¨‹ä»‹ç»çš„ä»£ç ï¼ŒåŒå­¦ä»¬ä¸»è¦åšäº†ä¸‹é¢è¿™äº›åŠ å¼ºï¼š</p>
<ul>
<li><p><strong>æ•°æ®å¢å¼º</strong>ï¼Œåœ¨æµ‹è¯•æ—¶å¤šæ¬¡ä½¿ç”¨ç¨å¼±çš„å¢å¼ºç„¶åå–å¹³å‡</p>
</li>
<li><p>ä½¿ç”¨<strong>å¤šä¸ªæ¨¡å‹</strong>é¢„æµ‹ï¼Œæœ€åç»“æœåŠ æƒå¹³å‡</p>
<ul>
<li>æœ‰ä½¿ç”¨10ç§æ¨¡å‹çš„ï¼Œä¹Ÿæœ‰ä½¿ç”¨å•ä¸€æ¨¡å‹çš„</li>
</ul>
</li>
<li><strong>è®­ç»ƒç®—æ³•</strong>å’Œ<strong>å­¦ä¹ ç‡</strong></li>
<li><strong>æ¸…ç†æ•°æ®</strong></li>
</ul>
<h3 id="4-æ¨¡å‹æ–¹é¢"><a href="#4-æ¨¡å‹æ–¹é¢" class="headerlink" title="4. æ¨¡å‹æ–¹é¢"></a>4. æ¨¡å‹æ–¹é¢</h3><ul>
<li><p>æ¨¡å‹å¤šä¸ºResNetå˜ç§</p>
<ul>
<li>DenseNetï¼ŒResNeXtï¼ŒResNeSt,  â€¦</li>
<li>EfficientNet</li>
</ul>
</li>
<li><p>ä¼˜åŒ–ç®—æ³•å¤šä¸ºAdamæˆ–å…¶å˜ç§</p>
</li>
<li>å­¦ä¹ ç‡ä¸€èˆ¬æ˜¯Cosineæˆ–è€…è®­ç»ƒä¸åŠ¨æ—¶å¾€ä¸‹è°ƒ</li>
</ul>
<h3 id="5-AutoGluon"><a href="#5-AutoGluon" class="headerlink" title="5. AutoGluon"></a>5. AutoGluon</h3><ul>
<li>15è¡Œä»£ç ï¼Œ å®‰è£…åŠ è®­ç»ƒè€—æ—¶100åˆ†é’Ÿ<ul>
<li><a href="https://www.kaggle.com/zhreshold/autogluon-vision-0-96-with-15-lines">AutoGluon.vision: 0.96+ with 15 lines | Kaggle</a></li>
</ul>
</li>
<li>ç²¾åº¦96%<ul>
<li>å¯ä»¥é€šè¿‡å®šåˆ¶åŒ–æå‡ç²¾åº¦</li>
<li>ä¸‹ä¸€ä¸ªç‰ˆæœ¬å°†æœç´¢æ›´å¤šçš„æ¨¡å‹è¶…å‚æ•°</li>
<li>AGç›®å‰ä¸»è¦ä»æ˜¯å…³æ³¨å·¥ä¸šç•Œåº”ç”¨ä¸Šï¼Œè€Œéæ¯”èµ›</li>
</ul>
</li>
</ul>
<h3 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h3><ul>
<li>æå‡ç²¾åº¦æ€è·¯ï¼šæ ¹æ®æ•°æ®æŒ‘é€‰å¢å¼ºï¼Œä½¿ç”¨æ–°æ¨¡å‹ã€æ–°ä¼˜åŒ–ç®—æ³•ï¼Œå¤šä¸ªæ¨¡å‹èåˆï¼Œæµ‹è¯•æ—¶ä½¿ç”¨å¢å¼º</li>
<li>æ•°æ®ç›¸å¯¹ç®€å•ï¼Œæ’åæœ‰ç›¸å¯¹éšæœºæ€§</li>
<li>åœ¨å·¥ä¸šç•Œåº”ç”¨ä¸­ï¼š<ul>
<li>å°‘ä½¿ç”¨æ¨¡å‹èåˆå’Œæµ‹è¯•æ—¶å¢å¼ºï¼Œè®¡ç®—ä»£ä»·è¿‡é«˜</li>
<li>é€šå¸¸å›ºå®šæ¨¡å‹è¶…å‚æ•°ï¼Œè€Œå°†ç²¾åŠ›ä¸»è¦èŠ±åœ¨æå‡æ•°æ®è´¨é‡</li>
</ul>
</li>
</ul>
<p>æ¯”èµ›/å­¦æœ¯ç•Œï¼šå›ºå®šæ•°æ®ï¼Œè°ƒæ¨¡å‹</p>
<p>å·¥ä¸šç•Œï¼šå›ºå®šæ¨¡å‹ï¼Œè°ƒæ•°æ®</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>41-ç‰©ä½“æ£€æµ‹å’Œæ•°æ®é›†</title>
    <url>/2024/04/23/11-01-41/</url>
    <content><![CDATA[<h3 id="41-ç‰©ä½“æ£€æµ‹å’Œæ•°æ®é›†"><a href="#41-ç‰©ä½“æ£€æµ‹å’Œæ•°æ®é›†" class="headerlink" title="41 ç‰©ä½“æ£€æµ‹å’Œæ•°æ®é›†"></a>41 ç‰©ä½“æ£€æµ‹å’Œæ•°æ®é›†</h3><h4 id="ç‰©ä½“æ£€æµ‹"><a href="#ç‰©ä½“æ£€æµ‹" class="headerlink" title="ç‰©ä½“æ£€æµ‹"></a>ç‰©ä½“æ£€æµ‹</h4><ol>
<li>å›¾ç‰‡åˆ†ç±»å’Œç›®æ ‡æ£€æµ‹åœ¨ä»»åŠ¡ä¸Šçš„åŒºåˆ«ï¼šå›¾ç‰‡åˆ†ç±»å·²çŸ¥æœ‰ä¸€ä¸ªç¡®å®šç›®æ ‡ï¼Œä»»åŠ¡æ˜¯è¯†åˆ«è¯¥ç›®æ ‡å±äºä½•ç§åˆ†ç±»ï¼Œè€Œç›®æ ‡æ£€æµ‹ä¸ä»…éœ€è¦æ£€æµ‹å‡ºå›¾ç‰‡ä¸­æ‰€æœ‰æ„Ÿå…´è¶£çš„ç›®æ ‡ç±»åˆ«ï¼Œå¹¶ç¡®å®šå…¶ä½ç½®ï¼Œæ‰€ä»¥ç›®æ ‡æ£€æµ‹è¦æ¯”å›¾ç‰‡åˆ†ç±»æ›´å¤æ‚åº”ç”¨åœºæ™¯æ›´å¹¿ã€‚</li>
<li>å›¾ç‰‡åˆ†ç±»å’Œç›®æ ‡æ£€æµ‹åœ¨æ•°æ®é›†ä¸Šçš„åŒºåˆ«ï¼šç”±äºç›®æ ‡æ£€æµ‹ä¸­æ¯ä¸€å¼ å›¾ç‰‡å¯èƒ½å­˜åœ¨å¤šä¸ªç›®æ ‡ï¼Œæ¯ä¸ªç›®æ ‡æˆ‘ä»¬ä¸ä»…éœ€è¦åˆ†ç±»ï¼Œè¿˜éœ€è¦ç¡®å®šè¾¹ç¼˜æ¡†ä»¥ç»™å‡ºç›®æ ‡ä½ç½®ä¿¡æ¯ï¼Œå› æ­¤ç›®æ ‡æ£€æµ‹æ•°æ®é›†çš„æ ‡æ³¨æˆæœ¬è¦æ˜¾è‘—é«˜äºå›¾ç‰‡åˆ†ç±»ï¼Œä¹Ÿå°±å¯¼è‡´äº†ç›®æ ‡æ£€æµ‹æ•°æ®é›†è¾ƒå°ã€‚</li>
<li>è¾¹ç¼˜æ¡†ï¼šç”¨ä¸€ä¸ªå°½é‡å°çŸ©å½¢æ¡†å°†ç›®æ ‡ç‰©ä½“å¤§ä½“æ¡†èµ·æ¥ï¼Œè¾¹æ¡†çš„ä½ç½®ä¿¡æ¯å°±å¯ä»¥è¡¨ç¤ºç›®æ ‡ä½ç½®åœ¨å›¾ç‰‡ä¸­çš„ä½ç½®ä¿¡æ¯ï¼Œå¸¸è§çš„è¾¹ç¼˜æ¡†æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼š</li>
</ol>
<ul>
<li>ï¼ˆå·¦ä¸Šxï¼Œå·¦ä¸Šyï¼Œå³ä¸‹xï¼Œå³ä¸‹yï¼‰</li>
<li>ï¼ˆå·¦ä¸Šxï¼Œå·¦ä¸Šyï¼Œå®½ï¼Œé«˜ï¼‰</li>
</ul>
<ol>
<li>ç›®æ ‡æ£€æµ‹æ•°æ®é›†çš„å¸¸è§è¡¨ç¤ºï¼šæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªç‰©ä½“ï¼Œå¯¹äºæ¯ä¸€ä¸ªç‰©ä½“è€Œè¨€ï¼Œç”¨â€œå›¾ç‰‡æ–‡ä»¶åï¼Œç‰©ä½“ç±»åˆ«ï¼Œè¾¹ç¼˜æ¡†â€è¡¨ç¤ºï¼Œç”±äºè¾¹ç¼˜æ¡†ç”¨4ä¸ªæ•°å€¼è¡¨ç¤ºï¼Œå› æ­¤å¯¹äºæ¯ä¸€è¡Œçš„é‚£ä¸€ä¸ªç‰©ä½“è€Œè¨€ï¼Œéœ€è¦ç”¨6ä¸ªæ•°å€¼è¡¨ç¤ºã€‚</li>
<li>ç›®æ ‡æ£€æµ‹é¢†åŸŸå¸¸ç”¨æ•°æ®é›†ï¼šCOCOï¼ˆ80ç±»ç‰©ä½“ï¼Œ330Kå›¾ç‰‡ï¼Œæ‰€æœ‰å›¾ç‰‡å…±æ ‡æ³¨1.5Mç‰©ä½“ï¼‰</li>
</ol>
<h4 id="è¾¹ç¼˜æ¡†å®ç°"><a href="#è¾¹ç¼˜æ¡†å®ç°" class="headerlink" title="è¾¹ç¼˜æ¡†å®ç°"></a>è¾¹ç¼˜æ¡†å®ç°</h4><ol>
<li>ç›®æ ‡çš„ä½ç½®</li>
</ol>
<p>åœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å‡è®¾å›¾åƒä¸­åªæœ‰ä¸€ä¸ªä¸»è¦ç‰©ä½“å¯¹è±¡ï¼Œæˆ‘ä»¬åªå…³æ³¨å¦‚ä½•è¯†åˆ«å…¶ç±»åˆ«ã€‚ ç„¶è€Œï¼Œå¾ˆå¤šæ—¶å€™å›¾åƒé‡Œæœ‰å¤šä¸ªæˆ‘ä»¬æ„Ÿå…´è¶£çš„ç›®æ ‡ï¼Œæˆ‘ä»¬ä¸ä»…æƒ³çŸ¥é“å®ƒä»¬çš„ç±»åˆ«ï¼Œè¿˜æƒ³å¾—åˆ°å®ƒä»¬åœ¨å›¾åƒä¸­çš„å…·ä½“ä½ç½®ã€‚ åœ¨è®¡ç®—æœºè§†è§‰é‡Œï¼Œæˆ‘ä»¬å°†è¿™ç±»ä»»åŠ¡ç§°ä¸º<em>ç›®æ ‡æ£€æµ‹</em>ï¼ˆobject detectionï¼‰æˆ–<em>ç›®æ ‡è¯†åˆ«</em>ï¼ˆobject recognitionï¼‰ã€‚ç›®æ ‡æ£€æµ‹åœ¨å¤šä¸ªé¢†åŸŸä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œåœ¨æ— äººé©¾é©¶é‡Œï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡è¯†åˆ«æ‹æ‘„åˆ°çš„è§†é¢‘å›¾åƒé‡Œçš„è½¦è¾†ã€è¡Œäººã€é“è·¯å’Œéšœç¢ç‰©çš„ä½ç½®æ¥è§„åˆ’è¡Œè¿›çº¿è·¯ã€‚ æœºå™¨äººä¹Ÿå¸¸é€šè¿‡è¯¥ä»»åŠ¡æ¥æ£€æµ‹æ„Ÿå…´è¶£çš„ç›®æ ‡ã€‚å®‰é˜²é¢†åŸŸåˆ™éœ€è¦æ£€æµ‹å¼‚å¸¸ç›®æ ‡ï¼Œå¦‚æ­¹å¾’æˆ–è€…ç‚¸å¼¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é¢åŠ è½½æœ¬èŠ‚å°†ä½¿ç”¨çš„ç¤ºä¾‹å›¾åƒã€‚å¯ä»¥çœ‹åˆ°å›¾åƒå·¦è¾¹æ˜¯ä¸€åªç‹—ï¼Œå³è¾¹æ˜¯ä¸€åªçŒ«ã€‚ å®ƒä»¬æ˜¯è¿™å¼ å›¾åƒé‡Œçš„ä¸¤ä¸ªä¸»è¦ç›®æ ‡ã€‚</span></span><br><span class="line"></span><br><span class="line">d2l.set_figsize()</span><br><span class="line">img = d2l.plt.imread(<span class="string">&#x27;../img/catdog.jpg&#x27;</span>)</span><br><span class="line">d2l.plt.imshow(img);</span><br></pre></td></tr></table></figure>
<ol>
<li>è¾¹ç•Œæ¡†</li>
</ol>
<ul>
<li><p>åœ¨ç›®æ ‡æ£€æµ‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<em>è¾¹ç•Œæ¡†</em>ï¼ˆbounding boxï¼‰æ¥æè¿°å¯¹è±¡çš„ç©ºé—´ä½ç½®ã€‚ è¾¹ç•Œæ¡†æ˜¯çŸ©å½¢çš„ï¼Œç”±çŸ©å½¢å·¦ä¸Šè§’çš„ä»¥åŠå³ä¸‹è§’çš„<em>x</em>å’Œ<em>y</em>åæ ‡å†³å®šã€‚ å¦ä¸€ç§å¸¸ç”¨çš„è¾¹ç•Œæ¡†è¡¨ç¤ºæ–¹æ³•æ˜¯è¾¹ç•Œæ¡†ä¸­å¿ƒçš„(<em>x</em>,<em>y</em>)è½´åæ ‡ä»¥åŠæ¡†çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>
</li>
<li><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰åœ¨è¿™ä¸¤ç§è¡¨ç¤ºæ³•ä¹‹é—´è¿›è¡Œè½¬æ¢çš„å‡½æ•°ï¼š<code>box_corner_to_center</code>ä»ä¸¤è§’è¡¨ç¤ºæ³•è½¬æ¢ä¸ºä¸­å¿ƒå®½åº¦è¡¨ç¤ºæ³•ï¼Œè€Œ<code>box_center_to_corner</code>åä¹‹äº¦ç„¶ã€‚ è¾“å…¥å‚æ•°<code>boxes</code>å¯ä»¥æ˜¯é•¿åº¦ä¸º4çš„å¼ é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å½¢çŠ¶ä¸ºï¼ˆ<em>n</em>ï¼Œ4ï¼‰çš„äºŒç»´å¼ é‡ï¼Œå…¶ä¸­<em>n</em>æ˜¯è¾¹ç•Œæ¡†çš„æ•°é‡ã€‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">box_corner_to_center</span>(<span class="params">boxes</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä»ï¼ˆå·¦ä¸Šï¼Œå³ä¸‹ï¼‰è½¬æ¢åˆ°ï¼ˆä¸­é—´ï¼Œå®½åº¦ï¼Œé«˜åº¦ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    x1, y1, x2, y2 = boxes[:, <span class="number">0</span>], boxes[:, <span class="number">1</span>], boxes[:, <span class="number">2</span>], boxes[:, <span class="number">3</span>]</span><br><span class="line">    cx = (x1 + x2) / <span class="number">2</span></span><br><span class="line">    cy = (y1 + y2) / <span class="number">2</span></span><br><span class="line">    w = x2 - x1</span><br><span class="line">    h = y2 - y1</span><br><span class="line">    boxes = torch.stack((cx, cy, w, h), axis=-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> boxes</span><br><span class="line"></span><br><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">box_center_to_corner</span>(<span class="params">boxes</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä»ï¼ˆä¸­é—´ï¼Œå®½åº¦ï¼Œé«˜åº¦ï¼‰è½¬æ¢åˆ°ï¼ˆå·¦ä¸Šï¼Œå³ä¸‹ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    cx, cy, w, h = boxes[:, <span class="number">0</span>], boxes[:, <span class="number">1</span>], boxes[:, <span class="number">2</span>], boxes[:, <span class="number">3</span>]</span><br><span class="line">    x1 = cx - <span class="number">0.5</span> * w</span><br><span class="line">    y1 = cy - <span class="number">0.5</span> * h</span><br><span class="line">    x2 = cx + <span class="number">0.5</span> * w</span><br><span class="line">    y2 = cy + <span class="number">0.5</span> * h</span><br><span class="line">    boxes = torch.stack((x1, y1, x2, y2), axis=-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> boxes</span><br></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬å°†æ ¹æ®åæ ‡ä¿¡æ¯å®šä¹‰å›¾åƒä¸­ç‹—å’ŒçŒ«çš„è¾¹ç•Œæ¡†ã€‚ å›¾åƒä¸­åæ ‡çš„åŸç‚¹æ˜¯å›¾åƒçš„å·¦ä¸Šè§’ï¼Œå‘å³çš„æ–¹å‘ä¸º<em>x</em>è½´çš„æ­£æ–¹å‘ï¼Œå‘ä¸‹çš„æ–¹å‘ä¸º<em>y</em>è½´çš„æ­£æ–¹å‘ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bboxæ˜¯è¾¹ç•Œæ¡†çš„è‹±æ–‡ç¼©å†™</span></span><br><span class="line">dog_bbox, cat_bbox = [<span class="number">60.0</span>, <span class="number">45.0</span>, <span class="number">378.0</span>, <span class="number">516.0</span>], [<span class="number">400.0</span>, <span class="number">112.0</span>, <span class="number">655.0</span>, <span class="number">493.0</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>æˆ‘ä»¬å¯ä»¥å°†è¾¹ç•Œæ¡†åœ¨å›¾ä¸­ç”»å‡ºï¼Œä»¥æ£€æŸ¥å…¶æ˜¯å¦å‡†ç¡®ã€‚ ç”»ä¹‹å‰ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°<code>bbox_to_rect</code>ã€‚ å®ƒå°†è¾¹ç•Œæ¡†è¡¨ç¤ºæˆ<code>matplotlib</code>çš„è¾¹ç•Œæ¡†æ ¼å¼ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bbox_to_rect</span>(<span class="params">bbox, color</span>):</span><br><span class="line">    <span class="comment"># å°†è¾¹ç•Œæ¡†(å·¦ä¸Šx,å·¦ä¸Šy,å³ä¸‹x,å³ä¸‹y)æ ¼å¼è½¬æ¢æˆmatplotlibæ ¼å¼ï¼š</span></span><br><span class="line">    <span class="comment"># ((å·¦ä¸Šx,å·¦ä¸Šy),å®½,é«˜)</span></span><br><span class="line">    <span class="keyword">return</span> d2l.plt.Rectangle(</span><br><span class="line">        xy=(bbox[<span class="number">0</span>], bbox[<span class="number">1</span>]), width=bbox[<span class="number">2</span>]-bbox[<span class="number">0</span>], height=bbox[<span class="number">3</span>]-bbox[<span class="number">1</span>],</span><br><span class="line">        fill=<span class="literal">False</span>, edgecolor=color, linewidth=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨å›¾åƒä¸Šæ·»åŠ è¾¹ç•Œæ¡†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªç‰©ä½“çš„ä¸»è¦è½®å»“åŸºæœ¬ä¸Šåœ¨ä¸¤ä¸ªæ¡†å†…ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig = d2l.plt.imshow(img)</span><br><span class="line">fig.axes.add_patch(bbox_to_rect(dog_bbox, <span class="string">&#x27;blue&#x27;</span>))</span><br><span class="line">fig.axes.add_patch(bbox_to_rect(cat_bbox, <span class="string">&#x27;red&#x27;</span>));</span><br></pre></td></tr></table></figure>
<ol>
<li>å°ç»“</li>
</ol>
<ul>
<li>ç›®æ ‡æ£€æµ‹ä¸ä»…å¯ä»¥è¯†åˆ«å›¾åƒä¸­æ‰€æœ‰æ„Ÿå…´è¶£çš„ç‰©ä½“ï¼Œè¿˜èƒ½è¯†åˆ«å®ƒä»¬çš„ä½ç½®ï¼Œè¯¥ä½ç½®é€šå¸¸ç”±çŸ©å½¢è¾¹ç•Œæ¡†è¡¨ç¤ºã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ç§å¸¸ç”¨çš„è¾¹ç•Œæ¡†è¡¨ç¤ºï¼ˆä¸­é—´ï¼Œå®½åº¦ï¼Œé«˜åº¦ï¼‰å’Œï¼ˆå·¦ä¸Šï¼Œå³ä¸‹ï¼‰åæ ‡ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚</li>
</ul>
<h4 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h4><p>ç›®æ ‡æ£€æµ‹é¢†åŸŸæ²¡æœ‰åƒMNISTå’ŒFashion-MNISTé‚£æ ·çš„å°æ•°æ®é›†ã€‚ ä¸ºäº†å¿«é€Ÿæµ‹è¯•ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œæˆ‘ä»¬æ”¶é›†å¹¶æ ‡è®°äº†ä¸€ä¸ªå°å‹æ•°æ®é›†ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬æ‹æ‘„äº†ä¸€ç»„é¦™è•‰çš„ç…§ç‰‡ï¼Œå¹¶ç”Ÿæˆäº†1000å¼ ä¸åŒè§’åº¦å’Œå¤§å°çš„é¦™è•‰å›¾åƒã€‚ ç„¶åï¼Œæˆ‘ä»¬åœ¨ä¸€äº›èƒŒæ™¯å›¾ç‰‡çš„éšæœºä½ç½®ä¸Šæ”¾ä¸€å¼ é¦™è•‰çš„å›¾åƒã€‚ æœ€åï¼Œæˆ‘ä»¬åœ¨å›¾ç‰‡ä¸Šä¸ºè¿™äº›é¦™è•‰æ ‡è®°äº†è¾¹ç•Œæ¡†ã€‚</p>
<ol>
<li>ä¸‹è½½æ•°æ®é›†</li>
</ol>
<ul>
<li>åŒ…å«æ‰€æœ‰å›¾åƒå’ŒCSVæ ‡ç­¾æ–‡ä»¶çš„é¦™è•‰æ£€æµ‹æ•°æ®é›†å¯ä»¥ç›´æ¥ä»äº’è”ç½‘ä¸‹è½½ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> gluon, image, np, npx</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> mxnet <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line">npx.set_np()</span><br><span class="line"></span><br><span class="line"><span class="comment">#@save</span></span><br><span class="line">d2l.DATA_HUB[<span class="string">&#x27;banana-detection&#x27;</span>] = (</span><br><span class="line">    d2l.DATA_URL + <span class="string">&#x27;banana-detection.zip&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;5de26c8fce5ccdea9f91267273464dc968d20d72&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ol>
<li>è¯»å–æ•°æ®é›†</li>
</ol>
<ul>
<li>é€šè¿‡<code>read_data_bananas</code>å‡½æ•°ï¼Œæˆ‘ä»¬è¯»å–é¦™è•‰æ£€æµ‹æ•°æ®é›†ã€‚ è¯¥æ•°æ®é›†åŒ…æ‹¬ä¸€ä¸ªçš„CSVæ–‡ä»¶ï¼Œå†…å«ç›®æ ‡ç±»åˆ«æ ‡ç­¾å’Œä½äºå·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„çœŸå®è¾¹ç•Œæ¡†åæ ‡ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_data_bananas</span>(<span class="params">is_train=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è¯»å–é¦™è•‰æ£€æµ‹æ•°æ®é›†ä¸­çš„å›¾åƒå’Œæ ‡ç­¾&quot;&quot;&quot;</span></span><br><span class="line">    data_dir = d2l.download_extract(<span class="string">&#x27;banana-detection&#x27;</span>)</span><br><span class="line">    csv_fname = os.path.join(data_dir, <span class="string">&#x27;bananas_train&#x27;</span> <span class="keyword">if</span> is_train</span><br><span class="line">                             <span class="keyword">else</span> <span class="string">&#x27;bananas_val&#x27;</span>, <span class="string">&#x27;label.csv&#x27;</span>)</span><br><span class="line">    csv_data = pd.read_csv(csv_fname)</span><br><span class="line">    csv_data = csv_data.set_index(<span class="string">&#x27;img_name&#x27;</span>)</span><br><span class="line">    images, targets = [], []</span><br><span class="line">    <span class="keyword">for</span> img_name, target <span class="keyword">in</span> csv_data.iterrows():</span><br><span class="line">        images.append(torchvision.io.read_image(</span><br><span class="line">            os.path.join(data_dir, <span class="string">&#x27;bananas_train&#x27;</span> <span class="keyword">if</span> is_train <span class="keyword">else</span></span><br><span class="line">                         <span class="string">&#x27;bananas_val&#x27;</span>, <span class="string">&#x27;images&#x27;</span>, <span class="string">f&#x27;<span class="subst">&#123;img_name&#125;</span>&#x27;</span>)))</span><br><span class="line">        <span class="comment"># è¿™é‡Œçš„targetåŒ…å«ï¼ˆç±»åˆ«ï¼Œå·¦ä¸Šè§’xï¼Œå·¦ä¸Šè§’yï¼Œå³ä¸‹è§’xï¼Œå³ä¸‹è§’yï¼‰ï¼Œ</span></span><br><span class="line">        <span class="comment"># å…¶ä¸­æ‰€æœ‰å›¾åƒéƒ½å…·æœ‰ç›¸åŒçš„é¦™è•‰ç±»ï¼ˆç´¢å¼•ä¸º0ï¼‰</span></span><br><span class="line">        targets.append(<span class="built_in">list</span>(target))</span><br><span class="line">    <span class="keyword">return</span> images, torch.tensor(targets).unsqueeze(<span class="number">1</span>) / <span class="number">256</span></span><br></pre></td></tr></table></figure>
<ul>
<li>é€šè¿‡ä½¿ç”¨<code>read_data_bananas</code>å‡½æ•°è¯»å–å›¾åƒå’Œæ ‡ç­¾ï¼Œä»¥ä¸‹<code>BananasDataset</code>ç±»åˆ«å°†å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰<code>Dataset</code>å®ä¾‹æ¥åŠ è½½é¦™è•‰æ£€æµ‹æ•°æ®é›†ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BananasDataset</span>(torch.utils.data.Dataset):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä¸€ä¸ªç”¨äºåŠ è½½é¦™è•‰æ£€æµ‹æ•°æ®é›†çš„è‡ªå®šä¹‰æ•°æ®é›†&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, is_train</span>):</span><br><span class="line">        self.features, self.labels = read_data_bananas(is_train)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;read &#x27;</span> + <span class="built_in">str</span>(<span class="built_in">len</span>(self.features)) + (<span class="string">f&#x27; training examples&#x27;</span> <span class="keyword">if</span></span><br><span class="line">              is_train <span class="keyword">else</span> <span class="string">f&#x27; validation examples&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        <span class="keyword">return</span> (self.features[idx].<span class="built_in">float</span>(), self.labels[idx])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.features)</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åï¼Œæˆ‘ä»¬å®šä¹‰<code>load_data_bananas</code>å‡½æ•°ï¼Œæ¥ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†è¿”å›ä¸¤ä¸ªæ•°æ®åŠ è½½å™¨å®ä¾‹ã€‚å¯¹äºæµ‹è¯•é›†ï¼Œæ— é¡»æŒ‰éšæœºé¡ºåºè¯»å–å®ƒã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data_bananas</span>(<span class="params">batch_size</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åŠ è½½é¦™è•‰æ£€æµ‹æ•°æ®é›†&quot;&quot;&quot;</span></span><br><span class="line">    train_iter = torch.utils.data.DataLoader(BananasDataset(is_train=<span class="literal">True</span>),</span><br><span class="line">                                             batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line">    val_iter = torch.utils.data.DataLoader(BananasDataset(is_train=<span class="literal">False</span>),</span><br><span class="line">                                           batch_size)</span><br><span class="line">    <span class="keyword">return</span> train_iter, val_iter</span><br></pre></td></tr></table></figure>
<ul>
<li>è®©æˆ‘ä»¬è¯»å–ä¸€ä¸ªå°æ‰¹é‡ï¼Œå¹¶æ‰“å°å…¶ä¸­çš„å›¾åƒå’Œæ ‡ç­¾çš„å½¢çŠ¶ã€‚ å›¾åƒçš„å°æ‰¹é‡çš„å½¢çŠ¶ä¸ºï¼ˆæ‰¹é‡å¤§å°ã€é€šé“æ•°ã€é«˜åº¦ã€å®½åº¦ï¼‰ï¼Œçœ‹èµ·æ¥å¾ˆçœ¼ç†Ÿï¼šå®ƒä¸æˆ‘ä»¬ä¹‹å‰å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­çš„ç›¸åŒã€‚ æ ‡ç­¾çš„å°æ‰¹é‡çš„å½¢çŠ¶ä¸ºï¼ˆæ‰¹é‡å¤§å°ï¼Œ<em>m</em>ï¼Œ5ï¼‰ï¼Œå…¶ä¸­<em>m</em>æ˜¯æ•°æ®é›†çš„ä»»ä½•å›¾åƒä¸­è¾¹ç•Œæ¡†å¯èƒ½å‡ºç°çš„æœ€å¤§æ•°é‡ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">batch_size, edge_size = <span class="number">32</span>, <span class="number">256</span></span><br><span class="line">train_iter, _ = load_data_bananas(batch_size)</span><br><span class="line">batch = <span class="built_in">next</span>(<span class="built_in">iter</span>(train_iter))</span><br><span class="line">batch[<span class="number">0</span>].shape, batch[<span class="number">1</span>].shape</span><br></pre></td></tr></table></figure>
<ol>
<li>å°ç»“</li>
</ol>
<ul>
<li>æˆ‘ä»¬æ”¶é›†çš„é¦™è•‰æ£€æµ‹æ•°æ®é›†å¯ç”¨äºæ¼”ç¤ºç›®æ ‡æ£€æµ‹æ¨¡å‹ã€‚</li>
<li>ç”¨äºç›®æ ‡æ£€æµ‹çš„æ•°æ®åŠ è½½ä¸å›¾åƒåˆ†ç±»çš„æ•°æ®åŠ è½½ç±»ä¼¼ã€‚ä½†æ˜¯ï¼Œåœ¨ç›®æ ‡æ£€æµ‹ä¸­ï¼Œæ ‡ç­¾è¿˜åŒ…å«çœŸå®è¾¹ç•Œæ¡†çš„ä¿¡æ¯ï¼Œå®ƒä¸å‡ºç°åœ¨å›¾åƒåˆ†ç±»ä¸­ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>39-å®æˆ˜kaggleç«èµ›ï¼šCIFAR-10</title>
    <url>/2024/04/23/11-01-39/</url>
    <content><![CDATA[<h1 id="CIFAR-10"><a href="#CIFAR-10" class="headerlink" title="CIFAR-10"></a>CIFAR-10</h1><p>é¦–å…ˆï¼Œå¯¼å…¥ç«èµ›æ‰€éœ€è¦çš„åŒ…å’Œæ¨¡å—ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure>
<h4 id="2-1-ä¸‹è½½æ•°æ®é›†ï¼š"><a href="#2-1-ä¸‹è½½æ•°æ®é›†ï¼š" class="headerlink" title="2.1 ä¸‹è½½æ•°æ®é›†ï¼š"></a>2.1 ä¸‹è½½æ•°æ®é›†ï¼š</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line">d2l.DATA_HUB[<span class="string">&#x27;cifar10_tiny&#x27;</span>] = (d2l.DATA_URL + <span class="string">&#x27;kaggle_cifar10_tiny.zip&#x27;</span>,</span><br><span class="line">                                <span class="string">&#x27;2068874e4b9a9f0fb07ebe0ad2b29754449ccacd&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä½ ä½¿ç”¨å®Œæ•´çš„Kaggleç«èµ›çš„æ•°æ®é›†ï¼Œè®¾ç½®demoä¸ºFalse</span></span><br><span class="line">demo = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> demo:</span><br><span class="line">    data_dir = d2l.download_extract(<span class="string">&#x27;cifar10_tiny&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    data_dir = <span class="string">&#x27;../data/cifar-10/&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†ä¾¿äºå…¥é—¨ï¼Œæˆ‘ä»¬æä¾›åŒ…å«å‰1000ä¸ªè®­ç»ƒå›¾åƒå’Œ5ä¸ªéšæœºæµ‹è¯•å›¾åƒçš„æ•°æ®é›†çš„å°è§„æ¨¡æ ·æœ¬ï¼Œå¦‚æœè¦è·å–å®Œæ•´æ•°æ®é›†ï¼Œä½ éœ€è¦å°†ä¸€ä¸‹demoå˜é‡è®¾ç½®ä¸ºFalse</p>
<h4 id="2-2-æ•´ç†æ•°æ®é›†"><a href="#2-2-æ•´ç†æ•°æ®é›†" class="headerlink" title="2.2 æ•´ç†æ•°æ®é›†"></a>2.2 æ•´ç†æ•°æ®é›†</h4><p>é¦–å…ˆæˆ‘ä»¬ç”¨ä»¥ä¸‹å‡½æ•°è¯»å–CSVæ–‡ä»¶ä¸­çš„æ ‡ç­¾ï¼Œå®ƒè¿”å›ä¸€ä¸ªå­—å…¸ï¼Œè¯¥å­—å…¸å°†æ–‡ä»¶åä¸­ä¸å¸¦æ‹“å±•åå¾·éƒ¨åˆ†æ˜ å°„åˆ°å…¶æ ‡ç­¾ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_csv_labels</span>(<span class="params">fname</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è¯»å–fnameæ¥ç»™æ ‡ç­¾å­—å…¸è¿”å›ä¸€ä¸ªæ–‡ä»¶å&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(fname, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># è·³è¿‡æ–‡ä»¶å¤´è¡Œ(åˆ—å)</span></span><br><span class="line">        lines = f.readlines()[<span class="number">1</span>:]</span><br><span class="line">    tokens = [</span><br><span class="line">        <span class="comment"># è®­ç»ƒæ ·æœ¬ : 1000l.rstrip().split(&#x27;,&#x27;) for l in lines]</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dict</span>(((name, label) <span class="keyword">for</span> name, label <span class="keyword">in</span> tokens))</span><br><span class="line"></span><br><span class="line">labels = read_csv_labels(os.path.join(data_dir, <span class="string">&#x27;trainLabels.csv&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# è®­ç»ƒæ ·æœ¬ :&#x27;</span>, <span class="built_in">len</span>(labels))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# ç±»åˆ« :&#x27;</span>, <span class="built_in">len</span>(<span class="built_in">set</span>(labels.values())))</span><br><span class="line"><span class="comment"># è®­ç»ƒæ ·æœ¬ : 1000</span></span><br><span class="line"><span class="comment"># ç±»åˆ« : 10</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰reorg_train_validå‡½æ•°æ¥å°†éªŒè¯é›†ä»åŸå§‹çš„è®­ç»ƒé›†ä¸­æ‹†åˆ†å‡ºæ¥ã€‚æ­¤å‡½æ•°ä¸­çš„å‚æ•°valid_ratioæ˜¯éªŒè¯é›†ä¸­çš„æ ·æœ¬æ•°ä¸åŸå§‹è®­ç»ƒé›†ä¸­çš„æ ·æœ¬æ•°ä¹‹æ¯”ã€‚æ›´å…·ä½“çš„è¯´ï¼Œä»¤nç­‰äºæ ·æœ¬æœ€å°‘çš„ç±»åˆ«ä¸­çš„å›¾åƒæ•°é‡ï¼Œè€Œræ˜¯æ¯”ç‡ã€‚éªŒè¯é›†å°†ä¸ºæ¯ä¸ªç±»åˆ«æ‹†åˆ†å‡ºmax([nr],1)å¼ å›¾åƒã€‚è®©æˆ‘ä»¬ä»¥valid_ratio=0.1ä¸ºä¾‹ï¼Œç”±äºåŸå§‹çš„è®­ç»ƒé›†æœ‰50000å¼ å›¾åƒï¼Œå› æ­¤trian_valid_test/trainè·¯å¾„ä¸­å°†æœ‰45000å¼ å›¾åƒç”¨äºè®­ç»ƒï¼Œè€Œå‰©ä¸‹5000å¼ å›¾åƒå°†ä½œä¸ºè·¯å¾„train_valid_test/validä¸­çš„éªŒè¯é›†ã€‚ç»„ç»‡æ•°æ®é›†åï¼ŒåŒç±»åˆ«çš„å›¾åƒå°†è¢«æ”¾ç½®åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">copyfile</span>(<span class="params">filename, target_dir</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å°†æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•&quot;&quot;&quot;</span></span><br><span class="line">    os.makedirs(target_dir, exist_ok=<span class="literal">True</span>)</span><br><span class="line">    shutil.copy(filename, target_dir)</span><br><span class="line"></span><br><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_train_valid</span>(<span class="params">data_dir, labels, valid_ratio</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;å°†éªŒè¯é›†ä»åŸå§‹çš„è®­ç»ƒé›†ä¸­æ‹†åˆ†å‡ºæ¥&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># è®­ç»ƒæ•°æ®é›†ä¸­æ ·æœ¬æœ€å°‘çš„ç±»åˆ«ä¸­çš„æ ·æœ¬æ•°</span></span><br><span class="line">    n = collections.Counter(labels.values()).most_common()[-<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># éªŒè¯é›†ä¸­æ¯ä¸ªç±»åˆ«çš„æ ·æœ¬æ•°</span></span><br><span class="line">    n_valid_per_label = <span class="built_in">max</span>(<span class="number">1</span>, math.floor(n * valid_ratio))</span><br><span class="line">    label_count = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> train_file <span class="keyword">in</span> os.listdir(os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>)):</span><br><span class="line">        label = labels[train_file.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]]</span><br><span class="line">        fname = os.path.join(data_dir, <span class="string">&#x27;train&#x27;</span>, train_file)</span><br><span class="line">        copyfile(fname, os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>,</span><br><span class="line">                                     <span class="string">&#x27;train_valid&#x27;</span>, label))</span><br><span class="line">        <span class="keyword">if</span> label <span class="keyword">not</span> <span class="keyword">in</span> label_count <span class="keyword">or</span> label_count[label] &lt; n_valid_per_label:</span><br><span class="line">            copyfile(fname, os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>,</span><br><span class="line">                                         <span class="string">&#x27;valid&#x27;</span>, label))</span><br><span class="line">            label_count[label] = label_count.get(label, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            copyfile(fname, os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>,</span><br><span class="line">                                         <span class="string">&#x27;train&#x27;</span>, label))</span><br><span class="line">    <span class="keyword">return</span> n_valid_per_label</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­os.listdiræ˜¾ç¤ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ—è¡¨</p>
<p>ä¸‹é¢çš„reorg_testå‡½æ•°ç”¨æ¥é¢„æµ‹æœŸé—´æ•´ç†æµ‹è¯•é›†ï¼Œä»¥æ–¹ä¾¿è¯»å–ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#@save</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_test</span>(<span class="params">data_dir</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åœ¨é¢„æµ‹æœŸé—´æ•´ç†æµ‹è¯•é›†ï¼Œä»¥æ–¹ä¾¿è¯»å–&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> test_file <span class="keyword">in</span> os.listdir(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>)):</span><br><span class="line">        copyfile(os.path.join(data_dir, <span class="string">&#x27;test&#x27;</span>, test_file),</span><br><span class="line">                 os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>, <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">                              <span class="string">&#x27;unknown&#x27;</span>))</span><br></pre></td></tr></table></figure>
<p>æœ€åæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨å‰é¢å®šä¹‰çš„å‡½æ•°read_csv_labelsï¼Œreorg_train_validå’Œreorg_testã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">reorg_cifar10_data</span>(<span class="params">data_dir, valid_ratio</span>):</span><br><span class="line">    labels = read_csv_labels(os.path.join(data_dir, <span class="string">&#x27;trainLabels.csv&#x27;</span>))</span><br><span class="line">    reorg_train_valid(data_dir, labels, valid_ratio)</span><br><span class="line">    reorg_test(data_dir)</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªå°†æ ·æœ¬æ•°æ®é›†çš„æ‰¹é‡å¤§å°è®¾ç½®ä¸º32.åœ¨å®é™…è®­ç»ƒå’Œæµ‹è¯•ä¸­ï¼Œåº”è¯¥ä½¿ç”¨Kaggleç«èµ›çš„å®Œæ•´æ•°æ®é›†ï¼Œå¹¶å°†batch_sizeè®¾ç½®ä¸ºæ›´å¤§çš„æ•´æ•°ï¼Œä¾‹å¦‚128.æˆ‘ä»¬å°†10%çš„è®­ç»ƒæ ·æœ¬ä½œä¸ºè°ƒæ•´è¶…å‚æ•°çš„éªŒè¯é›†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">batch_size = <span class="number">32</span> <span class="keyword">if</span> demo <span class="keyword">else</span> <span class="number">128</span></span><br><span class="line">valid_ratio = <span class="number">0.1</span></span><br><span class="line">reorg_cifar10_data(data_dir, valid_ratio)</span><br></pre></td></tr></table></figure>
<h3 id="3-å›¾åƒå¢å¹¿"><a href="#3-å›¾åƒå¢å¹¿" class="headerlink" title="3.å›¾åƒå¢å¹¿"></a>3.å›¾åƒå¢å¹¿</h3><p>ä½¿ç”¨å›¾åƒå¢å¹¿æ¥è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ã€‚åœ¨è®­ç»ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥éšæœºæ°´å¹³ç¿»è½¬å›¾åƒã€‚æˆ‘ä»¬å¯ä»¥å¯¹å½©è‰²å›¾åƒçš„ä¸‰ä¸ªRGBé€šé“æ‰§è¡Œæ ‡å‡†åŒ–ã€‚ä¸‹é¢ä¸ºä¸€äº›å¯ä»¥è°ƒæ•´çš„æ“ä½œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">transform_train = torchvision.transforms.Compose([</span><br><span class="line">    <span class="comment"># åœ¨é«˜åº¦å’Œå®½åº¦ä¸Šå°†å›¾åƒæ”¾å¤§åˆ°40åƒç´ çš„æ­£æ–¹å½¢</span></span><br><span class="line">    torchvision.transforms.Resize(<span class="number">40</span>),</span><br><span class="line">    <span class="comment"># éšæœºè£å‰ªå‡ºä¸€ä¸ªé«˜åº¦å’Œå®½åº¦å‡ä¸º40åƒç´ çš„æ­£æ–¹å½¢å›¾åƒï¼Œ</span></span><br><span class="line">    <span class="comment"># ç”Ÿæˆä¸€ä¸ªé¢ç§¯ä¸ºåŸå§‹å›¾åƒé¢ç§¯0.64åˆ°1å€çš„å°æ­£æ–¹å½¢ï¼Œ</span></span><br><span class="line">    <span class="comment"># ç„¶åå°†å…¶ç¼©æ”¾ä¸ºé«˜åº¦å’Œå®½åº¦å‡ä¸º32åƒç´ çš„æ­£æ–¹å½¢</span></span><br><span class="line">    torchvision.transforms.RandomResizedCrop(<span class="number">32</span>, scale=(<span class="number">0.64</span>, <span class="number">1.0</span>),</span><br><span class="line">                                                   ratio=(<span class="number">1.0</span>, <span class="number">1.0</span>)),</span><br><span class="line">    torchvision.transforms.RandomHorizontalFlip(),</span><br><span class="line">    torchvision.transforms.ToTensor(),</span><br><span class="line">    <span class="comment"># æ ‡å‡†åŒ–å›¾åƒçš„æ¯ä¸ªé€šé“</span></span><br><span class="line">    torchvision.transforms.Normalize([<span class="number">0.4914</span>, <span class="number">0.4822</span>, <span class="number">0.4465</span>],</span><br><span class="line">                                     [<span class="number">0.2023</span>, <span class="number">0.1994</span>, <span class="number">0.2010</span>])])</span><br></pre></td></tr></table></figure>
<p>åœ¨æµ‹è¯•æœŸé—´ï¼Œæˆ‘ä»¬åªå¯¹å›¾åƒæ‰§è¡Œæ ‡å‡†åŒ–ï¼Œä»¥æ¶ˆé™¤è¯„ä¼°ç»“æœä¸­çš„éšæœºæ€§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">transform_test = torchvision.transforms.Compose([</span><br><span class="line">    torchvision.transforms.ToTensor(),</span><br><span class="line">    torchvision.transforms.Normalize([<span class="number">0.4914</span>, <span class="number">0.4822</span>, <span class="number">0.4465</span>],</span><br><span class="line">                                     [<span class="number">0.2023</span>, <span class="number">0.1994</span>, <span class="number">0.2010</span>])])</span><br></pre></td></tr></table></figure>
<h3 id="4-è¯»å–æ•°æ®é›†"><a href="#4-è¯»å–æ•°æ®é›†" class="headerlink" title="4.è¯»å–æ•°æ®é›†"></a>4.è¯»å–æ•°æ®é›†</h3><p>è¯»å–ç”±åŸå§‹å›¾åƒç»„æˆçš„æ•°æ®é›†ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½åŒ…æ‹¬ä¸€å¼ å›¾ç‰‡å’Œä¸€ä¸ªæ ‡ç­¾ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_ds, train_valid_ds = [torchvision.datasets.ImageFolder(</span><br><span class="line">    os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>, folder),</span><br><span class="line">    transform=transform_train) <span class="keyword">for</span> folder <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;train_valid&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">valid_ds, test_ds = [torchvision.datasets.ImageFolder(</span><br><span class="line">    os.path.join(data_dir, <span class="string">&#x27;train_valid_test&#x27;</span>, folder),</span><br><span class="line">    transform=transform_test) <span class="keyword">for</span> folder <span class="keyword">in</span> [<span class="string">&#x27;valid&#x27;</span>, <span class="string">&#x27;test&#x27;</span>]]</span><br></pre></td></tr></table></figure>
<p>å½“éªŒè¯é›†åœ¨è¶…å‚æ•°è°ƒæ•´è¿‡ç¨‹ä¸­ç”¨äºæ¨¡å‹è¯„ä¼°ä¸­ï¼Œä¸åº”å¼•å…¥å›¾åƒå¢å¹¿çš„éšæœºæ€§ã€‚åœ¨æœ€ç»ˆé¢„æµ‹ä¹‹å‰ï¼Œæˆ‘ä»¬æ ¹æ®è®­ç»ƒé›†åˆéªŒè¯é›†ç»„åˆè€Œæˆçš„è®­ç»ƒæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œä»¥å……åˆ†åˆ©ç”¨æ‰€æœ‰æ ‡è®°çš„æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_iter, train_valid_iter = [torch.utils.data.DataLoader(</span><br><span class="line">    dataset, batch_size, shuffle=<span class="literal">True</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">for</span> dataset <span class="keyword">in</span> (train_ds, train_valid_ds)]</span><br><span class="line"></span><br><span class="line">valid_iter = torch.utils.data.DataLoader(valid_ds, batch_size, shuffle=<span class="literal">False</span>,</span><br><span class="line">                                         drop_last=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">test_iter = torch.utils.data.DataLoader(test_ds, batch_size, shuffle=<span class="literal">False</span>,</span><br><span class="line">                                        drop_last=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="5-å®šä¹‰æ¨¡å‹"><a href="#5-å®šä¹‰æ¨¡å‹" class="headerlink" title="5.å®šä¹‰æ¨¡å‹"></a>5.å®šä¹‰æ¨¡å‹</h3><p>ç›´æ¥ä½¿ç”¨Resnet-18æ¨¡å‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_net</span>():</span><br><span class="line">    num_classes = <span class="number">10</span></span><br><span class="line">    net = d2l.resnet18(num_classes, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> net</span><br><span class="line"></span><br><span class="line">loss = nn.CrossEntropyLoss(reduction=<span class="string">&quot;none&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="6-å®šä¹‰è®­ç»ƒå‡½æ•°"><a href="#6-å®šä¹‰è®­ç»ƒå‡½æ•°" class="headerlink" title="6.å®šä¹‰è®­ç»ƒå‡½æ•°"></a>6.å®šä¹‰è®­ç»ƒå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">net, train_iter, valid_iter, num_epochs, lr, wd, devices, lr_period,</span></span><br><span class="line"><span class="params">          lr_decay</span>):</span><br><span class="line">    trainer = torch.optim.SGD(net.parameters(), lr=lr, momentum=<span class="number">0.9</span>,</span><br><span class="line">                              weight_decay=wd)</span><br><span class="line">    scheduler = torch.optim.lr_scheduler.StepLR(trainer, lr_period, lr_decay)</span><br><span class="line">    num_batches, timer = <span class="built_in">len</span>(train_iter), d2l.Timer()</span><br><span class="line">    legend = [<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        legend.append(<span class="string">&#x27;valid acc&#x27;</span>)</span><br><span class="line">    animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs],</span><br><span class="line">                            legend=legend)</span><br><span class="line">    net = nn.DataParallel(net, device_ids=devices).to(devices[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        net.train()</span><br><span class="line">        metric = d2l.Accumulator(<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">for</span> i, (features, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_iter):</span><br><span class="line">            timer.start()</span><br><span class="line">            l, acc = d2l.train_batch_ch13(net, features, labels,</span><br><span class="line">                                          loss, trainer, devices)</span><br><span class="line">            metric.add(l, acc, labels.shape[<span class="number">0</span>])</span><br><span class="line">            timer.stop()</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span>) % (num_batches // <span class="number">5</span>) == <span class="number">0</span> <span class="keyword">or</span> i == num_batches - <span class="number">1</span>:</span><br><span class="line">                animator.add(epoch + (i + <span class="number">1</span>) / num_batches,</span><br><span class="line">                             (metric[<span class="number">0</span>] / metric[<span class="number">2</span>], metric[<span class="number">1</span>] / metric[<span class="number">2</span>],</span><br><span class="line">                              <span class="literal">None</span>))</span><br><span class="line">        <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            valid_acc = d2l.evaluate_accuracy_gpu(net, valid_iter)</span><br><span class="line">            animator.add(epoch + <span class="number">1</span>, (<span class="literal">None</span>, <span class="literal">None</span>, valid_acc))</span><br><span class="line">        scheduler.step()</span><br><span class="line">    measures = (<span class="string">f&#x27;train loss <span class="subst">&#123;metric[<span class="number">0</span>] / metric[<span class="number">2</span>]:<span class="number">.3</span>f&#125;</span>, &#x27;</span></span><br><span class="line">                <span class="string">f&#x27;train acc <span class="subst">&#123;metric[<span class="number">1</span>] / metric[<span class="number">2</span>]:<span class="number">.3</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> valid_iter <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        measures += <span class="string">f&#x27;, valid acc <span class="subst">&#123;valid_acc:<span class="number">.3</span>f&#125;</span>&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(measures + <span class="string">f&#x27;\n<span class="subst">&#123;metric[<span class="number">2</span>] * num_epochs / timer.<span class="built_in">sum</span>():<span class="number">.1</span>f&#125;</span>&#x27;</span></span><br><span class="line">          <span class="string">f&#x27; examples/sec on <span class="subst">&#123;<span class="built_in">str</span>(devices)&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™å’Œå­¦ä¹ ç‡è§„åˆ’æ¥è®­ç»ƒæ¨¡å‹ï¼Œä»¥æ›´å¿«è¾¾åˆ°æ”¶æ•›ã€‚</p>
<h3 id="7-è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹"><a href="#7-è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹" class="headerlink" title="7.è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹"></a>7.è®­ç»ƒå’ŒéªŒè¯æ¨¡å‹</h3><p>ä»¥ä¸‹æ‰€æœ‰è¶…å‚æ•°éƒ½å¯ä»¥è°ƒèŠ‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">devices, num_epochs, lr, wd = d2l.try_all_gpus(), <span class="number">20</span>, <span class="number">2e-4</span>, <span class="number">5e-4</span></span><br><span class="line">lr_period, lr_decay, net = <span class="number">4</span>, <span class="number">0.9</span>, get_net()</span><br><span class="line">train(net, train_iter, valid_iter, num_epochs, lr, wd, devices, lr_period,</span><br><span class="line">      lr_decay)</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-39/39-01.png" class>
<h3 id="8-Q-amp-A"><a href="#8-Q-amp-A" class="headerlink" title="8.Q&amp;A"></a>8.Q&amp;A</h3><h5 id="Q1-æ·±åº¦å­¦ä¹ çš„æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯éå‡¸çš„å—ï¼Ÿ"><a href="#Q1-æ·±åº¦å­¦ä¹ çš„æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯éå‡¸çš„å—ï¼Ÿ" class="headerlink" title="Q1:æ·±åº¦å­¦ä¹ çš„æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯éå‡¸çš„å—ï¼Ÿ"></a>Q1:æ·±åº¦å­¦ä¹ çš„æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯éå‡¸çš„å—ï¼Ÿ</h5><blockquote>
<p>æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯å‡¸çš„ï¼Œä½†æ˜¯ç¥ç»ç½‘ç»œæ˜¯éå‡¸çš„(éå•å±‚)ã€‚å‡¸å‡½æ•°è¡¨ç¤ºèƒ½åŠ›æœ‰é™ã€‚</p>
</blockquote>
<h5 id="Q2-è®­ç»ƒæ—¶çš„è®­ç»ƒé›†äº¤å‰ç†µlosså¤§äºéªŒè¯é›†ï¼Œä½†æ˜¯è®­ç»ƒé›†accä¹Ÿæ˜¯å¤§äºéªŒè¯é›†çš„ï¼Ÿ"><a href="#Q2-è®­ç»ƒæ—¶çš„è®­ç»ƒé›†äº¤å‰ç†µlosså¤§äºéªŒè¯é›†ï¼Œä½†æ˜¯è®­ç»ƒé›†accä¹Ÿæ˜¯å¤§äºéªŒè¯é›†çš„ï¼Ÿ" class="headerlink" title="Q2:è®­ç»ƒæ—¶çš„è®­ç»ƒé›†äº¤å‰ç†µlosså¤§äºéªŒè¯é›†ï¼Œä½†æ˜¯è®­ç»ƒé›†accä¹Ÿæ˜¯å¤§äºéªŒè¯é›†çš„ï¼Ÿ"></a>Q2:è®­ç»ƒæ—¶çš„è®­ç»ƒé›†äº¤å‰ç†µlosså¤§äºéªŒè¯é›†ï¼Œä½†æ˜¯è®­ç»ƒé›†accä¹Ÿæ˜¯å¤§äºéªŒè¯é›†çš„ï¼Ÿ</h5><blockquote>
<p>åº”è¯¥æ˜¯å› ä¸ºåœ¨è®­ç»ƒé›†ä¸ŠåŠ äº†æ•°æ®å¢å¹¿</p>
</blockquote>
<h5 id="Q3-normalizeå‚æ•°æ€ä¹ˆæ¥çš„ï¼Ÿ"><a href="#Q3-normalizeå‚æ•°æ€ä¹ˆæ¥çš„ï¼Ÿ" class="headerlink" title="Q3:normalizeå‚æ•°æ€ä¹ˆæ¥çš„ï¼Ÿ"></a>Q3:normalizeå‚æ•°æ€ä¹ˆæ¥çš„ï¼Ÿ</h5><blockquote>
<p>ç”±imagenetæ•°æ®é›†ä¸ŠRGBçš„å‡å€¼å’Œæ–¹å·®</p>
</blockquote>
<h5 id="Q4ï¼šweight-decayå’Œlr-decayçš„ä½œç”¨æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"><a href="#Q4ï¼šweight-decayå’Œlr-decayçš„ä½œç”¨æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ" class="headerlink" title="Q4ï¼šweight decayå’Œlr decayçš„ä½œç”¨æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"></a>Q4ï¼šweight decayå’Œlr decayçš„ä½œç”¨æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ</h5><blockquote>
<p>weight decayæ˜¯å¯¹æƒé‡æ›´æ–°çš„æ“ä½œâ€”â€”æ­£åˆ™åŒ–ï¼ˆç»Ÿè®¡ï¼‰ï¼Œlr decay æ˜¯ä½œç”¨åœ¨å­¦ä¹ ç‡ä¸Šâ€”â€”ä¸ºäº†æ”¶æ•›ï¼ˆä¼˜åŒ–æ¨¡å‹ï¼‰</p>
</blockquote>
<h5 id="Q5-scheduleræ€ä¹ˆè®¾ç½®æ˜¯æœ€å¥½çš„æœ€ä¼˜çš„ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ"><a href="#Q5-scheduleræ€ä¹ˆè®¾ç½®æ˜¯æœ€å¥½çš„æœ€ä¼˜çš„ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ" class="headerlink" title="Q5:scheduleræ€ä¹ˆè®¾ç½®æ˜¯æœ€å¥½çš„æœ€ä¼˜çš„ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ"></a>Q5:scheduleræ€ä¹ˆè®¾ç½®æ˜¯æœ€å¥½çš„æœ€ä¼˜çš„ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ</h5><blockquote>
<p>ç°åœ¨ä¸€èˆ¬é€‰ç”¨cosineå‡½æ•°ï¼Œå‚æ•°è®¾ç½®è¾ƒå°‘   ã€‚æœ€å¥½åœ¨å‰æœŸä¿è¯æ¯”è¾ƒå¤§çš„lrï¼ŒåæœŸlrå¯ä»¥å˜å°ä¸€ç‚¹ã€‚å…·ä½“æµè¡Œä»€ä¹ˆè¯´ä¸å‡†</p>
</blockquote>
<h5 id="Q6-lr-decayå’Œweight-decayçš„æ•ˆæœï¼Ÿ"><a href="#Q6-lr-decayå’Œweight-decayçš„æ•ˆæœï¼Ÿ" class="headerlink" title="Q6:lr decayå’Œweight decayçš„æ•ˆæœï¼Ÿ"></a>Q6:lr decayå’Œweight decayçš„æ•ˆæœï¼Ÿ</h5><blockquote>
<p>æ•ˆæœç±»ä¼¼ï¼Œä½†æ˜¯æœ¬è´¨ä¸åŒã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>38-ç¬¬äºŒæ¬¡ç«èµ›æ ‘å¶åˆ†ç±»ç»“æœ</title>
    <url>/2024/04/23/11-01-38/</url>
    <content><![CDATA[<h2 id="ç¬¬äºŒæ¬¡ç«èµ›æ ‘å¶åˆ†ç±»ç»“æœ"><a href="#ç¬¬äºŒæ¬¡ç«èµ›æ ‘å¶åˆ†ç±»ç»“æœ" class="headerlink" title="ç¬¬äºŒæ¬¡ç«èµ›æ ‘å¶åˆ†ç±»ç»“æœ"></a>ç¬¬äºŒæ¬¡ç«èµ›æ ‘å¶åˆ†ç±»ç»“æœ</h2><h3 id="ä»»åŠ¡ç®€ä»‹"><a href="#ä»»åŠ¡ç®€ä»‹" class="headerlink" title="ä»»åŠ¡ç®€ä»‹"></a>ä»»åŠ¡ç®€ä»‹</h3><p>å¯¹176ç§å¶å­è¿›è¡Œåˆ†ç±»ï¼Œæ¯ç±»å¶å­çš„æ•°æ®å¤§çº¦æœ‰100å¼ å›¾ç‰‡ï¼Œæ•°æ®è¾ƒå¹²å‡€ï¼Œæ²¡æœ‰å¤æ‚èƒŒæ™¯ä¸”é¢œè‰²å¹¶ä¸å…³é”®ï¼Œæ¨¡å‹åªè¦èƒ½è¯†åˆ«å‡ºå½¢çŠ¶å³å¯</p>
<h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p>165ä¸ªé˜Ÿä¼å‚åŠ ï¼Œ1800æ¬¡æäº¤ï¼Œç§æ¦œæ’åç¬¬ä¸€çš„åŒå­¦æ­£ç¡®ç‡æœ‰0.99272ï¼Œææ²è€å¸ˆç§ä¸‹ä½¿ç”¨AutoMLè®­ç»ƒå¤§çº¦0.98ï¼Œç”±äºç»“æœè¾ƒå¥½ï¼Œ6-20åçš„é˜Ÿä¼å¦‚æœåˆ†äº«ä»£ç ä¹Ÿå¯è·å¾—ç­¾åä¹¦</p>
<h3 id="æ–¹æ³•æ€»ç»“"><a href="#æ–¹æ³•æ€»ç»“" class="headerlink" title="æ–¹æ³•æ€»ç»“"></a>æ–¹æ³•æ€»ç»“</h3><p>å¾…å‚åŠ æ¯”èµ›çš„åŒå­¦åˆ†äº«ä»£ç åä¸‹å‘¨è¯¾ç¨‹ä¸Šè®²è§£ï¼Œä½†Bç«™è§†é¢‘å¹¶æœªä¸Šä¼ æ­¤éƒ¨åˆ†ã€‚</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>37-å¾®è°ƒ</title>
    <url>/2024/04/23/11-01-37/</url>
    <content><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><ul>
<li>å¾ˆå¤šæ—¶å€™ï¼Œä¾‹å¦‚æˆ‘ä»¬æƒ³å¯¹å®¶å…·è¿›è¡Œåˆ†ç±»ï¼Œä½†æ˜¯å¾€å¾€åœ¨åŠªåŠ›æ”¶é›†æ•°æ®å¾—åˆ°çš„æ•°æ®é›†ä¹Ÿæ¯”è¾ƒå°å‡å¦‚æˆ‘ä»¬æƒ³è¯†åˆ«å›¾ç‰‡ä¸­ä¸åŒç±»å‹çš„æ¤…å­ï¼Œç„¶åå‘ç”¨æˆ·æ¨èè´­ä¹°é“¾æ¥ã€‚ ä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯é¦–å…ˆè¯†åˆ«100æŠŠæ™®é€šæ¤…å­ï¼Œä¸ºæ¯æŠŠæ¤…å­æ‹æ‘„1000å¼ ä¸åŒè§’åº¦çš„å›¾åƒï¼Œç„¶ååœ¨æ”¶é›†çš„å›¾åƒæ•°æ®é›†ä¸Šè®­ç»ƒä¸€ä¸ªåˆ†ç±»æ¨¡å‹ã€‚ å°½ç®¡è¿™ä¸ªæ¤…å­æ•°æ®é›†å¯èƒ½å¤§äºFashion-MNISTæ•°æ®é›†ï¼Œä½†å®ä¾‹æ•°é‡ä»ç„¶ä¸åˆ°ImageNetä¸­çš„ååˆ†ä¹‹ä¸€ã€‚ é€‚åˆImageNetçš„å¤æ‚æ¨¡å‹å¯èƒ½ä¼šåœ¨è¿™ä¸ªæ¤…å­æ•°æ®é›†ä¸Šè¿‡æ‹Ÿåˆã€‚ æ­¤å¤–ï¼Œç”±äºè®­ç»ƒæ ·æœ¬æ•°é‡æœ‰é™ï¼Œè®­ç»ƒæ¨¡å‹çš„å‡†ç¡®æ€§å¯èƒ½æ— æ³•æ»¡è¶³å®é™…è¦æ±‚ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ç§æ–¹æ³•ï¼š<ul>
<li>æ˜¾ç„¶çš„æƒ³æ³•å°±æ˜¯æ”¶é›†æ›´å¤šçš„æ•°æ®ï¼Œä½†æ˜¯ï¼Œæ”¶é›†å’Œæ ‡è®°æ•°æ®å¯èƒ½éœ€è¦å¤§é‡çš„æ—¶é—´å’Œé‡‘é’±ã€‚ ä¾‹å¦‚ï¼Œä¸ºäº†æ”¶é›†ImageNetæ•°æ®é›†ï¼Œç ”ç©¶äººå‘˜èŠ±è´¹äº†æ•°ç™¾ä¸‡ç¾å…ƒçš„ç ”ç©¶èµ„é‡‘ã€‚ å°½ç®¡ç›®å‰çš„æ•°æ®æ”¶é›†æˆæœ¬å·²å¤§å¹…é™ä½ï¼Œä½†è¿™ä¸€æˆæœ¬ä»ä¸èƒ½å¿½è§†ã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥è€ƒè™‘è¿ç§»å­¦ä¹ å°†ä»<em>æºæ•°æ®é›†</em>å­¦åˆ°çš„çŸ¥è¯†è¿ç§»åˆ°<em>ç›®æ ‡æ•°æ®é›†</em>ã€‚ ä¾‹å¦‚ï¼Œå°½ç®¡ImageNetæ•°æ®é›†ä¸­çš„å¤§å¤šæ•°å›¾åƒä¸æ¤…å­æ— å…³ï¼Œä½†åœ¨æ­¤æ•°æ®é›†ä¸Šè®­ç»ƒçš„æ¨¡å‹å¯èƒ½ä¼šæå–æ›´é€šç”¨çš„å›¾åƒç‰¹å¾ï¼Œè¿™æœ‰åŠ©äºè¯†åˆ«è¾¹ç¼˜ã€çº¹ç†ã€å½¢çŠ¶å’Œå¯¹è±¡ç»„åˆã€‚ è¿™äº›ç±»ä¼¼çš„ç‰¹å¾ä¹Ÿå¯èƒ½æœ‰æ•ˆåœ°è¯†åˆ«æ¤…å­ã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><ul>
<li>å¦‚å›¾æ‰€ç¤ºï¼Œå¾®è°ƒåŒ…æ‹¬ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š<ol>
<li>åœ¨æºæ•°æ®é›†ï¼ˆä¾‹å¦‚ImageNetæ•°æ®é›†ï¼‰ä¸Šé¢„è®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå³<strong><em>æºæ¨¡å‹</em></strong>ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå³<strong><em>ç›®æ ‡æ¨¡å‹</em></strong>ã€‚è¿™å°†å¤åˆ¶æºæ¨¡å‹ä¸Šçš„æ‰€æœ‰æ¨¡å‹è®¾è®¡åŠå…¶å‚æ•°ï¼ˆè¾“å‡ºå±‚é™¤å¤–ï¼‰ã€‚æˆ‘ä»¬å‡å®šè¿™äº›æ¨¡å‹å‚æ•°åŒ…å«ä»æºæ•°æ®é›†ä¸­å­¦åˆ°çš„çŸ¥è¯†ï¼Œè¿™äº›çŸ¥è¯†ä¹Ÿå°†é€‚ç”¨äºç›®æ ‡æ•°æ®é›†ã€‚æˆ‘ä»¬è¿˜å‡è®¾æºæ¨¡å‹çš„è¾“å‡ºå±‚ä¸æºæ•°æ®é›†çš„æ ‡ç­¾å¯†åˆ‡ç›¸å…³ï¼›å› æ­¤ä¸åœ¨ç›®æ ‡æ¨¡å‹ä¸­ä½¿ç”¨è¯¥å±‚ã€‚</li>
<li>å‘ç›®æ ‡æ¨¡å‹æ·»åŠ è¾“å‡ºå±‚ï¼Œå…¶è¾“å‡ºæ•°æ˜¯ç›®æ ‡æ•°æ®é›†ä¸­çš„ç±»åˆ«æ•°ã€‚ç„¶åéšæœºåˆå§‹åŒ–è¯¥å±‚çš„æ¨¡å‹å‚æ•°ã€‚</li>
<li>åœ¨ç›®æ ‡æ•°æ®é›†ï¼ˆå¦‚æ¤…å­æ•°æ®é›†ï¼‰ä¸Šè®­ç»ƒç›®æ ‡æ¨¡å‹ã€‚è¾“å‡ºå±‚å°†ä»å¤´å¼€å§‹è¿›è¡Œè®­ç»ƒï¼Œè€Œæ‰€æœ‰å…¶ä»–å±‚çš„å‚æ•°å°†æ ¹æ®æºæ¨¡å‹çš„å‚æ•°è¿›è¡Œå¾®è°ƒã€‚</li>
</ol>
</li>
</ul>
<img src="/2024/04/23/11-01-37/37-01.png" class>
<ol>
<li>é€šå¸¸æ¥è®²ï¼Œå¾®è°ƒé€Ÿåº¦æ›´å¿«ï¼Œå¹¶ä¸”å…·æœ‰è¾ƒå¼ºçš„æ­£åˆ™æ€§ï¼Œä¸€èˆ¬å­¦ä¹ ç‡æ¯”è¾ƒå°ï¼Œä¹Ÿä¸éœ€è¦å¾ˆå¤šè½®çš„æ•°æ®è¿­ä»£ï¼Œå¯¹äºä¸åŒçš„ä»»åŠ¡å¾€å¾€åªéœ€è¦æ”¹å˜æœ€åè¾“å‡ºå±‚ï¼Œè¿™ä¸€å±‚éšæœºåˆå§‹åŒ–å³å¯ã€‚</li>
</ol>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>è¿ç§»å­¦ä¹ å°†ä»æºæ•°æ®é›†ä¸­å­¦åˆ°çš„çŸ¥è¯†â€œè¿ç§»â€åˆ°ç›®æ ‡æ•°æ®é›†ï¼Œå¾®è°ƒæ˜¯è¿ç§»å­¦ä¹ çš„å¸¸è§æŠ€å·§ã€‚</li>
<li>é™¤è¾“å‡ºå±‚å¤–ï¼Œç›®æ ‡æ¨¡å‹ä»æºæ¨¡å‹ä¸­å¤åˆ¶æ‰€æœ‰æ¨¡å‹è®¾è®¡åŠå…¶å‚æ•°ï¼Œå¹¶æ ¹æ®ç›®æ ‡æ•°æ®é›†å¯¹è¿™äº›å‚æ•°è¿›è¡Œå¾®è°ƒã€‚ä½†æ˜¯ï¼Œç›®æ ‡æ¨¡å‹çš„è¾“å‡ºå±‚éœ€è¦ä»å¤´å¼€å§‹è®­ç»ƒã€‚</li>
<li>é€šå¸¸ï¼Œå¾®è°ƒå‚æ•°ä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡ï¼Œè€Œä»å¤´å¼€å§‹è®­ç»ƒè¾“å‡ºå±‚å¯ä»¥ä½¿ç”¨æ›´å¤§çš„å­¦ä¹ ç‡ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>36-æ•°æ®å¢å¹¿</title>
    <url>/2024/04/23/11-01-36/</url>
    <content><![CDATA[<h2 id="36-æ•°æ®å¢å¹¿"><a href="#36-æ•°æ®å¢å¹¿" class="headerlink" title="36 æ•°æ®å¢å¹¿"></a>36 æ•°æ®å¢å¹¿</h2><p>æ•°æ®å¢å¹¿ä¸ä»…ç”¨äºå¤„ç†å›¾ç‰‡ï¼Œä¹Ÿå¯ç”¨äºæ–‡æœ¬å’Œè¯­éŸ³ï¼Œè¿™é‡Œåªæ¶‰åŠåˆ°å›¾ç‰‡ã€‚</p>
<h3 id="1-ä½¿ç”¨å¢å¼ºæ•°æ®è®­ç»ƒ"><a href="#1-ä½¿ç”¨å¢å¼ºæ•°æ®è®­ç»ƒ" class="headerlink" title="1. ä½¿ç”¨å¢å¼ºæ•°æ®è®­ç»ƒ"></a>1. ä½¿ç”¨å¢å¼ºæ•°æ®è®­ç»ƒ</h3><p>é‡‡é›†æ•°æ®å¾—åˆ°çš„è®­ç»ƒåœºæ™¯ä¸å®é™…éƒ¨ç½²åœºæ™¯ä¸åŒæ˜¯å¸¸è§çš„é—®é¢˜ï¼Œè¿™ç§å˜åŒ–æœ‰æ—¶ä¼šæ˜¾è‘—å½±å“æ¨¡å‹è¡¨ç°ã€‚åœ¨è®­ç»ƒé›†ä¸­å°½å¯èƒ½æ¨¡æ‹Ÿéƒ¨ç½²æ—¶å¯èƒ½é‡åˆ°çš„åœºæ™¯å¯¹æ¨¡å‹çš„æ³›åŒ–æ€§ååˆ†é‡è¦ã€‚</p>
<p>æ•°æ®å¢å¼ºæ˜¯æŒ‡åœ¨ä¸€ä¸ªå·²æœ‰æ•°æ®é›†ä¸Šæ“ä½œä½¿å…¶æœ‰æ›´å¤šçš„å¤šæ ·æ€§ã€‚å¯¹è¯­éŸ³æ¥è¯´å¯ä»¥åŠ å…¥ä¸åŒçš„èƒŒæ™¯å™ªéŸ³ï¼Œå¯¹å›¾ç‰‡è€Œè¨€å¯ä»¥æ”¹å˜å…¶é¢œè‰²ï¼Œå½¢çŠ¶ç­‰ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ä¸ä¼šå…ˆå°†æ•°æ®é›†åšå¢å¹¿åå­˜ä¸‹æ¥å†ç”¨äºè®­ç»ƒï¼›è€Œæ˜¯ç›´æ¥åœ¨çº¿ç”Ÿæˆï¼Œä»åŸå§‹æ•°æ®ä¸­è¯»å›¾ç‰‡å¹¶éšæœºåšæ•°æ®å¢å¼ºï¼Œå†è¿›å…¥æ¨¡å‹è®­ç»ƒã€‚é€šå¸¸åªåœ¨è®­ç»ƒæ—¶åšæ•°æ®å¢å¼ºè€Œæµ‹è¯•æ—¶ä¸ç”¨ã€‚å¯ä»¥å°†æ•°æ®å¢å¼ºç†è§£ä¸ºä¸€ä¸ªæ­£åˆ™é¡¹ã€‚</p>
<h3 id="2-å¢å¼ºæ‰‹æ®µ"><a href="#2-å¢å¼ºæ‰‹æ®µ" class="headerlink" title="2. å¢å¼ºæ‰‹æ®µ"></a>2. å¢å¼ºæ‰‹æ®µ</h3><h4 id="2-1-ç¿»è½¬"><a href="#2-1-ç¿»è½¬" class="headerlink" title="2.1 ç¿»è½¬"></a>2.1 ç¿»è½¬</h4><p>ä¸€äº›ä¾‹å­ï¼šå·¦å³ç¿»è½¬ï¼Œä¸Šä¸‹ç¿»è½¬</p>
<p>è¦æ³¨æ„ä¸æ˜¯æ‰€æœ‰å¢å¼ºç­–ç•¥éƒ½æ€»æ˜¯å¯è¡Œï¼Œå¦‚å»ºç­‘å›¾ç‰‡ä¸Šä¸‹ç¿»è½¬å°±ä¸å¤ªåˆé€‚ï¼Œè€Œä¹‹å‰çš„æ ‘å¶åˆ†ç±»ç«èµ›ä¸­çš„æ ‘å¶å›¾ç‰‡å°±æ²¡å…³ç³»ã€‚</p>
<img src="/2024/04/23/11-01-36/36-01.png" class>
<h4 id="2-2-åˆ‡å‰²"><a href="#2-2-åˆ‡å‰²" class="headerlink" title="2.2 åˆ‡å‰²"></a>2.2 åˆ‡å‰²</h4><p>ä»å›¾ç‰‡ä¸­åˆ‡å‰²ä¸€å—ç„¶åå˜å½¢åˆ°å›ºå®šå½¢çŠ¶ã€‚ä¸€èˆ¬åšæ³•æ˜¯éšæœºå–ä¸€ä¸ªé«˜å®½æ¯”ï¼Œéšæœºå–å›¾ç‰‡å¤§å°ï¼ˆåˆ‡ä¸‹éƒ¨åˆ†å åŸå›¾çš„ç™¾åˆ†æ•°ï¼‰ï¼Œéšæœºå–ä½ç½®ã€‚</p>
<img src="/2024/04/23/11-01-36/36-02.png" class>
<h4 id="2-3-é¢œè‰²"><a href="#2-3-é¢œè‰²" class="headerlink" title="2.3 é¢œè‰²"></a>2.3 é¢œè‰²</h4><p>æ”¹å˜è‰²è°ƒï¼Œé¥±å’Œåº¦ï¼Œæ˜äº®åº¦ã€‚</p>
<img src="/2024/04/23/11-01-36/36-03.png" class>
<h4 id="2-4-å…¶ä»–"><a href="#2-4-å…¶ä»–" class="headerlink" title="2.4 å…¶ä»–"></a>2.4 å…¶ä»–</h4><p>è¿˜å¯ä»¥æœ‰å¾ˆå¤šç§ä¸åŒçš„æ–¹æ³•ï¼Œå¦‚é«˜æ–¯æ¨¡ç³Šï¼Œéƒ¨åˆ†åƒç´ å˜é»‘ï¼Œå›¾ç‰‡å˜å½¢ï¼Œé”åŒ–ç­‰ç­‰ã€‚ç†è®ºä¸Šè®²Photoshopèƒ½åšåˆ°çš„éƒ½å¯ä»¥ç”¨ä½œå›¾ç‰‡æ•°æ®å¢å¼ºï¼Œä½†æ•ˆæœå¥½åå¦å½“åˆ«è®ºã€‚å¦‚æœæµ‹è¯•é›†ä¸­æœ‰ç±»ä¼¼çš„æ•ˆæœé‚£ä¹ˆç›¸åº”çš„æ•°æ®å¢å¹¿æ‰‹æ®µä¼šæ›´æœ‰æ•ˆã€‚</p>
<img src="/2024/04/23/11-01-36/36-04.png" class>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ul>
<li>æ•°æ®å¢å¹¿é€šè¿‡å˜å½¢æ•°æ®æ¥è·å–å¤šæ ·æ€§ä»è€Œä½¿å¾—æ¨¡å‹æ³›åŒ–æ€§èƒ½æ›´å¥½</li>
<li>å¸¸è§å›¾ç‰‡å¢å¹¿åŒ…æ‹¬ç¿»è½¬ï¼Œåˆ‡å‰²ï¼Œå˜è‰²</li>
</ul>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4. QA"></a>4. QA</h3><p>Q1: ç†è®ºä¸Šæ˜¯ä¸æ˜¯åŸå§‹æ ·æœ¬è¶³å¤Ÿå¤šå°±ä¸éœ€è¦åšå¢å¹¿ï¼Ÿ</p>
<blockquote>
<p>æ˜¯çš„ï¼Œä½†å®é™…æƒ…å†µä¸­å¾ˆéš¾æœ‰è¶³å¤Ÿå¤šæ ·æ€§çš„å›¾ç‰‡èƒ½è¦†ç›–æµ‹è¯•çš„æ‰€æœ‰æƒ…å†µã€‚</p>
<p>æ•°æ®é‡å¤§ä¹Ÿä¸ä¸€å®šæ„å‘³ç€è¶³å¤Ÿå¤šæ ·ï¼Œå¯èƒ½ç®€å•æƒ…å†µå·²ç»å¾ˆå……åˆ†ï¼Œä½†å¯¹äºå¾ˆéš¾çš„æƒ…å†µè¦†ç›–ç‡ä¸å¤Ÿã€‚</p>
</blockquote>
<p>Q2: ï¼ˆä»£ç å®ç°ä¸­çš„ï¼‰num_workerå€¼æ˜¯ä¸æ˜¯æ ¹æ®GPUæ€§èƒ½è€Œå®šï¼Ÿ</p>
<blockquote>
<p>æ˜¯ã€‚</p>
<p>è¿™é‡Œè€å¸ˆè¿˜æåˆ°è™½ç„¶æ·±åº¦å­¦ä¹ ä¸»è¦ç”¨GPUï¼Œä½†CPUä¹Ÿä¸èƒ½å¤ªå·®ï¼Œå¦åˆ™å¯èƒ½æ•°æ®é¢„å¤„ç†è·Ÿä¸ä¸Šï¼ŒCPUçš„å†…å­˜å¸¦å®½å’Œåˆ°æ˜¾å¡çš„å¸¦å®½ä¸å¤Ÿã€‚å…·ä½“å†³å®šnum_workerå¯ä»¥è‡ªå·±å®šä¸€ä¸ªå€¼ç„¶åè·‘ä¸€ä¸ªepochçœ‹çœ‹è€—æ—¶ã€‚</p>
</blockquote>
<p>Q3: é‡‘èé£æ§é¢†åŸŸç»å¸¸é¢ä¸´æåº¦åæ–œæ•°æ®ï¼ˆæ¬ºè¯ˆæ ·æœ¬æå°‘ï¼‰ï¼Œæ˜¯å¦å¯å¯¹æ­£æ ·æœ¬åšæ•°æ®å¢å¹¿ï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥ï¼Œç±»ä¼¼åœ°éœ‡é¢„æµ‹ç­‰ç­‰æ­£æ ·æœ¬å°‘çš„æƒ…å†µéƒ½å¯ä»¥å°è¯•å¯¹æ­£æ ·æœ¬åšå¢å¹¿ï¼Œè´Ÿæ ·æœ¬å¯ä»¥ä¸ç”¨ã€‚</p>
</blockquote>
<p>Q4: æµ‹è¯•ä¸€èˆ¬åšä»€ä¹ˆæ ·çš„å¢å¹¿ï¼Ÿå¦‚ä½•ç†è§£å¯¹æµ‹è¯•é›†å¢å¹¿èƒ½æé«˜ç²¾åº¦ï¼Ÿ</p>
<blockquote>
<p>ä¸€èˆ¬ä¸å¯¹æµ‹è¯•é›†åšå¢å¹¿ã€‚ä¹Ÿå¯ä»¥å¯¹ä¸€å¼ æµ‹è¯•å›¾åƒåšå¢å¹¿ï¼Œå°†æ¯ä¸ªå¢å¹¿å‡ºçš„å›¾ç‰‡éƒ½åšä¸€æ¬¡é¢„æµ‹æœ€åå–å¹³å‡ï¼Œä¼šä¸€å®šç¨‹åº¦æ”¹å–„ç²¾åº¦ã€‚ä½†è¿™æ ·ä¼šä½¿å¾—å¯¹æ¯å¼ å›¾ç‰‡é¢„æµ‹è®¡ç®—é‡æˆå€å¢é•¿ï¼Œæ‰€ä»¥ä½¿ç”¨è¾ƒå°‘ã€‚</p>
</blockquote>
<p>Q5: è¯¾ä»¶é‡Œæåˆ°çš„å¯¹æ¯”å®éªŒå›ºå®šäº†æ‰€æœ‰éšæœºç§å­å—ï¼Ÿæ˜¨æ™šå¢å¹¿åè®­ç»ƒç²¾åº¦ä¸‹é™æ˜¯ä¸æ˜¯æ„å‘³ç€è¿˜å¯ä»¥ç»§ç»­è®­ç»ƒå‡å°‘gapï¼Ÿ</p>
<blockquote>
<p>æ²¡æœ‰ã€‚</p>
<p>æ˜¯çš„ï¼Œè¯¾å ‚æ¼”ç¤ºæ—¶å¾€å¾€è·‘çš„epochè¾ƒå°‘ï¼Œå¦å¤–è®­ç»ƒåˆ°åæœŸgapä¸€èˆ¬ä¸ä¼šå‡å°‘ã€‚</p>
</blockquote>
<p>Q6: å›¾ç‰‡å¢å¹¿åéœ€è¦äººå·¥ä¸€å¼ å¼ ç¡®è®¤æ•ˆæœå—ï¼Ÿ</p>
<blockquote>
<p>ä¸ç”¨å…¨çœ‹ï¼Œå¤§æ¦‚çœ‹çœ‹æ•ˆæœå³å¯ã€‚</p>
</blockquote>
<p>Q7: å›¾ç‰‡å¢å¹¿åè®­ç»ƒæ•°æ®ä¸æµ‹è¯•æ•°æ®åˆ†å¸ƒå¯èƒ½ä¸åŒï¼Œä¼šå¯¹æ¨¡å‹æœ€ç»ˆç²¾åº¦æœ‰å½±å“å—ï¼Ÿ</p>
<blockquote>
<p>é¦–å…ˆå¤šæ•°å›¾ç‰‡å¢å¹¿æ‰‹æ®µä¸æ”¹å˜æ•°æ®åˆ†å¸ƒï¼Œå› ä¸ºäº®åº¦å˜åŒ–ç­‰æ˜¯éšæœºçš„ï¼Œæ•°æ®çš„å‡å€¼ä¸å˜ï¼Œç¿»è½¬ä¸å½±å“åˆ†å¸ƒï¼Œcropå¯èƒ½ä¼šæœ‰æ”¹å˜ä½†å½±å“ä¸å¤§ã€‚</p>
<p>åé¢è¿˜æœ‰é—®é¢˜æåˆ°å¯¹å¢å¹¿ä¸æ”¹å˜æ•°æ®åˆ†å¸ƒçš„ç†è§£ï¼Œå¯ç†è§£æˆå¢å¹¿ä¸æ”¹å˜å‡å€¼ä½†ç¨å¾®å¢å¤§æ–¹å·®ã€‚å¾ˆå¤šæ—¶å€™è®¨è®ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†åˆ†å¸ƒæ˜¯å¦ç›¸åŒä¸æ˜¯çœ‹åŸå§‹çš„åƒç´ åˆ†å¸ƒè€Œæ˜¯çœ‹å„labelæ¯”ä¾‹æˆ–å›¾ç‰‡è‰²è°ƒç­‰æ˜¯å¦å·®ä¸å¤šã€‚</p>
</blockquote>
<p>Q8: å…³äºå›¾ç¥ç»ç½‘ç»œ</p>
<blockquote>
<p>å›¾ç¥ç»ç½‘ç»œå¾ˆå¼ºå¤§ä½†ä¸å¥½è®­ç»ƒï¼Œç›®å‰è½åœ°è¿˜å¤ªæ—©äº†</p>
</blockquote>
<p>Q9: å…³äºmosaicå’Œcrop</p>
<blockquote>
<p>æŠŠå¤šå¼ å›¾ç‰‡æ‹¼èµ·æ¥è®­ç»ƒã€‚è¿™é‡Œè€å¸ˆç†è§£é”™äº†é—®é¢˜ï¼Œæåˆ°äº†åŠ é©¬èµ›å…‹å’Œæœ¬èŠ‚ä»£ç ä¸­ä¸€æ¬¡å±•ç¤ºå…«å¼ å›¾ç‰‡åªæ˜¯ä¸€èµ·æ˜¾ç¤ºè€Œä¸æ˜¯ä½¿ç”¨äº†cropæ–¹æ³•ã€‚</p>
</blockquote>
<p>Q10: ç”¨å¯¹ä¸€ä¸ªäº‹ç‰©çš„è§†é¢‘æè¿°åšæ•°æ®é›†æ˜¯ä¸æ˜¯ä¼šæ¯”å¢å¹¿æ›´æœ‰æ•ˆï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥è¿™ä¹ˆè®¤ä¸ºï¼Œä½†æ‹è§†é¢‘æ˜¯å¾ˆè´µçš„äº‹æƒ…ï¼Œè·å–è§†é¢‘å¾€å¾€åˆ’ä¸æ¥ã€‚</p>
</blockquote>
<p>Q11: å¤šå¼ å›¾ç‰‡å åŠ æ˜¯å¦ä¹Ÿæ˜¯æœ‰æ•ˆçš„å¢å¹¿æ–¹å¼ï¼Ÿ</p>
<blockquote>
<p>æ˜¯çš„ï¼Œè¿™ç§æ–¹æ³•å«mix-upï¼Œéå¸¸æœ‰ç”¨ã€‚</p>
<p>åé¢æœ‰é—®åˆ°ä¸ºä»€ä¹ˆmix-upæœ‰ç”¨ï¼Œè€å¸ˆä¹Ÿä¸æ¸…æ¥šã€‚</p>
<p>lableçš„å åŠ æ˜¯å¯¹ä¸¤å¼ å›¾ç‰‡labelæŒ‰ç‰¹å®šåˆ†å¸ƒéšæœºå–æƒé‡åŠ æƒæ±‚å’Œ</p>
</blockquote>
<p>Q12: åšè½¦è¾†ä½ç½®è¯†åˆ«å¦‚æœå®é™…åº”ç”¨åœºæ™¯æ‘„åƒå¤´é«˜åº¦è§’åº¦æ¸…æ™°åº¦éƒ½å’Œè®­ç»ƒé›†ä¸ä¸€æ ·ï¼Œæ˜¯ä¸æ˜¯åªèƒ½é’ˆå¯¹åœºæ™¯å•ç‹¬é‡‡é›†æ•°æ®é‡æ–°æ‰“æ ‡è®­ç»ƒï¼Ÿ</p>
<blockquote>
<p>æ˜¯ï¼Œå¯ä»¥è€ƒè™‘å°†å®é™…éƒ¨ç½²æ—¶è¯†åˆ«é”™è¯¯çš„æ•°æ®åŠ å…¥è®­ç»ƒé›†ä½¿å¾—è®­ç»ƒé›†æµ‹è¯•é›†åˆ†å¸ƒè¶‹åŒ</p>
</blockquote>
<p>Q13: æ˜¯å¦ä¼šå‡ºç°å›¾åƒå¢å¹¿å‡å°ç±»é—´å·®å¼‚ï¼Œæ··æ·†ä¸åŒç±»åˆ«çš„æƒ…å†µï¼Ÿ</p>
<blockquote>
<p>é‚£å€’ä¸ä¼šã€‚å¯ä»¥è€ƒè™‘ä¸è¦cropå¤ªå°çš„åŒºåŸŸã€‚</p>
</blockquote>
<p>Q14: å®é™…æ“ä½œç”¨torchvisionè¿˜æ˜¯albumentation?</p>
<blockquote>
<p>éƒ½å·®ä¸å¤š</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>35-åˆ†å¸ƒå¼è®­ç»ƒ</title>
    <url>/2024/04/23/11-01-35/</url>
    <content><![CDATA[<h2 id="35-åˆ†å¸ƒå¼è®­ç»ƒ"><a href="#35-åˆ†å¸ƒå¼è®­ç»ƒ" class="headerlink" title="35-åˆ†å¸ƒå¼è®­ç»ƒ"></a>35-åˆ†å¸ƒå¼è®­ç»ƒ</h2><h3 id="1-åˆ†å¸ƒå¼è®¡ç®—"><a href="#1-åˆ†å¸ƒå¼è®¡ç®—" class="headerlink" title="1.åˆ†å¸ƒå¼è®¡ç®—"></a>1.åˆ†å¸ƒå¼è®¡ç®—</h3><ul>
<li>æœ¬è´¨ä¸Šæ¥è¯´å’Œä¹‹å‰è®²çš„å•æœºå¤šå¡å¹¶è¡Œæ²¡æœ‰åŒºåˆ«ã€‚äºŒè€…ä¹‹é—´çš„åŒºåˆ«æ˜¯åˆ†å¸ƒå¼è®¡ç®—æ˜¯é€šè¿‡ç½‘ç»œæŠŠæ•°æ®ä»ä¸€å°æœºå™¨æ¬åˆ°å¦ä¸€å°æœºå™¨</li>
</ul>
<img src="/2024/04/23/11-01-35/35-01.png" class>
<h3 id="2-GPUæœºå™¨æ¶æ„"><a href="#2-GPUæœºå™¨æ¶æ„" class="headerlink" title="2. GPUæœºå™¨æ¶æ„"></a>2. GPUæœºå™¨æ¶æ„</h3><ul>
<li>æ€»çš„æ¥è¯´ï¼Œgpuåˆ°gpuçš„é€šè®¯æ˜¯å¾ˆå¿«çš„ï¼Œgpuåˆ°cpuæ…¢ä¸€ç‚¹ã€‚æœºå™¨åˆ°æœºå™¨æ›´æ…¢ã€‚å› è€Œæ€»ä½“æ€§èƒ½çš„å…³é”®å°±æ˜¯å°½é‡åœ¨æœ¬åœ°åšé€šè®¯è€Œå°‘åœ¨æœºå™¨ä¹‹é—´åšé€šè®¯</li>
</ul>
<h5 id="2-1-æ ·ä¾‹ï¼šè®¡ç®—ä¸€ä¸ªå°æ‰¹é‡"><a href="#2-1-æ ·ä¾‹ï¼šè®¡ç®—ä¸€ä¸ªå°æ‰¹é‡" class="headerlink" title="2.1 æ ·ä¾‹ï¼šè®¡ç®—ä¸€ä¸ªå°æ‰¹é‡"></a>2.1 æ ·ä¾‹ï¼šè®¡ç®—ä¸€ä¸ªå°æ‰¹é‡</h5><ul>
<li>æ¯ä¸ªworkerä»å‚æ•°æœåŠ¡å™¨é‚£é‡Œè·å–æ¨¡å‹å‚æ•°ï¼šé¦–å…ˆæŠŠæ ·æœ¬å¤åˆ¶åˆ°æœºå™¨çš„å†…å­˜ï¼Œç„¶åæŠŠæ ·æœ¬åˆ†åˆ°æ¯ä¸ªgpuä¸Š</li>
<li>å¤åˆ¶å‚æ•°åˆ°æ¯ä¸ªgpuä¸Šï¼šåŒæ ·ï¼Œå…ˆæŠŠæ¯ä¸€æ¬¡çš„å‚æ•°æ”¾åˆ°å†…å­˜é‡Œï¼Œç„¶åå†å¤åˆ¶åˆ°æ¯ä¸ªgpuä¸Š</li>
<li>æ¯ä¸ªgpuè®¡ç®—æ¢¯åº¦</li>
<li>å†ä¸»å†…å­˜ä¸ŠæŠŠæ‰€æœ‰gpuä¸Šçš„æ¢¯åº¦åŠ èµ·æ¥</li>
<li>æ¢¯åº¦ä»ä¸»å†…å­˜ä¼ å›æœåŠ¡å™¨</li>
<li>æ¯ä¸ªæœåŠ¡å™¨å¯¹æ¢¯åº¦æ±‚å’Œï¼Œå¹¶æ›´æ–°å‚æ•°</li>
</ul>
<h5 id="2-2-æ€»ç»“"><a href="#2-2-æ€»ç»“" class="headerlink" title="2.2 æ€»ç»“"></a>2.2 æ€»ç»“</h5><ul>
<li>ç”±äºgpuåˆ°gpuå’Œgpuåˆ°å†…å­˜çš„é€šè®¯é€Ÿåº¦è¿˜ä¸é”™ï¼Œå› æ­¤æˆ‘ä»¬å°½é‡å†æœ¬åœ°åšèšåˆï¼ˆå¦‚æ¢¯åº¦ç›¸åŠ ï¼‰ï¼Œå¹¶å‡å°‘å†ç½‘ç»œä¸Šçš„å¤šæ¬¡é€šè®¯</li>
</ul>
<h3 id="3-å…³äºæ€§èƒ½"><a href="#3-å…³äºæ€§èƒ½" class="headerlink" title="3.  å…³äºæ€§èƒ½"></a>3.  å…³äºæ€§èƒ½</h3><h5 id="3-1-å¯¹äºåŒæ­¥SGDï¼š"><a href="#3-1-å¯¹äºåŒæ­¥SGDï¼š" class="headerlink" title="3.1 å¯¹äºåŒæ­¥SGDï¼š"></a>3.1 å¯¹äº<strong>åŒæ­¥SGD</strong>ï¼š</h5><ul>
<li>è¿™é‡Œæ¯ä¸ªworkeréƒ½æ˜¯åŒæ­¥è®¡ç®—ä¸€ä¸ªæ‰¹é‡ï¼Œç§°ä¸ºåŒæ­¥SGD</li>
<li>å‡è®¾æœ‰nä¸ªggpuï¼Œæ¯ä¸ªgpuæ¯æ¬¡å¤„ç†bä¸ªæ ·æœ¬ï¼Œé‚£ä¹ˆåŒæ­¥SGDç­‰ä»·äºå†å•gpuè¿è¡Œæ‰¹é‡å¤§å°ä¸ºnbçš„SGD</li>
<li>å†ç†æƒ³æƒ…å†µä¸‹ï¼Œnä¸ªgpuå¯ä»¥å¾—åˆ°ç›¸å¯¹å•gpuçš„nå€åŠ é€Ÿ</li>
</ul>
<h5 id="3-2-æ€§èƒ½ï¼š"><a href="#3-2-æ€§èƒ½ï¼š" class="headerlink" title="3.2 æ€§èƒ½ï¼š"></a>3.2 <strong>æ€§èƒ½</strong>ï¼š</h5><ul>
<li>t1 = åœ¨å•gpuä¸Šè®¡ç®—bä¸ªæ ·æœ¬æ¢¯åº¦æ—¶é—´</li>
<li>å‡è®¾æœ‰mä¸ªå‚æ•°ï¼Œä¸€ä¸ªworkeræ¯æ¬¡å‘é€å’Œæ¥å—mä¸ªå‚æ•°ã€æ¢¯åº¦<ul>
<li>t2 = å‘é€å’Œæ¥å—æ‰€ç”¨æ—¶é—´</li>
</ul>
</li>
<li>æ¯ä¸ªæ‰¹é‡çš„è®¡ç®—æ—¶é—´ä¸ºmaxï¼ˆt1ï¼Œt2ï¼‰<ul>
<li>é€‰å–è¶³å¤Ÿå¤§çš„bä½¿t1&gt;t2</li>
<li>å¢åŠ bæˆ–nå¯¼è‡´æ›´å¤§çš„æ‰¹é‡ å¤§å°ï¼Œå½“å€¼éœ€è¦æ›´å¤šè®¡ç®—æ¥å¾—åˆ°ç»™å®šçš„æ¨¡å‹ç²¾åº¦</li>
</ul>
</li>
</ul>
<h5 id="3-3-æ€§èƒ½çš„æƒè¡¡"><a href="#3-3-æ€§èƒ½çš„æƒè¡¡" class="headerlink" title="3.3 æ€§èƒ½çš„æƒè¡¡"></a>3.3 æ€§èƒ½çš„æƒè¡¡</h5><img src="/2024/04/23/11-01-35/35-02.png" class>
<h3 id="4-å®è·µæ—¶çš„å»ºè®®"><a href="#4-å®è·µæ—¶çš„å»ºè®®" class="headerlink" title="4. å®è·µæ—¶çš„å»ºè®®"></a>4. å®è·µæ—¶çš„å»ºè®®</h3><ul>
<li>ä½¿ç”¨ä¸€ä¸ªå¤§æ•°æ®é›†</li>
<li>éœ€è¦å¥½çš„gpu-gpuå’Œæœºå™¨-æœºå™¨å¸¦å®½</li>
<li>é«˜æ•ˆçš„æ•°æ®è¯»å–å’Œé¢„å¤„ç†</li>
<li>æ¨¡å‹éœ€è¦æœ‰å¥½çš„è®¡ç®—å’Œé€šè®¯æ¯”<ul>
<li>Inception&gt;ResNet&gt;AlexNet</li>
</ul>
</li>
<li>ä½¿ç”¨è¶³å¤Ÿå¤§çš„æ‰¹é‡å¤§å°æ¥å¾—åˆ°æ›´å¥½çš„ç³»ç»Ÿæ€§èƒ½</li>
<li>ä½¿ç”¨é«˜æ•ˆçš„ä¼˜åŒ–ç®—æ³•å¯¹åº”å¤§æ‰¹é‡å¤§å°</li>
</ul>
<h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h3><ul>
<li>åˆ†å¸ƒå¼åŒæ­¥æ•°æ®å¹¶è¡Œæ˜¯å¤šgpuæ•°æ®å¹¶è¡Œåœ¨å¤šæœºå™¨ä¸Šçš„æ‹“å±•</li>
<li>ç½‘ç»œé€šè®¯é€šå¸¸æ˜¯ç“¶é¢ˆ</li>
<li>éœ€è¦æ³¨æ„ä½¿ç”¨ç‰¹åˆ«å¤§çš„æ‰¹é‡å¤§å°æ—¶çš„æ”¶æ•›æ•ˆç‡</li>
<li>æ›´å¤æ‚çš„åˆ†å¸ƒå¼æœ‰å¼‚æ­¥ã€æ¨¡å‹å¹¶è¡Œï¼ˆè¿™é‡Œæ²¡æœ‰ä»‹ç»ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>33-å•æœºå¤šå¡å¹¶è¡Œ</title>
    <url>/2024/04/23/11-01-34/</url>
    <content><![CDATA[<h2 id="å•æœºå¤šå¡å¹¶è¡Œ"><a href="#å•æœºå¤šå¡å¹¶è¡Œ" class="headerlink" title="å•æœºå¤šå¡å¹¶è¡Œ"></a>å•æœºå¤šå¡å¹¶è¡Œ</h2><p>ä¸€å°æœºå™¨å¯ä»¥å®‰è£…å¤šä¸ªGPUï¼ˆä¸€èˆ¬ä¸º1-16ä¸ªï¼‰ï¼Œåœ¨è®­ç»ƒå’Œé¢„æµ‹æ—¶å¯ä»¥å°†ä¸€ä¸ªå°æ‰¹é‡è®¡ç®—åˆ‡åˆ†åˆ°å¤šä¸ªGPUä¸Šæ¥è¾¾åˆ°åŠ é€Ÿç›®çš„ï¼Œå¸¸ç”¨çš„åˆ‡åˆ†æ–¹æ¡ˆæœ‰æ•°æ®å¹¶è¡Œï¼Œæ¨¡å‹å¹¶è¡Œï¼Œé€šé“å¹¶è¡Œã€‚</p>
<h3 id="æ•°æ®å¹¶è¡Œ"><a href="#æ•°æ®å¹¶è¡Œ" class="headerlink" title="æ•°æ®å¹¶è¡Œ"></a>æ•°æ®å¹¶è¡Œ</h3><p>å°†å°æ‰¹é‡çš„æ•°æ®åˆ†ä¸ºnå—ï¼Œæ¯ä¸ªGPUæ‹¿åˆ°å®Œæ•´çš„å‚æ•°ï¼Œå¯¹è¿™ä¸€å—çš„æ•°æ®è¿›è¡Œå‰å‘ä¼ æ’­ä¸åå‘ä¼ æ’­ï¼Œè®¡ç®—æ¢¯åº¦ã€‚</p>
<p>æ•°æ®å¹¶è¡Œé€šå¸¸æ€§èƒ½æ¯”æ¨¡å‹å¹¶è¡Œæ›´å¥½ï¼Œå› ä¸ºå¯¹æ•°æ®è¿›è¡Œåˆ’åˆ†ä½¿å¾—å„ä¸ªGPUçš„è®¡ç®—å†…å®¹æ›´åŠ å‡åŒ€ã€‚</p>
<h4 id="æ•°æ®å¹¶è¡Œçš„å¤§è‡´æµç¨‹"><a href="#æ•°æ®å¹¶è¡Œçš„å¤§è‡´æµç¨‹" class="headerlink" title="æ•°æ®å¹¶è¡Œçš„å¤§è‡´æµç¨‹"></a>æ•°æ®å¹¶è¡Œçš„å¤§è‡´æµç¨‹</h4><img src="/2024/04/23/11-01-34/DataParallel.png" class>
<p>ä¸»è¦åˆ†ä¸ºäº”éƒ¨</p>
<ul>
<li>1ï¼šæ¯ä¸ªGPUè¯»å–ä¸€ä¸ªæ•°æ®å—ï¼ˆç°è‰²éƒ¨åˆ†ï¼‰</li>
<li>2ï¼šæ¯ä¸ªGPUè¯»å–å½“å‰æ¨¡å‹çš„å‚æ•°ï¼ˆæ©™è‰²éƒ¨åˆ†ï¼‰</li>
<li>3ï¼šæ¯ä¸ªGPUè®¡ç®—è‡ªå·±æ‹¿åˆ°æ•°æ®å—çš„æ¢¯åº¦ï¼ˆç»¿è‰²éƒ¨åˆ†ï¼‰</li>
<li>4ï¼šGPUå°†è®¡ç®—å¾—åˆ°çš„æ¢¯åº¦ä¼ ç»™å†…å­˜ï¼ˆCPUï¼‰ï¼ˆç»¿è‰²ç®­å¤´ï¼‰</li>
<li>5ï¼šåˆ©ç”¨æ¢¯åº¦å¯¹æ¨¡å‹å‚æ•°è¿›è¡Œæ›´æ–°ï¼ˆæ©™è‰²ç®­å¤´ï¼‰</li>
</ul>
<p>æ•°æ®å¹¶è¡Œå¹¶è¡Œæ€§è¾ƒå¥½ï¼Œä¸»è¦å› ä¸ºå½“æ¯ä¸ªGPUæ‹¿åˆ°çš„æ•°æ®é‡ç›¸åŒæ—¶è®¡ç®—é‡ä¹Ÿç›¸ä¼¼ï¼Œå„ä¸ªGPUçš„è¿ç®—æ—¶é—´ç›¸è¿‘ï¼Œå¹¸èƒ½è¾ƒå¥½</p>
<h3 id="æ¨¡å‹å¹¶è¡Œ"><a href="#æ¨¡å‹å¹¶è¡Œ" class="headerlink" title="æ¨¡å‹å¹¶è¡Œ"></a>æ¨¡å‹å¹¶è¡Œ</h3><p>å°†æ•´ä¸ªæ¨¡å‹åˆ†ä¸ºnä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªGPUæ‹¿åˆ°è¿™ä¸ªéƒ¨åˆ†çš„å‚æ•°å’Œè´Ÿè´£ä¸Šä¸€ä¸ªéƒ¨åˆ†çš„GPUçš„è¾“å‡ºä½œä¸ºè¾“å…¥æ¥è¿›è¡Œè®¡ç®—ï¼Œåå‘ä¼ æ’­åŒç†ã€‚</p>
<p>æ¨¡å‹å¹¶è¡Œé€šå¸¸ç”¨äºæ¨¡å‹ååˆ†å·¨å¤§ï¼Œå‚æ•°ä¼—å¤šï¼Œå³ä½¿åœ¨æ¯ä¸ªmini-batchåªæœ‰ä¸€ä¸ªæ ·æœ¬çš„æƒ…å†µä¸‹å•ä¸ªGPUçš„æ˜¾å­˜ä»ç„¶ä¸å¤Ÿçš„æƒ…å†µï¼Œä½†å¹¶è¡Œæ€§è¾ƒå·®ï¼Œå¯èƒ½æœ‰æ—¶ä¼šæœ‰GPUå¤„äºç­‰å¾…çŠ¶æ€ã€‚</p>
<h3 id="é€šé“å¹¶è¡Œ"><a href="#é€šé“å¹¶è¡Œ" class="headerlink" title="é€šé“å¹¶è¡Œ"></a>é€šé“å¹¶è¡Œ</h3><p>é€šé“å¹¶è¡Œæ˜¯æ•°æ®å¹¶è¡Œå’Œæ¨¡å‹å¹¶è¡ŒåŒæ—¶è¿›è¡Œ</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>å½“ä¸€ä¸ªæ¨¡å‹èƒ½ç”¨å•å¡è®¡ç®—æ—¶ï¼Œé€šå¸¸ä½¿ç”¨æ•°æ®å¹¶è¡Œæ‰©å±•åˆ°å¤šå¡</li>
<li>æ¨¡å‹å¹¶è¡Œåˆ™ç”¨åœ¨è¶…å¤§æ¨¡å‹ä¸Š</li>
</ul>
<h3 id="Q-amp-Aï¼ˆéƒ¨åˆ†æœ‰ä»·å€¼çš„ï¼‰"><a href="#Q-amp-Aï¼ˆéƒ¨åˆ†æœ‰ä»·å€¼çš„ï¼‰" class="headerlink" title="Q&amp;Aï¼ˆéƒ¨åˆ†æœ‰ä»·å€¼çš„ï¼‰"></a>Q&amp;Aï¼ˆéƒ¨åˆ†æœ‰ä»·å€¼çš„ï¼‰</h3><ul>
<li>é—®1ï¼šè‹¥æœ‰4å—GPUï¼Œä¸¤å—æ˜¾å­˜å¤§ä¸¤å—æ˜¾å­˜å°æ€ä¹ˆåŠï¼Ÿ</li>
<li>ç­”1ï¼š<br>è‹¥GPUè¿ç®—æ€§èƒ½ç›¸åŒï¼Œåˆ™è®­ç»ƒå–å†³äºå°æ˜¾å­˜çš„GPUçš„æ˜¾å­˜å¤§å°ï¼Œæ›´å¤§çš„æ˜¾å­˜ç›¸å½“äºæµªè´¹æ‰<br>è‹¥GPUè¿ç®—æ€§èƒ½ä¸åŒï¼Œä¸€èˆ¬å³ä¸ºæ˜¾å­˜å¤§çš„GPUæ€§èƒ½æ›´å¥½ï¼Œå¯ä»¥åœ¨åˆ†é…æ•°æ®æ—¶å¤šåˆ†é…ä¸€ç‚¹</li>
<li></li>
<li>é—®2ï¼šæ•°æ®æ‹†åˆ†åï¼Œéœ€å­˜å‚¨çš„æ•°æ®é‡ä¼šå˜å¤§å—ï¼Ÿä¼šé™ä½æ€§èƒ½å—ï¼Ÿ</li>
<li>ç­”2ï¼šæ¯ä¸ªGPUéƒ½å•ç‹¬å­˜å‚¨äº†ä¸€ä»½æ¨¡å‹ï¼Œè¿™éƒ¨åˆ†çš„æ•°æ®é‡å˜å¤§äº†ï¼Œä½†å¦‚æœåªè€ƒè™‘è¿ç®—æ—¶çš„ä¸­é—´å˜é‡ï¼Œåˆ™ä¸­é—´å˜é‡çš„å¤§å°ä¸æ•°æ®é‡å‘ˆçº¿æ€§å…³ç³»ï¼Œæ¯ä¸ªGPUçš„æ•°æ®å°äº†ï¼Œä¸­é—´å˜é‡ä¹Ÿä¼šå˜å°ï¼Œæ‰€æœ‰GPUçš„ä¸­é—´å˜é‡åŠ èµ·æ¥å¤§å°æ˜¯ä¸å˜çš„ã€‚<br>æ•°æ®æ‹†åˆ†åæ€§èƒ½ä¼šå˜ä½ï¼Œåœ¨ä¸‹èŠ‚è¯¾è®²è§£ï¼ˆæ•°æ®é€šè®¯çš„å¼€é”€ï¼Œæ¯ä¸ªGPUçš„batch-sizeå˜å°å¯èƒ½æ— æ³•è·‘æ»¡GPUï¼Œæ€»batch-sizeå˜å¤§åˆ™ç›¸åŒè®¡ç®—é‡ä¸‹è®­ç»ƒæ¬¡æ•°å˜å°‘ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>34-å¤šGPUè®­ç»ƒå®ç°</title>
    <url>/2024/04/23/11-01-34/</url>
    <content><![CDATA[<h2 id="34-å¤šGPUè®­ç»ƒå®ç°"><a href="#34-å¤šGPUè®­ç»ƒå®ç°" class="headerlink" title="34 å¤šGPUè®­ç»ƒå®ç°"></a>34 å¤šGPUè®­ç»ƒå®ç°</h2><p>æœ¬è®²å†…å®¹ä¸ºä»£ç å®ç°ï¼Œè¿™é‡Œæ•´ç†QAï¼Œå…¶ä½™å†…å®¹å‚è€ƒä»£ç éƒ¨åˆ†ã€‚</p>
<p>Q1: kerasä»tfåˆ†ç¦»ï¼Œä¹¦ç±ä¼šä¸ä¼šéœ€è¦é‡æ–°æ•´ç†ï¼Ÿ</p>
<blockquote>
<p>æš‚æ—¶ä¸ä¼šæœ‰å½±å“</p>
</blockquote>
<p>Q2: æ˜¯å¦å¯ä»¥é€šè¿‡æŠŠresnetä¸­çš„å·ç§¯å±‚å…¨æ›¿æ¢æˆmlpæ¥å®ç°ä¸€ä¸ªå¾ˆæ·±çš„ç½‘ç»œï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥ï¼Œæœ‰è¿™æ ·åšçš„paperï¼Œä½†æ˜¯é€šè¿‡ä¸€ç»´å·ç§¯ï¼ˆç­‰ä»·äºå…¨è¿æ¥å±‚ï¼‰åšçš„ï¼Œå¦‚æœç›´æ¥æ¢æˆå…¨è¿æ¥å±‚å¾ˆå¯èƒ½ä¼šè¿‡æ‹Ÿåˆã€‚</p>
</blockquote>
<p>Q3: ä¸ºä»€ä¹ˆbatch normæ˜¯ä¸€ç§æ­£åˆ™ä½†åªåŠ å¿«è®­ç»ƒä¸æå‡ç²¾åº¦ï¼Ÿ</p>
<blockquote>
<p>è€å¸ˆä¹Ÿä¸å¤ªæ¸…æ¥šå¹¶è®¤ä¸ºè¿™æ˜¯å¾ˆå¥½çš„é—®é¢˜ï¼Œå¯ä»¥å»æŸ¥é˜…è®ºæ–‡ã€‚</p>
</blockquote>
<p>Q4: all_reduce, all_gatherä¸»è¦èµ·ä»€ä¹ˆä½œç”¨ï¼Ÿå®é™…ä½¿ç”¨æ—¶å‘ç°pytorchçš„ç±»ä¼¼åˆ†å¸ƒå¼opä¸èƒ½ä¼ å¯¼æ¢¯åº¦ï¼Œä¼šç ´åè®¡ç®—å›¾ä¸èƒ½è‡ªåŠ¨æ±‚å¯¼ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p>
<blockquote>
<p>all_reduceæ˜¯æŠŠnä¸ªä¸œè¥¿åŠ åœ¨ä¸€èµ·å†æŠŠæ‰€æœ‰ä¸œè¥¿å¤åˆ¶å›å»ï¼Œall_gatheråˆ™åªæ˜¯æŠŠæ¥è‡ªä¸åŒåœ°æ–¹ä¸œè¥¿åˆå¹¶ä½†ä¸ç›¸åŠ ã€‚ä½¿ç”¨åˆ†å¸ƒå¼çš„ä¸œè¥¿ä¼šç ´åè‡ªåŠ¨æ±‚å¯¼ï¼Œè·¨GPUçš„è‡ªåŠ¨æ±‚å¯¼å¹¶ä¸å¥½åšï¼Œè€å¸ˆä¸ç¡®å®špytorchèƒ½ä¸èƒ½åšåˆ°è¿™ä¸€åŠŸèƒ½ï¼Œå¦‚æœä¸èƒ½å°±åªèƒ½æ‰‹å†™ã€‚</p>
</blockquote>
<p>Q5: ä¸¤ä¸ªGPUè®­ç»ƒæ—¶æœ€åçš„æ¢¯åº¦æ˜¯æŠŠä¸¤ä¸ªGPUä¸Šçš„æ¢¯åº¦ç›¸åŠ å—ï¼Ÿ</p>
<blockquote>
<p>æ˜¯çš„ã€‚mini-batchçš„æ¢¯åº¦å°±æ˜¯æ¯ä¸ªæ ·æœ¬çš„æ¢¯åº¦æ±‚å’Œï¼Œå¤šGPUæ—¶åŒç†ï¼Œæ¯ä¸ªGPUå‘å°†è‡ªå·±ç®—çš„é‚£éƒ¨åˆ†æ ·æœ¬æ¢¯åº¦æ±‚å’Œï¼Œæœ€åå†å°†ä¸¤ä¸ªGPUçš„è®¡ç®—å¾—çš„æ¢¯åº¦æ±‚å’Œã€‚</p>
</blockquote>
<p>Q6: ä¸ºä»€ä¹ˆå‚æ•°å¤§çš„æ¨¡å‹ä¸ä¸€å®šæ…¢ï¼Ÿflopæ•°å¤šçš„æ¨¡å‹æ€§èƒ½æ›´å¥½æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ</p>
<blockquote>
<p>æ€§èƒ½å–å†³äºæ¯ç®—ä¸€ä¸ªä¹˜æ³•éœ€è¦è®¿é—®å¤šå°‘ä¸ªbitï¼Œè®¡ç®—é‡ä¸å†…å­˜è®¿é—®çš„æ¯”å€¼è¶Šé«˜è¶Šå¥½ã€‚é€šå¸¸CPU/GPUä¸ä¼šè¢«å¡åœ¨é¢‘ç‡ä¸Šè€Œæ˜¯è®¿é—®æ•°æ®/å†…å­˜ä¸Šï¼Œæ‰€ä»¥å‚æ•°é‡å°ï¼Œç®—åŠ›é«˜çš„æ¨¡å‹æ€§èƒ½è¾ƒå¥½ï¼ˆå¦‚å·ç§¯ï¼ŒçŸ©é˜µä¹˜æ³•ï¼‰ã€‚</p>
</blockquote>
<p>Q7: ä¸ºä»€ä¹ˆåˆ†å¸ƒåˆ°å¤šGPUä¸Šæµ‹è¯•ç²¾åº¦ä¼šæ¯”å•GPUæŠ–åŠ¨å¤§ï¼Ÿ</p>
<blockquote>
<p>æŠ–åŠ¨æ˜¯å› ä¸ºå­¦ä¹ ç‡å˜å¤§äº†ï¼Œä½¿ç”¨GPUæ•°å¯¹æµ‹è¯•ç²¾åº¦æ²¡æœ‰å½±å“ï¼Œåªä¼šå½±å“æ€§èƒ½ã€‚ä½†ä¸ºäº†å¾—åˆ°æ›´å¥½çš„é€Ÿåº¦éœ€è¦æŠŠbatchsizeè°ƒå¤§ï¼Œä½¿å¾—æ”¶æ•›æƒ…å†µå‘ç”Ÿå˜åŒ–ï¼ŒæŠŠå­¦ä¹ ç‡ä¸Šè°ƒå°±ä½¿å¾—ç²¾åº¦æ›´æŠ–ã€‚</p>
</blockquote>
<p>Q8: batchsizeå¤ªå¤§ä¼šå¯¼è‡´loss nanå—ï¼Ÿ</p>
<blockquote>
<p>ä¸ä¼šï¼Œbatchsizeä¸­çš„lossæ˜¯æ±‚å‡å€¼çš„ï¼Œç†è®ºä¸Šbatchsizeæ›´å¤§æ•°å€¼ç¨³å®šæ€§ä¼šæ›´å¥½ï¼Œå‡ºç°æ•°å€¼ä¸ç¨³å®šé—®é¢˜å¯èƒ½æ˜¯å­¦ä¹ ç‡æ²¡æœ‰è°ƒå¥½ã€‚</p>
</blockquote>
<p>Q9: GPUæ˜¾å­˜å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</p>
<blockquote>
<p>æ˜¾å­˜æ‰‹åŠ¨ä¼˜åŒ–å¾ˆéš¾ï¼Œé çš„æ˜¯æ¡†æ¶ï¼Œpytorchçš„ä¼˜åŒ–åšçš„è¿˜ä¸é”™ã€‚é™¤éç‰¹åˆ«æ‡‚æ¡†æ¶ç›¸å…³æŠ€æœ¯ä¸ç„¶å»ºè®®æŠŠbatchsizeè°ƒå°æˆ–æ˜¯æŠŠæ¨¡å‹åšç®€å•ä¸€ç‚¹ã€‚</p>
</blockquote>
<p>Q10: å¯¹äºç²¾åº¦æ¥è¯´batchsize=1æ˜¯ä¸€ç§æœ€å¥½çš„æƒ…å†µå—ï¼Ÿ</p>
<blockquote>
<p>å¯èƒ½æ˜¯ã€‚</p>
</blockquote>
<p>Q11: parameter serverå¯ä»¥å’Œpytorchç»“åˆå—ï¼Œå…·ä½“å¦‚ä½•å®ç°ï¼Ÿ</p>
<blockquote>
<p>pytorchæ²¡æœ‰å®ç°parameter serverï¼Œä½†mxnetå’Œtensorflowæœ‰ã€‚ä½†æ˜¯æœ‰ç¬¬ä¸‰æ–¹å®ç°å¦‚bytepsæ”¯æŒpytorchã€‚</p>
</blockquote>
<p>Q12: ç”¨äº†nn.DataParallel()ï¼Œæ˜¯ä¸æ˜¯æ•°æ®é›†ä¹Ÿè¢«è‡ªåŠ¨åˆ†é…åˆ°äº†å¤šä¸ªGPUä¸Šï¼Ÿ</p>
<blockquote>
<p>æ˜¯çš„ã€‚åœ¨ç®—net.forward()çš„æ—¶å€™ä¼šåˆ†å¼€ã€‚</p>
</blockquote>
<p>Q13: éªŒè¯é›†å‡†ç¡®ç‡éœ‡è¡å¤§é‚£ä¸ªå‚æ•°å½±å“æœ€å¤§ï¼Ÿ</p>
<blockquote>
<p>å­¦ä¹ ç‡ã€‚</p>
</blockquote>
<p>Q14: ä¸ºäº†è®©ç½‘ç»œå‰å‡ å±‚èƒ½å¤Ÿè®­ç»ƒèƒ½å¦é‡‡ç”¨ä¸åŒstageé‡‡ç”¨ä¸åŒå­¦ä¹ ç‡çš„æ–¹æ³•ï¼Ÿ</p>
<blockquote>
<p>å¯ä»¥ï¼Œä¸»è¦çš„é—®é¢˜æ˜¯éº»çƒ¦ï¼Œä¸å¥½ç¡®å®šå„éƒ¨åˆ†å­¦ä¹ ç‡ç›¸å·®å¤šå°‘ã€‚</p>
</blockquote>
<p>Q15: åœ¨ç”¨torchçš„æ•°æ®å¹¶è¡Œä¸­å°†inputså’Œlabelsæ”¾åˆ°GPU0æ˜¯å¦ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºè¿™äº›æ•°æ®æœ€ç»ˆå›è¢«æŒªä¸€æ¬¡åˆ°å…¶ä»–GPUä¸Šã€‚</p>
<blockquote>
<p>æ•°æ®ç›¸æ¯”æ¢¯åº¦æ¥è¯´å¾ˆå°‘ï¼Œä¸ä¼šå¯¹æ€§èƒ½æœ‰å¤ªå¤§å½±å“ã€‚ä½†è¿™ä¸ªæ“ä½œçœ‹ä¸Šå»çš„ç¡®å¾ˆå¤šä½™ï¼Œè€å¸ˆè®¤ä¸ºä¸éœ€è¦åšï¼Œä½†ä¸è¿™æ ·åšä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<p>Q16: ä¸ºä»€ä¹ˆbatchsizeè¾ƒå°ç²¾åº¦ä¼šä¸æ€ä¹ˆå˜åŒ–ï¼Ÿ</p>
<blockquote>
<p>å­¦ä¹ ç‡å¤ªå¤§äº†ï¼Œbatchsizeå°å­¦ä¹ ç‡å°±ä¸èƒ½å¤ªå¤§ã€‚</p>
</blockquote>
<p>Q17: ä½¿ç”¨ä¸¤å—ä¸åŒå‹å·GPUå½±å“æ·±åº¦å­¦ä¹ æ€§èƒ½å—ï¼Ÿ</p>
<blockquote>
<p>éœ€è¦ç®—å¥½ä¸¤å—GPUçš„æ€§èƒ½å·®ã€‚å¦‚ä¸€å—GPUçš„æ€§èƒ½æ˜¯å¦ä¸€å—çš„2å€ï¼Œé‚£ä¹ˆåœ¨åˆ†é…ä»»åŠ¡æ—¶ä¹Ÿåº”è¯¥åˆ†å¾—2å€çš„ä»»åŠ¡é‡ã€‚ä¿è¯å„GPUåœ¨åŒæ ·æ—¶é—´å†…ç®—å®ŒåŒä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>Q18: è¯¾å†…ç«èµ›ç›´æ¥ç”¨æ•™æçš„VGG11ä½†ä¸æ”¶æ•›ï¼ŒåŒæ ·çš„dataloaderç”¨resnetå¯ä»¥æ”¶æ•›ï¼Œå¦‚ä½•è§£å†³è¿™ä¸€é—®é¢˜ï¼Ÿ</p>
<blockquote>
<p>å¯èƒ½æ˜¯å­¦ä¹ ç‡å¤ªå¤§ï¼Œä¹Ÿå¯è€ƒè™‘åŠ å…¥batch normalizationã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>32-æ·±åº¦å­¦ä¹ ç¡¬ä»¶</title>
    <url>/2024/04/23/11-01-32/</url>
    <content><![CDATA[<h2 id="32-æ·±åº¦å­¦ä¹ ç¡¬ä»¶"><a href="#32-æ·±åº¦å­¦ä¹ ç¡¬ä»¶" class="headerlink" title="32-æ·±åº¦å­¦ä¹ ç¡¬ä»¶"></a>32-æ·±åº¦å­¦ä¹ ç¡¬ä»¶</h2><h3 id="1-DSP-æ•°å­—ä¿¡å·å¤„ç†"><a href="#1-DSP-æ•°å­—ä¿¡å·å¤„ç†" class="headerlink" title="1.DSP:æ•°å­—ä¿¡å·å¤„ç†"></a>1.DSP:æ•°å­—ä¿¡å·å¤„ç†</h3><ul>
<li><p>ä¸ºæ•°å­—ä¿¡å·å¤„ç†ç®—æ³•è®¾è®¡ï¼šç‚¹ç§¯ã€å·ç§¯ã€FFT</p>
</li>
<li><p>ä½åŠŸè€—ï¼Œé«˜æ€§èƒ½</p>
<ul>
<li>æ¯”ç§»åŠ¨GPUå¿«5å€ï¼ŒåŠŸè€—æ›´ä½</li>
</ul>
</li>
<li>VLIWï¼švery long instruction word<ul>
<li>é¢‘ç‡ä½ï¼Œæ ¸å°‘ï¼Œä½†æ˜¯ä¸€æ¡æŒ‡ä»¤å¯ä»¥è¿›è¡Œä¸Šç™¾æ¬¡çš„ç´¯åŠ ï¼Œä¾¿äºé‡å¤</li>
</ul>
</li>
<li>ç¼ºç‚¹ï¼šç¼–ç¨‹å’Œè°ƒè¯•å›°éš¾ï¼Œç¼–è¯‘å™¨è‰¯è ä¸é½ï¼ˆåšçš„äººå°‘ï¼Œå·¥å…·ä¸æ˜¯å¾ˆå¥½ç”¨ï¼‰</li>
</ul>
<h3 id="2-å¯ç¼–ç¨‹é˜µåˆ—ï¼ˆFPGAï¼‰"><a href="#2-å¯ç¼–ç¨‹é˜µåˆ—ï¼ˆFPGAï¼‰" class="headerlink" title="2.å¯ç¼–ç¨‹é˜µåˆ—ï¼ˆFPGAï¼‰"></a>2.å¯ç¼–ç¨‹é˜µåˆ—ï¼ˆFPGAï¼‰</h3><ul>
<li>æœ‰å¤§é‡çš„å¯ä»¥ç”¨æ¥ç¼–ç¨‹çš„é€»è¾‘å•å…ƒå’Œå¯é…ç½®é“¾æ¥</li>
<li>å¯ä»¥é…ç½®æˆè®¡ç®—å¤æ‚å‡½æ•°<ul>
<li>ç¼–ç¨‹è¯­è¨€ï¼šVHDL Verilog</li>
</ul>
</li>
<li>é€šå¸¸æ¯”é€šç”¨ç¡¬ä»¶æ›´é«˜æ•ˆï¼Œä½†æ˜¯ä½“ç§¯æ›´å¤§ä¸æ–¹ä¾¿</li>
<li>ç¼ºç‚¹ï¼šå·¥å…·é“¾è´¨é‡è‰¯è ä¸é½ï¼Œä¸€æ¬¡ç¼–è¯‘éœ€è¦æ•°ä¸ªå°æ—¶ï¼ˆçƒ§ä¸€æ¬¡æ¿å­ï¼Œç‰©ç†ä¸Šçš„æ”¹å˜ï¼‰</li>
<li>ç”¨é€”ï¼šä¸»è¦ç”¨æ¥æ¨¡æ‹Ÿï¼Œçœ‹çœ‹æ•ˆæœå¥½ä¸å¥½ï¼Œå¦‚æœå¥½å¯ä»¥è¿›ä¸€æ­¥é€ èŠ¯ç‰‡</li>
</ul>
<h3 id="3-AI-ASIC"><a href="#3-AI-ASIC" class="headerlink" title="3.AI ASIC"></a>3.AI ASIC</h3><ul>
<li>æ·±åº¦å­¦ä¹ çƒ­é—¨é¢†åŸŸï¼ˆé’ˆå¯¹ç‰¹å®šé¢†åŸŸï¼‰<ul>
<li>å¤§å…¬å¸éƒ½åœ¨é€ è‡ªå·±çš„èŠ¯ç‰‡ï¼ˆIntel Qualcomm Google Amazon Facebookï¼‰</li>
</ul>
</li>
<li>Google TPU æ˜¯æ ‡å¿—æ€§èŠ¯ç‰‡ï¼ˆå¬è¯´åœ¨Googleå†…éƒ¨å·²ç»ç››è¡Œ å–ä»£GPUäº†ï¼‰<ul>
<li>èƒ½å¤Ÿåª²ç¾ Nvidia GPUæ€§èƒ½</li>
<li>åœ¨Google å¤§é‡éƒ¨ç½²</li>
<li>æ ¸å¿ƒæ˜¯ systolic arrayï¼ˆæ—¶é—´å¿« å®¹æ˜“é€ ï¼‰</li>
</ul>
</li>
<li>systolic array<ul>
<li>è®¡ç®—å•å…ƒï¼ˆPEï¼‰é˜µåˆ—</li>
<li>ç‰¹åˆ«é€‚åˆåšçŸ©é˜µä¹˜æ³•</li>
<li>è®¾è®¡å’Œåˆ¶é€ ç›¸å¯¹ç®€å•ï¼ˆæ ¸å°‘ï¼‰</li>
<li>çŸ©é˜µä¹˜æ³•ä¾‹å­ï¼šè§PPT<ul>
<li>å¯¹äºä¸€èˆ¬çš„çŸ©é˜µä¹˜æ³•ï¼šé€šè¿‡åˆ‡å¼€ã€å¡«å……æ¥åŒ¹é…SAå¤§å°</li>
<li>æ‰¹é‡è¾“å…¥æ¥é™ä½å»¶è¿Ÿï¼ˆé¿å…ç©ºç­‰ï¼Œå…ˆå‡ºçš„ç¡¬ä»¶ç©ºé—²ï¼‰</li>
<li>é€šå¸¸æœ‰å…¶ä»–ç¡¬ä»¶å•å…ƒæ¥å¤„ç†åˆ«çš„NNæ“ä½œå­ï¼Œä¾‹å¦‚æ¿€æ´»å±‚</li>
</ul>
</li>
<li>ç¼ºç‚¹ï¼šåªé’ˆå¯¹æ·±åº¦å­¦ä¹ è¿™æ–¹é¢æœ‰ç”¨ï¼Œåˆ«çš„æ–¹é¢æ•ˆæœä¸å¤§</li>
</ul>
</li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>çµæ´»æ€§ã€æ˜“ç”¨æ€§ï¼šIntel(CPU) &gt; GPU &gt; DSP &gt; FPGA &gt; ASIC</li>
<li>æ€§èƒ½åŠŸè€—ï¼šIntel(CPU) &lt; GPU &lt; DSP &lt; FPGA &lt; ASIC</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>31-CPUå’ŒGPU</title>
    <url>/2024/04/23/11-01-31/</url>
    <content><![CDATA[<h1 id="CPUå’ŒGPU"><a href="#CPUå’ŒGPU" class="headerlink" title="CPUå’ŒGPU"></a>CPUå’ŒGPU</h1><h3 id="1-CPUï¼š"><a href="#1-CPUï¼š" class="headerlink" title="1.CPUï¼š"></a>1.CPUï¼š</h3><h4 id="1-1-æå‡CPUåˆ©ç”¨ç‡ä¸€ï¼š"><a href="#1-1-æå‡CPUåˆ©ç”¨ç‡ä¸€ï¼š" class="headerlink" title="1.1 æå‡CPUåˆ©ç”¨ç‡ä¸€ï¼š"></a>1.1 æå‡CPUåˆ©ç”¨ç‡ä¸€ï¼š</h4><ul>
<li>åœ¨è®¡ç®—a+bä¹‹å‰ï¼Œéœ€è¦å‡†å¤‡æ•°æ®</li>
<li><p>ä¸»å†…å­˜-&gt;L3-&gt;L2-&gt;L1-&gt;å¯„å­˜å™¨</p>
<ul>
<li>L1è®¿é—®å»¶æ—¶ï¼š0.5ms</li>
<li>L2è®¿é—®å»¶æ—¶ï¼š7nsï¼ˆ14XL1ï¼‰</li>
<li>ä¸»å†…å­˜è®¿é—®å»¶æ—¶ï¼š100ns(200XL1)</li>
</ul>
</li>
<li><p>æå‡ç©ºé—´å’Œæ—¶é—´çš„å†…å­˜æœ¬åœ°æ€§</p>
<ul>
<li>æ—¶é—´ï¼šé‡ç”¨æ•°æ®ä½¿å®ƒä»¬åœ¨ç¼“å­˜é‡Œ</li>
<li>ç©ºé—´ï¼šæŒ‰åºè¯»å†™æ•°æ®æ˜¯çš„å¯ä»¥é¢„è¯»å–</li>
</ul>
</li>
</ul>
<h4 id="1-2-æ ·ä¾‹åˆ†æï¼š"><a href="#1-2-æ ·ä¾‹åˆ†æï¼š" class="headerlink" title="1.2 æ ·ä¾‹åˆ†æï¼š"></a>1.2 æ ·ä¾‹åˆ†æï¼š</h4><ul>
<li>å¦‚æœä¸€ä¸ªçŸ©é˜µæ˜¯æŒ‰è¡Œå­˜å‚¨ï¼Œè®¿é—®ä¸€è¡Œæ¯”è®¿é—®ä¸€åˆ—è¦å¿«<ul>
<li>CPUä¸€æ¬¡è¯»å–64å­—èŠ‚ï¼ˆç¼“å­˜çº¿ï¼‰</li>
<li>CPUä¼šâ€œèªæ˜çš„â€æå‰è¯»å–ä¸‹ä¸€ä¸ªï¼ˆç¼“å­˜çº¿ï¼‰</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-31/31-01.png" class>
<h4 id="1-3-æå‡CPUåˆ©ç”¨ç‡äºŒï¼š"><a href="#1-3-æå‡CPUåˆ©ç”¨ç‡äºŒï¼š" class="headerlink" title="1.3 æå‡CPUåˆ©ç”¨ç‡äºŒï¼š"></a>1.3 æå‡CPUåˆ©ç”¨ç‡äºŒï¼š</h4><ul>
<li><p>é«˜ç«¯CPUæœ‰å‡ åä¸ªæ ¸</p>
<ul>
<li>EC2 P3.16xlarge:2 Intel Xeon CPUs,32ç‰©ç†æ ¸</li>
</ul>
</li>
<li><p>å¹¶è¡Œæ¥åˆ©ç”¨æ‰€ç”¨æ ¸</p>
<ul>
<li>è¶…çº¿ç¨‹ä¸ä¸€å®šæå‡æ€§èƒ½ï¼Œå› ä¸ºä»–ä»¬å…±äº«å¯„å­˜å™¨</li>
</ul>
</li>
</ul>
<h4 id="1-4-æ ·ä¾‹åˆ†æï¼š"><a href="#1-4-æ ·ä¾‹åˆ†æï¼š" class="headerlink" title="1.4 æ ·ä¾‹åˆ†æï¼š"></a>1.4 æ ·ä¾‹åˆ†æï¼š</h4><ul>
<li>å·¦è¾¹æ¯”å³è¾¹æ…¢ï¼ˆpythonï¼‰</li>
</ul>
<img src="/2024/04/23/11-01-31/31-02.png" class>
<ul>
<li>å·¦è¾¹è°ƒç”¨næ¬¡å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨æœ‰å¼€é”€</li>
<li>å³è¾¹å¾ˆå®¹æ˜“è¢«å¹¶è¡Œï¼ˆä¾‹å¦‚ä¸‹é¢çš„C++å®ç°ï¼‰</li>
</ul>
<img src="/2024/04/23/11-01-31/31-03.png" class>
<h3 id="2-CPU-vs-GPU"><a href="#2-CPU-vs-GPU" class="headerlink" title="2.CPU vs GPU:"></a>2.CPU vs GPU:</h3><img src="/2024/04/23/11-01-31/31-04.png" class>
<h4 id="2-1-æå‡GPUåˆ©ç”¨ç‡"><a href="#2-1-æå‡GPUåˆ©ç”¨ç‡" class="headerlink" title="2.1 æå‡GPUåˆ©ç”¨ç‡"></a>2.1 æå‡GPUåˆ©ç”¨ç‡</h4><ul>
<li><p>å¹¶è¡Œ</p>
<ul>
<li>ä½¿ç”¨æ•°åƒä¸ªçº¿ç¨‹</li>
</ul>
</li>
<li><p>å†…å­˜æœ¬åœ°æ€§</p>
<ul>
<li>ç¼“å­˜æ›´å°ï¼Œæ¶æ„æ›´ç®€å•</li>
</ul>
</li>
<li><p>å°‘ç”¨æ§åˆ¶è¯­å¥</p>
<ul>
<li>æ”¯æŒæœ‰é™</li>
<li>åŒæ­¥å¼€é”€å¤§</li>
</ul>
</li>
</ul>
<h4 id="2-2-CPU-GPU-å¸¦å®½"><a href="#2-2-CPU-GPU-å¸¦å®½" class="headerlink" title="2.2 CPU/GPU å¸¦å®½"></a>2.2 CPU/GPU å¸¦å®½</h4><img src="/2024/04/23/11-01-31/31-05.png" class>
<h4 id="2-3-æ›´å¤šçš„CPUså’ŒGPUs"><a href="#2-3-æ›´å¤šçš„CPUså’ŒGPUs" class="headerlink" title="2.3 æ›´å¤šçš„CPUså’ŒGPUs"></a>2.3 æ›´å¤šçš„CPUså’ŒGPUs</h4><ul>
<li>CPU:AMD,ARM</li>
<li>GPU:AMD,Intel,ARM,Qualcommâ€¦</li>
</ul>
<h4 id="2-4-CPU-GPUé«˜æ€§èƒ½è®¡ç®—ç¼–ç¨‹"><a href="#2-4-CPU-GPUé«˜æ€§èƒ½è®¡ç®—ç¼–ç¨‹" class="headerlink" title="2.4 CPU/GPUé«˜æ€§èƒ½è®¡ç®—ç¼–ç¨‹"></a>2.4 CPU/GPUé«˜æ€§èƒ½è®¡ç®—ç¼–ç¨‹</h4><ul>
<li>CPUï¼šC++æˆ–è€…ä»»ä½•é«˜æ€§èƒ½è¯­è¨€<ul>
<li>ç¼–è¯‘å™¨æˆç†Ÿ</li>
</ul>
</li>
<li>GPU<ul>
<li>Nvidaä¸Šç”¨CUDA<ul>
<li>ç¼–è¯‘å™¨å’Œé©±åŠ¨æˆç†Ÿ</li>
</ul>
</li>
<li>å…¶ä»–ç”¨OpenCL<ul>
<li>è´¨é‡å–å†³äºç¡¬ä»¶å‚å•†</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><ul>
<li>CPU:å¯ä»¥å¤„ç†é€šç”¨è®¡ç®—ã€‚æ€§èƒ½ä¼˜åŒ–è€ƒè™‘æ•°æ®è¯»å†™æ•ˆç‡å’Œå¤šçº¿ç¨‹</li>
<li>GPUï¼šä½¿ç”¨æ›´å¤šçš„å°æ ¸å’Œæ›´å¥½çš„å†…å­˜å¸¦å®½ï¼Œé€‚åˆèƒ½å¤§è§„æ¨¡å¹¶è¡Œçš„è®¡ç®—ä»»åŠ¡</li>
</ul>
<h3 id="4-Q-amp-A"><a href="#4-Q-amp-A" class="headerlink" title="4.Q&amp;A"></a>4.Q&amp;A</h3><h5 id="Q1-å¦‚æœè¦æé«˜æ³›åŒ–æ€§ï¼Œå°±è¦å¢åŠ æ•°æ®ï¼Ÿè°ƒå‚çš„æ„æ€æ˜¯ä¸æ˜¯æœ€å¤§ï¼Ÿ"><a href="#Q1-å¦‚æœè¦æé«˜æ³›åŒ–æ€§ï¼Œå°±è¦å¢åŠ æ•°æ®ï¼Ÿè°ƒå‚çš„æ„æ€æ˜¯ä¸æ˜¯æœ€å¤§ï¼Ÿ" class="headerlink" title="Q1:  å¦‚æœè¦æé«˜æ³›åŒ–æ€§ï¼Œå°±è¦å¢åŠ æ•°æ®ï¼Ÿè°ƒå‚çš„æ„æ€æ˜¯ä¸æ˜¯æœ€å¤§ï¼Ÿ"></a>Q1:  å¦‚æœè¦æé«˜æ³›åŒ–æ€§ï¼Œå°±è¦å¢åŠ æ•°æ®ï¼Ÿè°ƒå‚çš„æ„æ€æ˜¯ä¸æ˜¯æœ€å¤§ï¼Ÿ</h5><blockquote>
<p>æé«˜æ³›åŒ–æ€§çš„æœ‰æ•ˆæ‰‹æ®µæ˜¯å¢åŠ æ•°æ®ï¼Œä½†æ˜¯æ•°æ®çš„è´¨é‡å¾ˆé‡è¦ï¼Œå°‘é‡é«˜è´¨é‡æ•°æ®å’Œå¤§é‡ä½è´¨é‡æ•°æ®å¯èƒ½æœ‰1:10æˆ–è€…1:100çš„æ¢ç®—å…³ç³»ã€‚å®é™…åº”ç”¨åœºæ™¯å¯¹è°ƒå‚è¦æ±‚ä¸é«˜ï¼Œå› ä¸ºæœ‰ä¸æ–­å¢åŠ çš„æ•°æ®ã€‚</p>
</blockquote>
<h5 id="Q2-alexnetæ¨¡å‹æ¯”resnetè¦å¤§ï¼Œä¸ºä»€ä¹ˆè®¡ç®—ä¸Šresnetæ¯”alexnetè¿ç®—é‡å¤§ï¼Ÿ"><a href="#Q2-alexnetæ¨¡å‹æ¯”resnetè¦å¤§ï¼Œä¸ºä»€ä¹ˆè®¡ç®—ä¸Šresnetæ¯”alexnetè¿ç®—é‡å¤§ï¼Ÿ" class="headerlink" title="Q2:alexnetæ¨¡å‹æ¯”resnetè¦å¤§ï¼Œä¸ºä»€ä¹ˆè®¡ç®—ä¸Šresnetæ¯”alexnetè¿ç®—é‡å¤§ï¼Ÿ"></a>Q2:alexnetæ¨¡å‹æ¯”resnetè¦å¤§ï¼Œä¸ºä»€ä¹ˆè®¡ç®—ä¸Šresnetæ¯”alexnetè¿ç®—é‡å¤§ï¼Ÿ</h5><blockquote>
<p>alexnetåé¢ç”¨åˆ°çš„å‡ ä¸ªè¿ç»­çš„å…¨è¿æ¥å±‚ä½¿æ¨¡å‹å˜å¤§ï¼Œä½†æ˜¯resnetä½¿ç”¨çš„å·ç§¯å±‚åœ¨å°‘é‡å‚æ•°ä¸‹æ›´æ¶ˆè€—è®¡ç®—èµ„æºã€‚æ¨¡å‹å¤§å°å’Œè®¡ç®—å¤æ‚åº¦ä¸èƒ½ç›´æ¥æ¢ç®—ã€‚</p>
</blockquote>
<h5 id="Q3-è®­ç»ƒæ—¶ä¸ºä»€ä¹ˆä½¿ç”¨w-lr-w-grad-è€Œä¸å†™åšw-w-lr-w-grad"><a href="#Q3-è®­ç»ƒæ—¶ä¸ºä»€ä¹ˆä½¿ç”¨w-lr-w-grad-è€Œä¸å†™åšw-w-lr-w-grad" class="headerlink" title="Q3:è®­ç»ƒæ—¶ä¸ºä»€ä¹ˆä½¿ç”¨w-=lr*w.grad,è€Œä¸å†™åšw=w-lr*w.grad?"></a>Q3:è®­ç»ƒæ—¶ä¸ºä»€ä¹ˆä½¿ç”¨w-=lr*w.grad,è€Œä¸å†™åšw=w-lr*w.grad?</h5><blockquote>
<p>å› ä¸ºç¬¬äºŒç§å†™æ³•å®šä¹‰äº†ä¸€ä¸ªæ–°çš„tensorï¼Œæ¢¯åº¦å‚æ•°ä¼šæˆä¸ºfalse</p>
</blockquote>
<h5 id="Q4-llcæ˜¯æ˜¾å­˜è¿˜æ˜¯ç¼“å­˜ï¼Œæ˜¯l1-l2-è¿˜æ˜¯l3"><a href="#Q4-llcæ˜¯æ˜¾å­˜è¿˜æ˜¯ç¼“å­˜ï¼Œæ˜¯l1-l2-è¿˜æ˜¯l3" class="headerlink" title="Q4:llcæ˜¯æ˜¾å­˜è¿˜æ˜¯ç¼“å­˜ï¼Œæ˜¯l1,l2,è¿˜æ˜¯l3?"></a>Q4:llcæ˜¯æ˜¾å­˜è¿˜æ˜¯ç¼“å­˜ï¼Œæ˜¯l1,l2,è¿˜æ˜¯l3?</h5><blockquote>
<p>llcæ˜¯ç¼“å­˜ï¼Œlast level cash,æ˜¯æœ€åä¸€å±‚ç¼“å­˜ï¼Œå…·ä½“æ˜¯lnå–å†³äºä¸€å…±æœ‰å‡ å±‚ç¼“å­˜ã€‚</p>
</blockquote>
<h5 id="Q5-åšè®¡ç®—æ—¶æŠŠfor-loppsè¿ç®—å°½å¯èƒ½å‘é‡åŒ–ï¼Ÿ"><a href="#Q5-åšè®¡ç®—æ—¶æŠŠfor-loppsè¿ç®—å°½å¯èƒ½å‘é‡åŒ–ï¼Ÿ" class="headerlink" title="Q5:åšè®¡ç®—æ—¶æŠŠfor_loppsè¿ç®—å°½å¯èƒ½å‘é‡åŒ–ï¼Ÿ"></a>Q5:åšè®¡ç®—æ—¶æŠŠfor_loppsè¿ç®—å°½å¯èƒ½å‘é‡åŒ–ï¼Ÿ</h5><blockquote>
<p>æ˜¯çš„ï¼Œå°½é‡ä¸è¦ç”¨pythonå†™for-loop</p>
</blockquote>
<h5 id="Q6-å¯è§†åŒ–æ—¶ï¼Œéœ€è¦æŠŠæ•°æ®åœ¨cpuå’ŒGPUä¹‹é—´åˆ‡æ¢ï¼Œå¦‚ä½•é¿å…é¢‘ç¹ä¼ è¾“ï¼Ÿå¸¸è§çš„é”™è¯¯æ“ä½œæœ‰å“ªäº›ï¼Ÿæ€ä¹ˆçœ‹åˆ°å’Œæ’æŸ¥è¿™ç§é”™è¯¯ï¼Ÿ"><a href="#Q6-å¯è§†åŒ–æ—¶ï¼Œéœ€è¦æŠŠæ•°æ®åœ¨cpuå’ŒGPUä¹‹é—´åˆ‡æ¢ï¼Œå¦‚ä½•é¿å…é¢‘ç¹ä¼ è¾“ï¼Ÿå¸¸è§çš„é”™è¯¯æ“ä½œæœ‰å“ªäº›ï¼Ÿæ€ä¹ˆçœ‹åˆ°å’Œæ’æŸ¥è¿™ç§é”™è¯¯ï¼Ÿ" class="headerlink" title="Q6:å¯è§†åŒ–æ—¶ï¼Œéœ€è¦æŠŠæ•°æ®åœ¨cpuå’ŒGPUä¹‹é—´åˆ‡æ¢ï¼Œå¦‚ä½•é¿å…é¢‘ç¹ä¼ è¾“ï¼Ÿå¸¸è§çš„é”™è¯¯æ“ä½œæœ‰å“ªäº›ï¼Ÿæ€ä¹ˆçœ‹åˆ°å’Œæ’æŸ¥è¿™ç§é”™è¯¯ï¼Ÿ"></a>Q6:å¯è§†åŒ–æ—¶ï¼Œéœ€è¦æŠŠæ•°æ®åœ¨cpuå’ŒGPUä¹‹é—´åˆ‡æ¢ï¼Œå¦‚ä½•é¿å…é¢‘ç¹ä¼ è¾“ï¼Ÿå¸¸è§çš„é”™è¯¯æ“ä½œæœ‰å“ªäº›ï¼Ÿæ€ä¹ˆçœ‹åˆ°å’Œæ’æŸ¥è¿™ç§é”™è¯¯ï¼Ÿ</h5><blockquote>
<p>å¯è§†åŒ–æ“ä½œä¸éœ€è¦å¤ªæ‹…å¿ƒï¼Œåªè¦ä¸æ˜¯è®¡ç®—ä¸­æ¥å›ä¼ é€’å°±å¥½ã€‚æ·±åº¦å­¦ä¹ æ¡†æ¶ä¼šæœ‰é™åˆ¶ï¼Œåªèƒ½åœ¨ä¸€ä¸ªè®¾å¤‡ä¸Šåšã€‚æ¡†æ¶æ²¡æŠ¥é”™ä¸€èˆ¬ä¸ä¼šæœ‰å¤ªå¤šé—®é¢˜</p>
</blockquote>
<h5 id="Q7-goæ€ä¹ˆæ ·ï¼Ÿ"><a href="#Q7-goæ€ä¹ˆæ ·ï¼Ÿ" class="headerlink" title="Q7:goæ€ä¹ˆæ ·ï¼Ÿ"></a>Q7:goæ€ä¹ˆæ ·ï¼Ÿ</h5><blockquote>
<p>goåˆ†å¸ƒå¼ç³»ç»Ÿåšçš„å¾ˆå¥½ï¼Œå’Œæ·±åº¦å­¦ä¹ çš„åˆ†å¸ƒå¼ä¸å¤ªä¸€æ ·</p>
</blockquote>
<h5 id="Q8-æ€æ ·å¤ç°è®ºæ–‡ï¼Ÿ"><a href="#Q8-æ€æ ·å¤ç°è®ºæ–‡ï¼Ÿ" class="headerlink" title="Q8:æ€æ ·å¤ç°è®ºæ–‡ï¼Ÿ"></a>Q8:æ€æ ·å¤ç°è®ºæ–‡ï¼Ÿ</h5><blockquote>
<p>80%çš„è®ºæ–‡æ— æ³•å¤ç°ï¼Œè¦è¯»æ‡‚æ¯ä¸€å¥è¯ï¼Œå’Œæ˜ç™½ä½œè€…å®ç°çš„ç»†èŠ‚ã€‚</p>
</blockquote>
<h5 id="Q9ï¼šåˆ†å¸ƒå¼å’Œé«˜æ€§èƒ½çš„åŒºåˆ«ï¼Ÿ"><a href="#Q9ï¼šåˆ†å¸ƒå¼å’Œé«˜æ€§èƒ½çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Q9ï¼šåˆ†å¸ƒå¼å’Œé«˜æ€§èƒ½çš„åŒºåˆ«ï¼Ÿ"></a>Q9ï¼šåˆ†å¸ƒå¼å’Œé«˜æ€§èƒ½çš„åŒºåˆ«ï¼Ÿ</h5><blockquote>
<p>æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåˆ†å¸ƒå¼æ›´å¤šè€ƒè™‘å®¹é”™ã€‚é«˜æ€§èƒ½æ˜¯åˆ†å¸ƒå¼çš„ä¸€ä¸ªåº”ç”¨</p>
</blockquote>
<h5 id="Q10-è‡ªåŠ¨é©¾é©¶çƒ§é’±ï¼ŒçŸ­æ—¶é—´éš¾ä»¥è½åœ°æ˜¯ä¸æ˜¯å’Œnasä¸€æ ·ï¼Ÿ"><a href="#Q10-è‡ªåŠ¨é©¾é©¶çƒ§é’±ï¼ŒçŸ­æ—¶é—´éš¾ä»¥è½åœ°æ˜¯ä¸æ˜¯å’Œnasä¸€æ ·ï¼Ÿ" class="headerlink" title="Q10:è‡ªåŠ¨é©¾é©¶çƒ§é’±ï¼ŒçŸ­æ—¶é—´éš¾ä»¥è½åœ°æ˜¯ä¸æ˜¯å’Œnasä¸€æ ·ï¼Ÿ"></a>Q10:è‡ªåŠ¨é©¾é©¶çƒ§é’±ï¼ŒçŸ­æ—¶é—´éš¾ä»¥è½åœ°æ˜¯ä¸æ˜¯å’Œnasä¸€æ ·ï¼Ÿ</h5><blockquote>
<p>ä¸æ˜¯ï¼Œè‡ªåŠ¨é©¾é©¶æœ‰å¾ˆå¥½çš„å•†ä¸šå‰æ™¯ã€‚nasæ²¡æœ‰å¤ªå¤šæ„ä¹‰ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>30 ç¬¬äºŒéƒ¨åˆ†å®Œç»“ç«èµ›ï¼šå›¾ç‰‡åˆ†ç±»</title>
    <url>/2024/04/23/11-01-30/</url>
    <content><![CDATA[<h2 id="30-ç¬¬äºŒéƒ¨åˆ†å®Œç»“ç«èµ›ï¼šå›¾ç‰‡åˆ†ç±»"><a href="#30-ç¬¬äºŒéƒ¨åˆ†å®Œç»“ç«èµ›ï¼šå›¾ç‰‡åˆ†ç±»" class="headerlink" title="30 ç¬¬äºŒéƒ¨åˆ†å®Œç»“ç«èµ›ï¼šå›¾ç‰‡åˆ†ç±»"></a>30 ç¬¬äºŒéƒ¨åˆ†å®Œç»“ç«èµ›ï¼šå›¾ç‰‡åˆ†ç±»</h2><p>ç«èµ›åœ°å€ï¼š<a href="https://www.kaggle.com/c/classify-leaves">https://www.kaggle.com/c/classify-leaves</a></p>
<p>ä»»åŠ¡ï¼šç»™å‡ºå¶å­å›¾ç‰‡é¢„æµ‹æ ‘ç§ï¼Œå…±20000å¼ å›¾ï¼Œ176ç±»ï¼Œæ¯ç±»è‡³å°‘50å¼ å›¾ã€‚è®­ç»ƒæ ·æœ¬18353å¼ ï¼Œæµ‹è¯•æ ·æœ¬8800å¼ ã€‚</p>
<p>è¿™æ¬¡å…¬æ¦œç§æ¦œæ˜¯éšæœºåˆ†çš„ï¼Œæ­£å¸¸æ¥è¯´ä¸¤æ¦œçš„åæ¬¡å·®åˆ«ä¸ä¼šå¤ªå¤§ã€‚</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>29-æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰</title>
    <url>/2024/04/23/11-01-29/</url>
    <content><![CDATA[<h3 id="æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰"><a href="#æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰" class="headerlink" title="æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰"></a>æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰</h3><p>éšç€æˆ‘ä»¬è®¾è®¡è¶Šæ¥è¶Šæ·±çš„ç½‘ç»œï¼Œæ·±åˆ»ç†è§£â€œæ–°æ·»åŠ çš„å±‚å¦‚ä½•æå‡ç¥ç»ç½‘ç»œçš„æ€§èƒ½â€å˜å¾—è‡³å…³é‡è¦ã€‚æ›´é‡è¦çš„æ˜¯è®¾è®¡ç½‘ç»œçš„èƒ½åŠ›ï¼Œåœ¨ResNetè¿™ç§ç½‘ç»œä¸­ï¼Œæ·»åŠ å±‚ä¼šä½¿ç½‘ç»œæ›´å…·è¡¨ç°åŠ›</p>
<h4 id="å‡½æ•°ç±»"><a href="#å‡½æ•°ç±»" class="headerlink" title="å‡½æ•°ç±»"></a>å‡½æ•°ç±»</h4><ul>
<li>å‡è®¾æœ‰ä¸€ç±»ç‰¹å®šçš„ç¥ç»ç½‘ç»œæ¶æ„Fï¼Œå®ƒåŒ…æ‹¬å­¦ä¹ é€Ÿç‡å’Œå…¶ä»–è¶…å‚æ•°è®¾ç½®ã€‚ å¯¹äºæ‰€æœ‰<em>f</em>âˆˆFï¼Œå­˜åœ¨ä¸€äº›å‚æ•°é›†ï¼ˆä¾‹å¦‚æƒé‡å’Œåç½®ï¼‰ï¼Œè¿™äº›å‚æ•°å¯ä»¥é€šè¿‡åœ¨åˆé€‚çš„æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒè€Œè·å¾—ã€‚ ç°åœ¨å‡è®¾<em>f</em>âˆ—æ˜¯æˆ‘ä»¬çœŸæ­£æƒ³è¦æ‰¾åˆ°çš„å‡½æ•°ï¼Œå¦‚æœæ˜¯<em>f</em>âˆ—âˆˆFï¼Œé‚£æˆ‘ä»¬å¯ä»¥è½»è€Œæ˜“ä¸¾çš„è®­ç»ƒå¾—åˆ°å®ƒï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¸ä¼šé‚£ä¹ˆå¹¸è¿ã€‚ ç›¸åï¼Œæˆ‘ä»¬å°†å°è¯•æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°<em>f</em>âˆ—ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨Fä¸­çš„æœ€ä½³é€‰æ‹©ã€‚</li>
<li>ä¸ºäº†å¾—åˆ°æ›´è¿‘ä¼¼çœŸæ­£<em>f</em>âˆ—çš„å‡½æ•°æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªæ›´å¼ºå¤§çš„æ¶æ„Fâ€™ï¼Œä½†æ˜¯å¦‚æœå…ˆå‰çš„æ¡†æ¶Fä¸åŒ…å«äºæ–°æ¡†æ¶Fâ€˜ä¸­å°±å¯èƒ½å¯¼è‡´å¦‚ä¸‹å›¾ä¸­å·¦ä¾§çš„æœ€ä¼˜å‡½æ•°ç¦»å®é™…é¢„æµ‹å‡½æ•°è¯¯å·®åè€Œéšæ¡†æ¶è¾¹å¼ºè€Œå¢å¤§ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ä¸‹å›¾ä¸­å³ä¾§çš„åµŒå¥—å‡½æ•°ç±»ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</li>
<li>å¼•å…¥æ–¹æ³•ï¼šå¯¹äºæ·±åº¦ç¥ç»ç½‘ç»œï¼Œå¦‚æœæˆ‘ä»¬èƒ½å°†æ–°æ·»åŠ çš„å±‚è®­ç»ƒæˆ<em>æ’ç­‰æ˜ å°„</em>ï¼ˆidentity functionï¼‰<em>f</em>(<strong>x</strong>)=<strong>x</strong>ï¼Œæ–°æ¨¡å‹å’ŒåŸæ¨¡å‹å°†åŒæ ·æœ‰æ•ˆã€‚ åŒæ—¶ï¼Œç”±äºæ–°æ¨¡å‹å¯èƒ½å¾—å‡ºæ›´ä¼˜çš„è§£æ¥æ‹Ÿåˆè®­ç»ƒæ•°æ®é›†ï¼Œå› æ­¤æ·»åŠ å±‚ä¼¼ä¹æ›´å®¹æ˜“é™ä½è®­ç»ƒè¯¯å·®ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-29/29-01.png" class>
<img src="/2024/04/23/11-01-29/29-02.png" class>
<h4 id="æ®‹å·®å—"><a href="#æ®‹å·®å—" class="headerlink" title="æ®‹å·®å—"></a>æ®‹å·®å—</h4><ul>
<li><p>ç¥ç»ç½‘ç»œä¸­çš„å…·ä½“å®ç°ï¼šå‡è®¾æˆ‘ä»¬çš„åŸå§‹è¾“å…¥ä¸º<em>x</em>ï¼Œè€Œå¸Œæœ›å­¦å‡ºçš„ç†æƒ³æ˜ å°„ä¸º<em>f</em>(<strong>x</strong>)ï¼Œå·¦å›¾è™šçº¿æ¡†ä¸­çš„éƒ¨åˆ†éœ€è¦ç›´æ¥æ‹Ÿåˆå‡ºè¯¥æ˜ å°„<em>f</em>(<strong>x</strong>)ï¼Œè€Œå³å›¾è™šçº¿æ¡†ä¸­çš„éƒ¨åˆ†åˆ™éœ€è¦æ‹Ÿåˆå‡ºæ®‹å·®æ˜ å°„<em>f</em>(<strong>x</strong>)âˆ’<strong>x</strong>ã€‚è€Œå³å›¾æ­£æ˜¯ResNetçš„åŸºç¡€æ¶æ„â€“<em>æ®‹å·®å—</em>ï¼ˆresidual blockï¼‰</p>
</li>
<li><p>æ®‹å·®å—çš„ä»£ç å®ç°ï¼š</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Residual</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_channels, num_channels,</span></span><br><span class="line"><span class="params">                 use_1x1conv=<span class="literal">False</span>, strides=<span class="number">1</span></span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="comment"># ç¬¬ä¸€ä¸ªå·ç§¯å±‚</span></span><br><span class="line">        self.conv1 = nn.Conv2d(input_channels, num_channels,</span><br><span class="line">                               kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>, stride=strides)</span><br><span class="line">        <span class="comment"># ç¬¬äºŒä¸ªå·ç§¯å±‚</span></span><br><span class="line">        self.conv2 = nn.Conv2d(num_channels, num_channels,</span><br><span class="line">                               kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># å¦‚æœä½¿ç”¨1 x 1å·ç§¯ä»¥ä½¿å¾—è¾“å…¥å˜æ¢æˆéœ€è¦çš„å½¢çŠ¶</span></span><br><span class="line">        <span class="keyword">if</span> use_1x1conv:</span><br><span class="line">            self.conv3 = nn.Conv2d(input_channels, num_channels,</span><br><span class="line">                                   kernel_size=<span class="number">1</span>, stride=strides)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.conv3 = <span class="literal">None</span></span><br><span class="line">        <span class="comment"># å¯¹åº”ç¬¬ä¸€ä¸ªå·ç§¯å±‚çš„æ‰¹é‡è§„èŒƒåŒ–å±‚</span></span><br><span class="line">        self.bn1 = nn.BatchNorm2d(num_channels)</span><br><span class="line">        <span class="comment"># å¯¹åº”ç¬¬äºŒä¸ªå·ç§¯å±‚çš„æ‰¹é‡è§„èŒƒåŒ–å±‚</span></span><br><span class="line">        self.bn2 = nn.BatchNorm2d(num_channels)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, X</span>):</span><br><span class="line">        <span class="comment"># ç¬¬ä¸€å±‚ï¼šå·ç§¯ -&gt; è§„èŒƒåŒ– -&gt; reluæ¿€æ´»</span></span><br><span class="line">        Y = F.relu(self.bn1(self.conv1(X)))</span><br><span class="line">        <span class="comment"># ç¬¬äºŒå±‚ï¼šå·ç§¯ -&gt; è§„èŒƒåŒ–</span></span><br><span class="line">        Y = self.bn2(self.conv2(Y))</span><br><span class="line">        <span class="comment"># å¦‚æœè¦è®©è¾“å…¥å˜æ¢æˆéœ€è¦çš„å½¢çŠ¶</span></span><br><span class="line">        <span class="keyword">if</span> self.conv3:</span><br><span class="line">            <span class="comment"># å¯¹Xä½¿ç”¨1 x 1å·ç§¯ï¼Œä»¥ä½¿è¾“å‡ºæˆä¸ºéœ€è¦çš„å½¢çŠ¶</span></span><br><span class="line">            X = self.conv3(X)</span><br><span class="line">        <span class="comment"># åµŒå¥—æ¨¡å‹çš„å®ç°ï¼Œå³å¯¹ä¸Šä¸€æ¬¡è®­ç»ƒåçš„æ¨¡å‹è¿›è¡ŒåµŒå¥—</span></span><br><span class="line">        Y += X</span><br><span class="line">        <span class="comment"># reluæ¿€æ´»å¹¶è¾“å‡º</span></span><br><span class="line">        <span class="keyword">return</span> F.relu(Y)</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-29/29-03.png" class>
<h4 id="ResNetæ¨¡å‹"><a href="#ResNetæ¨¡å‹" class="headerlink" title="ResNetæ¨¡å‹"></a>ResNetæ¨¡å‹</h4><ul>
<li>ResNetçš„å‰ä¸¤å±‚è·Ÿä¹‹å‰ä»‹ç»çš„GoogLeNetä¸­çš„ä¸€æ ·ï¼š åœ¨è¾“å‡ºé€šé“æ•°ä¸º64ã€æ­¥å¹…ä¸º2çš„7Ã—7å·ç§¯å±‚åï¼Œæ¥æ­¥å¹…ä¸º2çš„3Ã—3çš„æœ€å¤§æ±‡èšå±‚ã€‚ ä¸åŒä¹‹å¤„åœ¨äºResNetæ¯ä¸ªå·ç§¯å±‚åå¢åŠ äº†æ‰¹é‡è§„èŒƒåŒ–å±‚ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b1 = nn.Sequential(nn.Conv2d(<span class="number">1</span>, <span class="number">64</span>, kernel_size=<span class="number">7</span>, stride=<span class="number">2</span>, padding=<span class="number">3</span>),</span><br><span class="line">                   nn.BatchNorm2d(<span class="number">64</span>), nn.ReLU(),</span><br><span class="line">                   nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>, padding=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>GoogLeNetåœ¨åé¢æ¥äº†4ä¸ªç”±Inceptionå—ç»„æˆçš„æ¨¡å—ã€‚ ResNetåˆ™ä½¿ç”¨4ä¸ªç”±æ®‹å·®å—ç»„æˆçš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨è‹¥å¹²ä¸ªåŒæ ·è¾“å‡ºé€šé“æ•°çš„æ®‹å·®å—ã€‚ ç¬¬ä¸€ä¸ªæ¨¡å—çš„é€šé“æ•°åŒè¾“å…¥é€šé“æ•°ä¸€è‡´ã€‚ ç”±äºä¹‹å‰å·²ç»ä½¿ç”¨äº†æ­¥å¹…ä¸º2çš„æœ€å¤§æ±‡èšå±‚ï¼Œæ‰€ä»¥æ— é¡»å‡å°é«˜å’Œå®½ã€‚ ä¹‹åçš„æ¯ä¸ªæ¨¡å—åœ¨ç¬¬ä¸€ä¸ªæ®‹å·®å—é‡Œå°†ä¸Šä¸€ä¸ªæ¨¡å—çš„é€šé“æ•°ç¿»å€ï¼Œå¹¶å°†é«˜å’Œå®½å‡åŠã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">resnet_block</span>(<span class="params">input_channels, num_channels, num_residuals,</span></span><br><span class="line"><span class="params">                 first_block=<span class="literal">False</span></span>):</span><br><span class="line">    blk = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_residuals):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">and</span> <span class="keyword">not</span> first_block:</span><br><span class="line">            blk.append(Residual(input_channels, num_channels,</span><br><span class="line">                                use_1x1conv=<span class="literal">True</span>, strides=<span class="number">2</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            blk.append(Residual(num_channels, num_channels))</span><br><span class="line">    <span class="keyword">return</span> blk</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¥ç€åœ¨ResNetåŠ å…¥æ‰€æœ‰æ®‹å·®å—ï¼Œè¿™é‡Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨2ä¸ªæ®‹å·®å—ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b2 = nn.Sequential(*resnet_block(<span class="number">64</span>, <span class="number">64</span>, <span class="number">2</span>, first_block=<span class="literal">True</span>))</span><br><span class="line">b3 = nn.Sequential(*resnet_block(<span class="number">64</span>, <span class="number">128</span>, <span class="number">2</span>))</span><br><span class="line">b4 = nn.Sequential(*resnet_block(<span class="number">128</span>, <span class="number">256</span>, <span class="number">2</span>))</span><br><span class="line">b5 = nn.Sequential(*resnet_block(<span class="number">256</span>, <span class="number">512</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ€åï¼Œä¸GoogLeNetä¸€æ ·ï¼Œåœ¨ResNetä¸­åŠ å…¥å…¨å±€å¹³å‡æ±‡èšå±‚ï¼Œä»¥åŠå…¨è¿æ¥å±‚è¾“å‡ºã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">net = nn.Sequential(b1, b2, b3, b4, b5,</span><br><span class="line">                    nn.AdaptiveAvgPool2d((<span class="number">1</span>,<span class="number">1</span>)),</span><br><span class="line">                    nn.Flatten(), nn.Linear(<span class="number">512</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¯ä¸ªæ¨¡å—æœ‰4ä¸ªå·ç§¯å±‚ï¼ˆä¸åŒ…æ‹¬æ’ç­‰æ˜ å°„çš„1Ã—1å·ç§¯å±‚ï¼‰ã€‚ åŠ ä¸Šç¬¬ä¸€ä¸ª7Ã—7å·ç§¯å±‚å’Œæœ€åä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œå…±æœ‰18å±‚ã€‚ å› æ­¤ï¼Œè¿™ç§æ¨¡å‹é€šå¸¸è¢«ç§°ä¸ºResNet-18ã€‚ é€šè¿‡é…ç½®ä¸åŒçš„é€šé“æ•°å’Œæ¨¡å—é‡Œçš„æ®‹å·®å—æ•°å¯ä»¥å¾—åˆ°ä¸åŒçš„ResNetæ¨¡å‹ï¼Œä¾‹å¦‚æ›´æ·±çš„å«152å±‚çš„ResNet-152ã€‚ è™½ç„¶ResNetçš„ä¸»ä½“æ¶æ„è·ŸGoogLeNetç±»ä¼¼ï¼Œä½†ResNetæ¶æ„æ›´ç®€å•ï¼Œä¿®æ”¹ä¹Ÿæ›´æ–¹ä¾¿ã€‚è¿™äº›å› ç´ éƒ½å¯¼è‡´äº†ResNetè¿…é€Ÿè¢«å¹¿æ³›ä½¿ç”¨ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-29/29-04.png" class>
<h4 id="è®­ç»ƒæ¨¡å‹"><a href="#è®­ç»ƒæ¨¡å‹" class="headerlink" title="è®­ç»ƒæ¨¡å‹"></a>è®­ç»ƒæ¨¡å‹</h4><ul>
<li>æˆ‘ä»¬åœ¨Fashion-MNISTæ•°æ®é›†ä¸Šè®­ç»ƒResNet</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lr, num_epochs, batch_size = <span class="number">0.05</span>, <span class="number">10</span>, <span class="number">256</span></span><br><span class="line">train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size, resize=<span class="number">96</span>)</span><br><span class="line">d2l.train_ch6(net, train_iter, test_iter, num_epochs, lr, d2l.try_gpu())</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-29/29-05.png" class>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>å­¦ä¹ åµŒå¥—å‡½æ•°ï¼ˆnested functionï¼‰æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œçš„ç†æƒ³æƒ…å†µã€‚åœ¨æ·±å±‚ç¥ç»ç½‘ç»œä¸­ï¼Œå­¦ä¹ å¦ä¸€å±‚ä½œä¸ºæ’ç­‰æ˜ å°„ï¼ˆidentity functionï¼‰è¾ƒå®¹æ˜“ï¼ˆå°½ç®¡è¿™æ˜¯ä¸€ä¸ªæç«¯æƒ…å†µï¼‰ã€‚</li>
<li>æ®‹å·®æ˜ å°„å¯ä»¥æ›´å®¹æ˜“åœ°å­¦ä¹ åŒä¸€å‡½æ•°ï¼Œä¾‹å¦‚å°†æƒé‡å±‚ä¸­çš„å‚æ•°è¿‘ä¼¼ä¸ºé›¶ã€‚</li>
<li>åˆ©ç”¨æ®‹å·®å—ï¼ˆresidual blocksï¼‰å¯ä»¥è®­ç»ƒå‡ºä¸€ä¸ªæœ‰æ•ˆçš„æ·±å±‚ç¥ç»ç½‘ç»œï¼šè¾“å…¥å¯ä»¥é€šè¿‡å±‚é—´çš„æ®‹ä½™è¿æ¥æ›´å¿«åœ°å‘å‰ä¼ æ’­ã€‚</li>
<li>æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰å¯¹éšåçš„æ·±å±‚ç¥ç»ç½‘ç»œè®¾è®¡äº§ç”Ÿäº†æ·±è¿œå½±å“ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>28-æ‰¹é‡å½’ä¸€åŒ–</title>
    <url>/2024/04/23/11-01-28/</url>
    <content><![CDATA[<h2 id="æ‰¹é‡å½’ä¸€åŒ–"><a href="#æ‰¹é‡å½’ä¸€åŒ–" class="headerlink" title="æ‰¹é‡å½’ä¸€åŒ–"></a>æ‰¹é‡å½’ä¸€åŒ–</h2><p>æ·±å±‚ç¥ç»ç½‘ç»œçš„è®­ç»ƒï¼Œå°¤å…¶æ˜¯ä½¿ç½‘ç»œåœ¨è¾ƒçŸ­æ—¶é—´å†…æ”¶æ•›æ˜¯ååˆ†å›°éš¾çš„ï¼Œ<strong>æ‰¹é‡å½’ä¸€åŒ–[batch normalization]</strong>æ˜¯ä¸€ç§æµè¡Œä¸”æœ‰æ•ˆçš„æŠ€æœ¯ï¼Œèƒ½åŠ é€Ÿæ·±å±‚ç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦ï¼Œç›®å‰ä»è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<h3 id="è®­ç»ƒæ·±å±‚ç½‘ç»œæ—¶çš„é—®é¢˜"><a href="#è®­ç»ƒæ·±å±‚ç½‘ç»œæ—¶çš„é—®é¢˜" class="headerlink" title="è®­ç»ƒæ·±å±‚ç½‘ç»œæ—¶çš„é—®é¢˜"></a>è®­ç»ƒæ·±å±‚ç½‘ç»œæ—¶çš„é—®é¢˜</h3><img src="/2024/04/23/11-01-28/deep_model.png" class>
<p>æ·±åº¦ç¥ç»ç½‘ç»œåœ¨è®­ç»ƒæ—¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li>æ”¶æ•›é€Ÿåº¦æ…¢ï¼š<ul>
<li>ç”±äºè®­ç»ƒæ—¶å…ˆæ­£å‘ä¼ æ’­ååå‘ä¼ æ’­ï¼Œä¸”æ¯å±‚çš„æ¢¯åº¦ä¸€èˆ¬è¾ƒå°ï¼Œè‹¥ç½‘ç»œè¾ƒæ·±ï¼Œåˆ™åå‘ä¼ æ’­æ—¶ä¼šå‡ºç°ç±»ä¼¼äºæ¢¯åº¦æ¶ˆå¤±çš„ç°è±¡ï¼Œå¯¼è‡´è·ç¦»æ•°æ®æ›´è¿‘çš„å±‚æ¢¯åº¦è¾ƒå°ï¼Œæ”¶æ•›æ…¢ï¼Œè€Œè·ç¦»è¾“å‡ºæ›´è¿‘çš„å±‚æ¢¯åº¦è¾ƒå¤§ï¼Œæ”¶æ•›å¿«ã€‚ç„¶è€Œåº•éƒ¨çš„å±‚ä¸€èˆ¬éƒ½ç”¨äºæå–è¾ƒåŸºç¡€çš„ç‰¹å¾ä¿¡æ¯ï¼Œä¸Šæ–¹çš„å±‚æ”¶æ•›åï¼Œç”±äºåº•éƒ¨æå–åŸºç¡€ç‰¹å¾çš„å±‚ä»åœ¨å˜åŒ–ï¼Œä¸Šæ–¹çš„å±‚ä¸€ç›´åœ¨ä¸åœçš„é‡æ–°è®­ç»ƒï¼Œå¯¼è‡´æ•´ä¸ªç½‘ç»œéš¾ä»¥æ”¶æ•›ï¼Œè®­ç»ƒè¾ƒæ…¢ã€‚</li>
</ul>
</li>
<li>å†…éƒ¨åå˜é‡è½¬ç§»ï¼š<ul>
<li>åˆ†å¸ƒåç§»ï¼šåç§»åœ¨è§†é¢‘è¯¾ç¨‹ä¸­å¹¶æœªå‡ºç°ï¼Œä½†åœ¨ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹è¿™æœ¬ä¹¦ä¸­æœ‰æåˆ°è¿‡ï¼Œåœ¨<a href="https://zh-v2.d2l.ai/chapter_multilayer-perceptrons/environment.html">4.9. ç¯å¢ƒå’Œåˆ†å¸ƒåç§»</a>éƒ¨åˆ†ã€‚åç§»æŒ‡çš„æ˜¯è®­ç»ƒæ•°æ®å¯èƒ½å’Œæµ‹è¯•æ•°æ®çš„åˆ†å¸ƒä¸åŒï¼Œæ¯”å¦‚åˆ©ç”¨æ¥è‡ªçœŸå®çš„çŒ«å’Œç‹—çš„ç…§ç‰‡çš„è®­ç»ƒæ•°æ®è®­ç»ƒæ¨¡å‹ï¼Œç„¶åè®©æ¨¡å‹å»é¢„æµ‹åŠ¨ç”»ä¸­çš„çŒ«å’Œç‹—çš„å›¾ç‰‡ã€‚<img src="/2024/04/23/11-01-28/cat-dog-train.svg" alt="cat-dog-train"><img src="/2024/04/23/11-01-28/cat-dog-test.svg" alt="cat-dog-test">è¿™æ˜¾ç„¶ä¼šé™ä½æ­£ç¡®ç‡ä¹Ÿä¼šå¯¹æ¨¡å‹çš„è¿›ä¸€æ­¥ä¼˜åŒ–å¸¦æ¥å¹²æ‰°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å¯¹äºåˆ†å¸ƒåç§»æˆ‘ä»¬æ¯«æ— åŠæ³•ï¼Œç„¶è€Œï¼Œåœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ä¸­ï¼Œå¦‚æœå‡å®šä¸€äº›è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®åˆ†å¸ƒçš„å‰ææ¡ä»¶ï¼Œå°±èƒ½å¯¹åˆ†å¸ƒåç§»è¿›è¡Œå¤„ç†ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯åå˜é‡åç§»ã€‚</li>
<li>åå˜é‡åç§»ï¼šåå˜é‡åç§»å‡è®¾è¾“å…¥çš„åˆ†å¸ƒå¯èƒ½éšæ—¶é—´å˜åŒ–ï¼Œä½†æ ‡ç­¾å‡½æ•°ï¼ˆæ¡ä»¶åˆ†å¸ƒ$P(y|\bold x)$ï¼‰æ²¡æœ‰æ”¹å˜ã€‚ç»Ÿè®¡å­¦å®¶ç§°è¿™ä¸º<em>åå˜é‡åç§»</em>ï¼ˆcovariate shiftï¼‰å¹¶ç»™å‡ºäº†ä¸€äº›è§£å†³æ–¹æ¡ˆ</li>
<li><strong>å†…éƒ¨åå˜é‡åç§»(Internal Covariate Shift)</strong>ï¼šæ¯ä¸€å±‚çš„å‚æ•°åœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œä¼šæ”¹å˜ä¸‹ä¸€å±‚è¾“å…¥çš„åˆ†å¸ƒï¼Œå¯¼è‡´ç½‘ç»œå‚æ•°å˜å¹»è«æµ‹ï¼Œéš¾ä»¥æ”¶æ•›ï¼Œç¥ç»ç½‘ç»œå±‚æ•°è¶Šå¤šï¼Œè¡¨ç°å¾—è¶Šæ˜æ˜¾ã€‚</li>
<li><font color="red">æ³¨æ„ï¼š</font>
* <font color="red">1ï¼šå†…éƒ¨åå˜é‡åç§»è¿™ä¸ªè¯ä¸æ ‡å‡†çš„åå˜é‡åç§»æ‰€æœ‰åŒºåˆ«ã€‚</font>
* <font color="red">2ï¼šèƒ½ç¼“è§£å†…éƒ¨åå˜é‡åç§»ä»…ä»…æ˜¯æ‰¹é‡å½’ä¸€åŒ–çš„ä½œè€…æå‡ºçš„å‡æƒ³ï¼Œåç»­è®ºæ–‡è¯å®æ‰¹é‡å½’ä¸€åŒ–å®é™…å¯¹å†…éƒ¨åå˜é‡åç§»çš„ç¼“è§£å¸®åŠ©ä¸å¤§</font>
* <font color="red">3ï¼šæ‰¹é‡å½’ä¸€åŒ–ä¸€èˆ¬åªå½±å“æ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦ï¼Œä¸å½±å“ç²¾åº¦</font></li>
</ul>
</li>
<li>è¿‡æ‹Ÿåˆï¼š<ul>
<li>ç”±äºç½‘ç»œæ·±åº¦åŠ æ·±ï¼Œå˜å¾—æ›´ä¸ºå¤æ‚ï¼Œä½¿å¾—ç½‘ç»œå®¹æ˜“è¿‡æ‹Ÿåˆã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ‰¹é‡å½’ä¸€åŒ–-1"><a href="#æ‰¹é‡å½’ä¸€åŒ–-1" class="headerlink" title="æ‰¹é‡å½’ä¸€åŒ–"></a>æ‰¹é‡å½’ä¸€åŒ–</h3><p><strong>æ‰¹é‡å½’ä¸€åŒ–(batch normalization)</strong>åœ¨ <a href="https://zh-v2.d2l.ai/chapter_references/zreferences.html#ioffe-szegedy-2015">[Ioffe &amp; Szegedy, 2015]</a>ä¸­è¢«æå‡ºï¼Œç”¨äºè§£å†³ä¸Šè¿°è®­ç»ƒæ·±åº¦ç½‘ç»œæ—¶çš„è¿™äº›é—®é¢˜ï¼Œç„¶è€Œè¿™åªæ˜¯äººä»¬çš„æ„Ÿæ€§ç†è§£ï¼Œå…³äºæ‰¹é‡å½’ä¸€åŒ–å…·ä½“æ˜¯æ€æ ·å¸®åŠ©è®­ç»ƒè¿™ä¸ªé—®é¢˜ç›®å‰ä»å¾…è¿›ä¸€æ­¥ç ”ç©¶ã€‚</p>
<p>æ‰¹é‡å½’ä¸€åŒ–å°è¯•å°†æ¯ä¸ªè®­ç»ƒä¸­çš„mini-batchå°æ‰¹é‡æ•°æ®ï¼ˆå³ä¼šå¯¼è‡´å‚æ•°æ›´æ–°çš„æ•°æ®ï¼‰åœ¨æ¯ä¸€å±‚çš„ç»“æœè¿›è¡Œå½’ä¸€åŒ–ï¼Œä½¿å…¶æ›´ç¨³å®šï¼Œå½’ä¸€åŒ–æŒ‡çš„æ˜¯å¯¹äºå½“å‰å°æ‰¹é‡ä¸­çš„æ‰€æœ‰æ ·æœ¬ï¼Œæ±‚å‡ºæœŸæœ›å’Œæ–¹å·®ï¼Œç„¶åå°†æ¯ä¸ªæ ·æœ¬å‡å»æœŸæœ›å†é™¤ä»¥æ ‡å‡†å·®ã€‚</p>
<h3 id="å½¢å¼åŒ–è¡¨è¾¾"><a href="#å½¢å¼åŒ–è¡¨è¾¾" class="headerlink" title="å½¢å¼åŒ–è¡¨è¾¾"></a>å½¢å¼åŒ–è¡¨è¾¾</h3><p>ä¸‹é¢çš„è¿ç®—å‡ä¸ºå‘é‡è¿ç®—ï¼Œå‘é‡ä¸­çš„æ¯ä¸ªç»´åº¦ä»£è¡¨ä¸€ä¸ªç‰¹å¾ï¼Œå¯¹äºæ¯ä¸ªç‰¹å¾åˆ†åˆ«è¿›è¡Œè®¡ç®—å†æ‹¼æ¥åœ¨ä¸€èµ·å³ä¸ºå‘é‡è¿ç®—ã€‚</p>
<p>è®¾$ \bold x \in \mathcal{B}$ä¸ºæ¥è‡ªä¸€ä¸ªå°æ‰¹é‡$\mathcal{B}$çš„è¾“å…¥ï¼Œæ‰¹é‡è§„èŒƒåŒ–BNæ ¹æ®ä¸‹å¼è¿›è¡Œè½¬æ¢</p>
<script type="math/tex; mode=display">
\mathrm{BN}(\mathbf{x}) = \boldsymbol{\gamma} \odot \frac{\mathbf{x} - \hat{\boldsymbol{\mu}}_\mathcal{B}}{\hat{\boldsymbol{\sigma}}_\mathcal{B}} + \boldsymbol{\beta}.</script><p>å¼ä¸­$\hat{\boldsymbol{\mu}}_\mathcal{B}$ä¸ºå°æ‰¹é‡$\mathcal{B}$æ ·æœ¬å‡å€¼ï¼Œ$\hat{\boldsymbol{\sigma}}_\mathcal{B}$ä¸ºæ ·æœ¬æ ‡å‡†å·®ï¼š</p>
<script type="math/tex; mode=display">
\begin{split}\begin{aligned} \hat{\boldsymbol{\mu}}_\mathcal{B} &= \frac{1}{|\mathcal{B}|} \sum_{\mathbf{x} \in \mathcal{B}} \mathbf{x},\\
\hat{\boldsymbol{\sigma}}_\mathcal{B}^2 &= \frac{1}{|\mathcal{B}|} \sum_{\mathbf{x} \in \mathcal{B}} (\mathbf{x} - \hat{\boldsymbol{\mu}}_{\mathcal{B}})^2 + \epsilon\end{aligned}\end{split}</script><p>å…¶ä¸­$\epsilon$ç”¨äºé˜²æ­¢åˆ†æ¯ä¸º0ï¼Œç»è¿‡å‡æœŸæœ›ä¸é™¤ä»¥æ ‡å‡†å·®åå¾—åˆ°æœŸæœ›ä¸º1æ–¹å·®ä¸º0çš„å°æ‰¹é‡æ•°æ®ã€‚ç„¶è€Œï¼ŒæœŸæœ›å’Œæ–¹å·®ä¸ºäº†ä½¿å°æ‰¹é‡æœ‰æ›´è‡ªç”±çš„é€‰æ‹©ï¼Œå†å°†å…¶ä¹˜æ‹‰ä¼¸å‚æ•°$\boldsymbol {\gamma}$ï¼ŒåŠ åç§»å‚æ•°$\boldsymbol \beta$ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ä¸$\bold x$åŒæ ·å¤§å°ï¼Œæ˜¯æ¨¡å‹ä¸­çš„å¯å­¦ä¹ å‚æ•°ï¼Œä¸å…¶ä»–å‚æ•°ä¸€åŒæ›´æ–°ã€‚</p>
<p>ç”±äº$\hat{\boldsymbol{\mu}}_\mathcal{B}$å’Œ$\hat{\boldsymbol{\sigma}}_\mathcal{B}$ä¸ºç”±å½“å‰å°æ‰¹é‡è®¡ç®—çš„å€¼ï¼Œå®é™…ä¸Šæ˜¯æ•´ä¸ªåˆ†å¸ƒå¯¹åº”çš„æœŸæœ›ä¸æ ‡å‡†å·®çš„ä¼°è®¡å€¼ï¼Œç”±äºå°æ‰¹é‡çš„éšæœºé€‰æ‹©ï¼Œ$\hat{\boldsymbol{\mu}}_\mathcal{B}$å’Œ$\hat{\boldsymbol{\sigma}}_\mathcal{B}$ä¼šç»™æ¨¡å‹å¸¦æ¥ä¸€å®šçš„ä¸è¾“å…¥æ•°æ®æœ‰å…³çš„å™ªéŸ³ï¼Œè€Œè¿™äº›å™ªéŸ³ä¹Ÿèƒ½å¯¹æ¨¡å‹è¿›è¡Œæ­£åˆ™åŒ–ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚ä¸ºä½•è¿™ç§å™ªéŸ³èƒ½åŠ å¿«è®­ç»ƒå¹¶å¸¦æ¥æ­£åˆ™åŒ–è¿˜æœ‰å¾…ç ”ç©¶ï¼Œä¸è¿‡å·²æœ‰ç†è®ºè¯´æ˜äº†ä¸ºä»€ä¹ˆæ‰¹é‡è§„èŒƒåŒ–æœ€é€‚åº”$50âˆ¼100$èŒƒå›´ä¸­çš„ä¸­ç­‰æ‰¹é‡å¤§å°çš„é—®é¢˜ã€‚</p>
<p>è®­ç»ƒæ—¶ä¸èƒ½ä½¿ç”¨æ•´ä¸ªæ•°æ®é›†ï¼Œåªèƒ½ä¸€æ­¥æ­¥çš„è®­ç»ƒå’Œæ›´æ–°ï¼›è€Œé¢„æµ‹æ—¶æ¨¡å‹å·²ç„¶å›ºå®šï¼Œå¯ä»¥æ ¹æ®æ•´ä¸ªæ•°æ®é›†ç²¾ç¡®è®¡ç®—å‡å€¼å’Œæ–¹å·®ã€‚å› æ­¤ï¼Œæ‰¹é‡å½’ä¸€åŒ–å¯¹äºè®­ç»ƒå’Œé¢„æµ‹æ—¶æœ‰ä¸¤ç§ä¸åŒæ¨¡å¼ã€‚</p>
<h3 id="æ‰¹é‡å½’ä¸€åŒ–å±‚"><a href="#æ‰¹é‡å½’ä¸€åŒ–å±‚" class="headerlink" title="æ‰¹é‡å½’ä¸€åŒ–å±‚"></a>æ‰¹é‡å½’ä¸€åŒ–å±‚</h3><p>æ‰¹é‡å½’ä¸€åŒ–ä¸å†å•ç‹¬çš„è€ƒè™‘å•ä¸ªæ ·æœ¬ï¼Œéœ€è¦å¯¹æ•´ä¸ªmini-batchè¿›è¡Œï¼Œå› æ­¤éœ€è¦è€ƒè™‘å¤šç§æƒ…å†µã€‚</p>
<h4 id="å…¨è¿æ¥å±‚"><a href="#å…¨è¿æ¥å±‚" class="headerlink" title="å…¨è¿æ¥å±‚"></a>å…¨è¿æ¥å±‚</h4><p>é€šå¸¸ï¼Œæˆ‘ä»¬å°†æ‰¹é‡è§„èŒƒåŒ–å±‚ç½®äºå…¨è¿æ¥å±‚ä¸­çš„ä»¿å°„å˜æ¢å’Œæ¿€æ´»å‡½æ•°ä¹‹é—´ã€‚å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">
\mathbf{h} = \phi(\mathrm{BN}(\mathbf{W}\mathbf{x} + \mathbf{b}))</script><h4 id="å·ç§¯å±‚"><a href="#å·ç§¯å±‚" class="headerlink" title="å·ç§¯å±‚"></a>å·ç§¯å±‚</h4><p>åœ¨å·ç§¯å±‚ä¸­ï¼Œæˆ‘ä»¬å°†é€šé“è§†ä½œæ¯ä¸ªä½ç½®çš„ç‰¹å¾ï¼Œå°†æ¯ä¸ªæ ·æœ¬ä¸­çš„æ¯ä¸ªä½ç½®è§†ä½œä¸€ä¸ªæ ·æœ¬è¿›è¡Œè®¡ç®—ã€‚æ¯ä¸ªé€šé“éƒ½æœ‰ç€è‡ªå·±çš„æ‹‰ä¼¸å‚æ•°${\gamma}$å’Œåç§»å‚æ•°$\beta$ï¼Œæ‰€æœ‰é€šé“åŠ åœ¨ä¸€èµ·ç»„æˆäº†æ‹‰ä¼¸å‚æ•°å‘é‡$\boldsymbol {\gamma}$å’Œåç§»å‚æ•°å‘é‡$\boldsymbol \beta$ï¼Œè‹¥æ ·æœ¬æ•°ä¸ºmï¼Œå·ç§¯è¾“å‡ºä¸ºp*qï¼Œè®¡ç®—æ—¶å¯¹m*p*qä¸ªå‘é‡è¿›è¡Œæ‰¹é‡å½’ä¸€åŒ–è¿ç®—ï¼ˆå³è§†ä½œæœ‰m*p*qä¸ªæ ·æœ¬ï¼‰</p>
<h4 id="é¢„æµ‹è¿‡ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–"><a href="#é¢„æµ‹è¿‡ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–" class="headerlink" title="é¢„æµ‹è¿‡ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–"></a>é¢„æµ‹è¿‡ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–</h4><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­åœ°æ›´æ–°æ¨¡å‹ï¼Œæ–¹å·®å’Œå‡å€¼ä¹Ÿå°±åœ¨ä¸æ–­åœ°å˜åŒ–ï¼Œå°±å¿…é¡»è®¡ç®—å½“å‰å°æ‰¹é‡æ•°æ®å¯¹åº”çš„æ–¹å·®å’Œå‡å€¼ï¼Œç„¶è€Œé¢„æµ‹æ—¶æˆ‘ä»¬çš„æ¨¡å‹å·²ç»ç¡®å®šä¸‹æ¥ï¼Œå¯ä»¥ç”¨åœ¨æ•´ä¸ªè®­ç»ƒæ•°æ®é›†ä¸Šå¾—åˆ°çš„å‡å€¼å’Œæ–¹å·®æ¥å¯¹é¢„æµ‹æ—¶çš„ç»“æœè¿›è¡Œå½’ä¸€åŒ–ã€‚</p>
<h4 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h4><ul>
<li><p>åœ¨å®é™…å®ç°æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨æŒ‡æ•°åŠ æƒå¹³å‡æ¥æ›´æ–°å°æ‰¹é‡çš„å‡å€¼å’Œæ–¹å·®ï¼ŒæŒ‡æ•°åŠ æƒå¹³å‡å°†æ—§å€¼å’Œå½“å‰è®¡ç®—ç»“æœä¸æ–­è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œæœ€ç»ˆåšåˆ°å¹³æ»‘çš„å‘æ›´æ–°å€¼é æ‹¢ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p>
</li>
<li><script type="math/tex; mode=display">
S_t = 
\begin{cases} 
Y_1, &t = 1 \\\\ 
\beta S_{t-1} + (1-\beta)Y_t, &t > 1 
\end{cases}</script></li>
<li><p>æ‰¹é‡å½’ä¸€åŒ–çš„å‚æ•°å¯ä»¥é€šè¿‡åŠ¨é‡æ¢¯åº¦ä¸‹é™ï¼ŒRMSPropï¼ŒAdamç­‰å¤šç§ä¼˜åŒ–æ–¹æ³•è¿›è¡Œè®­ç»ƒã€‚</p>
</li>
</ul>
<h3 id="å´æ©è¾¾è€å¸ˆæ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–"><a href="#å´æ©è¾¾è€å¸ˆæ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–" class="headerlink" title="å´æ©è¾¾è€å¸ˆæ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–"></a>å´æ©è¾¾è€å¸ˆæ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–</h3><p>å´æ©è¾¾è€å¸ˆæ·±åº¦å­¦ä¹ è¯¾ç¨‹ä¸­çš„æ‰¹é‡å½’ä¸€åŒ–ä¸­çš„éƒ¨åˆ†å†…å®¹ä¸æœ¬è¯¾ç¨‹æœ‰æ‰€å‡ºå…¥ï¼Œè€ƒè™‘åˆ°æ‰¹é‡å½’ä¸€åŒ–è¿™éƒ¨åˆ†å†…å®¹è¿˜æ²¡æœ‰ç²¾ç¡®çš„ç†è®ºè§£é‡Šï¼Œç›®å‰çš„è®¤è¯†ä»…é™äºç›´è§‰ï¼Œæ•…å°†ä¸¤è¯¾ç¨‹ä¸­çš„åŒºåˆ«å³è¡¥å……ç½—åˆ—åœ¨æ­¤ä½œä¸ºå‚è€ƒï¼š</p>
<ul>
<li>å…³äºdropoutï¼š<ul>
<li>æœ¬è¯¾ä¸­æåˆ°æ‰¹é‡å½’ä¸€åŒ–æœ‰æ­£åˆ™åŒ–æ•ˆæœï¼Œæ— éœ€å†è¿›è¡Œdropout</li>
<li>å´æ©è¾¾è€å¸ˆè¯¾ç¨‹ä¸­æåˆ°æ‰¹é‡å½’ä¸€åŒ–æ­£åˆ™åŒ–æ•ˆæœè¾ƒå·®ï¼Œä¸èƒ½ä½œä¸ºæ­£åˆ™åŒ–çš„æ‰‹æ®µï¼Œå¿…è¦æ—¶éœ€è¦dropout</li>
</ul>
</li>
<li>å¯¹äºçº¿æ€§å±‚ï¼ˆåŒ…æ‹¬å…¶ä»–å¸¦æœ‰åç½®é¡¹çš„å±‚ï¼‰åçš„æ‰¹é‡å½’ä¸€åŒ–ï¼Œç”±äºå½’ä¸€åŒ–æ—¶å‡å»äº†å‡å€¼ï¼Œåç½®é¡¹è¢«æ¶ˆæ‰ï¼Œå¯ä»¥çœç•¥å½’ä¸€åŒ–å±‚ä¹‹å‰çš„åç½®é¡¹</li>
<li>æ ‡å‡†åŒ–çš„è¾“å…¥èƒ½ä½¿æ¢¯åº¦ä¸‹é™åŠ å¿«ï¼Œæ‰¹å½’ä¸€åŒ–èƒ½ä½¿å¾—æ¯å±‚çš„è¾“å…¥éƒ½è¢«å½’ä¸€åŒ–ï¼Œè¿™ä¹Ÿæ˜¯è®­ç»ƒæ›´å¿«çš„åŸå› ä¹‹ä¸€</li>
<li>æ‰¹é‡å½’ä¸€åŒ–å¯ä»¥ä½¿å¾—ä¸åŒå±‚ä¹‹é—´äº’ç›¸çš„å½±å“å‡å°‘ï¼Œä»è€Œåº”å¯¹æ•°æ®åç§»ï¼Œå¢å¼ºé²æ£’æ€§ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>26-ç½‘ç»œä¸­çš„ç½‘ç»œï¼ˆNiNï¼‰</title>
    <url>/2024/04/23/11-01-26/</url>
    <content><![CDATA[<h2 id="26-ç½‘ç»œä¸­çš„ç½‘ç»œï¼ˆNiNï¼‰"><a href="#26-ç½‘ç»œä¸­çš„ç½‘ç»œï¼ˆNiNï¼‰" class="headerlink" title="26-ç½‘ç»œä¸­çš„ç½‘ç»œï¼ˆNiNï¼‰"></a>26-ç½‘ç»œä¸­çš„ç½‘ç»œï¼ˆNiNï¼‰</h2><h3 id="1-åŠ¨æœº"><a href="#1-åŠ¨æœº" class="headerlink" title="1. åŠ¨æœº"></a>1. åŠ¨æœº</h3><p><strong>å…¨è¿æ¥å±‚çš„é—®é¢˜</strong></p>
<ul>
<li><strong>å·ç§¯å±‚</strong>éœ€è¦çš„<strong>å‚æ•°è¾ƒå°‘</strong></li>
<li>è€Œå·ç§¯å±‚åçš„ç¬¬ä¸€ä¸ª<strong>å…¨è¿æ¥å±‚</strong>çš„<strong>å‚æ•°è¾ƒå¤š</strong></li>
</ul>
<img src="/2024/04/23/11-01-26/26-01.png" class>
<p>ä»¥VGGä¸ºä¾‹(å›¾ç¤º)ï¼Œå…¨è¿æ¥å±‚éœ€è¦å…ˆFlattenï¼Œè¾“å…¥ç»´åº¦ä¸º512x7x7ï¼Œè¾“å‡ºç»´åº¦ä¸º4096ï¼Œåˆ™éœ€è¦å‚æ•°ä¸ªæ•°ä¸º512x7x7x4096=102Mã€‚</p>
<h3 id="2-NiNå—"><a href="#2-NiNå—" class="headerlink" title="2. NiNå—"></a>2. NiNå—</h3><ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼šä¸€ä¸ªå·ç§¯å±‚åé¢è·Ÿä¸¤ä¸ª1x1çš„å·ç§¯å±‚ï¼Œåä¸¤å±‚èµ·åˆ°å…¨è¿æ¥å±‚çš„ä½œç”¨ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-26/26-02.png" class>
<h3 id="3-NiNæ¶æ„"><a href="#3-NiNæ¶æ„" class="headerlink" title="3. NiNæ¶æ„"></a>3. NiNæ¶æ„</h3><ul>
<li>æ— å…¨è¿æ¥å±‚</li>
<li>äº¤æ›¿ä½¿ç”¨NiNå—å’Œæ­¥å¹…ä¸º2çš„æœ€å¤§æ± åŒ–å±‚<ul>
<li>é€æ­¥å‡å°é«˜å®½å’Œå¢å¤§é€šé“æ•°</li>
</ul>
</li>
<li>æœ€åä½¿ç”¨å…¨å±€å¹³å‡æ± åŒ–å¾—åˆ°è¾“å‡º<ul>
<li>å…¶è¾“å…¥é€šé“æ˜¯ç±»åˆ«æ•°</li>
</ul>
</li>
</ul>
<h3 id="4-NiN-Networks"><a href="#4-NiN-Networks" class="headerlink" title="4. NiN Networks"></a>4. NiN Networks</h3><img src="/2024/04/23/11-01-26/26-03.png" class>
<p>NiNæ¶æ„å¦‚ä¸Šå›¾å³è¾¹æ‰€ç¤ºï¼Œè‹¥å¹²ä¸ªNiNå—(å›¾ç¤ºä¸­ä¸º4ä¸ªå—)+æ± åŒ–å±‚ï¼›å‰3ä¸ªå—åæ¥æœ€å¤§æ± åŒ–å±‚ï¼Œæœ€åä¸€å—è¿æ¥ä¸€ä¸ªå…¨å±€å¹³å‡æ± åŒ–å±‚ã€‚</p>
<h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h3><ul>
<li>NiNå—ç»“æ„ï¼šä½¿ç”¨å·ç§¯å±‚åŠ ä¸¤ä¸ª1x1å·ç§¯å±‚<ul>
<li>åè€…å¯¹æ¯ä¸ªåƒç´ å¢åŠ äº†éçº¿æ€§æ€§</li>
</ul>
</li>
<li>NiNä½¿ç”¨å…¨å±€å¹³å‡æ± åŒ–å±‚æ¥æ›¿ä»£VGGå’ŒAlexNetä¸­çš„å…¨è¿æ¥å±‚<ul>
<li>ä¸å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œæ›´å°‘çš„å‚æ•°ä¸ªæ•°</li>
</ul>
</li>
</ul>
<h3 id="6-ä»£ç "><a href="#6-ä»£ç " class="headerlink" title="6.ä»£ç "></a>6.ä»£ç </h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœåœ¨Colabä¸Šè·‘, æˆ–æ²¡æœ‰å®‰è£…è¿‡d2låŒ…, éœ€è¦æœ€å¼€å§‹pip install d2l</span></span><br><span class="line">!pip install git+https://github.com/d2l-ai/d2l-zh@release  <span class="comment"># installing d2l</span></span><br></pre></td></tr></table></figure>
<p><strong>NiNå—</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰NiNå—</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">nin_block</span>(<span class="params">in_channels, out_channels, kernel_size, strides, padding</span>):</span><br><span class="line">    <span class="keyword">return</span> nn.Sequential(</span><br><span class="line">        nn.Conv2d(in_channels, out_channels, kernel_size, strides, padding),</span><br><span class="line">        nn.ReLU(), nn.Conv2d(out_channels, out_channels, kernel_size=<span class="number">1</span>),</span><br><span class="line">        nn.ReLU(), nn.Conv2d(out_channels, out_channels, kernel_size=<span class="number">1</span>),</span><br><span class="line">        nn.ReLU())</span><br></pre></td></tr></table></figure>
<p><strong>NiNæ¨¡å‹</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">net = nn.Sequential(</span><br><span class="line">    nin_block(<span class="number">1</span>, <span class="number">96</span>, kernel_size=<span class="number">11</span>, strides=<span class="number">4</span>, padding=<span class="number">0</span>),</span><br><span class="line">    nn.MaxPool2d(<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nin_block(<span class="number">96</span>, <span class="number">256</span>, kernel_size=<span class="number">5</span>, strides=<span class="number">1</span>, padding=<span class="number">2</span>),</span><br><span class="line">    nn.MaxPool2d(<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nin_block(<span class="number">256</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">1</span>, padding=<span class="number">1</span>),</span><br><span class="line">    nn.MaxPool2d(<span class="number">3</span>, stride=<span class="number">2</span>), nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line">    <span class="comment"># æ ‡ç­¾ç±»åˆ«æ•°æ˜¯10</span></span><br><span class="line">    nin_block(<span class="number">384</span>, <span class="number">10</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">1</span>, padding=<span class="number">1</span>),</span><br><span class="line">    nn.AdaptiveAvgPool2d((<span class="number">1</span>, <span class="number">1</span>)),          <span class="comment">#å…¨å±€å¹³å‡æ± åŒ–ï¼Œé«˜å®½éƒ½å˜æˆ1</span></span><br><span class="line">    nn.Flatten())             <span class="comment">#æ¶ˆæ‰æœ€åä¸¤ä¸ªç»´åº¦, å˜æˆ(batch_size, 10)</span></span><br></pre></td></tr></table></figure>
<p><strong>demoæµ‹è¯•ï¼ŒæŸ¥çœ‹æ¯ä¸ªå—çš„è¾“å‡ºæƒ…å†µ</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = torch.rand(size=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">224</span>, <span class="number">224</span>))</span><br><span class="line"><span class="keyword">for</span> layer <span class="keyword">in</span> net:</span><br><span class="line">    X = layer(X)</span><br><span class="line">    <span class="built_in">print</span>(layer.__class__.__name__, <span class="string">&#x27;output shape:\t&#x27;</span>, X.shape)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;</span><br><span class="line">Sequential output shape:   torch.Size([<span class="number">1</span>, <span class="number">96</span>, <span class="number">54</span>, <span class="number">54</span>])</span><br><span class="line">MaxPool2d output shape:     torch.Size([<span class="number">1</span>, <span class="number">96</span>, <span class="number">26</span>, <span class="number">26</span>])</span><br><span class="line">Sequential output shape:   torch.Size([<span class="number">1</span>, <span class="number">256</span>, <span class="number">26</span>, <span class="number">26</span>])</span><br><span class="line">MaxPool2d output shape:     torch.Size([<span class="number">1</span>, <span class="number">256</span>, <span class="number">12</span>, <span class="number">12</span>])</span><br><span class="line">Sequential output shape:   torch.Size([<span class="number">1</span>, <span class="number">384</span>, <span class="number">12</span>, <span class="number">12</span>])</span><br><span class="line">MaxPool2d output shape:     torch.Size([<span class="number">1</span>, <span class="number">384</span>, <span class="number">5</span>, <span class="number">5</span>])</span><br><span class="line">Dropout output shape:     torch.Size([<span class="number">1</span>, <span class="number">384</span>, <span class="number">5</span>, <span class="number">5</span>])</span><br><span class="line">Sequential output shape:   torch.Size([<span class="number">1</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">5</span>])</span><br><span class="line">AdaptiveAvgPool2d output shape:   torch.Size([<span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">Flatten output shape:     torch.Size([<span class="number">1</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>
<p><strong>è®­ç»ƒæ¨¡å‹</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lr, num_epochs, batch_size = <span class="number">0.1</span>, <span class="number">10</span>, <span class="number">128</span></span><br><span class="line">train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size, resize=<span class="number">224</span>)</span><br><span class="line">d2l.train_ch6(net, train_iter, test_iter, num_epochs, lr, d2l.try_gpu())</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&lt;Figure size 252x180 <span class="keyword">with</span> <span class="number">1</span> Axes&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>25 ä½¿ç”¨å—çš„ç½‘ç»œ VGG</title>
    <url>/2024/04/23/11-01-25/</url>
    <content><![CDATA[<h2 id="25-ä½¿ç”¨å—çš„ç½‘ç»œ-VGG"><a href="#25-ä½¿ç”¨å—çš„ç½‘ç»œ-VGG" class="headerlink" title="25 ä½¿ç”¨å—çš„ç½‘ç»œ VGG"></a>25 ä½¿ç”¨å—çš„ç½‘ç»œ VGG</h2><p>Alexnetæœ€å¤§çš„é—®é¢˜åœ¨äºé•¿å¾—ä¸è§„åˆ™ï¼Œç»“æ„ä¸ç”šæ¸…æ™°ï¼Œä¹Ÿä¸ä¾¿äºè°ƒæ•´ã€‚æƒ³è¦æŠŠç½‘ç»œåšçš„æ›´æ·±æ›´å¤§éœ€è¦æ›´å¥½çš„è®¾è®¡æ€æƒ³å’Œæ ‡å‡†æ¡†æ¶ã€‚</p>
<h3 id="1-VGGå—"><a href="#1-VGGå—" class="headerlink" title="1. VGGå—"></a>1. VGGå—</h3><p>ç›´åˆ°ç°åœ¨æ›´æ·±æ›´å¤§çš„æ¨¡å‹ä¹Ÿæ˜¯æˆ‘ä»¬åŠªåŠ›çš„æ–¹å‘ï¼Œåœ¨å½“æ—¶AlexNetæ¯”LeNetæ›´æ·±æ›´å¤§å¾—åˆ°äº†æ›´å¥½çš„ç²¾åº¦ï¼Œå¤§å®¶ä¹Ÿå¸Œæœ›æŠŠç½‘ç»œåšçš„æ›´æ·±æ›´å¤§ã€‚é€‰æ‹©ä¹‹ä¸€æ˜¯ä½¿ç”¨æ›´å¤šçš„å…¨è¿æ¥å±‚ï¼Œä½†å…¨è¿æ¥å±‚çš„æˆæœ¬å¾ˆé«˜ï¼›ç¬¬äºŒä¸ªé€‰æ‹©æ˜¯ä½¿ç”¨æ›´å¤šçš„å·ç§¯å±‚ï¼Œä½†ç¼ºä¹å¥½çš„æŒ‡å¯¼æ€æƒ³æ¥è¯´æ˜åœ¨å“ªåŠ ï¼ŒåŠ å¤šå°‘ã€‚æœ€ç»ˆVGGé‡‡å–äº†å°†å·ç§¯å±‚ç»„åˆæˆå—ï¼Œå†æŠŠå·ç§¯å—ç»„åˆåˆ°ä¸€èµ·çš„æ€è·¯ã€‚</p>
<p>VGGå—å¯ä»¥çœ‹ä½œæ˜¯AlexNetæ€è·¯çš„æ‹“å±•ï¼ŒAlexNetä¸­å°†ä¸‰ä¸ªç›¸åŒçš„å·ç§¯å±‚æ”¾åœ¨ä¸€èµ·å†åŠ ä¸Šä¸€ä¸ªæ± åŒ–å±‚ï¼Œè€ŒVGGå°†å…¶æ‹“å±•æˆå¯ä»¥ä½¿ç”¨ä»»æ„ä¸ª3x3ï¼Œä¸æ”¹å˜è¾“å…¥å¤§å°çš„çš„å·ç§¯å±‚ï¼Œæœ€ååŠ ä¸Šä¸€ä¸ª2x2çš„æœ€å¤§æ± åŒ–å±‚ã€‚</p>
<img src="/2024/04/23/11-01-25/25-01.PNG" class>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©3x3å·ç§¯å‘¢ï¼Ÿåœ¨è®¡ç®—é‡ç›¸åŒçš„æƒ…å†µä¸‹é€‰ç”¨æ›´å¤§çš„å·ç§¯æ ¸æ¶‰åŠå¯¹ç½‘ç»œä¼šè¶Šæµ…ï¼ŒVGGä½œè€…ç»è¿‡å®éªŒå‘ç°ç”¨3x3å·ç§¯çš„æ•ˆæœè¦æ¯”5x5å¥½ï¼Œä¹Ÿå°±æ˜¯è¯´ç¥ç»ç½‘ç»œåº“æ·±ä¸”çª„çš„æ•ˆæœä¼šæ›´å¥½ã€‚</p>
<h3 id="2-VGGæ¶æ„"><a href="#2-VGGæ¶æ„" class="headerlink" title="2. VGGæ¶æ„"></a>2. VGGæ¶æ„</h3><p>å¤šä¸ªVGGå—åæ¥å…¨è¿æ¥å±‚ï¼Œä¸åŒæ¬¡æ•°çš„é‡å¤å—å¾—åˆ°ä¸åŒçš„æ¶æ„ï¼Œå¦‚VGG-16, VGG-19ç­‰ï¼Œåé¢çš„æ•°å­—å–å†³äºç½‘ç»œå±‚æ•°ã€‚</p>
<p>å¯ä»¥è®²VGGçœ‹ä½œæ˜¯å°†AlexNetä¸­è¿ç»­å·ç§¯çš„éƒ¨åˆ†å–å‡ºåŠ ä»¥æ¨å¹¿å’Œå¤åˆ¶ï¼Œå¹¶åˆ å»äº†AlexNetä¸­ä¸é‚£ä¹ˆè§„æ•´çš„å‰å‡ å±‚ã€‚</p>
<img src="/2024/04/23/11-01-25/25-02.PNG" class>
<p>VGGè¾ƒAlexNetç›¸æ¯”æ€§èƒ½æœ‰å¾ˆå¤§çš„æå‡ï¼Œè€Œä»£ä»·æ˜¯å¤„ç†æ ·æœ¬é€Ÿåº¦çš„é™ä½å’Œå†…å­˜å ç”¨çš„å¢åŠ ã€‚</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ul>
<li><p>VGGä½¿ç”¨å¯é‡å¤ä½¿ç”¨çš„å·ç§¯å—æ¥æ„å»ºæ·±åº¦å·ç§¯ç½‘ç»œ</p>
</li>
<li><p>ä¸åŒå·ç§¯å—ä¸ªæ•°å’Œè¶…å‚æ•°å¯ä»¥å¾—åˆ°ä¸åŒå¤æ‚åº¦çš„å˜ç§</p>
</li>
</ul>
<p>è¿™äº›æ€æƒ³å½±å“äº†åé¢ç¥ç»ç½‘ç»œçš„è®¾è®¡ï¼Œåœ¨ä¹‹åçš„æ¨¡å‹ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4. QA"></a>4. QA</h3><p>Q1: è§†è§‰é¢†åŸŸäººå·¥ç‰¹å¾çš„ç ”ç©¶è¿˜æœ‰æ— è¿›å±•ï¼Ÿ</p>
<blockquote>
<p>ç°åœ¨åœ¨è®¡ç®—æœºè§†è§‰åšäººå·¥ç‰¹å¾æ˜¯ä¸€ç§â€œæ”¿æ²»ä¸æ­£ç¡®â€çš„äº‹ï¼Œå¯èƒ½ä¼šå› è¢«è®¤ä¸ºæ²¡æœ‰noveltyè€Œå‘ä¸å‡ºpaper ;-)</p>
<p>è€å¸ˆè®¤ä¸ºäººå·¥ç‰¹å¾æå–ç¡®å®åº”è¯¥è¢«å–ä»£æ‰ï¼Œéšç€æŠ€æœ¯è¿›æ­¥å¯ä»¥æŠŠè¿™éƒ¨åˆ†å·¥ä½œäº¤ç»™æœºå™¨ï¼Œäººå»åšæ›´é«˜çº§çš„äº‹ã€‚</p>
</blockquote>
<p>Q2: éœ€è¦å­¦ä¹ ç‰¹å¾å€¼/ç‰¹å¾å‘é‡/å¥‡å¼‚å€¼åˆ†è§£çš„çŸ¥è¯†å—ï¼Ÿ</p>
<blockquote>
<p>è¿™é—¨è¯¾ä¸­ä¸ä¸€å®šä¼šè®²ï¼Œä½†å¾ˆå¤šæ·±åº¦å­¦ä¹ æ¨¡å‹ç”¨åˆ°çŸ©é˜µåˆ†è§£çš„æ€æƒ³ï¼Œä½†æ˜¯ç”¨çš„ä¸å¤šï¼Œæƒ³å­¦å¯ä»¥å­¦ã€‚</p>
</blockquote>
<p>Q3: Colabé™æ—¶12å°æ—¶ä¸éªŒè¯ç çš„è§£å†³æ–¹æ³•</p>
<blockquote>
<p>å……é’±</p>
</blockquote>
<p>Q4: è®­ç»ƒlossä¸€ç›´ä¸‹é™ï¼Œæµ‹è¯•lossä¸€åªä¸é™çš„åŸå› </p>
<blockquote>
<p>ä»£ç å†™é”™äº†/è¿‡æ‹Ÿåˆ(è®­ç»ƒé›†å’Œæµ‹è¯•é›†å¾ˆä¸ä¸€æ ·)</p>
</blockquote>
<p>Q5: ä¸ºä»€ä¹ˆVGGï¼ˆ1ï¼Œ1ï¼Œ224ï¼Œ224ï¼‰è¾“å…¥é«˜å®½å‡åŠåé€šé“æ•°æ˜¯64ï¼Ÿ</p>
<blockquote>
<p>ç¬¬ä¸€ä¸ªå·ç§¯å±‚çš„è¾“å‡ºé€šé“é€‰çš„æ˜¯64ã€‚(é€šé“æ•°å˜åŒ–æ˜¯è‡ªå®šçš„ï¼Œå’Œé«˜å®½å˜åŒ–æ²¡æœ‰å…³ç³»)</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>24-AlexNet</title>
    <url>/2024/04/23/11-01-24/</url>
    <content><![CDATA[<h2 id="AlexNet"><a href="#AlexNet" class="headerlink" title="AlexNet"></a>AlexNet</h2><h3 id="1-å†å²"><a href="#1-å†å²" class="headerlink" title="1.å†å²"></a>1.å†å²</h3><h4 id="1-1-2000-æµè¡Œçš„æœºå™¨å­¦ä¹ æ–¹æ³•â€”â€”SVMï¼Œæ ¸æ–¹æ³•"><a href="#1-1-2000-æµè¡Œçš„æœºå™¨å­¦ä¹ æ–¹æ³•â€”â€”SVMï¼Œæ ¸æ–¹æ³•" class="headerlink" title="1.1 2000 æµè¡Œçš„æœºå™¨å­¦ä¹ æ–¹æ³•â€”â€”SVMï¼Œæ ¸æ–¹æ³•"></a>1.1 2000 æµè¡Œçš„æœºå™¨å­¦ä¹ æ–¹æ³•â€”â€”SVMï¼Œæ ¸æ–¹æ³•</h4><ul>
<li>æ ¸æ–¹æ³•æ›¿ä»£äº†ä¹‹å‰çš„ç¥ç»ç½‘ç»œç½‘ç»œæ–¹æ³•ï¼ŒSVMå¯¹äºè°ƒå‚ä¸æ•æ„Ÿï¼Œç°åœ¨ä¹Ÿæœ‰ä¸€äº›åº”ç”¨</li>
<li>æœ¬è´¨ä¸Šæ˜¯ç‰¹å¾æå–ï¼Œå…·ä½“çš„æ–¹æ³•æ˜¯é€‰æ‹©æ ¸å‡½æ•°æ¥è®¡ç®—ï¼ŒæŠŠç‰¹å¾æ˜ å°„åˆ°é«˜çº¬ç©ºé—´ï¼Œä½¿å¾—ä»–ä»¬çº¿æ€§å¯åˆ†</li>
<li>ç»è¿‡æ ¸å‡½æ•°è®¡ç®—ä¹‹åï¼ŒåŸé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºå‡¸ä¼˜åŒ–é—®é¢˜ï¼Œè¿™æ˜¯2006å¹´å·¦å³çš„ç ”ç©¶çƒ­ç‚¹</li>
<li><p>æ ¸æ–¹æ³•æœ‰å¾ˆå¤šæ¼‚äº®çš„å®šç†ï¼Œæœ‰å¾ˆå¥½çš„æ•°å­¦è§£é‡Šæ€§</p>
</li>
<li><p>2010å¹´å·¦å³ï¼Œæ·±åº¦å­¦ä¹ æ‰å…´èµ·</p>
</li>
</ul>
<h4 id="1-2-2000è®¡ç®—æœºè§†è§‰ä¸»è¦æ–¹æ³•â€”â€”å‡ ä½•å­¦"><a href="#1-2-2000è®¡ç®—æœºè§†è§‰ä¸»è¦æ–¹æ³•â€”â€”å‡ ä½•å­¦" class="headerlink" title="1.2 2000è®¡ç®—æœºè§†è§‰ä¸»è¦æ–¹æ³•â€”â€”å‡ ä½•å­¦"></a>1.2 2000è®¡ç®—æœºè§†è§‰ä¸»è¦æ–¹æ³•â€”â€”å‡ ä½•å­¦</h4><ul>
<li>é¦–å…ˆè¿˜æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œç‰¹å¾æŠ½å–</li>
<li>å¸Œæœ›æŠŠè®¡ç®—æœºè§†è§‰é—®é¢˜æè¿°æˆå‡ ä½•é—®é¢˜ï¼Œå»ºç«‹ï¼ˆéï¼‰å‡¸ä¼˜åŒ–æ¨¡å‹ï¼Œå¯ä»¥å¾—åˆ°å¾ˆå¤šæ¼‚äº®çš„å®šç†ã€‚</li>
<li>å¯ä»¥å‡è®¾è¿™æ˜¯ä¸€ä¸ªå‡ ä½•é—®é¢˜ï¼Œå‡è®¾è¿™ä¸ªå‡è®¾è¢«æ»¡è¶³äº†ï¼Œå¯ä»¥æ¨å‡ºå¾ˆå¥½çš„æ•ˆæœ</li>
</ul>
<h4 id="1-3-2010è®¡ç®—æœºè§†è§‰çš„çƒ­ç‚¹é—®é¢˜â€”â€”ç‰¹å¾å·¥ç¨‹"><a href="#1-3-2010è®¡ç®—æœºè§†è§‰çš„çƒ­ç‚¹é—®é¢˜â€”â€”ç‰¹å¾å·¥ç¨‹" class="headerlink" title="1.3 2010è®¡ç®—æœºè§†è§‰çš„çƒ­ç‚¹é—®é¢˜â€”â€”ç‰¹å¾å·¥ç¨‹"></a>1.3 2010è®¡ç®—æœºè§†è§‰çš„çƒ­ç‚¹é—®é¢˜â€”â€”ç‰¹å¾å·¥ç¨‹</h4><ul>
<li>ç‰¹å¾å·¥ç¨‹å°±æ˜¯æ€ä¹ˆæŠ½å–ä¸€å¼ å›¾ç‰‡çš„ç‰¹å¾ï¼Œå› ä¸ºç›´æ¥è¾“å…¥ä¸€å¼ å›¾ç‰‡æ•ˆæœéå¸¸çš„å·®</li>
<li>ç‰¹å¾æè¿°å­ï¼šSIFT,SURF</li>
</ul>
<h4 id="1-4-ç¡¬ä»¶çš„å‘å±•å¥ å®šäº†æ·±åº¦å­¦ä¹ çš„å…´èµ·"><a href="#1-4-ç¡¬ä»¶çš„å‘å±•å¥ å®šäº†æ·±åº¦å­¦ä¹ çš„å…´èµ·" class="headerlink" title="1.4 ç¡¬ä»¶çš„å‘å±•å¥ å®šäº†æ·±åº¦å­¦ä¹ çš„å…´èµ·"></a>1.4 ç¡¬ä»¶çš„å‘å±•å¥ å®šäº†æ·±åº¦å­¦ä¹ çš„å…´èµ·</h4><ul>
<li>æ•°æ®çš„å¢é•¿ï¼Œç¡¬ä»¶çš„è®¡ç®—èƒ½åŠ›å¥ å®šäº†äººä»¬å¯¹äºæ–¹æ³•çš„é€‰æ‹©</li>
</ul>
<img src="/2024/04/23/11-01-24/24-01.png" class>
<h4 id="1-5-ImageNetï¼ˆ2010ï¼‰"><a href="#1-5-ImageNetï¼ˆ2010ï¼‰" class="headerlink" title="1.5 ImageNetï¼ˆ2010ï¼‰"></a>1.5 ImageNetï¼ˆ2010ï¼‰</h4><img src="/2024/04/23/11-01-24/24-02.png" class>
<ul>
<li><p>AlexNetèµ¢å¾—äº†2012å¹´ImageNetç«èµ›å† å†›</p>
</li>
<li><p>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŠ å¼ºç‰ˆçš„LeNetï¼Œæ›´æ·±æ›´å¤§</p>
</li>
<li><p>AlexNetä¸»è¦æ”¹è¿›æªæ–½ï¼š</p>
<ul>
<li>dropoutï¼ˆæ­£åˆ™ï¼‰</li>
<li>ReLuï¼ˆæ¢¯åº¦æ›´å¤§ï¼‰</li>
<li>MaxPoolingï¼ˆå–æœ€å¤§å€¼ï¼Œæ¢¯åº¦ç›¸å¯¹å¢å¤§ï¼‰</li>
</ul>
</li>
<li><p>å½±å“ï¼šè®¡ç®—æœºè§†è§‰æ–¹æ³•è®ºçš„æ”¹å˜ï¼Œä»äººå·¥æå–ç‰¹å¾è¿‡æ¸¡åˆ°CNNå­¦ä¹ ç‰¹å¾</p>
</li>
</ul>
<img src="/2024/04/23/11-01-24/24-03.png" class>
<h3 id="2-AlexNetæ¶æ„"><a href="#2-AlexNetæ¶æ„" class="headerlink" title="2.AlexNetæ¶æ„"></a>2.AlexNetæ¶æ„</h3><img src="/2024/04/23/11-01-24/24-04.png" class>
<img src="/2024/04/23/11-01-24/24-05.png" class>
<img src="/2024/04/23/11-01-24/24-06.png" class>
<ul>
<li>ç½‘ç»œä»£ç </li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">net = nn.Sequential(</span><br><span class="line">è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª<span class="number">11</span>*<span class="number">11</span>çš„æ›´å¤§çª—å£æ¥æ•æ‰å¯¹è±¡ã€‚</span><br><span class="line">    <span class="comment"># åŒæ—¶ï¼Œæ­¥å¹…ä¸º4ï¼Œä»¥å‡å°‘è¾“å‡ºçš„é«˜åº¦å’Œå®½åº¦ã€‚</span></span><br><span class="line">    <span class="comment"># å¦å¤–ï¼Œè¾“å‡ºé€šé“çš„æ•°ç›®è¿œå¤§äºLeNet</span></span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">96</span>, kernel_size=<span class="number">11</span>, stride=<span class="number">4</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    <span class="comment"># å‡å°å·ç§¯çª—å£ï¼Œä½¿ç”¨å¡«å……ä¸º2æ¥ä½¿å¾—è¾“å…¥ä¸è¾“å‡ºçš„é«˜å’Œå®½ä¸€è‡´ï¼Œä¸”å¢å¤§è¾“å‡ºé€šé“æ•°</span></span><br><span class="line">    nn.Conv2d(<span class="number">96</span>, <span class="number">256</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    <span class="comment"># ä½¿ç”¨ä¸‰ä¸ªè¿ç»­çš„å·ç§¯å±‚å’Œè¾ƒå°çš„å·ç§¯çª—å£ã€‚</span></span><br><span class="line">    <span class="comment"># é™¤äº†æœ€åçš„å·ç§¯å±‚ï¼Œè¾“å‡ºé€šé“çš„æ•°é‡è¿›ä¸€æ­¥å¢åŠ ã€‚</span></span><br><span class="line">    <span class="comment"># åœ¨å‰ä¸¤ä¸ªå·ç§¯å±‚ä¹‹åï¼Œæ±‡èšå±‚ä¸ç”¨äºå‡å°‘è¾“å…¥çš„é«˜åº¦å’Œå®½åº¦</span></span><br><span class="line">    nn.Conv2d(<span class="number">256</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">256</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    <span class="comment"># è¿™é‡Œï¼Œå…¨è¿æ¥å±‚çš„è¾“å‡ºæ•°é‡æ˜¯LeNetä¸­çš„å¥½å‡ å€ã€‚ä½¿ç”¨dropoutå±‚æ¥å‡è½»è¿‡æ‹Ÿåˆ</span></span><br><span class="line">    nn.Linear(<span class="number">6400</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    <span class="comment"># æœ€åæ˜¯è¾“å‡ºå±‚ã€‚ç”±äºè¿™é‡Œä½¿ç”¨Fashion-MNISTï¼Œæ‰€ä»¥ç”¨ç±»åˆ«æ•°ä¸º10ï¼Œè€Œéè®ºæ–‡ä¸­çš„1000</span></span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>æ›´å¤šç»†èŠ‚<ul>
<li>æ¿€æ´»å‡½æ•°ä»sigmoidå˜æˆReluï¼Œå‡ç¼“æ¢¯åº¦æ¶ˆå¤±</li>
<li>éšè—å…¨è¿æ¥å±‚ååŠ å…¥äº†ä¸¢å¼ƒå±‚ï¼ˆ2ä¸ª4096ä¹‹ååŠ å…¥äº†dropoutï¼‰</li>
<li>æ•°æ®å¢å¼ºï¼Œå°†ä¸€å¼ å›¾ç‰‡è¿›è¡Œå˜åŒ–ï¼Œé€‰å–å¤šä¸ªä½ç½®ã€å…‰ç…§ä¹‹ç±»çš„ã€‚</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-24/24-07.png" class>
<ul>
<li>å¤æ‚åº¦å¯¹æ¯”<ul>
<li>å‚æ•°ä¸ªæ•°å¢åŠ ï¼Œæ¯æ¬¡æ›´æ–°æ•°æ®å¢åŠ </li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-24/24-08.png" class>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><ul>
<li>AlexNet æ˜¯æ›´å¤§æ›´æ·±çš„LeNetï¼Œ10xå‚æ•°ä¸ªæ•°ï¼Œ260xè®¡ç®—å¤æ‚åº¦</li>
<li>æ–°åŠ å…¥äº†dropoutï¼Œreluï¼Œmaxpoolingï¼Œæ•°æ®å¢å¼º</li>
<li>æ ‡å¿—ç€æ–°ä¸€è½®ç¥ç»ç½‘ç»œçƒ­æ½®å¼€å§‹äº†</li>
</ul>
<h3 id="4-QA"><a href="#4-QA" class="headerlink" title="4.QA"></a>4.QA</h3><ul>
<li>é—®é¢˜å¤§éƒ¨åˆ†éƒ½åœ¨é—®å¦‚ä½•ç‚¼ä¸¹ï¼Œç‚¼ä¸¹çš„ç†è®ºï¼Œä¸ºå•¥ç‚¼ä¸¹çš„æ­¥éª¤è¦è¿™æ ·ä¸å“ªæœ‰ï¼Ÿ<ul>
<li>è€å¸ˆè¯´è¿™ä¸ªç¡®å®ä¸å¥½ç†è§£ï¼Œåªèƒ½ä»è‡ªå·±çš„è§’åº¦å»å°è¯•è§£é‡Š</li>
</ul>
</li>
<li>æ•°æ®å¢å¼ºäº†ï¼Œä½†æ˜¯æ•ˆæœè¿˜ä¸å¦‚ä¹‹å‰çš„ï¼Œä¸ºå•¥ï¼Ÿ<ul>
<li>å¤ªæ­£å¸¸äº†ï¼Œå±äºè¶…å‚æ•°æ²¡è°ƒå¥½</li>
</ul>
</li>
<li>ä¸ºå•¥LeNetä¸å±äºæ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Ÿ<ul>
<li>ä¸ºäº†åŒ…è£…ç°åœ¨çš„äº§å“ï¼Œæ›´å¥½å–ï¼ˆç¡®å®æ˜¯è¿™ä¹ˆå›ç­”çš„ï¼‰ï¼Œè¿™ä¸ªæˆ‘ä»¬ç ”ç©¶è€…éœ€è¦å­¦ä¹ ï¼Œå¥½å¥½å®£ä¼ è‡ªå·±çš„äº§å“</li>
</ul>
</li>
<li>ç½‘ç»œè¦æ±‚è¾“å…¥çš„sizeæ˜¯å›ºå®šçš„ï¼Œå®é™…ä½¿ç”¨çš„æ—¶å€™å›¾ç‰‡ä¸ä¸€å®šæ˜¯è¦æ±‚çš„sizeï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ<ul>
<li>å¦‚æœæ˜¯å¤§çš„å›¾ç‰‡ï¼Œåœ¨ä¿æŒé•¿å®½æ¯”çš„æƒ…å†µä¸‹ï¼ŒæŠŠçŸ­è¾¹å‹æˆè¾“å…¥çš„sizeï¼Œç„¶ååœ¨æ–°çš„å›¾ç‰‡ä¸­éšæœºæŠ å‡ºæ¥å‡ å¼ å›¾ç‰‡ï¼ˆè¦æ±‚å’Œç½‘ç»œè¾“å…¥ä¸€è‡´ï¼‰è¿›è¡Œé¢„æµ‹ã€‚æ•ˆæœä¸Šä¸ä¼šæœ‰å¤ªå¤§çš„å½±å“</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>23-ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œLeNet</title>
    <url>/2024/04/23/11-01-23/</url>
    <content><![CDATA[<h3 id="1-LeNetå·ç§¯ç¥ç»ç½‘ç»œ"><a href="#1-LeNetå·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="1.LeNetå·ç§¯ç¥ç»ç½‘ç»œ"></a>1.LeNetå·ç§¯ç¥ç»ç½‘ç»œ</h3><h4 id="1-1-æ‰‹å†™æ•°å­—è¯†åˆ«"><a href="#1-1-æ‰‹å†™æ•°å­—è¯†åˆ«" class="headerlink" title="1.1 æ‰‹å†™æ•°å­—è¯†åˆ«"></a>1.1 æ‰‹å†™æ•°å­—è¯†åˆ«</h4><ul>
<li>LeNetç½‘ç»œæœ€æ—©æ˜¯ä¸ºäº†åº”ç”¨äºæ‰‹å†™æ•°å­—çš„è¯†åˆ«åº”ç”¨ã€‚</li>
<li>åº”ç”¨èƒŒæ™¯ï¼š<ul>
<li>é‚®æ”¿å±€å¸Œæœ›å¯ä»¥è‡ªåŠ¨è¯»å‡ºä¿¡ä»¶ä¸Šçš„é‚®æ”¿ç¼–ç </li>
<li>äººä»¬å¸Œæœ›å¯ä»¥ç”¨æ”¯ç¥¨è‡ªåŠ¨å–é’±</li>
</ul>
</li>
<li>è¯¥æ¨¡å‹åœ¨80å¹´ä»£æœ«çš„é“¶è¡Œè¢«çœŸæ­£çš„éƒ¨ç½²</li>
</ul>
<img src="/2024/04/23/11-01-23/23-01.png" class>
<h4 id="1-2-MNIST"><a href="#1-2-MNIST" class="headerlink" title="1.2 MNIST"></a>1.2 MNIST</h4><ul>
<li>LeNetæ‰€ä½¿ç”¨çš„æ•°æ®é›†</li>
<li>50ï¼Œ000ä¸ªè®­ç»ƒæ•°æ®</li>
<li>10ï¼Œ000ä¸ªæµ‹è¯•æ•°æ®</li>
<li>å›¾åƒå¤§å°ä¸º28*28</li>
<li>10ç±»</li>
</ul>
<img src="/2024/04/23/11-01-23/23-02.png" class>
<h4 id="1-3-LeNetçš„å…·ä½“æ¨¡å‹"><a href="#1-3-LeNetçš„å…·ä½“æ¨¡å‹" class="headerlink" title="1.3 LeNetçš„å…·ä½“æ¨¡å‹"></a>1.3 LeNetçš„å…·ä½“æ¨¡å‹</h4><img src="/2024/04/23/11-01-23/23-03.png" class>
<h4 id="1-4-æ€»ç»“"><a href="#1-4-æ€»ç»“" class="headerlink" title="1.4 æ€»ç»“"></a>1.4 æ€»ç»“</h4><ul>
<li>LeNetæ˜¯æ—©æœŸæˆåŠŸçš„ç¥ç»ç½‘ç»œ</li>
<li>å…ˆä½¿ç”¨å·ç§¯å±‚æ¥å­¦ä¹ å›¾ç‰‡ç©ºé—´ä¿¡æ¯</li>
<li>ç„¶åä½¿ç”¨å…¨è¿æ¥å±‚æ¥è½¬æ¢åˆ°ç±»åˆ«ç©ºé—´</li>
</ul>
<h3 id="2-ä»£ç éƒ¨åˆ†"><a href="#2-ä»£ç éƒ¨åˆ†" class="headerlink" title="2.ä»£ç éƒ¨åˆ†"></a>2.ä»£ç éƒ¨åˆ†</h3><h4 id="2-1-å®šä¹‰ç½‘ç»œç»“æ„å’Œå‡†å¤‡å·¥ä½œ"><a href="#2-1-å®šä¹‰ç½‘ç»œç»“æ„å’Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="2.1 å®šä¹‰ç½‘ç»œç»“æ„å’Œå‡†å¤‡å·¥ä½œ"></a>2.1 å®šä¹‰ç½‘ç»œç»“æ„å’Œå‡†å¤‡å·¥ä½œ</h4><ul>
<li>å¯¼å…¥æ‰€éœ€çš„åº“</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥æ‰€éœ€çš„åº“</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure>
<ul>
<li>å®šä¹‰ç½‘ç»œç»“æ„ï¼ˆå…·ä½“å¯å‚è€ƒä¸Šæ–‡â€œå…·ä½“æ¨¡å‹â€çš„å›¾ï¼‰</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰ç½‘ç»œç»“æ„</span></span><br><span class="line">net = nn.Sequential(</span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">6</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, kernel_size=<span class="number">5</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    nn.Linear(<span class="number">16</span> * <span class="number">5</span> * <span class="number">5</span>, <span class="number">120</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">120</span>, <span class="number">84</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">84</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥çœ‹æ¯ä¸€å±‚æ•°æ®çš„å˜åŒ–æƒ…å†µ</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŠŠæ¯ä¸€å±‚æ•°æ®çš„shapeç»™æ‰“å°å‡ºæ¥</span></span><br><span class="line">X = torch.rand(size=(<span class="number">1</span>, <span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>), dtype=torch.float32)<span class="comment">#åˆ›å»ºç¬¦åˆè¦æ±‚çš„å¼ é‡</span></span><br><span class="line"><span class="keyword">for</span> layer <span class="keyword">in</span> net:</span><br><span class="line">    X = layer(X)<span class="comment">#é€šè¿‡æ¯ä¸€å±‚</span></span><br><span class="line">    <span class="built_in">print</span>(layer.__class__.__name__,<span class="string">&#x27;output shape: \t&#x27;</span>,X.shape)<span class="comment">#æ‰“å°</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-æ¨¡å‹è®­ç»ƒ"><a href="#2-2-æ¨¡å‹è®­ç»ƒ" class="headerlink" title="2.2 æ¨¡å‹è®­ç»ƒ"></a>2.2 æ¨¡å‹è®­ç»ƒ</h4><ul>
<li>ä¸‹è½½æ•°æ®é›†</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">batch_size = <span class="number">256</span><span class="comment">#æ‰¹é‡å¤§å°</span></span><br><span class="line">train_iter, test_iter = d2l.load_data_fashion_mnist(batch_size=batch_size)<span class="comment">#ä¸‹è½½æˆ–åŠ è½½æ•°æ®é›†ï¼Œå¾—åˆ°è®­ç»ƒå’Œæµ‹è¯•é›†çš„è¿­ä»£å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨GPUè®¡ç®—æ¨¡å‹åœ¨æ•°æ®é›†ä¸Šçš„ç²¾åº¦</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">evaluate_accuracy_gpu</span>(<span class="params">net, data_iter, device=<span class="literal">None</span></span>): <span class="comment">#@save</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä½¿ç”¨GPUè®¡ç®—æ¨¡å‹åœ¨æ•°æ®é›†ä¸Šçš„ç²¾åº¦&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(net, nn.Module):</span><br><span class="line">        net.<span class="built_in">eval</span>()  <span class="comment"># è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> device:</span><br><span class="line">            device = <span class="built_in">next</span>(<span class="built_in">iter</span>(net.parameters())).device</span><br><span class="line">    <span class="comment"># æ­£ç¡®é¢„æµ‹çš„æ•°é‡ï¼Œæ€»é¢„æµ‹çš„æ•°é‡</span></span><br><span class="line">    metric = d2l.Accumulator(<span class="number">2</span>)<span class="comment">#åˆ›å»ºä¸€ä¸ªç´¯åŠ å™¨ï¼ŒåŒ…å«2ä¸ªè¦ç´¯åŠ çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(X, <span class="built_in">list</span>):</span><br><span class="line">                <span class="comment"># BERTå¾®è°ƒæ‰€éœ€çš„ï¼ˆä¹‹åå°†ä»‹ç»ï¼‰</span></span><br><span class="line">                X = [x.to(device) <span class="keyword">for</span> x <span class="keyword">in</span> X]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                X = X.to(device)</span><br><span class="line">            y = y.to(device)</span><br><span class="line">            metric.add(d2l.accuracy(net(X), y), y.numel())<span class="comment">#æŠŠæ¯ä¸€ç»„æ•°æ®é¢„æµ‹ç»“æœæ­£ç¡®çš„ä¸ªæ•°å’Œé•¿åº¦ç´¯åŠ </span></span><br><span class="line">    <span class="keyword">return</span> metric[<span class="number">0</span>] / metric[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>è®­ç»ƒå‡½æ•°</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train_ch6</span>(<span class="params">net, train_iter, test_iter, num_epochs, lr, device</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç”¨GPUè®­ç»ƒæ¨¡å‹(åœ¨ç¬¬å…­ç« å®šä¹‰)&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">init_weights</span>(<span class="params">m</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(m) == nn.Linear <span class="keyword">or</span> <span class="built_in">type</span>(m) == nn.Conv2d:</span><br><span class="line">            nn.init.xavier_uniform_(m.weight)<span class="comment">#å¯¹linearç±»å‹çš„å±‚ç”¨xavieråˆå§‹åŒ–</span></span><br><span class="line">    net.apply(init_weights)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;training on&#x27;</span>, device)</span><br><span class="line">    net.to(device)</span><br><span class="line">    optimizer = torch.optim.SGD(net.parameters(), lr=lr)</span><br><span class="line">    loss = nn.CrossEntropyLoss()</span><br><span class="line">    animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs],</span><br><span class="line">                            legend=[<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>, <span class="string">&#x27;test acc&#x27;</span>])<span class="comment">#åŠ¨ç”»éœ€è¦</span></span><br><span class="line">    timer, num_batches = d2l.Timer(), <span class="built_in">len</span>(train_iter)</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        <span class="comment"># è®­ç»ƒæŸå¤±ä¹‹å’Œï¼Œè®­ç»ƒå‡†ç¡®ç‡ä¹‹å’Œï¼ŒèŒƒä¾‹æ•°</span></span><br><span class="line">        metric = d2l.Accumulator(<span class="number">3</span>)</span><br><span class="line">        net.train()</span><br><span class="line">        <span class="keyword">for</span> i, (X, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_iter):</span><br><span class="line">            timer.start()</span><br><span class="line">            optimizer.zero_grad()<span class="comment">#æ¢¯åº¦æ¸…é›¶</span></span><br><span class="line">            X, y = X.to(device), y.to(device)</span><br><span class="line">            y_hat = net(X)<span class="comment">#æ­£å‘ä¼ æ’­</span></span><br><span class="line">            l = loss(y_hat, y)<span class="comment">#è®¡ç®—æŸå¤±</span></span><br><span class="line">            l.backward()<span class="comment">#åå‘ä¼ æ’­</span></span><br><span class="line">            optimizer.step()<span class="comment">#æ¢¯åº¦ä¸‹é™</span></span><br><span class="line">            <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">                metric.add(l * X.shape[<span class="number">0</span>], d2l.accuracy(y_hat, y), X.shape[<span class="number">0</span>])<span class="comment">#è®­ç»ƒæŸå¤±ä¹‹å’Œï¼Œè®­ç»ƒå‡†ç¡®ç‡ä¹‹å’Œï¼ŒèŒƒä¾‹æ•°</span></span><br><span class="line">            timer.stop()</span><br><span class="line">            train_l = metric[<span class="number">0</span>] / metric[<span class="number">2</span>]</span><br><span class="line">            train_acc = metric[<span class="number">1</span>] / metric[<span class="number">2</span>]</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span>) % (num_batches // <span class="number">5</span>) == <span class="number">0</span> <span class="keyword">or</span> i == num_batches - <span class="number">1</span>:</span><br><span class="line">                animator.add(epoch + (i + <span class="number">1</span>) / num_batches,</span><br><span class="line">                             (train_l, train_acc, <span class="literal">None</span>))</span><br><span class="line">        test_acc = evaluate_accuracy_gpu(net, test_iter)<span class="comment">#è¯„ä¼°æµ‹è¯•é›†çš„ç²¾åº¦</span></span><br><span class="line">        animator.add(epoch + <span class="number">1</span>, (<span class="literal">None</span>, <span class="literal">None</span>, test_acc))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;loss <span class="subst">&#123;train_l:<span class="number">.3</span>f&#125;</span>, train acc <span class="subst">&#123;train_acc:<span class="number">.3</span>f&#125;</span>, &#x27;</span></span><br><span class="line">          <span class="string">f&#x27;test acc <span class="subst">&#123;test_acc:<span class="number">.3</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;metric[<span class="number">2</span>] * num_epochs / timer.<span class="built_in">sum</span>():<span class="number">.1</span>f&#125;</span> examples/sec &#x27;</span></span><br><span class="line">          <span class="string">f&#x27;on <span class="subst">&#123;<span class="built_in">str</span>(device)&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿è¡Œ</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lr, num_epochs = <span class="number">0.9</span>, <span class="number">10</span></span><br><span class="line">train_ch6(net, train_iter, test_iter, num_epochs, lr, d2l.try_gpu())</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-23/23-04.png" class>
<h4 id="2-3-æ€»ç»“"><a href="#2-3-æ€»ç»“" class="headerlink" title="2.3 æ€»ç»“"></a>2.3 æ€»ç»“</h4><ul>
<li>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰æ˜¯ä¸€ç±»ä½¿ç”¨å·ç§¯å±‚çš„ç½‘ç»œã€‚</li>
<li>åœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬ç»„åˆä½¿ç”¨å·ç§¯å±‚ã€éçº¿æ€§æ¿€æ´»å‡½æ•°å’Œæ±‡èšå±‚ã€‚</li>
<li>ä¸ºäº†æ„é€ é«˜æ€§èƒ½çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬é€šå¸¸å¯¹å·ç§¯å±‚è¿›è¡Œæ’åˆ—ï¼Œé€æ¸é™ä½å…¶è¡¨ç¤ºçš„ç©ºé—´åˆ†è¾¨ç‡ï¼ŒåŒæ—¶å¢åŠ é€šé“æ•°ã€‚</li>
<li>åœ¨ä¼ ç»Ÿçš„å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œå·ç§¯å—ç¼–ç å¾—åˆ°çš„è¡¨å¾åœ¨è¾“å‡ºä¹‹å‰éœ€ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå…¨è¿æ¥å±‚è¿›è¡Œå¤„ç†ã€‚</li>
<li>LeNetæ˜¯æœ€æ—©å‘å¸ƒçš„å·ç§¯ç¥ç»ç½‘ç»œä¹‹ä¸€ï¼ˆ80å¹´ä»£ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>22-æ± åŒ–å±‚</title>
    <url>/2024/04/23/11-01-22/</url>
    <content><![CDATA[<h1 id="æ± åŒ–å±‚"><a href="#æ± åŒ–å±‚" class="headerlink" title="æ± åŒ–å±‚"></a>æ± åŒ–å±‚</h1><p>æœ¬èŠ‚å°†ä»‹ç»<em>æ± åŒ–</em>ï¼ˆpoolingï¼‰å±‚ï¼Œå®ƒå…·æœ‰ç›®çš„ï¼šç±»ä¼¼äºæ•°æ®å¢å¼ºï¼Œé™ä½å·ç§¯å±‚å¯¹ä½ç½®çš„æ•æ„Ÿæ€§ï¼›ä¸€å®šç¨‹åº¦å‡å°‘è®¡ç®—ã€‚</p>
<h2 id="æœ€å¤§æ± åŒ–å±‚å’Œå¹³å‡æ± åŒ–å±‚"><a href="#æœ€å¤§æ± åŒ–å±‚å’Œå¹³å‡æ± åŒ–å±‚" class="headerlink" title="æœ€å¤§æ± åŒ–å±‚å’Œå¹³å‡æ± åŒ–å±‚"></a>æœ€å¤§æ± åŒ–å±‚å’Œå¹³å‡æ± åŒ–å±‚</h2><p>ä¸å·ç§¯å±‚ç±»ä¼¼ï¼Œæ± åŒ–å±‚è¿ç®—ç¬¦ç”±ä¸€ä¸ªå›ºå®šå½¢çŠ¶çš„çª—å£ç»„æˆï¼Œè¯¥çª—å£æ ¹æ®å…¶æ­¥å¹…å¤§å°åœ¨è¾“å…¥çš„æ‰€æœ‰åŒºåŸŸä¸Šæ»‘åŠ¨ï¼Œä¸ºå›ºå®šå½¢çŠ¶çª—å£éå†çš„æ¯ä¸ªä½ç½®è®¡ç®—ä¸€ä¸ªè¾“å‡ºã€‚<br>ç„¶è€Œï¼Œä¸åŒäºå·ç§¯å±‚ä¸­çš„è¾“å…¥ä¸å·ç§¯æ ¸ä¹‹é—´çš„äº’ç›¸å…³è®¡ç®—ï¼Œ<strong>æ± åŒ–å±‚ä¸åŒ…å«å‚æ•°</strong>ã€‚<br>ç›¸åï¼Œæ± è¿ç®—ç¬¦æ˜¯ç¡®å®šæ€§çš„ï¼Œæˆ‘ä»¬é€šå¸¸è®¡ç®—æ± åŒ–çª—å£ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å€¼æˆ–å¹³å‡å€¼ã€‚è¿™äº›æ“ä½œåˆ†åˆ«ç§°ä¸º<em>æœ€å¤§æ± åŒ–å±‚</em>ï¼ˆmaximum poolingï¼‰å’Œ<em>å¹³å‡æ± åŒ–å±‚</em>ï¼ˆaverage poolingï¼‰ã€‚</p>
<p>åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä¸äº’ç›¸å…³è¿ç®—ç¬¦ä¸€æ ·ï¼Œæ± åŒ–çª—å£ä»è¾“å…¥å¼ é‡çš„å·¦ä¸Šè§’å¼€å§‹ï¼Œä»å·¦å¾€å³ã€ä»ä¸Šå¾€ä¸‹çš„åœ¨è¾“å…¥å¼ é‡å†…æ»‘åŠ¨ã€‚åœ¨æ± åŒ–çª—å£åˆ°è¾¾çš„æ¯ä¸ªä½ç½®ï¼Œå®ƒè®¡ç®—è¯¥çª—å£ä¸­è¾“å…¥å­å¼ é‡çš„æœ€å¤§å€¼æˆ–å¹³å‡å€¼ã€‚è®¡ç®—æœ€å¤§å€¼æˆ–å¹³å‡å€¼æ˜¯å–å†³äºä½¿ç”¨äº†æœ€å¤§æ± åŒ–å±‚è¿˜æ˜¯å¹³å‡æ± åŒ–å±‚ã€‚</p>
<p><img src="http://d2l.ai/_images/pooling.svg" alt="æ± åŒ–çª—å£å½¢çŠ¶ä¸º $2\times 2$ çš„æœ€å¤§æ± åŒ–å±‚ã€‚ç€è‰²éƒ¨åˆ†æ˜¯ç¬¬ä¸€ä¸ªè¾“å‡ºå…ƒç´ ï¼Œä»¥åŠç”¨äºè®¡ç®—è¿™ä¸ªè¾“å‡ºçš„è¾“å…¥å…ƒç´ : $\max(0, 1, 3, 4)=4$."><br>ä¸Šå›¾ä¸­çš„è¾“å‡ºå¼ é‡çš„é«˜åº¦ä¸º$2$ï¼Œå®½åº¦ä¸º$2$ã€‚è¿™å››ä¸ªå…ƒç´ ä¸ºæ¯ä¸ªæ± åŒ–çª—å£ä¸­çš„æœ€å¤§å€¼ï¼š</p>
<script type="math/tex; mode=display">
\max(0, 1, 3, 4)=4,\\
\max(1, 2, 4, 5)=5,\\
\max(3, 4, 6, 7)=7,\\
\max(4, 5, 7, 8)=8.\\</script><p>æ± åŒ–çª—å£å½¢çŠ¶ä¸º$p \times q$çš„æ± åŒ–å±‚ç§°ä¸º$p \times q$æ± åŒ–å±‚ï¼Œæ± åŒ–æ“ä½œç§°ä¸º$p \times q$æ± åŒ–ã€‚</p>
<p>å›åˆ°æœ¬èŠ‚å¼€å¤´æåˆ°çš„å¯¹è±¡è¾¹ç¼˜æ£€æµ‹ç¤ºä¾‹ï¼Œç°åœ¨æˆ‘ä»¬å°†ä½¿ç”¨å·ç§¯å±‚çš„è¾“å‡ºä½œä¸º$2\times 2$æœ€å¤§æ± åŒ–çš„è¾“å…¥ã€‚<br>è®¾ç½®å·ç§¯å±‚è¾“å…¥ä¸º<code>X</code>ï¼Œæ± åŒ–å±‚è¾“å‡ºä¸º<code>Y</code>ã€‚<br>æ— è®º<code>X[i, j]</code>å’Œ<code>X[i, j + 1]</code>çš„å€¼æ˜¯å¦ä¸åŒï¼Œæˆ–<code>X[i, j + 1]</code>å’Œ<code>X[i, j + 2]</code>çš„å€¼æ˜¯å¦ä¸åŒï¼Œæ± åŒ–å±‚å§‹ç»ˆè¾“å‡º<code>Y[i, j] = 1</code>ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨$2\times 2$æœ€å¤§æ± åŒ–å±‚ï¼Œå³ä½¿åœ¨é«˜åº¦æˆ–å®½åº¦ä¸Šç§»åŠ¨ä¸€ä¸ªå…ƒç´ ï¼Œå·ç§¯å±‚ä»ç„¶å¯ä»¥è¯†åˆ«åˆ°æ¨¡å¼ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­çš„<code>pool2d</code>å‡½æ•°ï¼Œæˆ‘ä»¬(<strong>å®ç°æ± åŒ–å±‚çš„å‰å‘ä¼ æ’­</strong>)ã€‚ç„¶è€Œï¼Œè¿™é‡Œæˆ‘ä»¬æ²¡æœ‰å·ç§¯æ ¸ï¼Œè¾“å‡ºä¸ºè¾“å…¥ä¸­æ¯ä¸ªåŒºåŸŸçš„æœ€å¤§å€¼æˆ–å¹³å‡å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pool2d</span>(<span class="params">X, pool_size, mode=<span class="string">&#x27;max&#x27;</span></span>):</span><br><span class="line">    p_h, p_w = pool_size</span><br><span class="line">    Y = torch.zeros((X.shape[<span class="number">0</span>] - p_h + <span class="number">1</span>, X.shape[<span class="number">1</span>] - p_w + <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(Y.shape[<span class="number">0</span>]):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(Y.shape[<span class="number">1</span>]):  <span class="comment"># æšä¸¾è¾“å‡ºçš„æ¯ä¸ªä½ç½®ï¼Œ[i,j]å¯¹åº”è¾“å…¥çš„ä½ç½®[iè‡³i+p_h,jè‡³j+p_w]</span></span><br><span class="line">            <span class="keyword">if</span> mode == <span class="string">&#x27;max&#x27;</span>:  <span class="comment"># æœ€å¤§æ± åŒ–</span></span><br><span class="line">                Y[i, j] = X[i: i + p_h, j: j + p_w].<span class="built_in">max</span>()  <span class="comment"># maxå‡½æ•°è¿”å›æœ€å¤§å€¼</span></span><br><span class="line">            <span class="keyword">elif</span> mode == <span class="string">&#x27;avg&#x27;</span>:  <span class="comment"># å¹³å‡æ± åŒ–</span></span><br><span class="line">                Y[i, j] = X[i: i + p_h, j: j + p_w].mean()  <span class="comment"># meanå‡½æ•°è¿”å›å¹³å‡å€¼</span></span><br><span class="line">    <span class="keyword">return</span> Y</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥æ„å»ºä¸Šå›¾ä¸­çš„è¾“å…¥å¼ é‡<code>X</code>ï¼Œ[<strong>éªŒè¯äºŒç»´æœ€å¤§æ± åŒ–å±‚çš„è¾“å‡º</strong>]ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = torch.tensor([[<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">2.0</span>], [<span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>], [<span class="number">6.0</span>, <span class="number">7.0</span>, <span class="number">8.0</span>]])</span><br><span class="line">pool2d(X, (<span class="number">2</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[4., 5.],
        [7., 8.]])
</code></pre><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥(<strong>éªŒè¯å¹³å‡æ± åŒ–å±‚</strong>)ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pool2d(X, (<span class="number">2</span>, <span class="number">2</span>), <span class="string">&#x27;avg&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[2., 3.],
        [5., 6.]])
</code></pre><h2 id="å¡«å……å’Œæ­¥å¹…"><a href="#å¡«å……å’Œæ­¥å¹…" class="headerlink" title="å¡«å……å’Œæ­¥å¹…"></a>å¡«å……å’Œæ­¥å¹…</h2><p>ä¸å·ç§¯å±‚ä¸€æ ·ï¼Œæ± åŒ–å±‚ä¹Ÿå¯ä»¥æ”¹å˜è¾“å‡ºå½¢çŠ¶ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¡«å……å’Œæ­¥å¹…ä»¥è·å¾—æ‰€éœ€çš„è¾“å‡ºå½¢çŠ¶ã€‚<br>ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­å†…ç½®çš„äºŒç»´æœ€å¤§æ± åŒ–å±‚ï¼Œæ¥æ¼”ç¤ºæ± åŒ–å±‚ä¸­å¡«å……å’Œæ­¥å¹…çš„ä½¿ç”¨ã€‚<br>æˆ‘ä»¬é¦–å…ˆæ„é€ äº†ä¸€ä¸ªè¾“å…¥å¼ é‡<code>X</code>ï¼Œå®ƒæœ‰å››ä¸ªç»´åº¦ï¼Œå…¶ä¸­æ ·æœ¬æ•°å’Œé€šé“æ•°éƒ½æ˜¯1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = torch.arange(<span class="number">16</span>, dtype=torch.float32).reshape(</span><br><span class="line">    (<span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>))  <span class="comment"># ç»´åº¦[batch_sizeï¼Œé€šé“æ•°ï¼ŒHï¼ŒW]</span></span><br><span class="line">X</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[ 0.,  1.,  2.,  3.],
          [ 4.,  5.,  6.,  7.],
          [ 8.,  9., 10., 11.],
          [12., 13., 14., 15.]]]])
</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ(<strong>æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­çš„æ­¥å¹…ä¸æ± åŒ–çª—å£çš„å¤§å°ç›¸åŒ</strong>)ã€‚<br>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å½¢çŠ¶ä¸º<code>(3, 3)</code>çš„æ± åŒ–çª—å£ï¼Œé‚£ä¹ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ­¥å¹…å½¢çŠ¶ä¸º<code>(3, 3)</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pool2d = nn.MaxPool2d(<span class="number">3</span>)</span><br><span class="line">pool2d(X)</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[10.]]]])
</code></pre><p>[<strong>å¡«å……å’Œæ­¥å¹…å¯ä»¥æ‰‹åŠ¨è®¾å®š</strong>]ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pool2d = nn.MaxPool2d(<span class="number">3</span>, padding=<span class="number">1</span>, stride=<span class="number">2</span>)</span><br><span class="line">pool2d(X)</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[ 5.,  7.],
          [13., 15.]]]])
</code></pre><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥(<strong>è®¾å®šä¸€ä¸ªä»»æ„å¤§å°çš„çŸ©å½¢æ± åŒ–çª—å£ï¼Œå¹¶åˆ†åˆ«è®¾å®šå¡«å……å’Œæ­¥å¹…çš„é«˜åº¦å’Œå®½åº¦</strong>)ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pool2d = nn.MaxPool2d((<span class="number">2</span>, <span class="number">3</span>), stride=(<span class="number">2</span>, <span class="number">3</span>), padding=(<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line">pool2d(X)</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[ 5.,  7.],
          [13., 15.]]]])
</code></pre><h2 id="å¤šä¸ªé€šé“"><a href="#å¤šä¸ªé€šé“" class="headerlink" title="å¤šä¸ªé€šé“"></a>å¤šä¸ªé€šé“</h2><p>åœ¨å¤„ç†å¤šé€šé“è¾“å…¥æ•°æ®æ—¶ï¼Œ[<strong>æ± åŒ–å±‚åœ¨æ¯ä¸ªè¾“å…¥é€šé“ä¸Šå•ç‹¬è¿ç®—</strong>]ï¼Œè€Œä¸æ˜¯åƒå·ç§¯å±‚ä¸€æ ·åœ¨é€šé“ä¸Šå¯¹è¾“å…¥è¿›è¡Œæ±‡æ€»ã€‚<br>è¿™æ„å‘³ç€æ± åŒ–å±‚çš„è¾“å‡ºé€šé“æ•°ä¸è¾“å…¥é€šé“æ•°ç›¸åŒã€‚<br>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†åœ¨é€šé“ç»´åº¦ä¸Šè¿ç»“å¼ é‡<code>X</code>å’Œ<code>X + 1</code>ï¼Œä»¥æ„å»ºå…·æœ‰2ä¸ªé€šé“çš„è¾“å…¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X = torch.cat((X, X + <span class="number">1</span>), <span class="number">1</span>)  <span class="comment"># åœ¨ç¬¬ä¸€ä¸ªç»´åº¦ä¹Ÿå°±æ˜¯é€šé“ç»´åº¦æ‹¼æ¥</span></span><br><span class="line">X</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[ 0.,  1.,  2.,  3.],
          [ 4.,  5.,  6.,  7.],
          [ 8.,  9., 10., 11.],
          [12., 13., 14., 15.]],

         [[ 1.,  2.,  3.,  4.],
          [ 5.,  6.,  7.,  8.],
          [ 9., 10., 11., 12.],
          [13., 14., 15., 16.]]]])
</code></pre><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œæ± åŒ–åè¾“å‡ºé€šé“çš„æ•°é‡ä»ç„¶æ˜¯2ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pool2d = nn.MaxPool2d(<span class="number">3</span>, padding=<span class="number">1</span>, stride=<span class="number">2</span>)</span><br><span class="line">pool2d(X)</span><br></pre></td></tr></table></figure>
<pre><code>tensor([[[[ 5.,  7.],
          [13., 15.]],

         [[ 6.,  8.],
          [14., 16.]]]])
</code></pre><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>å¯¹äºç»™å®šè¾“å…¥å…ƒç´ ï¼Œæœ€å¤§æ± åŒ–å±‚ä¼šè¾“å‡ºè¯¥çª—å£å†…çš„æœ€å¤§å€¼ï¼Œå¹³å‡æ± åŒ–å±‚ä¼šè¾“å‡ºè¯¥çª—å£å†…çš„å¹³å‡å€¼ã€‚</li>
<li>æ± åŒ–å±‚çš„ä¸»è¦ä¼˜ç‚¹ä¹‹ä¸€æ˜¯å‡è½»å·ç§¯å±‚å¯¹ä½ç½®çš„è¿‡åº¦æ•æ„Ÿã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥æŒ‡å®šæ± åŒ–å±‚çš„å¡«å……å’Œæ­¥å¹…ã€‚</li>
<li>ä½¿ç”¨æœ€å¤§æ± åŒ–å±‚ä»¥åŠå¤§äº1çš„æ­¥å¹…ï¼Œå¯å‡å°‘ç©ºé—´ç»´åº¦ï¼ˆå¦‚é«˜åº¦å’Œå®½åº¦ï¼‰ã€‚</li>
<li>æ± åŒ–å±‚çš„è¾“å‡ºé€šé“æ•°ä¸è¾“å…¥é€šé“æ•°ç›¸åŒã€‚</li>
</ul>
<h2 id="é—®é¢˜å’Œç»ƒä¹ "><a href="#é—®é¢˜å’Œç»ƒä¹ " class="headerlink" title="é—®é¢˜å’Œç»ƒä¹ "></a>é—®é¢˜å’Œç»ƒä¹ </h2><ol>
<li>ä½ èƒ½å°†å¹³å‡æ± åŒ–å±‚ä½œä¸ºå·ç§¯å±‚çš„ç‰¹æ®Šæƒ…å†µå®ç°å—ï¼Ÿ</li>
</ol>
<blockquote>
<p>è®¾å·ç§¯å±‚å¤§å°æ˜¯$m\times n$ï¼Œå·ç§¯å±‚é‡Œé¢æ¯ä¸ªå…ƒç´ å‚æ•°æ˜¯$\dfrac{1} {m\times n}$ï¼Œè¿™æ ·å°±æ˜¯ä¸€ä¸ªå¹³å‡æ± åŒ–å±‚ä½œä¸ºå·ç§¯å±‚çš„å®ç°</p>
</blockquote>
<ol>
<li>å‡è®¾æ± åŒ–å±‚çš„è¾“å…¥å¤§å°ä¸º$c\times h\times w$ï¼Œåˆ™æ±‡èšçª—å£çš„å½¢çŠ¶ä¸º$p_h\times p_w$ï¼Œå¡«å……ä¸º$(p_h, p_w)$ï¼Œæ­¥å¹…ä¸º$(s_h, s_w)$ã€‚è¿™ä¸ªæ± åŒ–å±‚çš„è®¡ç®—æˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ</li>
</ol>
<blockquote>
<p>$ c\times \left \lfloor \dfrac {h-p_h+s_h}{s_h}\right \rfloor \times \left \lfloor \dfrac {w-p_w+s_w}{s_w}\right \rfloor $</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>21-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“</title>
    <url>/2024/04/23/11-01-21/</url>
    <content><![CDATA[<h1 id="21-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“"><a href="#21-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“" class="headerlink" title="21-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“"></a>21-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“</h1><h3 id="1-å¤šä¸ªè¾“å…¥é€šé“ï¼š"><a href="#1-å¤šä¸ªè¾“å…¥é€šé“ï¼š" class="headerlink" title="1.å¤šä¸ªè¾“å…¥é€šé“ï¼š"></a>1.å¤šä¸ªè¾“å…¥é€šé“ï¼š</h3><ul>
<li><p>å½©è‰²å›¾åƒå¯èƒ½æœ‰RGBä¸‰ä¸ªé€šé“</p>
</li>
<li><p>è½¬æ¢ä¸ºç°åº¦ä¼šä¸¢å¤±ä¿¡æ¯</p>
</li>
</ul>
<img src="/2024/04/23/11-01-21/21-01.png" class>
<ul>
<li>æ¯ä¸ªé€šé“éƒ½æœ‰ä¸€ä¸ªå·ç§¯å’Œï¼Œç»“æœæ˜¯æ‰€æœ‰é€šé“å·ç§¯ç»“æœçš„å’Œ</li>
</ul>
<img src="/2024/04/23/11-01-21/21-02.png" class>
<ul>
<li>è¾“å…¥<strong>X</strong>:<img src="https://latex.codecogs.com/svg.image?c_{i}\times&space;n_{h}\times&space;n_{w}" title="c_{i}\times n_{h}\times n_{w}"></li>
<li>æ ¸<strong>W</strong>ï¼š<img src="https://latex.codecogs.com/svg.image?c_{i}\times&space;k_{h}\times&space;k_{w}" title="c_{i}\times k_{h}\times k_{w}"></li>
<li>è¾“å‡º<strong>Y</strong>:<img src="https://latex.codecogs.com/svg.image?m_{h}\times&space;m_{w}" title="m_{h}\times m_{w}"></li>
</ul>
<p><img src="https://latex.codecogs.com/svg.image?Y=\sum&space;_{i=0}^{c_{i}}X_{i,:,:}\bigstar&space;W_{i,:,:}" title="Y=\sum _{i=0}^{c_{i}}X_{i,:,:}\bigstar W_{i,:,:}"></p>
<p>å¤šä¸ªè¾“å…¥é€šé“ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">corr2d_multi_in</span>(<span class="params">X, K</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(d2l.corr2d(x, k) <span class="keyword">for</span> x, k <span class="keyword">in</span> <span class="built_in">zip</span>(X, K))</span><br></pre></td></tr></table></figure>
<h3 id="2-å¤šä¸ªè¾“å‡ºé€šé“"><a href="#2-å¤šä¸ªè¾“å‡ºé€šé“" class="headerlink" title="2.å¤šä¸ªè¾“å‡ºé€šé“"></a>2.å¤šä¸ªè¾“å‡ºé€šé“</h3><ul>
<li>æ— è®ºæœ‰å¤šå°‘è¾“å…¥é€šé“ï¼Œåˆ°ç›®å‰ä½ç½®æˆ‘ä»¬æ¤ç»’åˆ°å•è¾“å‡ºé€šé“</li>
<li>æˆ‘ä»¬å¯ä»¥æœ‰å¤šä¸ªä¸‰ç»´å·ç§¯æ ¸ï¼Œæ¯ä¸ªæ ¸ç”Ÿæˆä¸€ä¸ªè¾“å‡ºé€šé“</li>
<li>è¾“å…¥<strong>X</strong>:<img src="https://latex.codecogs.com/svg.image?c_{i}\times&space;k_{h}\times&space;k_{w}" title="c_{i}\times k_{h}\times k_{w}"></li>
<li>æ ¸<strong>W</strong>ï¼š<img src="https://latex.codecogs.com/svg.image?c_{o}\times&space;c_{i}\times&space;k_{h}\times&space;k_{w}" title="c_{o}\times c_{i}\times k_{h}\times k_{w}"></li>
<li>è¾“å‡º<strong>Y</strong>ï¼š<img src="https://latex.codecogs.com/svg.image?c_{o}\times&space;m_{h}\times&space;m_{w}" title="c_{o}\times m_{h}\times m_{w}"></li>
</ul>
<p><img src="https://latex.codecogs.com/svg.image?Y_{i,:,:}=X\bigstar&space;W_{i,:,:}\qquad&space;for&space;\quad&space;i=1,...,c_{o}" title="Y_{i,:,:}=X\bigstar W_{i,:,:}\qquad for \quad i=1,...,c_{o}"></p>
<p>å¤šä¸ªè¾“å‡ºé€šé“ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">corr2d_multi_in_out</span>(<span class="params">X, K</span>):</span><br><span class="line">    <span class="keyword">return</span> torch.stack([corr2d_multi_in(X, k) <span class="keyword">for</span> k <span class="keyword">in</span> K], <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="3-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“"><a href="#3-å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“" class="headerlink" title="3.å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“"></a>3.å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“</h3><ul>
<li>æ¯ä¸ªé€šé“å¯ä»¥è¯†åˆ«ç‰¹å®šçš„æ¨¡å¼</li>
</ul>
<img src="/2024/04/23/11-01-21/21-03.png" class>
<ul>
<li>è¾“å…¥é€šé“æ ¸è¯†åˆ«å¹¶ç»„åˆè¾“å…¥ä¸­çš„æ¨¡å¼</li>
</ul>
<h3 id="4-1X1å·ç§¯å±‚"><a href="#4-1X1å·ç§¯å±‚" class="headerlink" title="4.1X1å·ç§¯å±‚"></a>4.1X1å·ç§¯å±‚</h3><img src="/2024/04/23/11-01-21/21-04.png" class>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">corr2d_multi_in_out_1x1</span>(<span class="params">X, K</span>):</span><br><span class="line">    c_i, h, w = X.shape</span><br><span class="line">    c_o = K.shape[<span class="number">0</span>]</span><br><span class="line">    X = X.reshape((c_i, h * w))</span><br><span class="line">    K = K.reshape((c_o, c_i))</span><br><span class="line">    Y = torch.matmul(K, X)</span><br><span class="line">    <span class="keyword">return</span> Y.reshape((c_o, h, w))</span><br></pre></td></tr></table></figure>
<h3 id="5-äºŒç»´å·ç§¯å±‚"><a href="#5-äºŒç»´å·ç§¯å±‚" class="headerlink" title="5.äºŒç»´å·ç§¯å±‚"></a>5.äºŒç»´å·ç§¯å±‚</h3><img src="/2024/04/23/11-01-21/21-05.png" class>
<h3 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6.æ€»ç»“"></a>6.æ€»ç»“</h3><ul>
<li>è¾“å‡ºé€šé“æ•°æ˜¯å·ç§¯å±‚çš„è¶…å‚æ•°</li>
<li>æ¯ä¸ªè¾“å…¥é€šé“æœ‰ç‹¬ç«‹çš„äºŒç»´å·ç§¯å’Œï¼Œæ‰€æœ‰é€šé“ç»“æœç›¸åŠ å¾—åˆ°ä¸€ä¸ªè¾“å‡ºé€šé“ç»“æœ</li>
<li>æ¯ä¸ªè¾“å‡ºé€šé“æœ‰ç‹¬ç«‹çš„ä¸‰ç»´å·ç§¯æ ¸</li>
</ul>
<h3 id="7-Q-amp-A"><a href="#7-Q-amp-A" class="headerlink" title="7.Q&amp;A"></a>7.Q&amp;A</h3><h5 id="Q1-ç½‘ç»œè¶Šæ·±ï¼ŒPadding-0-è¶Šå¤šï¼Œè¿™é‡Œæ˜¯å¦ä¼šå½±å“æ€§èƒ½ï¼Ÿ"><a href="#Q1-ç½‘ç»œè¶Šæ·±ï¼ŒPadding-0-è¶Šå¤šï¼Œè¿™é‡Œæ˜¯å¦ä¼šå½±å“æ€§èƒ½ï¼Ÿ" class="headerlink" title="Q1:ç½‘ç»œè¶Šæ·±ï¼ŒPadding 0 è¶Šå¤šï¼Œè¿™é‡Œæ˜¯å¦ä¼šå½±å“æ€§èƒ½ï¼Ÿ"></a>Q1:ç½‘ç»œè¶Šæ·±ï¼ŒPadding 0 è¶Šå¤šï¼Œè¿™é‡Œæ˜¯å¦ä¼šå½±å“æ€§èƒ½ï¼Ÿ</h5><blockquote>
<p>è¿™é‡Œæ€§èƒ½åˆ†ä¸ºè®¡ç®—æ€§èƒ½å’Œç½‘ç»œæ€§èƒ½ï¼ŒPadding 0 ä¸ä¼šå½±å“ç½‘ç»œç²¾åº¦ï¼Œä½†ä¼šä½¿è®¡ç®—å¤æ‚</p>
</blockquote>
<h5 id="Q2-è®¡ç®—å·ç§¯æ—¶ï¼Œbiasçš„æœ‰æ— å¯¹ç»“æœå½±å“å¤§å—ï¼Ÿbiasçš„ä½œç”¨æ€ä¹ˆè§£é‡Šï¼Ÿ"><a href="#Q2-è®¡ç®—å·ç§¯æ—¶ï¼Œbiasçš„æœ‰æ— å¯¹ç»“æœå½±å“å¤§å—ï¼Ÿbiasçš„ä½œç”¨æ€ä¹ˆè§£é‡Šï¼Ÿ" class="headerlink" title="Q2:è®¡ç®—å·ç§¯æ—¶ï¼Œbiasçš„æœ‰æ— å¯¹ç»“æœå½±å“å¤§å—ï¼Ÿbiasçš„ä½œç”¨æ€ä¹ˆè§£é‡Šï¼Ÿ"></a>Q2:è®¡ç®—å·ç§¯æ—¶ï¼Œbiasçš„æœ‰æ— å¯¹ç»“æœå½±å“å¤§å—ï¼Ÿbiasçš„ä½œç”¨æ€ä¹ˆè§£é‡Šï¼Ÿ</h5><blockquote>
<p>å› ä¸ºæ­£åˆ™åŒ–çš„æ“ä½œï¼Œbiaså¯¹ç»“æœå½±å“ä¸å¤§ï¼Œä½†åŠ å…¥biaså¯¹è®¡ç®—æ€§èƒ½åŸºæœ¬æ— å½±å“ï¼Œæ•…é»˜è®¤åŠ å…¥bias</p>
</blockquote>
<h5 id="Q3-å¦‚æœæ˜¯ä¸€ä¸ªrgbå›¾åƒï¼ŒåŠ ä¸Šæ·±åº¦å›¾ï¼Œç›¸å½“äºæ˜¯å››ä¸ªé€šé“å—ï¼Ÿ"><a href="#Q3-å¦‚æœæ˜¯ä¸€ä¸ªrgbå›¾åƒï¼ŒåŠ ä¸Šæ·±åº¦å›¾ï¼Œç›¸å½“äºæ˜¯å››ä¸ªé€šé“å—ï¼Ÿ" class="headerlink" title="Q3:å¦‚æœæ˜¯ä¸€ä¸ªrgbå›¾åƒï¼ŒåŠ ä¸Šæ·±åº¦å›¾ï¼Œç›¸å½“äºæ˜¯å››ä¸ªé€šé“å—ï¼Ÿ"></a>Q3:å¦‚æœæ˜¯ä¸€ä¸ªrgbå›¾åƒï¼ŒåŠ ä¸Šæ·±åº¦å›¾ï¼Œç›¸å½“äºæ˜¯å››ä¸ªé€šé“å—ï¼Ÿ</h5><blockquote>
<p>ä¸æ˜¯ï¼Œè¾“å…¥è¾“å‡ºé€šé“å•åˆ—ï¼Œè¿™é‡Œä½¿ç”¨3dçš„å·ç§¯ï¼Œè¾“å…¥å˜ä¸º4ç»´ï¼Œæ ¸æ˜¯5ç»´</p>
</blockquote>
<h5 id="Q4-æ€ä¹ˆç†è§£1x1å·ç§¯æ ¸ä¸è¯†åˆ«ç©ºé—´æ¨¡å¼ï¼Ÿ"><a href="#Q4-æ€ä¹ˆç†è§£1x1å·ç§¯æ ¸ä¸è¯†åˆ«ç©ºé—´æ¨¡å¼ï¼Ÿ" class="headerlink" title="Q4:æ€ä¹ˆç†è§£1x1å·ç§¯æ ¸ä¸è¯†åˆ«ç©ºé—´æ¨¡å¼ï¼Ÿ"></a>Q4:æ€ä¹ˆç†è§£1x1å·ç§¯æ ¸ä¸è¯†åˆ«ç©ºé—´æ¨¡å¼ï¼Ÿ</h5><blockquote>
<p>å› ä¸ºè¾“å‡ºçš„ä¸€ä¸ªåƒç´ åªå¯¹åº”è¾“å…¥çš„ä¸€ä¸ªåƒç´ ï¼Œæ‰€ä»¥æ²¡æœ‰è·å–åˆ°ç©ºé—´ä¿¡æ¯</p>
</blockquote>
<h5 id="Q5-æ˜¯ä¸æ˜¯å¯ä»¥3x3x3å’Œ1x1xNçš„å·ç§¯å±‚å åŠ ï¼Œæ¥è¿›è¡Œç©ºé—´ä¿¡æ¯çš„æ£€æµ‹å’Œä¿¡æ¯èåˆï¼Œä»¥åŠè¾“å‡ºé€šé“çš„è°ƒæ•´ï¼Ÿ"><a href="#Q5-æ˜¯ä¸æ˜¯å¯ä»¥3x3x3å’Œ1x1xNçš„å·ç§¯å±‚å åŠ ï¼Œæ¥è¿›è¡Œç©ºé—´ä¿¡æ¯çš„æ£€æµ‹å’Œä¿¡æ¯èåˆï¼Œä»¥åŠè¾“å‡ºé€šé“çš„è°ƒæ•´ï¼Ÿ" class="headerlink" title="Q5:æ˜¯ä¸æ˜¯å¯ä»¥3x3x3å’Œ1x1xNçš„å·ç§¯å±‚å åŠ ï¼Œæ¥è¿›è¡Œç©ºé—´ä¿¡æ¯çš„æ£€æµ‹å’Œä¿¡æ¯èåˆï¼Œä»¥åŠè¾“å‡ºé€šé“çš„è°ƒæ•´ï¼Ÿ"></a>Q5:æ˜¯ä¸æ˜¯å¯ä»¥3x3x3å’Œ1x1xNçš„å·ç§¯å±‚å åŠ ï¼Œæ¥è¿›è¡Œç©ºé—´ä¿¡æ¯çš„æ£€æµ‹å’Œä¿¡æ¯èåˆï¼Œä»¥åŠè¾“å‡ºé€šé“çš„è°ƒæ•´ï¼Ÿ</h5><blockquote>
<p>æ˜¯çš„ï¼Œmobile netå°±æ˜¯è¿™ç§æ€æƒ³                                                                                                                                                                                                                                                                                 </p>
</blockquote>
<h5 id="Q6ï¼š3då·ç§¯æ˜¯å¤„ç†è§†é¢‘é—®é¢˜çš„å§ï¼Ÿä¹Ÿå¯ä»¥å¤„ç†rgbåŠ æ·±åº¦ä¿¡æ¯å—ï¼Ÿ"><a href="#Q6ï¼š3då·ç§¯æ˜¯å¤„ç†è§†é¢‘é—®é¢˜çš„å§ï¼Ÿä¹Ÿå¯ä»¥å¤„ç†rgbåŠ æ·±åº¦ä¿¡æ¯å—ï¼Ÿ" class="headerlink" title="Q6ï¼š3då·ç§¯æ˜¯å¤„ç†è§†é¢‘é—®é¢˜çš„å§ï¼Ÿä¹Ÿå¯ä»¥å¤„ç†rgbåŠ æ·±åº¦ä¿¡æ¯å—ï¼Ÿ"></a>Q6ï¼š3då·ç§¯æ˜¯å¤„ç†è§†é¢‘é—®é¢˜çš„å§ï¼Ÿä¹Ÿå¯ä»¥å¤„ç†rgbåŠ æ·±åº¦ä¿¡æ¯å—ï¼Ÿ</h5><blockquote>
<p>éƒ½å¯ä»¥ï¼ŒrgbåŠ æ·±åº¦ä¿¡æ¯ç”šè‡³å¯ä»¥ç”¨2då·ç§¯å¤„ç†ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>20-å¡«å……å’Œæ­¥å¹…</title>
    <url>/2024/04/23/11-01-20/</url>
    <content><![CDATA[<h2 id="20-å¡«å……å’Œæ­¥å¹…"><a href="#20-å¡«å……å’Œæ­¥å¹…" class="headerlink" title="20-å¡«å……å’Œæ­¥å¹…"></a>20-å¡«å……å’Œæ­¥å¹…</h2><h3 id="1-å¡«å……"><a href="#1-å¡«å……" class="headerlink" title="1. å¡«å……"></a>1. å¡«å……</h3><p><strong>å¡«å……</strong>(Padding)æŒ‡çš„æ˜¯åœ¨è¾“å…¥å‘¨å›´æ·»åŠ é¢å¤–çš„è¡Œ/åˆ—</p>
<img src="/2024/04/23/11-01-20/20-01.png" class>
<p><strong>ç»´åº¦å˜åŒ–</strong>ï¼š</p>
<img src="/2024/04/23/11-01-20/20-02.png" class>
<p><strong>ä¸¤ç§ä¸åŒçš„å·ç§¯æ–¹å¼</strong>ï¼š<br>â‘ Valid å·ç§¯ï¼šä¸è¿›è¡Œå¡«å……ï¼Œå·ç§¯è¿ç®—è¿‡åå¾—åˆ°çš„çŸ©é˜µå½¢çŠ¶ä¸º(n-f+1)Ã—(n-f+1)ã€‚ </p>
<p>â‘¡Same å·ç§¯ï¼šå…ˆå¯¹çŸ©é˜µè¿›è¡Œå¡«å……ï¼Œç„¶åå†è¿›è¡Œå·ç§¯è¿ç®—ï¼Œä½¿å¾—è¿ç®—å‰åçŸ©é˜µå¤§å°ä¸å˜ã€‚</p>
<img src="/2024/04/23/11-01-20/20-03.png" class>
<h3 id="2-æ­¥å¹…"><a href="#2-æ­¥å¹…" class="headerlink" title="2. æ­¥å¹…"></a>2. æ­¥å¹…</h3><p><strong>æƒ³æ³•æ¥æºï¼š</strong>å¦‚æœæŒ‰ç…§åŸæ¥çš„æ“ä½œ(å·ç§¯æ­¥é•¿ä¸º1)ï¼Œé‚£ä¹ˆç»™å®šè¾“å…¥å¤§å°ä¸º224x224ï¼Œåœ¨ä½¿ç”¨5x5å·ç§¯æ ¸çš„æƒ…å†µä¸‹ï¼Œéœ€è¦<strong>55å±‚</strong>æ‰èƒ½å°†è¾“å‡ºé™ä½åˆ°4x4ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦å¤§é‡çš„è®¡ç®—æ‰èƒ½å¾—åˆ°ç»´åº¦è¾ƒå°çš„è¾“å‡ºã€‚</p>
<p><strong>æ­¥å¹…</strong>æ˜¯æŒ‡è¡Œ/åˆ—çš„æ»‘åŠ¨æ­¥é•¿</p>
<img src="/2024/04/23/11-01-20/20-04.png" class>
<p><strong>ç»´åº¦å˜åŒ–</strong>:</p>
<img src="/2024/04/23/11-01-20/20-05.png" class>
<p>æ³¨æ„ï¼šç¬¬ä¸‰ç‚¹å¯ä»¥å½“åšç»“è®ºæ¥è®°(Sameå·ç§¯æˆ–Validå·ç§¯(ä¸”sâ‰¥kæ—¶))ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœnæ˜¯å¶æ•°ï¼Œså–2ï¼Œæ± åŒ–å±‚åšValidå·ç§¯(ä¸å¡«å……)ä¸”k=2ï¼Œæ­¤æ—¶è¾“å‡ºç»´åº¦ç›´æ¥å¯ä»¥å†™æˆn/2 x n/2ã€‚å¦‚æœæ€•ææ··ï¼Œç›´æ¥è®°ç¬¬ä¸€ä¸ªå…¬å¼æ¯æ¬¡ç°æ¨ä¹Ÿå¯ã€‚</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ul>
<li><p>å¡«å……å’Œæ­¥å¹…æ˜¯å·ç§¯å±‚çš„<strong>è¶…å‚æ•°</strong></p>
</li>
<li><p><strong>å¡«å……</strong>(padding)åœ¨è¾“å…¥å‘¨å›´æ·»åŠ é¢å¤–çš„è¡Œ/åˆ—ï¼Œæ¥æ§åˆ¶è¾“å‡ºå½¢çŠ¶çš„å‡å°‘é‡</p>
</li>
<li><strong>æ­¥å¹…</strong>(stride)æ˜¯æ¯æ¬¡æ»‘åŠ¨æ ¸çª—å£æ—¶çš„è¡Œ/åˆ—çš„æ­¥é•¿ï¼Œå¯ä»¥æˆå€åœ°å‡å°‘è¾“å‡ºå½¢çŠ¶</li>
</ul>
<h3 id="4-ä»£ç "><a href="#4-ä»£ç " class="headerlink" title="4. ä»£ç "></a>4. ä»£ç </h3><h4 id="4-1-å¡«å……å’Œæ­¥å¹…"><a href="#4-1-å¡«å……å’Œæ­¥å¹…" class="headerlink" title="4.1 å¡«å……å’Œæ­¥å¹…"></a>4.1 å¡«å……å’Œæ­¥å¹…</h4><p><strong>å¯¼å…¥åŒ…ï¼Œå®šä¹‰comp_conv2då‡½æ•°  (è¿›è¡Œå·ç§¯æ“ä½œ, è¾“å‡ºåä¸¤ç»´ï¼Œä¾¿äºè§‚å¯Ÿé«˜å®½çš„ç»´åº¦å˜åŒ–)</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">comp_conv2d</span>(<span class="params">conv2d, X</span>):</span><br><span class="line">    X = X.reshape((<span class="number">1</span>, <span class="number">1</span>) + X.shape) <span class="comment">#Xçš„ç»´åº¦ä¹‹å‰åŠ å…¥æ‰¹é‡å¤§å°æ•°(batch_size)å’Œè¾“å…¥é€šé“æ•°(channel_in)</span></span><br><span class="line">    Y = conv2d(X)                    </span><br><span class="line">    <span class="keyword">return</span> Y.reshape(Y.shape[<span class="number">2</span>:])  <span class="comment">#å»æ‰å‰é¢çš„ä¸¤ç»´å(åŸæ¥å››ç»´) è¿›è¡Œè¾“å‡º</span></span><br></pre></td></tr></table></figure>
<h4 id="4-2-padding"><a href="#4-2-padding" class="headerlink" title="4.2 padding"></a>4.2 padding</h4><p><strong>åœ¨æ‰€æœ‰ä¾§è¾¹å¡«å……1ä¸ªåƒç´ (padding=1, å³(1,1))</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d = nn.Conv2d(<span class="number">1</span>, <span class="number">1</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>) <span class="comment">#è¾“å…¥è¾“å‡ºé€šé“æ•°ä¸º1, å·ç§¯æ ¸å¤§å°3x3, å¡«å……ä¸º1(ä¸Šä¸‹å·¦å³å„å¡«å……ä¸€è¡Œ)</span></span><br><span class="line">X = torch.rand(size=(<span class="number">8</span>, <span class="number">8</span>))         </span><br><span class="line">comp_conv2d(conv2d, X).shape</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.Size([<span class="number">8</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p><strong>å¡«å……ä¸åŒçš„é«˜åº¦å’Œå®½åº¦(padding=(2,1))</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d = nn.Conv2d(<span class="number">1</span>, <span class="number">1</span>, kernel_size=(<span class="number">5</span>, <span class="number">3</span>), padding=(<span class="number">2</span>, <span class="number">1</span>))</span><br><span class="line">comp_conv2d(conv2d, X).shape</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.Size([<span class="number">8</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<h4 id="4-3-stride"><a href="#4-3-stride" class="headerlink" title="4.3 stride"></a>4.3 stride</h4><p><strong>å°†é«˜åº¦å’Œå®½åº¦çš„æ­¥å¹…è®¾ç½®ä¸º2</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d = nn.Conv2d(<span class="number">1</span>, <span class="number">1</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>, stride=<span class="number">2</span>)</span><br><span class="line">comp_conv2d(conv2d, X).shape</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.Size([<span class="number">4</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p><strong>ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¾‹å­</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d = nn.Conv2d(<span class="number">1</span>, <span class="number">1</span>, kernel_size=(<span class="number">3</span>, <span class="number">5</span>), padding=(<span class="number">0</span>, <span class="number">1</span>), stride=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">comp_conv2d(conv2d, X).shape</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.Size([<span class="number">2</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>19-å·ç§¯å±‚</title>
    <url>/2024/04/23/11-01-19/</url>
    <content><![CDATA[<h2 id="19-å·ç§¯å±‚"><a href="#19-å·ç§¯å±‚" class="headerlink" title="19-å·ç§¯å±‚"></a>19-å·ç§¯å±‚</h2><h4 id="æœ¬è®²æ–‡å­—ä»‹ç»éƒ¨åˆ†è¯·å‚è€ƒæ²ç¥åœ¨çº¿ä¹¦ç±-ï¼šhttps-zh-v2-d2l-ai-chapter-convolutional-neural-networks-why-conv-html"><a href="#æœ¬è®²æ–‡å­—ä»‹ç»éƒ¨åˆ†è¯·å‚è€ƒæ²ç¥åœ¨çº¿ä¹¦ç±-ï¼šhttps-zh-v2-d2l-ai-chapter-convolutional-neural-networks-why-conv-html" class="headerlink" title="æœ¬è®²æ–‡å­—ä»‹ç»éƒ¨åˆ†è¯·å‚è€ƒæ²ç¥åœ¨çº¿ä¹¦ç±~ï¼šhttps://zh-v2.d2l.ai/chapter_convolutional-neural-networks/why-conv.html"></a>æœ¬è®²æ–‡å­—ä»‹ç»éƒ¨åˆ†è¯·å‚è€ƒæ²ç¥åœ¨çº¿ä¹¦ç±~ï¼š<a href="https://zh-v2.d2l.ai/chapter_convolutional-neural-networks/why-conv.html">https://zh-v2.d2l.ai/chapter_convolutional-neural-networks/why-conv.html</a></h4><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">corr2d</span>(<span class="params">X,K</span>):    <span class="comment">#Xä¸ºè¾“å…¥ï¼ŒKä¸ºæ ¸çŸ©é˜µ</span></span><br><span class="line">    h,w=K.shape    <span class="comment">#hå¾—åˆ°Kçš„è¡Œæ•°ï¼Œwå¾—åˆ°Kçš„åˆ—æ•°</span></span><br><span class="line">    Y=torch.zeros((X.shape[<span class="number">0</span>]-h+<span class="number">1</span>,X.shape[<span class="number">1</span>]-w+<span class="number">1</span>))  <span class="comment">#ç”¨0åˆå§‹åŒ–è¾“å‡ºçŸ©é˜µY</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(Y.shape[<span class="number">0</span>]):   <span class="comment">#å·ç§¯è¿ç®—</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(Y.shape[<span class="number">1</span>]):</span><br><span class="line">          Y[i,j]=(X[i:i+h,j:j+w]*K).<span class="built_in">sum</span>()</span><br><span class="line">    <span class="keyword">return</span> Y</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ ·ä¾‹ç‚¹æµ‹è¯•</span></span><br><span class="line">X=torch.tensor([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line">K=torch.tensor([[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>]])</span><br><span class="line">corr2d(X,K)</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; tensor([[19., 25.],
            [37., 43.]])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®ç°äºŒç»´å·ç§¯å±‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Conv2d</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_init_</span>(<span class="params">self,kernel_size</span>):</span><br><span class="line">        <span class="built_in">super</span>()._init_()</span><br><span class="line">        self.weight=nn.Parameter(torch.rand(kerner_size))</span><br><span class="line">        self.bias=nn.Parameter(torch.zeros(<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">return</span> corr2d(x,self.weight)+self.bias </span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">X=torch.ones((<span class="number">6</span>,<span class="number">8</span>))</span><br><span class="line">X[:,<span class="number">2</span>:<span class="number">6</span>]=<span class="number">0</span></span><br><span class="line">X</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; tensor([[1., 1., 0., 0., 0., 0., 1., 1.],
        [1., 1., 0., 0., 0., 0., 1., 1.],
        [1., 1., 0., 0., 0., 0., 1., 1.],
        [1., 1., 0., 0., 0., 0., 1., 1.],
        [1., 1., 0., 0., 0., 0., 1., 1.],
        [1., 1., 0., 0., 0., 0., 1., 1.]])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">K=torch.tensor([[-<span class="number">1</span>,<span class="number">1</span>]])  <span class="comment">#è¿™ä¸ªKåªèƒ½æ£€æµ‹å‚ç›´è¾¹ç¼˜</span></span><br><span class="line">Y=corr2d(X,K)</span><br><span class="line">Y</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; tensor([[ 0., -1.,  0.,  0.,  0.,  1.,  0.],
            [ 0., -1.,  0.,  0.,  0.,  1.,  0.],
            [ 0., -1.,  0.,  0.,  0.,  1.,  0.],
            [ 0., -1.,  0.,  0.,  0.,  1.,  0.],
            [ 0., -1.,  0.,  0.,  0.,  1.,  0.],
            [ 0., -1.,  0.,  0.,  0.,  1.,  0.]])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">corr2d(X.t(),K)</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; tensor([[0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.],
            [0., 0., 0., 0., 0.]])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d = nn.Conv2d(<span class="number">1</span>, <span class="number">1</span>, kernel_size=(<span class="number">1</span>, <span class="number">2</span>), bias=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">X = X.reshape((<span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">8</span>))</span><br><span class="line">Y = Y.reshape((<span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    Y_hat = conv2d(X)</span><br><span class="line">    l = (Y_hat - Y)**<span class="number">2</span></span><br><span class="line">    conv2d.zero_grad()</span><br><span class="line">    l.<span class="built_in">sum</span>().backward()</span><br><span class="line">    conv2d.weight.data[:] -= <span class="number">3e-2</span> * conv2d.weight.grad</span><br><span class="line">    <span class="keyword">if</span> (i + <span class="number">1</span>) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;batch <span class="subst">&#123;i+<span class="number">1</span>&#125;</span>, loss <span class="subst">&#123;l.<span class="built_in">sum</span>():<span class="number">.3</span>f&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; batch 2, loss 3.852
    batch 4, loss 1.126
    batch 6, loss 0.386
    batch 8, loss 0.145
    batch 10, loss 0.057
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conv2d.weight.data.reshape((<span class="number">1</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<pre><code>&gt;&gt;&gt; tensor([[-1.0173,  0.9685]])
</code></pre>]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>18-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“</title>
    <url>/2024/04/23/11-01-18/</url>
    <content><![CDATA[<h2 id="18-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“"><a href="#18-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“" class="headerlink" title="18-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“"></a>18-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“</h2><h3 id="1-æ–¹æ³•æ€»ç»“"><a href="#1-æ–¹æ³•æ€»ç»“" class="headerlink" title="1.æ–¹æ³•æ€»ç»“"></a>1.æ–¹æ³•æ€»ç»“</h3><blockquote>
<p>ä¸‹é¢æä¾›äº†æ’è¡Œæ¦œå‰å‡ ä½¿ç”¨çš„æ–¹æ³•ä»‹ç»é“¾æ¥</p>
</blockquote>
<ul>
<li><p>ç¬¬äºŒå’Œç¬¬ä¸ƒï¼šautogluon</p>
<p><a href="https://www.bilibili.com/video/BV1rh411m7Hb/">https://www.bilibili.com/video/BV1rh411m7Hb/</a></p>
</li>
<li><p>ç¬¬ä¸‰ï¼šh2o</p>
<p><a href="https://www.kaggle.com/wuwawa/automl-using-h2o">https://www.kaggle.com/wuwawa/automl-using-h2o</a></p>
</li>
<li><p>ç¬¬å››ï¼šéšæœºæ£®æ—</p>
<p><a href="https://www.kaggle.com/jackzh/the-4th-place-approach-random-forest">https://www.kaggle.com/jackzh/the-4th-place-approach-random-forest</a></p>
</li>
</ul>
<h3 id="2-åˆ†æ"><a href="#2-åˆ†æ" class="headerlink" title="2.åˆ†æ"></a>2.åˆ†æ</h3><ul>
<li><p>å·²çŸ¥çš„æ’åé å‰çš„4ä¸ªæˆç»©å‡ä½¿ç”¨äº†é›†æˆå­¦ä¹ </p>
</li>
<li><p>ç›®å‰ä¸çŸ¥é“æ˜¯å¦æœ‰ä½¿ç”¨ä¹¦ä¸­çš„mlpå–å¾—å¥½æˆç»©</p>
<blockquote>
<p>é€šè¿‡è°ƒå‚æ•°ï¼Œæ˜¯èƒ½å¤Ÿå–å¾—å¾ˆå¥½çš„ç»“æœçš„</p>
</blockquote>
<p> å¯¹äºmlpæ¥è¯´ï¼Œç‰¹å¾é¢„å¤„ç†å’Œè¶…å‚æ•°çš„è°ƒèŠ‚æ˜¯å–å¾—å¥½æˆç»©çš„åŸºç¡€</p>
</li>
<li><p>æ•°æ®çš„éš¾ç‚¹</p>
<ul>
<li><p>æ•°å€¼è¾ƒå¤§</p>
<blockquote>
<p>æ¢¯åº¦ç›¸å¯¹è¾ƒå¤§ï¼Œå®¹æ˜“å‘ç”Ÿæ¢¯åº¦çˆ†ç‚¸</p>
</blockquote>
<p>ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å¯ä»¥å¯¹æ•°æ®å–å¯¹æ•°ï¼Œå†è¿›è¡Œæ ‡å‡†åŒ–</p>
</li>
<li><p>æœ‰æ–‡æœ¬ç‰¹å¾ï¼ˆåœ°å€ï¼Œä»‹ç»ï¼‰</p>
<blockquote>
<p>è¿™äº›æ–‡å­—å¯èƒ½å«æœ‰è¾ƒå¤šçš„å™ªå£°ï¼Œå¯¹æ¨¡å‹äº§ç”Ÿå½±å“</p>
</blockquote>
<p>è§£å†³åŠæ³•æ—¥åä¼šè®²è§£ï¼Œæ¯”å¦‚ç¬¬äºŒåç”¨çš„transformer</p>
</li>
<li><p>è®­ç»ƒæ•°æ®æ˜¯å‰6ä¸ªæœˆï¼Œå…¬æ¦œæ˜¯å3ä¸ªæœˆï¼Œç§æ¦œæ˜¯å†å¾€å3ä¸ªæœˆ</p>
<blockquote>
<p>åˆ©ç”¨å†å²çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œåœ¨å®è·µä¸­è‡ªç„¶ä¼šæœ‰ä¸åŒçš„å½±å“ï¼ˆå¯èƒ½è¿‡æ‹Ÿåˆï¼‰</p>
<p>å› æ­¤å…¬æ¦œä¸ç§æ¦œçš„æ’åæœ‰ä¸€å®šå·®å¼‚</p>
</blockquote>
<pre><code>       è¿™ä¸ªé—®é¢˜ç§°ä¸ºCovariate Shiftï¼Œæ²¡æœ‰ç‰¹åˆ«å¥½çš„è§£å†³æ–¹æ¡ˆ  ï¼Œå¯ä»¥è®©æ¨¡å‹å°½å¯èƒ½ç¨³å®šï¼Œä¸å»ä»”ç»†è°ƒå‚
</code></pre></li>
</ul>
</li>
</ul>
<h3 id="3-å…³äºautoml"><a href="#3-å…³äºautoml" class="headerlink" title="3.å…³äºautoml"></a>3.å…³äºautoml</h3><h4 id="3-1-è¯¾ç¨‹å†…å®¹"><a href="#3-1-è¯¾ç¨‹å†…å®¹" class="headerlink" title="3.1 è¯¾ç¨‹å†…å®¹"></a>3.1 è¯¾ç¨‹å†…å®¹</h4><blockquote>
<p>è¿™ä¸€éƒ¨åˆ†ææ²è€å¸ˆè¦è¡¨è¾¾çš„ä¸»è¦æ˜¯æˆ‘ä»¬åº”è¯¥æ·±å…¥å»äº†è§£æœ¬åçš„åŸç†ï¼Œä¸è¦å› ä¸ºæœ‰â€è‡ªåŠ¨åŒ–â€æ·±åº¦å­¦ä¹ è€Œäº§ç”Ÿä¸€ç§ä¾èµ–å¿ƒç†æˆ–è€…å˜å¾—æ²¡æœ‰æ·±ç©¶æ·±åº¦å­¦ä¹ çš„åŠ¨åŠ›ï¼Œå­¦ä¹ deep learningä»ç„¶æ˜¯æœ‰æ„ä¹‰çš„</p>
</blockquote>
<ul>
<li><p>æ•°æ®ç§‘å­¦å®¶80%æ—¶é—´åœ¨å¤„ç†æ•°æ®ï¼Œ20%è°ƒæ¨¡å‹</p>
<blockquote>
<p>å¤„ç†æ•°æ®æ˜¯automlä¸èƒ½åšçš„ï¼Œautomlçš„ä½œç”¨ä¸»è¦åœ¨è°ƒæ¨¡å‹è¿™å—ï¼Œæ•°æ®ç§‘å­¦å®¶ä»ç„¶èƒ½å¤§å±•èº«æ‰‹</p>
</blockquote>
</li>
<li><p>Automlç°åœ¨èƒ½å¤„ç†ä¸€äº›åŸºç¡€çš„æƒ…å†µ</p>
<blockquote>
<p>ç›®å‰èŠ‚çœ10%æ—¶é—´ï¼Œæœªæ¥èŠ‚çœ20%æ—¶é—´</p>
</blockquote>
</li>
<li><p>ä¸ºä»€ä¹ˆè¿˜è¦å­¦ä¹ æ·±åº¦å­¦ä¹ </p>
<p>æ­£å¦‚ä¹°èœåªéœ€è¦ç”¨åˆ°å››åˆ™è¿ç®—ç”šè‡³ä¸ç”¨ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å­¦ä¹ ä¸‰è§’å‡½æ•°å»è¿›è¡Œæ›´æ·±å…¥çš„ç§‘å­¦ç ”ç©¶ç­‰å…¶ä»–äº‹æƒ…ã€‚å½“äººäººéƒ½ä¼šç”¨Automlçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦æ‡‚å¾—ä¸€äº›åº•å±‚çš„åŸç†ï¼Œæ¯•ç«ŸAutomlä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„ï¼Œéœ€è¦æˆ‘ä»¬ä¸æ–­æ”¹è¿›ï¼Œæˆ–è€…æƒ³å‡ºå…¶ä»–ç®—æ³•ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¹Ÿè¦è‚¯å®šAutomlå¸¦æ¥çš„ä¾¿åˆ©ã€‚</p>
</li>
</ul>
<h4 id="3-2-è¡¥å……å†…å®¹"><a href="#3-2-è¡¥å……å†…å®¹" class="headerlink" title="3.2 è¡¥å……å†…å®¹"></a>3.2 è¡¥å……å†…å®¹</h4><h5 id="AutoGluon"><a href="#AutoGluon" class="headerlink" title="AutoGluon"></a>AutoGluon</h5><blockquote>
<p>ä¸å¤§éƒ¨åˆ†automlæ¡†æ¶æ˜¯åŸºäºè¶…å‚æ•°æœç´¢æŠ€æœ¯çš„ä¸åŒï¼ŒAutogluonä¼šåˆ©ç”¨å¤šä¸ªæœºå™¨å­¦ä¹ åŒ…æ¥è®­ç»ƒæ¨¡å‹</p>
</blockquote>
<ul>
<li><p>æˆ¿ä»·é¢„æµ‹ç«èµ›ä¸­æ¨¡å‹çš„æ”¹åŠ¨</p>
<blockquote>
<p>1.å¯¹äºæ•°æ®ä¸­æ•°å€¼æ¯”è¾ƒå¤§ä¸”æ•°æ®å˜åŒ–å¤§çš„æ•°å€¼å–log,CPUä¸Šè®­ç»ƒ2ä¸ªå°æ—¶ï¼Œæœ€ç»ˆæ’ç¬¬ä¸ƒ</p>
<p>2.æˆ¿å­æè¿°é‡ŒåŒ…å«å¤§é‡æ–‡æœ¬ï¼Œä½¿ç”¨mutimodalé€‰é¡¹æ¥ç”¨transformeræå–ç‰¹å¾ï¼Œå¹¶åšå¤šæ¨¡å‹èåˆ,ç”¨GPUæ‰è·‘å¾—åŠ¨ï¼Œæ’åç¬¬äºŒ</p>
</blockquote>
</li>
<li><p>AutoGluonèƒŒåçš„æŠ€æœ¯</p>
<blockquote>
<p>1.stacking</p>
<p>2.k-åˆ™äº¤å‰bagging</p>
<p>3.å¤šå±‚stacking</p>
</blockquote>
</li>
<li><p>æ€»ç»“</p>
<blockquote>
<p>1.autogluonåœ¨åˆç†çš„è®¡ç®—å¼€é”€ä¸‹å¾—åˆ°è¿˜ä¸é”™çš„æ¨¡å‹</p>
<p>2.è™½ç„¶autogluonå¯ä»¥åšè‡ªåŠ¨ç‰¹å¾æŠ½å–ï¼Œä½†æ˜¯å½“åŠ å…¥ä¸€äº›äººå·¥æ•°æ®å¤„ç†ä¹Ÿæ˜¯ä¸é”™çš„æ–¹æ³•</p>
<p>3.å¯¹äºæ¯”è¾ƒå¤§çš„æ•°æ®é›†è®¡ç®—å¼€é”€ä»ç„¶æ˜¯ç“¶é¢ˆï¼Œéœ€è¦ä½¿ç”¨GPUç”šè‡³å¤šå°æœºå™¨åšåˆ†å¸ƒå¼è®­ç»ƒï¼Œè¿™ä»æ˜¯AutoMLæœªæ¥çš„ç ”ç©¶æ–¹å‘</p>
<p>4.å…·ä½“è®²è§£å¯å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV1F84y1F7Ps/?spm_id_from=333.788.recommend_more_video.1">https://www.bilibili.com/video/BV1F84y1F7Ps/?spm_id_from=333.788.recommend_more_video.1</a></p>
</blockquote>
</li>
</ul>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“"></a>4.æ€»ç»“</h3><p>è¿™èŠ‚è¯¾æœ¬èº«å°±æ˜¯ä¸€æ¬¡å¯¹é¢„æµ‹æˆ¿ä»·ç«èµ›çš„æ€»ç»“ï¼Œä¸»è¦ä»‹ç»äº†æ’åçš„åˆ†å¸ƒæƒ…å†µä»¥åŠä¸€äº›é˜Ÿä¼ä½¿ç”¨çš„æ–¹æ³•ã€‚</p>
<h3 id="5-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“-Q-amp-A"><a href="#5-é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“-Q-amp-A" class="headerlink" title="5.é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“ Q&amp;A"></a>5.é¢„æµ‹æˆ¿ä»·ç«èµ›æ€»ç»“ Q&amp;A</h3><p><strong>Q1: ç»Ÿè®¡å­¦ä¸“ä¸šæœ¬ç§‘ç”Ÿæœªæ¥ä»äº‹äººå·¥æ™ºèƒ½å¦‚ä½•è§„åˆ’</strong></p>
<blockquote>
<p>æ³¨é‡åŠ¨æ‰‹èƒ½åŠ›çš„åŸ¹å…»</p>
</blockquote>
<p><strong>Q2: é¿å…overfitæ˜¯è°ƒå‚å¥½è¿˜æ˜¯ä¸è°ƒå‚å¥½ï¼Ÿè€å¸ˆæœ‰ä½•ç»éªŒåˆ†äº«ï¼Ÿ</strong></p>
<blockquote>
<p>è°ƒå‚æ˜¯éœ€è¦çš„ï¼Œé¦–å…ˆæœ€å¥½æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½çš„éªŒè¯é›†ï¼›å½“ä½ æ‰¾åˆ°ä¸€ä¸ªåœ¨éªŒè¯é›†æ•ˆæœæ¯”è¾ƒå¥½çš„è¶…å‚æ•°å€¼çš„æ—¶å€™ï¼Œæœ€å¥½åœ¨è¿™ä¸€å€¼ä¸Šè°ƒæˆ–ä¸‹è°ƒä¸€ç‚¹çœ‹çœ‹æ˜¯å¦æ•æ„Ÿï¼Œå¦‚æœæ¯”è¾ƒæ•æ„Ÿè¯´æ˜è¿™ç‚¹å¯èƒ½åªæ˜¯åœ¨è¿™ç‚¹å‡‘å·§æ•ˆæœå¥½ç½¢äº†ï¼Œæ³›åŒ–æ€§å°±ä¸å¥½ï¼›å½“ç„¶åœ¨å®è·µä¸­è°ƒå‚å¹¶æ²¡æœ‰åƒåœ¨ç«èµ›ä¸­é‚£ä¹ˆé‡è¦</p>
</blockquote>
<p><strong>Q3: è€å¸ˆè¯´çš„80%æ—¶é—´å¤„ç†æ•°æ®æ˜¯æŒ‡çš„æ‰¾æ•°æ®ã€æ¸…ç†æ•°æ®è¿™äº›ï¼Ÿæ•°æ®æ­å»ºpipelineä¸å°±å¥½äº†ï¼Œ ï¼Ÿä¸ºä»€ä¹ˆæ”¹è¿›æ¨¡å‹ç­‰ç­‰ä¸å ä¸»è¦æ—¶é—´ï¼Ÿ</strong></p>
<blockquote>
<p>å¤„ç†æ•°æ®å¹¶ä¸æ˜¯æ­å»ºpipelineå°±å¥½äº†ï¼Œä½ éœ€è¦å†³å®šä»å“ªé‡Œè·å–æ•°æ®ã€æ€æ ·è·å–æ•°æ®ã€å¦‚ä½•å¤„ç†å™ªéŸ³ï¼ˆæ¸…ç†æ•°æ®ï¼‰â€¦â€¦è¿™äº›éƒ½æ˜¯å¾ˆè´¹æ—¶é—´çš„</p>
</blockquote>
<p><strong>Q4: AutoMLä¸MLæœ‰ä¸¥æ ¼çš„ç‰¹å¾åŒºåˆ«å—</strong></p>
<blockquote>
<p>AutoMLå¯ä»¥çœ‹ä½œæ˜¯MLä¸­çš„ä¸€ç±»ç®—æ³•</p>
</blockquote>
<p><strong>Q5: ç”¨mlpåšç«èµ›æ—¶å‘ç°å±‚æ•°æ·±çš„æ—¶å€™é¢„æµ‹å‡ºæ¥çš„æˆ¿ä»·å…¨æ˜¯ä¸€æ ·çš„ï¼Œå±‚æ•°æµ…ä¸€ç‚¹è¿˜ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<blockquote>
<p>åº”è¯¥æ˜¯æ¢¯åº¦çˆ†ç‚¸ï¼Œæˆ–è€…æ¢¯åº¦æ¶ˆå¤±ï¼Œä¹Ÿå°±æ˜¯æ•°å€¼ç¨³å®šæ€§å‡ºç°é—®é¢˜</p>
</blockquote>
<p><strong>Q6ï¼šMLPæœ‰å€¼å¾—ç²¾ç»†è°ƒå‚çš„ä»·å€¼å—ï¼Ÿ</strong></p>
<blockquote>
<p>æœ‰ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>17-ä½¿ç”¨å’Œè´­ä¹°GPU</title>
    <url>/2024/04/23/11-01-17/</url>
    <content><![CDATA[<h2 id="ä½¿ç”¨å’Œè´­ä¹°GPU"><a href="#ä½¿ç”¨å’Œè´­ä¹°GPU" class="headerlink" title="ä½¿ç”¨å’Œè´­ä¹°GPU"></a>ä½¿ç”¨å’Œè´­ä¹°GPU</h2><h3 id="ä½¿ç”¨GPU"><a href="#ä½¿ç”¨GPU" class="headerlink" title="ä½¿ç”¨GPU"></a>ä½¿ç”¨GPU</h3><p>ï¼ˆç®€è€Œè¨€ä¹‹ï¼Œè‡ª2000å¹´ä»¥æ¥ï¼ŒGPUæ€§èƒ½æ¯10å¹´å¢é•¿1000å€ï¼Œæœ¬èŠ‚ä¸»è¦ä»‹ç»å¦‚ä½•åˆ©ç”¨è¿™ç§è®¡ç®—æ€§èƒ½è¿›è¡Œç ”ç©¶ï¼Œé¦–å…ˆæ˜¯ä½¿ç”¨å•ä¸ªGPUï¼Œç„¶åæ˜¯å¦‚ä½•ä½¿ç”¨å¤šä¸ªGPUå’Œå¤šä¸ªæœåŠ¡å™¨ï¼‰</p>
<ul>
<li><p>å‡†å¤‡ï¼š</p>
<ul>
<li><p>ï¼ˆé¦–å…ˆç¡®ä¿è‡³å°‘å®‰è£…äº†ä¸€ä¸ªNVDIA GPUï¼Œç„¶åä¸‹è½½<a href="https://developer.nvidia.com/cuda-downloads">NVIDIAé©±åŠ¨å’ŒCUDA</a>å¹¶æŒ‰ç…§æç¤ºè®¾ç½®é€‚å½“çš„è·¯å¾„ï¼‰</p>
</li>
<li><p>æŸ¥çœ‹æ˜¾å¡ä¿¡æ¯ï¼š        </p>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">!nvidia-smi</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Fri Jan <span class="number">14</span> 03:<span class="number">23</span>:<span class="number">18</span> <span class="number">2022</span></span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI <span class="number">418.67</span>       Driver Version: <span class="number">418.67</span>       CUDA Version: <span class="number">10.1</span>     |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   <span class="number">0</span>  Tesla V100-SXM2...  Off  | <span class="number">00000000</span>:<span class="number">00</span>:1B<span class="number">.0</span> Off |                    <span class="number">0</span> |</span><br><span class="line">| N/A   43C    P0    74W / 300W |   1608MiB / 16130MiB |      <span class="number">0</span>%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   <span class="number">1</span>  Tesla V100-SXM2...  Off  | <span class="number">00000000</span>:<span class="number">00</span>:1C<span class="number">.0</span> Off |                    <span class="number">0</span> |</span><br><span class="line">| N/A   42C    P0    62W / 300W |   1706MiB / 16130MiB |      <span class="number">9</span>%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   <span class="number">2</span>  Tesla V100-SXM2...  Off  | <span class="number">00000000</span>:<span class="number">00</span>:1D<span class="number">.0</span> Off |                    <span class="number">0</span> |</span><br><span class="line">| N/A   64C    P0    68W / 300W |     11MiB / 16130MiB |      <span class="number">0</span>%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line">|   <span class="number">3</span>  Tesla V100-SXM2...  Off  | <span class="number">00000000</span>:<span class="number">00</span>:1E<span class="number">.0</span> Off |                    <span class="number">0</span> |</span><br><span class="line">| N/A   57C    P0    45W / 300W |     11MiB / 16130MiB |      <span class="number">0</span>%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line"></span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                       GPU Memory |</span><br><span class="line">|  GPU       PID   <span class="type">Type</span>   Process name                             Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">|    <span class="number">0</span>      <span class="number">5034</span>      C   ...conda3/envs/d2l-en-release-<span class="number">0</span>/<span class="built_in">bin</span>/python  1597MiB |</span><br><span class="line">|    <span class="number">1</span>      <span class="number">5034</span>      C   ...conda3/envs/d2l-en-release-<span class="number">0</span>/<span class="built_in">bin</span>/python  1695MiB |</span><br></pre></td></tr></table></figure>
<p>ï¼ˆå¯ä»¥çœ‹åˆ°è¿™é‡Œæ˜¾ç¤ºæœ‰4å—Tesla V100çš„GPUï¼ŒMemory-Usageæ˜¾ç¤ºçš„æ˜¯â€œå½“å‰ä½¿ç”¨ç©ºé—´ / æ€»ç©ºé—´â€ï¼ŒGPU-Utilæ˜¾ç¤ºçš„æ˜¯æ¨¡å‹è®­ç»ƒæ—¶GPUçš„ä½¿ç”¨ç‡ï¼Œå¦‚æœä¸º50%ä»¥ä¸‹è¯´æ˜æ¨¡å‹å¯èƒ½ä¸å¤ªå¥½ï¼‰</p>
<ul>
<li><p>å‡†å¤‡ï¼ˆç»­ï¼‰ï¼š</p>
<ul>
<li>åœ¨PyTorchä¸­ï¼Œæ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªè®¾å¤‡ï¼ˆdeviceï¼‰ï¼Œ æˆ‘ä»¬é€šå¸¸å°†å…¶ç§°ä¸ºä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å˜é‡å’Œç›¸å…³çš„è®¡ç®—éƒ½åˆ†é…ç»™CPUã€‚ æœ‰æ—¶ä¸Šä¸‹æ–‡å¯èƒ½æ˜¯GPUã€‚ å½“æˆ‘ä»¬è·¨å¤šä¸ªæœåŠ¡å™¨éƒ¨ç½²ä½œä¸šæ—¶ï¼Œäº‹æƒ…ä¼šå˜å¾—æ›´åŠ æ£˜æ‰‹ã€‚ é€šè¿‡æ™ºèƒ½åœ°å°†æ•°ç»„åˆ†é…ç»™ä¸Šä¸‹æ–‡ï¼Œ æˆ‘ä»¬å¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘åœ¨è®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ®çš„æ—¶é—´ã€‚ ä¾‹å¦‚ï¼Œå½“åœ¨å¸¦æœ‰GPUçš„æœåŠ¡å™¨ä¸Šè®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œ æˆ‘ä»¬é€šå¸¸å¸Œæœ›æ¨¡å‹çš„å‚æ•°åœ¨GPUä¸Šã€‚</li>
<li>è¦è¿è¡Œæ­¤éƒ¨åˆ†ä¸­çš„ç¨‹åºï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªGPUã€‚ æ³¨æ„ï¼Œå¯¹äºå¤§å¤šæ•°æ¡Œé¢è®¡ç®—æœºæ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯å¥¢ä¾ˆçš„ï¼Œä½†åœ¨äº‘ä¸­å¾ˆå®¹æ˜“è·å¾—ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨AWS EC2çš„å¤šGPUå®ä¾‹ã€‚ æœ¬ä¹¦çš„å…¶ä»–ç« èŠ‚å¤§éƒ½ä¸éœ€è¦å¤šä¸ªGPUï¼Œ è€Œæœ¬èŠ‚åªæ˜¯ä¸ºäº†å±•ç¤ºæ•°æ®å¦‚ä½•åœ¨ä¸åŒçš„è®¾å¤‡ä¹‹é—´ä¼ é€’ã€‚</li>
</ul>
</li>
<li><p>è®¡ç®—è®¾å¤‡ï¼š</p>
<ul>
<li><p>æˆ‘ä»¬å¯ä»¥æŒ‡å®šç”¨äºå­˜å‚¨å’Œè®¡ç®—çš„è®¾å¤‡ï¼Œå¦‚CPUå’ŒGPUã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨å†…å­˜ä¸­åˆ›å»ºçš„ï¼Œç„¶åä½¿ç”¨CPUè®¡ç®—å®ƒã€‚æ‰€æœ‰çš„æ·±åº¦å­¦ä¹ æ¡†æ¶éƒ½æ˜¯é»˜è®¤åœ¨CPUä¸Šåšè¿ç®—ï¼Œå¦‚æœè¦ä½¿ç”¨GPUåˆ™éœ€è¦æŒ‡å®šè®¡ç®—æœºæ›´æ¢è¿ç®—ä½ç½® ã€‚</p>
</li>
<li><p>åœ¨PyTorchä¸­ï¼ŒCPUå’ŒGPUå¯ä»¥ç”¨<code>torch.device(&#39;cpu&#39;)</code> å’Œ<code>torch.device(&#39;cuda&#39;)</code>è¡¨ç¤ºã€‚</p>
</li>
<li><p><code>cpu</code>è®¾å¤‡æ„å‘³ç€æ‰€æœ‰ç‰©ç†CPUå’Œå†…å­˜ï¼Œ è¿™æ„å‘³ç€PyTorchçš„è®¡ç®—å°†å°è¯•ä½¿ç”¨æ‰€æœ‰CPUæ ¸å¿ƒã€‚ ç„¶è€Œï¼Œ<code>gpu</code>è®¾å¤‡åªä»£è¡¨ä¸€ä¸ªå¡å’Œç›¸åº”çš„æ˜¾å­˜ã€‚ </p>
</li>
<li><p>å¦‚æœæœ‰å¤šä¸ªGPUï¼Œæˆ‘ä»¬ä½¿ç”¨<code>torch.device(f&#39;cuda:&#123;i&#125;&#39;)</code> æ¥è¡¨ç¤ºç¬¬<em>i</em>å—GPUï¼ˆ<em>i</em>ä»0å¼€å§‹ï¼‰ã€‚ å¦å¤–ï¼Œ<code>cuda:0</code>å’Œ<code>cuda</code>æ˜¯ç­‰ä»·çš„ã€‚</p>
</li>
<li><p>```python<br>import torch<br>from torch import nn</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- ```python</span><br><span class="line">  &quot;&quot;&quot;æŒ‡å®šcpu, gpuè®¾å¤‡&quot;&quot;&quot;</span><br><span class="line">  torch.device(&#x27;cpu&#x27;), torch.device(&#x27;cuda&#x27;), torch.device(&#x27;cuda:1&#x27;)</span><br><span class="line">  # cpu, gpu0, gpu1</span><br><span class="line">  </span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  è¾“å‡º:</span><br><span class="line">  (device(type=&#x27;cpu&#x27;), device(type=&#x27;cuda&#x27;), device(type=&#x27;cuda&#x27;, index=1))</span><br><span class="line">  &quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>```python<br>â€œâ€â€æŸ¥è¯¢å¯ç”¨gpuæ•°é‡â€â€â€<br>torch.cuda.device_count()</p>
<p>â€œâ€â€<br>è¾“å‡º:<br>2<br>â€œâ€â€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- ```python</span><br><span class="line">  &quot;&quot;&quot;å®šä¹‰äº†ä¸¤ä¸ªæ–¹ä¾¿çš„å‡½æ•°ï¼Œ è¿™ä¸¤ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬åœ¨ä¸å­˜åœ¨æ‰€éœ€æ‰€æœ‰GPUçš„æƒ…å†µä¸‹è¿è¡Œä»£ç &quot;&quot;&quot;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &quot;&quot;&quot;å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›gpu(i)ï¼Œå¦åˆ™è¿”å›cpu()&quot;&quot;&quot;</span><br><span class="line">  def try_gpu(i=0):</span><br><span class="line">  # ä¸è¾“å…¥å‚æ•°åˆ™é»˜è®¤i = 0 </span><br><span class="line">      if torch.cuda.device_count() &gt;= i + 1:</span><br><span class="line">          return torch.device(f&#x27;cuda:&#123;i&#125;&#x27;)</span><br><span class="line">       # å¦‚æœå½“å‰å¯ç”¨gpuçš„æ€»æ•°å¤§äºç­‰äºi+1ï¼Œåˆ™è¿”å›ç¬¬iä¸ªgpuï¼ˆä»0è®¡æ•°ï¼‰    </span><br><span class="line">      return torch.device(&#x27;cpu&#x27;)</span><br><span class="line">    # å¦åˆ™è¯æ˜å½“å‰æ²¡æœ‰æ›´å¤šå¯ç”¨gpuï¼Œåˆ™è¿”å›cpu</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &quot;&quot;&quot;è¿”å›æ‰€æœ‰å¯ç”¨çš„GPUï¼Œå¦‚æœæ²¡æœ‰GPUï¼Œåˆ™è¿”å›[cpu(),]&quot;&quot;&quot;</span><br><span class="line">  def try_all_gpus():</span><br><span class="line">      devices = [torch.device(f&#x27;cuda:&#123;i&#125;&#x27;)</span><br><span class="line">               for i in range(torch.cuda.device_count())]</span><br><span class="line">      # æ‰€æœ‰å¯ç”¨gpuè®¾å¤‡åºå·ç»„æˆçš„åˆ—è¡¨devices</span><br><span class="line">      </span><br><span class="line">      return devices if devices else [torch.device(&#x27;cpu&#x27;)]</span><br><span class="line">    # å¦‚æœåˆ—è¡¨devicesä¸ä¸ºç©ºåˆ™è¯æ˜æ­¤æ—¶æœ‰å¯ç”¨çš„gpuï¼Œåˆ™è¿”å›å¯ç”¨gpuåºå·åˆ—è¡¨ï¼›å¦åˆ™è¯æ˜æ²¡æœ‰å¯ç”¨gpuï¼Œåˆ™è¿”å›cpu</span><br><span class="line">  </span><br><span class="line">  try_gpu(), try_gpu(10), try_all_gpus()</span><br><span class="line">  # æµ‹è¯•å‡½æ•°åŠŸèƒ½</span><br><span class="line">  # try_gpu():æ£€æµ‹æ˜¯å¦æœ‰ç¬¬i=0å·gpu</span><br><span class="line">  # try_gpu(10):æ£€æµ‹æ˜¯å¦æœ‰ç¬¬i=10å·gpu</span><br><span class="line">  # try_all_gpus():è¿”å›æ‰€æœ‰å¯ç”¨gpuåºå·åˆ—è¡¨ï¼Œå¦‚æœæ²¡æœ‰gpuåˆ™è¿”å›cpu</span><br><span class="line">  </span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  è¾“å‡ºï¼š</span><br><span class="line">  (device(type=&#x27;cuda&#x27;, index=0),</span><br><span class="line">   device(type=&#x27;cpu&#x27;),</span><br><span class="line">   [device(type=&#x27;cuda&#x27;, index=0), device(type=&#x27;cuda&#x27;, index=1)])</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  </span><br><span class="line">  # device(type=&#x27;cuda&#x27;, index=0): æœ‰ç¬¬0å·gpu</span><br><span class="line">  # device(type=&#x27;cpu&#x27;): æ²¡æœ‰ç¬¬10å·gpu</span><br><span class="line">  # [device(type=&#x27;cuda&#x27;, index=0), device(type=&#x27;cuda&#x27;, index=1)]: å…±æœ‰åºå·ä¸º0ã€1çš„ä¸¤ä¸ªgpu</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¼ é‡ä¸GPU</p>
<ul>
<li><p>```python<br>â€œâ€â€æˆ‘ä»¬å¯ä»¥æŸ¥è¯¢å¼ é‡æ‰€åœ¨çš„è®¾å¤‡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„ã€‚â€â€â€<br>x = torch.tensor([1, 2, 3])<br>x.device</p>
<p>â€œâ€â€<br>device(type=â€™cpuâ€™)<br>â€œâ€â€</p>
<h1 id="é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„"><a href="#é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„" class="headerlink" title="é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„"></a>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨CPUä¸Šåˆ›å»ºçš„</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- æ³¨æ„ï¼šæ— è®ºä½•æ—¶æˆ‘ä»¬è¦å¯¹å¤šä¸ªé¡¹è¿›è¡Œæ“ä½œï¼Œ å®ƒä»¬éƒ½å¿…é¡»åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ä¸¤ä¸ªå¼ é‡æ±‚å’Œï¼Œ æˆ‘ä»¬éœ€è¦ç¡®ä¿ä¸¤ä¸ªå¼ é‡éƒ½ä½äºåŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œ å¦åˆ™æ¡†æ¶å°†ä¸çŸ¥é“åœ¨å“ªé‡Œå­˜å‚¨ç»“æœï¼Œç”šè‡³ä¸çŸ¥é“åœ¨å“ªé‡Œæ‰§è¡Œè®¡ç®—ã€‚</span><br><span class="line"></span><br><span class="line">- å­˜å‚¨åœ¨GPUä¸Šï¼š</span><br><span class="line"></span><br><span class="line">  ```python</span><br><span class="line">  &quot;&quot;&quot;æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªgpuä¸Šåˆ›å»ºå¼ é‡å˜é‡X&quot;&quot;&quot; </span><br><span class="line">  X = torch.ones(2, 3, device=try_gpu())</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  tensor([[1., 1., 1.],</span><br><span class="line">          [1., 1., 1.]], device=&#x27;cuda:0&#x27;)</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  </span><br><span class="line">  &quot;&quot;&quot;å‡è®¾ä½ è‡³å°‘æœ‰ä¸¤ä¸ªGPUï¼Œä¸‹é¢çš„ä»£ç å°†åœ¨ç¬¬äºŒä¸ªGPUä¸Šåˆ›å»ºä¸€ä¸ªéšæœºå¼ é‡&quot;&quot;&quot;</span><br><span class="line">  Y = torch.rand(2, 3, device=try_gpu(1))</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  tensor([[0.3432, 0.4088, 0.7725],</span><br><span class="line">          [0.0571, 0.3341, 0.2544]], device=&#x27;cuda:1&#x27;)</span><br><span class="line">  &quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¤åˆ¶ï¼šå¦‚æœæˆ‘ä»¬è¦è®¡ç®—<code>X + Y</code>ï¼Œæˆ‘ä»¬éœ€è¦å†³å®šåœ¨å“ªé‡Œæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚ ä¾‹å¦‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ æˆ‘ä»¬å¯ä»¥å°†<code>X</code>ä¼ è¾“åˆ°ç¬¬äºŒä¸ªGPUå¹¶åœ¨é‚£é‡Œæ‰§è¡Œæ“ä½œã€‚ <em>ä¸è¦</em>ç®€å•åœ°<code>X</code>åŠ ä¸Š<code>Y</code>ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´å¼‚å¸¸ï¼Œ è¿è¡Œæ—¶å¼•æ“ä¸çŸ¥é“è¯¥æ€ä¹ˆåšï¼šå®ƒåœ¨åŒä¸€è®¾å¤‡ä¸Šæ‰¾ä¸åˆ°æ•°æ®ä¼šå¯¼è‡´å¤±è´¥ã€‚ ç”±äº<code>Y</code>ä½äºç¬¬äºŒä¸ªGPUä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†<code>X</code>ç§»åˆ°é‚£é‡Œï¼Œ ç„¶åæ‰èƒ½æ‰§è¡Œç›¸åŠ è¿ç®—ã€‚</p>
<img src="/2024/04/23/11-01-17/17-01.png" class>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>```python<br>â€œâ€â€å°†gpu(0)ä¸­çš„Xå¤åˆ¶åˆ°gpu(1)ä¸­çš„Zâ€â€â€<br>Z = X.cuda(1)<br>print(X)<br>print(Z)</p>
<p>â€œâ€â€<br>tensor([[1., 1., 1.],</p>
<pre><code>    [1., 1., 1.]], device=&#39;cuda:0&#39;)
</code></pre><p>tensor([[1., 1., 1.],</p>
<pre><code>    [1., 1., 1.]], device=&#39;cuda:1&#39;)
</code></pre><p>â€œâ€â€</p>
</li>
</ul>
<pre><code>&quot;&quot;&quot;ç°åœ¨æ•°æ®åœ¨åŒä¸€ä¸ªGPUä¸Šï¼ˆZå’ŒYéƒ½åœ¨ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ç›¸åŠ ã€‚&quot;&quot;&quot;
Y + Z

&quot;&quot;&quot;
tensor([[1.3432, 1.4088, 1.7725],
        [1.0571, 1.3341, 1.2544]], device=&#39;cuda:1&#39;)
&quot;&quot;&quot;


&quot;&quot;&quot;å¦‚æœå˜é‡Zå·²ç»å­˜åœ¨äºç¬¬iä¸ªGPUä¸Šï¼Œå†è°ƒç”¨Z.cuda(i)åªä¼šè¿”å›Zå¹¶ä¸ä¼šå¤åˆ¶å¹¶åˆ†é…æ–°å†…å­˜&quot;&quot;&quot;
Z.cuda(1) is Z

&quot;&quot;&quot;
True
&quot;&quot;&quot;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  - æ—æ³¨ï¼šäººä»¬ä½¿ç”¨GPUæ¥è¿›è¡Œæœºå™¨å­¦ä¹ ï¼Œå› ä¸ºå•ä¸ªGPUç›¸å¯¹è¿è¡Œé€Ÿåº¦å¿«ã€‚ ä½†æ˜¯åœ¨è®¾å¤‡ï¼ˆCPUã€GPUå’Œå…¶ä»–æœºå™¨ï¼‰ä¹‹é—´ä¼ è¾“æ•°æ®æ¯”è®¡ç®—æ…¢å¾—å¤šã€‚ è¿™ä¹Ÿä½¿å¾—å¹¶è¡ŒåŒ–å˜å¾—æ›´åŠ å›°éš¾ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»ç­‰å¾…æ•°æ®è¢«å‘é€ï¼ˆæˆ–è€…æ¥æ”¶ï¼‰ï¼Œ ç„¶åæ‰èƒ½ç»§ç»­è¿›è¡Œæ›´å¤šçš„æ“ä½œã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‹·è´æ“ä½œè¦æ ¼å¤–å°å¿ƒã€‚æ ¹æ®ç»éªŒï¼Œå¤šä¸ªå°æ“ä½œæ¯”ä¸€ä¸ªå¤§æ“ä½œç³Ÿç³•å¾—å¤šã€‚ æ­¤å¤–ï¼Œä¸€æ¬¡æ‰§è¡Œå‡ ä¸ªæ“ä½œæ¯”ä»£ç ä¸­æ•£å¸ƒçš„è®¸å¤šå•ä¸ªæ“ä½œè¦å¥½å¾—å¤šï¼ˆé™¤éä½ ç¡®ä¿¡è‡ªå·±åœ¨åšä»€ä¹ˆï¼‰ã€‚ å¦‚æœä¸€ä¸ªè®¾å¤‡å¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªè®¾å¤‡æ‰èƒ½æ‰§è¡Œå…¶ä»–æ“ä½œï¼Œ é‚£ä¹ˆè¿™æ ·çš„æ“ä½œå¯èƒ½ä¼šé˜»å¡ã€‚ è¿™æœ‰ç‚¹åƒæ’é˜Ÿè®¢è´­å’–å•¡ï¼Œè€Œä¸åƒé€šè¿‡ç”µè¯é¢„å…ˆè®¢è´­ï¼š å½“ä½ åˆ°åº—çš„æ—¶å€™ï¼Œå’–å•¡å·²ç»å‡†å¤‡å¥½äº†ã€‚å½“æˆ‘ä»¬æ‰“å°å¼ é‡æˆ–å°†å¼ é‡è½¬æ¢ä¸ºNumPyæ ¼å¼æ—¶ï¼Œ å¦‚æœæ•°æ®ä¸åœ¨å†…å­˜ä¸­ï¼Œæ¡†æ¶ä¼šé¦–å…ˆå°†å…¶å¤åˆ¶åˆ°å†…å­˜ä¸­ï¼Œ è¿™ä¼šå¯¼è‡´é¢å¤–çš„ä¼ è¾“å¼€é”€ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå®ƒç°åœ¨å—åˆ¶äºå…¨å±€è§£é‡Šå™¨é”ï¼Œä½¿å¾—ä¸€åˆ‡éƒ½å¾—ç­‰å¾…Pythonå®Œæˆã€‚        </span><br><span class="line"></span><br><span class="line">- ç¥ç»ç½‘ç»œä¸GPU</span><br><span class="line"></span><br><span class="line">  - ç±»ä¼¼åœ°ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹å¯ä»¥æŒ‡å®šè®¾å¤‡ã€‚ ä¸‹é¢çš„ä»£ç å°†æ¨¡å‹å‚æ•°æ”¾åœ¨GPUä¸Šã€‚</span><br><span class="line"></span><br><span class="line">    ```python</span><br><span class="line">    net = nn.Sequential(nn.Linear(3, 1))</span><br><span class="line">    net = net.to(device=try_gpu())</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>å½“è¾“å…¥ä¸ºGPUä¸Šçš„å¼ é‡æ—¶ï¼Œæ¨¡å‹å°†åœ¨åŒä¸€GPUä¸Šè®¡ç®—ç»“æœã€‚æ€»ä¹‹ï¼Œåªè¦æ‰€æœ‰çš„æ•°æ®å’Œå‚æ•°éƒ½åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œ æˆ‘ä»¬å°±å¯ä»¥æœ‰æ•ˆåœ°å­¦ä¹ æ¨¡å‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">net(X)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[0.5037],</span></span><br><span class="line"><span class="string">        [0.5037]], device=&#x27;cuda:0&#x27;, grad_fn=&lt;AddmmBackward&gt;)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">net[<span class="number">0</span>].weight.data.device</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">device(type=&#x27;cuda&#x27;, index=0)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="è´­ä¹°GPU"><a href="#è´­ä¹°GPU" class="headerlink" title="è´­ä¹°GPU"></a>è´­ä¹°GPU</h3><p>ç›®å‰ï¼ŒAMDå’ŒNVIDIAæ˜¯ä¸“ç”¨GPUçš„ä¸¤å¤§ä¸»è¦åˆ¶é€ å•†ã€‚NVIDIAæ˜¯ç¬¬ä¸€ä¸ªè¿›å…¥æ·±åº¦å­¦ä¹ é¢†åŸŸçš„å…¬å¸ï¼Œé€šè¿‡CUDAä¸ºæ·±åº¦å­¦ä¹ æ¡†æ¶æä¾›æ›´å¥½çš„æ”¯æŒã€‚å› æ­¤ï¼Œå¤§å¤šæ•°ä¹°å®¶é€‰æ‹©NVIDIA GPUã€‚</p>
<p>NVIDIAæä¾›ä¸¤ç§ç±»å‹çš„GPUï¼Œé’ˆå¯¹ä¸ªäººç”¨æˆ·ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡GTXå’ŒRTXç³»åˆ—ï¼‰å’Œä¼ä¸šç”¨æˆ·ï¼ˆé€šè¿‡å…¶Teslaç³»åˆ—ï¼‰ã€‚è¿™ä¸¤ç§ç±»å‹çš„GPUæä¾›äº†ç›¸å½“çš„è®¡ç®—èƒ½åŠ›ã€‚ä½†æ˜¯ï¼Œä¼ä¸šç”¨æˆ·GPUé€šå¸¸ä½¿ç”¨å¼ºåˆ¶ï¼ˆè¢«åŠ¨ï¼‰å†·å´ã€æ›´å¤šå†…å­˜å’ŒECCï¼ˆçº é”™ï¼‰å†…å­˜ã€‚è¿™äº›GPUæ›´é€‚ç”¨äºæ•°æ®ä¸­å¿ƒï¼Œé€šå¸¸æˆæœ¬æ˜¯æ¶ˆè´¹è€…GPUçš„åå€ã€‚</p>
<p>å¦‚æœä½ æ˜¯ä¸€ä¸ªæ‹¥æœ‰100ä¸ªæœåŠ¡å™¨çš„å¤§å…¬å¸ï¼Œä½ åº”è¯¥è€ƒè™‘è‹±ä¼Ÿè¾¾Teslaç³»åˆ—ï¼Œæˆ–è€…åœ¨äº‘ä¸­ä½¿ç”¨GPUæœåŠ¡å™¨ã€‚å¯¹äºå®éªŒå®¤æˆ–10+æœåŠ¡å™¨çš„ä¸­å°å‹å…¬å¸ï¼Œè‹±ä¼Ÿè¾¾RTXç³»åˆ—å¯èƒ½æ˜¯æœ€å…·æˆæœ¬æ•ˆç›Šçš„ã€‚ä½ å¯ä»¥è´­ä¹°è¶…å¾®æˆ–åç¡•æœºç®±çš„é¢„é…ç½®æœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡å™¨å¯ä»¥æœ‰æ•ˆåœ°å®¹çº³4-8ä¸ªGPUã€‚</p>
<p>GPUä¾›åº”å•†é€šå¸¸æ¯ä¸€åˆ°ä¸¤å¹´å‘å¸ƒä¸€ä»£ï¼Œä¾‹å¦‚2017å¹´å‘å¸ƒçš„GTX 1000ï¼ˆPascalï¼‰ç³»åˆ—å’Œ2019å¹´å‘å¸ƒçš„RTX 2000ï¼ˆTuringï¼‰ç³»åˆ—ã€‚æ¯ä¸ªç³»åˆ—éƒ½æä¾›å‡ ç§ä¸åŒçš„å‹å·ï¼Œæä¾›ä¸åŒçš„æ€§èƒ½çº§åˆ«ã€‚GPUæ€§èƒ½ä¸»è¦æ˜¯ä»¥ä¸‹ä¸‰ä¸ªå‚æ•°çš„ç»„åˆï¼š</p>
<ol>
<li><strong>è®¡ç®—èƒ½åŠ›</strong>ã€‚é€šå¸¸æˆ‘ä»¬è¿½æ±‚32ä½æµ®ç‚¹è®¡ç®—èƒ½åŠ›ã€‚16ä½æµ®ç‚¹è®­ç»ƒï¼ˆFP16ï¼‰ä¹Ÿè¿›å…¥ä¸»æµã€‚å¦‚æœä½ åªå¯¹é¢„æµ‹æ„Ÿå…´è¶£ï¼Œè¿˜å¯ä»¥ä½¿ç”¨8ä½æ•´æ•°ã€‚æœ€æ–°ä¸€ä»£å›¾çµGPUæä¾›4-bitåŠ é€Ÿã€‚ä¸å¹¸çš„æ˜¯ï¼Œç›®å‰è®­ç»ƒä½ç²¾åº¦ç½‘ç»œçš„ç®—æ³•è¿˜æ²¡æœ‰æ™®åŠã€‚</li>
<li><strong>å†…å­˜å¤§å°</strong>ã€‚éšç€ä½ çš„æ¨¡å‹å˜å¤§æˆ–è®­ç»ƒæœŸé—´ä½¿ç”¨çš„æ‰¹é‡å˜å¤§ï¼Œä½ å°†éœ€è¦æ›´å¤šçš„GPUå†…å­˜ã€‚æ£€æŸ¥HBM2ï¼ˆé«˜å¸¦å®½å†…å­˜ï¼‰ä¸GDDR6ï¼ˆå›¾å½¢DDRï¼‰å†…å­˜ã€‚HBM2é€Ÿåº¦æ›´å¿«ï¼Œä½†æˆæœ¬æ›´é«˜ã€‚</li>
<li><strong>å†…å­˜å¸¦å®½</strong>ã€‚åªæœ‰å½“ä½ æœ‰è¶³å¤Ÿçš„å†…å­˜å¸¦å®½æ—¶ï¼Œä½ æ‰èƒ½æœ€å¤§é™åº¦åœ°åˆ©ç”¨ä½ çš„è®¡ç®—èƒ½åŠ›ã€‚å¦‚æœä½¿ç”¨GDDR6ï¼Œè¯·è¿½æ±‚å®½å†…å­˜æ€»çº¿ã€‚</li>
</ol>
<p>å¯¹äºå¤§å¤šæ•°ç”¨æˆ·æ¥è¯´ï¼Œåªéœ€çœ‹çœ‹è®¡ç®—èƒ½åŠ›å°±è¶³å¤Ÿäº†ã€‚è¯·æ³¨æ„ï¼Œè®¸å¤šGPUæä¾›ä¸åŒç±»å‹çš„åŠ é€Ÿã€‚ä¾‹å¦‚ï¼ŒNVIDIAçš„Tensor Coreså°†æ“ä½œç¬¦å­é›†çš„é€Ÿåº¦æé«˜äº†5Ã—</p>
<p>ã€‚ç¡®ä¿ä½ çš„åº“æ”¯æŒè¿™ä¸€ç‚¹ã€‚GPUå†…å­˜åº”ä¸å°äº4GBï¼ˆ8GBæ›´å¥½ï¼‰ã€‚å°½é‡é¿å…å°†GPUä¹Ÿç”¨äºæ˜¾ç¤ºGUIï¼ˆæ”¹ç”¨å†…ç½®æ˜¾å¡ï¼‰ã€‚å¦‚æœæ— æ³•é¿å…ï¼Œè¯·æ·»åŠ é¢å¤–çš„2GB RAMä»¥ç¡®ä¿å®‰å…¨ã€‚</p>
<p>ä¸‹å›¾æ¯”è¾ƒäº†å„ç§GTX 900ã€GTX 1000å’ŒRTX 2000ç³»åˆ—çš„ï¼ˆGFlopsï¼‰å’Œä»·æ ¼ï¼ˆPriceï¼‰ã€‚ä»·æ ¼æ˜¯ç»´åŸºç™¾ç§‘ä¸Šçš„å»ºè®®ä»·æ ¼ã€‚</p>
<img src="/2024/04/23/11-01-17/17-02.png" class>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¾ˆå¤šäº‹æƒ…ï¼š</p>
<ol>
<li>åœ¨æ¯ä¸ªç³»åˆ—ä¸­ï¼Œä»·æ ¼å’Œæ€§èƒ½å¤§è‡´æˆæ¯”ä¾‹ã€‚Titanå› æ‹¥æœ‰å¤§GPUå†…å­˜è€Œæœ‰ç›¸å½“çš„æº¢ä»·ã€‚ç„¶è€Œï¼Œé€šè¿‡æ¯”è¾ƒ980 Tiå’Œ1080 Tiå¯ä»¥çœ‹å‡ºï¼Œè¾ƒæ–°å‹å·å…·æœ‰æ›´å¥½çš„æˆæœ¬æ•ˆç›Šã€‚RTX 2000ç³»åˆ—çš„ä»·æ ¼ä¼¼ä¹æ²¡æœ‰å¤šå¤§æé«˜ã€‚ç„¶è€Œï¼Œå®ƒä»¬æä¾›äº†æ›´ä¼˜ç§€çš„ä½ç²¾åº¦æ€§èƒ½ï¼ˆFP16ã€INT8å’ŒINT4ï¼‰ã€‚</li>
<li>GTX 1000ç³»åˆ—çš„æ€§ä»·æ¯”å¤§çº¦æ˜¯900ç³»åˆ—çš„ä¸¤å€ã€‚</li>
<li>å¯¹äºRTX 2000ç³»åˆ—ï¼Œæµ®ç‚¹è®¡ç®—èƒ½åŠ›æ˜¯ä»·æ ¼çš„â€œä»¿å°„â€å‡½æ•°ã€‚</li>
</ol>
<img src="/2024/04/23/11-01-17/17-03.png" class>
<p>ä¸Šå›¾æ˜¾ç¤ºäº†èƒ½è€—ä¸è®¡ç®—é‡åŸºæœ¬æˆçº¿æ€§å…³ç³»ã€‚å…¶æ¬¡ï¼Œåä¸€ä»£æ›´æœ‰æ•ˆç‡ã€‚è¿™ä¼¼ä¹ä¸å¯¹åº”äºRTX 2000ç³»åˆ—çš„å›¾è¡¨ç›¸çŸ›ç›¾ã€‚ç„¶è€Œï¼Œè¿™æ˜¯TensorCoreä¸æˆæ¯”ä¾‹çš„å¤§èƒ½è€—çš„ç»“æœã€‚</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>16-Pytorchç¥ç»ç½‘ç»œåŸºç¡€</title>
    <url>/2024/04/23/11-01-16/</url>
    <content><![CDATA[<h2 id="Pytorchç¥ç»ç½‘ç»œåŸºç¡€"><a href="#Pytorchç¥ç»ç½‘ç»œåŸºç¡€" class="headerlink" title="Pytorchç¥ç»ç½‘ç»œåŸºç¡€"></a>Pytorchç¥ç»ç½‘ç»œåŸºç¡€</h2><h3 id="å±‚å’Œå—"><a href="#å±‚å’Œå—" class="headerlink" title="å±‚å’Œå—"></a>å±‚å’Œå—</h3><p>åœ¨ä¹‹å‰çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬è®¤è¯†äº†ä¸€äº›ç¥ç»ç½‘ç»œï¼Œæ¯”å¦‚ï¼šçº¿æ€§å›å½’ï¼ŒSoftmaxå›å½’ï¼Œå¤šå±‚æ„ŸçŸ¥æœºï¼›ä»–ä»¬æœ‰çš„æ˜¯æ•´ä¸ªæ¨¡å‹ï¼Œæœ‰çš„æ˜¯ä¸€å±‚ç¥ç»ç½‘ç»œï¼Œæœ‰çš„ç”šè‡³åªæ˜¯ä¸€ä¸ªå•å…ƒï¼Œä»–ä»¬çš„åŠŸèƒ½ä»¥åŠå¤æ‚ç¨‹åº¦ä¹Ÿå„ä¸ç›¸åŒï¼Œä½†ä»–ä»¬éƒ½æœ‰ç€å¦‚ä¸‹ä¸‰ä¸ªç‰¹å¾ï¼š</p>
<ul>
<li>æ¥å—ä¸€äº›è¾“å…¥</li>
<li>äº§ç”Ÿå¯¹åº”çš„è¾“å‡º</li>
<li>ç”±ä¸€ç»„å¯è°ƒæ•´å‚æ•°æè¿°</li>
</ul>
<p>å¯¹äºä¸€äº›å¤æ‚çš„ç½‘ç»œï¼Œç ”ç©¶è®¨è®ºæ¯”å±‚å¤§ä½†æ¯”æ•´ä¸ªæ¨¡å‹å°çš„éƒ¨åˆ†å¾ˆæœ‰æ„ä¹‰ï¼Œå› ä¸ºå¤æ‚çš„ç½‘ç»œä¸­ç»å¸¸æœ‰é‡å¤å‡ºç°çš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹Ÿå¸¸å¸¸æœ‰è‡ªå·±çš„åŠŸèƒ½ã€‚è€ƒè™‘åˆ°ä¸Šé¢çš„ä¸‰ä¸ªç‰¹å¾ï¼Œè¿™å°±ä½¿å¾—æˆ‘ä»¬æ€è€ƒæ˜¯å¦å¯ä»¥å¯¹è¿™äº›éƒ¨åˆ†è¿›è¡Œä¸€ä¸ªæŠ½è±¡ï¼Œè¿™å°±å¾—åˆ°äº†å—çš„æ¦‚å¿µï¼šå—æŒ‡å•ä¸ªå±‚ï¼Œå¤šä¸ªå±‚ç»„æˆçš„éƒ¨åˆ†ï¼Œæˆ–è€…æ•´ä¸ªæ¨¡å‹æœ¬èº«ã€‚ä½¿ç”¨å—å¯¹æ•´ä¸ªæ¨¡å‹è¿›è¡Œæè¿°å°±ç®€ä¾¿è®¸å¤šï¼Œè¿™ä¸€è¿‡ç¨‹æ˜¯é€’å½’çš„ï¼Œå—çš„å†…éƒ¨è¿˜å¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ªå—ï¼Œç›´è‡³æ»¡è¶³éœ€è¦ä¸ºæ­¢ã€‚</p>
<p>PyTorchå¸®æˆ‘ä»¬å®ç°äº†å—çš„å¤§éƒ¨åˆ†æ‰€éœ€åŠŸèƒ½ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ±‚å¯¼ï¼Œæˆ‘ä»¬åªéœ€ä»nn.Moduleç»§æ‰¿å¹¶æ”¹å†™å…¶ä¸­çš„ä¸€éƒ¨åˆ†å°±èƒ½å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„å—ä»¥åŠæ¨¡å‹ï¼Œå…·ä½“åšæ³•å’Œç»†èŠ‚è§ä»£ç ä¸­çš„æ³¨é‡Š</p>
<h3 id="å‚æ•°ç®¡ç†"><a href="#å‚æ•°ç®¡ç†" class="headerlink" title="å‚æ•°ç®¡ç†"></a>å‚æ•°ç®¡ç†</h3><p>åœ¨é€‰æ‹©äº†æ¶æ„å¹¶è®¾ç½®äº†è¶…å‚æ•°åï¼Œæˆ‘ä»¬å°±è¿›å…¥äº†è®­ç»ƒé˜¶æ®µã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä½¿æŸå¤±å‡½æ•°æœ€å°åŒ–çš„æ¨¡å‹å‚æ•°å€¼ã€‚ç»è¿‡è®­ç»ƒåï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨è¿™äº›å‚æ•°æ¥åšå‡ºæœªæ¥çš„é¢„æµ‹ã€‚æ­¤å¤–ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æå–å‚æ•°ï¼Œä»¥ä¾¿åœ¨å…¶ä»–ç¯å¢ƒä¸­å¤ç”¨å®ƒä»¬ï¼Œå°†æ¨¡å‹ä¿å­˜ä¸‹æ¥ï¼Œä»¥ä¾¿å®ƒå¯ä»¥åœ¨å…¶ä»–è½¯ä»¶ä¸­æ‰§è¡Œï¼Œæˆ–è€…ä¸ºäº†è·å¾—ç§‘å­¦çš„ç†è§£è€Œè¿›è¡Œæ£€æŸ¥ã€‚</p>
<p>æ­¤éƒ¨åˆ†ä¸»è¦ä¸ºä»£ç å®ç°ï¼Œç¬”è®°è§ä»£ç ä¸­çš„æ³¨é‡Š</p>
<h3 id="å»¶ååˆå§‹åŒ–"><a href="#å»¶ååˆå§‹åŒ–" class="headerlink" title="å»¶ååˆå§‹åŒ–"></a>å»¶ååˆå§‹åŒ–</h3><p>æœ‰æ—¶åœ¨å»ºç«‹ç½‘ç»œæ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæŒ‡å®šç½‘ç»œçš„è¾“å…¥è¾“å‡ºç»´åº¦ï¼Œä¹Ÿå°±ä¸èƒ½ç¡®å®šç½‘ç»œçš„å‚æ•°å½¢çŠ¶ï¼Œæ·±åº¦å­¦ä¹ æ¡†æ¶æ”¯æŒå»¶ååˆå§‹åŒ–ï¼Œå³å½“ç¬¬ä¸€æ¬¡å°†æ•°æ®ä¼ å…¥æ¨¡å‹æ—¶è‡ªåŠ¨çš„å¾—åˆ°æ‰€æœ‰çš„ç»´åº¦ï¼Œç„¶ååˆå§‹åŒ–æ‰€æœ‰çš„å‚æ•°ã€‚</p>
<p>PyTorchä¹Ÿæ”¯æŒè¿™ä¸€ç‚¹ï¼Œæ¯”å¦‚nn.LazyLinearï¼Œä½†æœ¬é—¨è¯¾ç¨‹ä¸­å¹¶æœªä»‹ç»ã€‚</p>
<h3 id="è‡ªå®šä¹‰å±‚"><a href="#è‡ªå®šä¹‰å±‚" class="headerlink" title="è‡ªå®šä¹‰å±‚"></a>è‡ªå®šä¹‰å±‚</h3><p>æ·±åº¦å­¦ä¹ æˆåŠŸèƒŒåçš„ä¸€ä¸ªå› ç´ æ˜¯ç¥ç»ç½‘ç»œçš„çµæ´»æ€§ï¼šæˆ‘ä»¬å¯ä»¥ç”¨åˆ›é€ æ€§çš„æ–¹å¼ç»„åˆä¸åŒçš„å±‚ï¼Œä»è€Œè®¾è®¡å‡ºé€‚ç”¨äºå„ç§ä»»åŠ¡çš„æ¶æ„ã€‚ä¾‹å¦‚ï¼Œç ”ç©¶äººå‘˜å‘æ˜äº†ä¸“é—¨ç”¨äºå¤„ç†å›¾åƒã€æ–‡æœ¬ã€åºåˆ—æ•°æ®å’Œæ‰§è¡ŒåŠ¨æ€è§„åˆ’çš„å±‚ã€‚åŒæ ·çš„ï¼Œå¯¹äºå±‚è€Œè¨€ï¼Œæ·±åº¦å­¦ä¹ æ¡†æ¶å¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬æ‰€æœ‰çš„éœ€æ±‚ï¼Œç„¶è€Œï¼Œå±‚æœ¬èº«ä¹Ÿå…·æœ‰æå¤§çš„çµæ´»æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æƒ³è¦çš„å±‚ã€‚</p>
<p>æ­¤éƒ¨åˆ†ä¸»è¦ä¸ºä»£ç å®ç°ï¼Œç¬”è®°è§ä»£ç ä¸­çš„æ³¨é‡Š</p>
<h3 id="è¯»å†™æ–‡ä»¶"><a href="#è¯»å†™æ–‡ä»¶" class="headerlink" title="è¯»å†™æ–‡ä»¶"></a>è¯»å†™æ–‡ä»¶</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•å¤„ç†æ•°æ®ï¼Œä»¥åŠå¦‚ä½•æ„å»ºã€è®­ç»ƒå’Œæµ‹è¯•æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚ç„¶è€Œï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¿å­˜è®­ç»ƒçš„æ¨¡å‹ï¼Œä»¥å¤‡å°†æ¥åœ¨å„ç§ç¯å¢ƒä¸­ä½¿ç”¨ï¼ˆæ¯”å¦‚åœ¨éƒ¨ç½²ä¸­è¿›è¡Œé¢„æµ‹ï¼‰ã€‚æ­¤å¤–ï¼Œå½“è¿è¡Œä¸€ä¸ªè€—æ—¶è¾ƒé•¿çš„è®­ç»ƒè¿‡ç¨‹æ—¶ï¼Œæœ€ä½³çš„åšæ³•æ˜¯å®šæœŸä¿å­˜ä¸­é—´ç»“æœï¼Œä»¥ç¡®ä¿åœ¨æœåŠ¡å™¨ç”µæºè¢«ä¸å°å¿ƒæ–­æ‰æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæŸå¤±å‡ å¤©çš„è®¡ç®—ç»“æœã€‚</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>15-å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·</title>
    <url>/2024/04/23/11-01-15/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h3 id="è¯¾ç¨‹ç»ƒä¹ ï¼Œkaggleæ¯”èµ›"><a href="#è¯¾ç¨‹ç»ƒä¹ ï¼Œkaggleæ¯”èµ›" class="headerlink" title="è¯¾ç¨‹ç»ƒä¹ ï¼Œkaggleæ¯”èµ›"></a>è¯¾ç¨‹ç»ƒä¹ ï¼Œkaggleæ¯”èµ›</h3><ul>
<li><a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques">kaggle</a></li>
<li>æœ‰ä¸€ä»½è§£å†³æ–¹æ¡ˆå…¬å¸ƒåœ¨è®ºå›é‡Œ</li>
</ul>
<h3 id="å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·"><a href="#å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·" class="headerlink" title="å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·"></a>å®æˆ˜Kaggleæ¯”èµ›ï¼šé¢„æµ‹æˆ¿ä»·</h3><ul>
<li><p>å®é™…ä¸Šè¿™ä¸ªæ—¶é—´ç«èµ›å·²ç»ç»“æŸäº†ã€‚</p>
</li>
<li><p>è¿™èŠ‚ç›®çš„æ˜¯æä¾›å¤§å®¶ä¸€ä¸ªå®é™…æ“ä½œçš„æœºä¼šï¼Œä½¿ç”¨çš„å¤§å¤šæ˜¯å‰é¢å­¦åˆ°çš„çŸ¥è¯†ã€‚è¯¾ç¨‹æä¾›äº†ä»£ç æ ·æœ¬ï¼Œé…’ä½“å†…å®¹è¯¦è§å«æ³¨é‡Šçš„ä»£ç ä¸­ã€‚</p>
</li>
<li>ç®€å•ä»‹ç»ä¸€ä¸‹æ•°æ®é›†çš„å†…å®¹ï¼Œæ•°æ®é›†æ˜¯åŠ å·2020å¹´å‡ ä¹å…¨éƒ¨çš„æˆ¿å­äº¤æ˜“è®°å½•ï¼Œè¿™é‡Œé€‰æ‹©å‰åŠå¹´çš„æ•°æ®ä½œä¸ºè®­ç»ƒé›†ï¼ŒååŠå¹´ä½œä¸ºéªŒè¯é›†ï¼ŒåŒ…æ‹¬è®¸å¤šçš„ä¿¡æ¯ï¼Œå¦‚ï¼šIDï¼Œæ´—æ‰‹é—´ä¸ªæ•°ï¼Œå§å®¤ä¸ªæ•°ï¼Œæ”¿åºœé¢„æµ‹ä»·æ ¼ç­‰ç­‰å…±41ä¸ªç‰¹å¾ï¼Œè¿ç»“å¦‚ä¸‹ï¼š<a href="https://www.kaggle.com/c/california-house-prices/data?select=train.csv">https://www.kaggle.com/c/california-house-prices/data?select=train.csv</a> éœ€è¦å¤§å®¶è‡ªè¡Œä¸‹è½½æ•°æ®é›†ï¼ˆæ²¡æœ‰kaglleè´¦æˆ·çš„è¦æ³¨å†Œæ‰å¯ä»¥ä¸‹è½½ï¼‰</li>
<li>åœ¨çœŸå®æ•°æ®é›†ä¸Šï¼Œå·²ç»æä¾›çš„ç¨‹åºå¾—åˆ°çš„æ•ˆæœä¼šå¾ˆå·®ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨å„ç§æ–¹æ³•æ¥ä¼˜åŒ–ï¼Œä¾‹å¦‚dropoutï¼Œweught decayç­‰ï¼ŒæœŸå¾…å¤§å®¶å–å¾—å¥½æˆç»©ï¼</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>14-æ•°å€¼ç¨³å®šæ€§+æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°</title>
    <url>/2024/04/23/11-01-14/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="14-æ•°å€¼ç¨³å®šæ€§-æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°"><a href="#14-æ•°å€¼ç¨³å®šæ€§-æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°" class="headerlink" title="14-æ•°å€¼ç¨³å®šæ€§+æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°"></a>14-æ•°å€¼ç¨³å®šæ€§+æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°</h2><h3 id="1-æ•°å€¼ç¨³å®šæ€§"><a href="#1-æ•°å€¼ç¨³å®šæ€§" class="headerlink" title="1. æ•°å€¼ç¨³å®šæ€§"></a>1. æ•°å€¼ç¨³å®šæ€§</h3><p>æ•°å€¼ç¨³å®šæ€§æ˜¯æ·±åº¦å­¦ä¹ ä¸­æ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œç‰¹åˆ«æ˜¯å½“ç¥ç»ç½‘ç»œå˜å¾—å¾ˆæ·±çš„æ—¶å€™ï¼Œæ•°å€¼é€šå¸¸å¾ˆå®¹æ˜“å˜å¾—ä¸ç¨³å®šã€‚</p>
<h4 id="1-1-ç¥ç»ç½‘ç»œçš„æ¢¯åº¦"><a href="#1-1-ç¥ç»ç½‘ç»œçš„æ¢¯åº¦" class="headerlink" title="1.1 ç¥ç»ç½‘ç»œçš„æ¢¯åº¦"></a>1.1 ç¥ç»ç½‘ç»œçš„æ¢¯åº¦</h4><img src="/2024/04/23/11-01-14/14-01.png" class>
<p><strong>è€ƒè™‘då±‚ç¥ç»ç½‘ç»œ</strong></p>
<ul>
<li><p>tè¡¨ç¤ºå±‚æ•°ï¼Œ$h^{t-1}$è¡¨ç¤ºç¬¬<em>t-1</em>å±‚çš„è¾“å‡ºï¼Œç»è¿‡ä¸€ä¸ª$f_{t}$å‡½æ•°åï¼Œå¾—åˆ°ç¬¬<em>t</em>å±‚çš„è¾“å‡ºã€‚</p>
</li>
<li><p>æœ€ç»ˆè¾“å‡ºyçš„è¡¨ç¤ºï¼šè¾“å…¥xç»è¿‡è‹¥å¹²å±‚(<em>d</em>å±‚)çš„å‡½æ•°ä½œç”¨ï¼Œæœ€åè¢«æŸå¤±å‡½æ•°ä½œç”¨å¾—åˆ°è¾“å‡ºyã€‚</p>
</li>
</ul>
<p><strong>è®¡ç®—æŸå¤±å‡½æ•°<em>L</em>å…³äºç¬¬<em>t</em>å±‚å‚æ•°$W_{t}$çš„æ¢¯åº¦</strong></p>
<ul>
<li><p>ç”±é“¾å¯¼æ³•åˆ™å¾—åˆ°ä¸Šå›¾ä¸­ä¹˜ç§¯å…¬å¼</p>
</li>
<li><p>éœ€è¦è¿›è¡Œd-tæ¬¡<strong>çŸ©é˜µä¹˜æ³•</strong>ï¼ˆä¸ºä»€ä¹ˆæ˜¯çŸ©é˜µä¹˜æ³•ï¼Ÿç­”ï¼šç”±äºæ‰€æœ‰çš„<em>h</em>éƒ½æ˜¯ä¸€äº›<strong>å‘é‡</strong>ï¼Œå¯¼æ•°ä¸­åˆ†å­åˆ†æ¯å‡ä¸ºå‘é‡ï¼Œæ‰€ä»¥æ±‚å¯¼å¾—åˆ°çš„æ˜¯çŸ©é˜µï¼Œç»´æ•°ä¸º[åˆ†å­ç»´åº¦]x[åˆ†æ¯ç»´åº¦]ï¼Œå¯ä»¥å‚è€ƒç¬¬6èŠ‚<a href="https://www.bilibili.com/video/BV1eZ4y1w7PY">è§†é¢‘</a>å’Œ<a href="./06-çŸ©é˜µè®¡ç®—.md">ç¬”è®°</a>ï¼‰ã€‚è¿™ä¹Ÿæ˜¯å¯¼è‡´æ•°å€¼ç¨³å®šæ€§é—®é¢˜çš„<strong>ä¸»è¦å› ç´ </strong>ï¼Œç”±äºåšäº†å¤ªå¤šæ¬¡çš„çŸ©é˜µä¹˜æ³•ã€‚</p>
</li>
</ul>
<h4 id="1-2-æ•°å€¼ç¨³å®šæ€§çš„å¸¸è§ä¸¤ä¸ªé—®é¢˜"><a href="#1-2-æ•°å€¼ç¨³å®šæ€§çš„å¸¸è§ä¸¤ä¸ªé—®é¢˜" class="headerlink" title="1.2 æ•°å€¼ç¨³å®šæ€§çš„å¸¸è§ä¸¤ä¸ªé—®é¢˜"></a>1.2 æ•°å€¼ç¨³å®šæ€§çš„å¸¸è§ä¸¤ä¸ªé—®é¢˜</h4><p><strong>æ¢¯åº¦çˆ†ç‚¸</strong></p>
<p>å‡è®¾æ¢¯åº¦éƒ½æ˜¯ä¸€äº›æ¯”1å¤§çš„æ•°æ¯”å¦‚1.5ï¼Œåš100æ¬¡ä¹˜ç§¯ä¹‹åå¾—åˆ°$4\times 10^{17}$ï¼Œè¿™ä¸ªæ•°å­—å¾ˆå®¹æ˜“å¸¦æ¥ä¸€äº›æµ®ç‚¹æ•°ä¸Šé™çš„é—®é¢˜ï¼ˆéœ€äº†è§£æ›´å¤šè¯·å‚è€ƒè®¡ç®—æœºç³»ç»Ÿ-è®¡ç®—æœºä¸­æµ®ç‚¹æ•°çš„å­˜å‚¨æ–¹å¼ï¼‰ã€‚</p>
<p><strong>æ¢¯åº¦æ¶ˆå¤±</strong></p>
<p>å‡è®¾æ¢¯åº¦éƒ½æ˜¯ä¸€äº›æ¯”1å°çš„æ•°æ¯”å¦‚0.8ï¼Œåš100æ¬¡ä¹˜ç§¯ä¹‹åå¾—åˆ°$2\times10^{-10}$ï¼Œä¹Ÿå¯èƒ½ä¼šå¸¦æ¥æµ®ç‚¹æ•°ä¸‹æº¢çš„é—®é¢˜ã€‚</p>
<h4 id="1-3-ä¾‹å­ï¼šMLP"><a href="#1-3-ä¾‹å­ï¼šMLP" class="headerlink" title="1.3 ä¾‹å­ï¼šMLP"></a>1.3 ä¾‹å­ï¼šMLP</h4><p>æ­¤å¤„æˆ‘ä»¬ç€é‡æ¢è®¨<a href="#11-ç¥ç»ç½‘ç»œçš„æ¢¯åº¦">1.1èŠ‚</a>ä¸­æ‰€è¿°çš„æ±‚æ¢¯åº¦æ—¶æ‰€åšçš„d-tæ¬¡çŸ©é˜µä¹˜æ³•ï¼Œå¹¶ä»¥ä¸€ä¸ªå®ä¾‹MLPæ¥æ¢è®¨å…¶ç»“æœçš„å…·ä½“å½¢å¼ã€‚</p>
<img src="/2024/04/23/11-01-14/14-02.png" class>
<ul>
<li><p>ç¬¬ä¸€è¡Œå…¬å¼ï¼Œå®šä¹‰$h^{t}$å’Œ$h^{t-1}$(å‡ä¸ºå‘é‡)çš„å‡½æ•°å…³ç³»$f_{t}$ï¼Œç¬¬tå±‚çš„æƒé‡çŸ©é˜µä½œç”¨äºt-1å±‚çš„è¾“å‡º$h^{t-1}$åç»è¿‡æ¿€æ´»å‡½æ•°$\sigma$å¾—åˆ°$h^{t}$ï¼Œæ³¨æ„æ¿€æ´»å‡½æ•°$\sigma$é€å…ƒç´ è®¡ç®—ã€‚</p>
</li>
<li><p>ç¬¬äºŒè¡Œå…¬å¼ï¼šè¿™é‡Œç”¨åˆ°é“¾å¯¼æ³•åˆ™ï¼Œæ¿€æ´»å‡½æ•°$\sigma$å…ˆå¯¹å†…éƒ¨å‘é‡é€å…ƒç´ æ±‚å¯¼ï¼Œç„¶åæŠŠæ±‚å¯¼åè¿™ä¸ªå‘é‡å˜æˆå¯¹è§’çŸ©é˜µï¼ˆå¯ä»¥ç†è§£ä¸ºé“¾å¯¼æ³•åˆ™ä¸­å†…éƒ¨å‘é‡$W_{t}h_{t-1}$å¯¹è‡ªèº«è¿›è¡Œæ±‚å¯¼ï¼Œå˜æˆä¸€ä¸ªnxnçš„å¯¹è§’çŸ©é˜µï¼Œæ›´å¤šè¯·å‚è€ƒ<a href="https://nndl.github.io/nndl-book.pdf">é‚±é”¡é¹ ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹</a><sup><a href="#fn_ å›¾ç‰‡1" id="reffn_ å›¾ç‰‡1"> å›¾ç‰‡1</a></sup>ï¼‰</p>
</li>
</ul>
<img src="/2024/04/23/11-01-14/14-03.png" class>
<blockquote id="fn_å›¾ç‰‡1">
<sup>å›¾ç‰‡1</sup>. å¼•è‡ª<a href="https://nndl.github.io/nndl-book.pdf">é‚±é”¡é¹ ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹</a>é™„å½•ï¼šæ•°å­¦åŸºç¡€ <a href="#reffn_å›¾ç‰‡1" title="Jump back to footnote [å›¾ç‰‡1] in the text."> &#8617;</a>
</blockquote>
<ul>
<li>è§†é¢‘ä¸­<strong>å‹˜è¯¯è¯´æ˜</strong>ï¼šé“¾å¯¼æ³•åˆ™ä¸­$\frac{\partial W^{t}h^{t-1}}{\partial h^{t-1}}= W^{t}$è€Œä¸æ˜¯$\left (W^{t} \right )^{T}$ï¼ˆè¿™ç‚¹ç”±åˆ†å­åˆ†æ¯ç»´åº¦ä¹Ÿå®¹æ˜“æ¨å‡ºï¼‰ï¼Œæ•…æœ€ç»ˆæ±‚å¯¼ç»“æœåŒ…å«$W^{t}$ï¼Œè€Œä¸æ˜¯å…¶è½¬ç½®ã€‚</li>
</ul>
<h4 id="1-3-æ¢¯åº¦çˆ†ç‚¸"><a href="#1-3-æ¢¯åº¦çˆ†ç‚¸" class="headerlink" title="1.3 æ¢¯åº¦çˆ†ç‚¸"></a>1.3 æ¢¯åº¦çˆ†ç‚¸</h4><h5 id="1-3-1-ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°"><a href="#1-3-1-ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°" class="headerlink" title="1.3.1 ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°"></a>1.3.1 ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°</h5><img src="/2024/04/23/11-01-14/14-04.png" class>
<p>ç”±äºæ¿€æ´»å‡½æ•°Reluæ±‚å¯¼åæˆ–è€…æ˜¯1æˆ–è€…æ˜¯0ï¼Œå˜ä¸ºå¯¹è§’çŸ©é˜µçš„æ–œå¯¹è§’çº¿å…ƒç´ åï¼Œä¸$W^{i}$åšä¹˜ç§¯ï¼Œæ–œå¯¹è§’çº¿ä¸º1çš„éƒ¨åˆ†ä¼šä½¿å¾—Wä¸­å…ƒç´ ä¿ç•™ï¼Œæœ€ç»ˆè¯¥è¿ä¹˜å¼ä¸­æœ‰ä¸€äº›å…ƒç´ æ¥è‡ª$\prod\left ( W^{i} \right )$ ï¼Œå¦‚æœå¤§éƒ¨åˆ†$W^{i}$ä¸­ å€¼éƒ½å¤§äº1ï¼Œä¸”å±‚æ•°æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆè¿ä¹˜ä¹‹åå¯èƒ½å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ã€‚</p>
<h5 id="1-3-2-æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"><a href="#1-3-2-æ¢¯åº¦çˆ†ç‚¸é—®é¢˜" class="headerlink" title="1.3.2 æ¢¯åº¦çˆ†ç‚¸é—®é¢˜"></a>1.3.2 æ¢¯åº¦çˆ†ç‚¸é—®é¢˜</h5><ul>
<li><p>å€¼è¶…å‡ºå€¼åŸŸï¼ˆinfinityï¼‰</p>
<ul>
<li>å¯¹äº16ä½æµ®ç‚¹æ•°å°¤ä¸ºä¸¥é‡ï¼ˆæ•°å€¼åŒºé—´ [6e-5 , 6e4]ï¼‰ï¼ŒGPUç”¨16ä½æµ®ç‚¹æ•°æ›´å¿«</li>
</ul>
</li>
<li><p>å¯¹å­¦ä¹ ç‡æ•æ„Ÿ</p>
<ul>
<li><p>å¦‚æœå­¦ä¹ ç‡å¤ªå¤§â†’å¤§å‚æ•°å€¼â†’æ›´å¤§çš„æ¢¯åº¦ï¼Œå¦‚æ­¤å¾ªç¯å‡ æ¬¡ï¼Œå®¹æ˜“å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸</p>
</li>
<li><p>å¦‚æœå­¦ä¹ ç‡å¤ªå°â†’è®­ç»ƒæ— è¿›å±•</p>
</li>
<li><p>æˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸æ–­è°ƒæ•´å­¦ä¹ ç‡</p>
</li>
</ul>
</li>
</ul>
<h4 id="1-4-æ¢¯åº¦æ¶ˆå¤±"><a href="#1-4-æ¢¯åº¦æ¶ˆå¤±" class="headerlink" title="1.4 æ¢¯åº¦æ¶ˆå¤±"></a>1.4 æ¢¯åº¦æ¶ˆå¤±</h4><h5 id="1-4-1-ä½¿ç”¨Sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°"><a href="#1-4-1-ä½¿ç”¨Sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°" class="headerlink" title="1.4.1 ä½¿ç”¨Sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°"></a>1.4.1 ä½¿ç”¨Sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°</h5><img src="/2024/04/23/11-01-14/14-05.png" class>
<ul>
<li>è“è‰²æ›²çº¿ä¸ºå‡½æ•°å€¼</li>
<li>é»„è‰²æ›²çº¿ä¸ºæ¢¯åº¦ï¼Œæ³¨æ„åˆ°å½“è¾“å…¥xå€¼å–Â±6æ—¶ï¼Œæ­¤æ—¶æ¢¯åº¦å·²ç»å˜å¾—å¾ˆå°ï¼Œç”±å›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå½“è¾“å…¥å€¼ç¨å¤§æˆ–ç¨å°éƒ½å¾ˆå®¹æ˜“å¼•èµ·å°æ¢¯åº¦ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-14/14-06.png" class>
<p>æ‰€ä»¥æœ€ç»ˆè¿ä¹˜å¼ä¸­$\prod diag\left ( \sigma ^{â€˜}\left ( W^{i}h^{i-1} \right ) \right )$é¡¹ä¹˜å‡ºæ¥ä¼šå¾ˆå°ï¼Œå¯¼è‡´æ•´ä¸ªæ¢¯åº¦å¾ˆå°ï¼Œäº§ç”Ÿæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚</p>
<h5 id="1-4-2-æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜"><a href="#1-4-2-æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜" class="headerlink" title="1.4.2 æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜"></a>1.4.2 æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜</h5><ul>
<li><p>æ¢¯åº¦å€¼å˜ä¸º0</p>
<ul>
<li>å¯¹16ä½æµ®ç‚¹æ•°å°¤ä¸ºä¸¥é‡</li>
</ul>
</li>
<li><p>è®­ç»ƒæ²¡æœ‰è¿›å±•</p>
<ul>
<li>ä¸ç®¡å¦‚ä½•é€‰æ‹©å­¦ä¹ ç‡ï¼Œç”±äºæ¢¯åº¦å·²ç»ä¸º0äº†ï¼Œå­¦ä¹ ç‡xæ¢¯åº¦=0</li>
</ul>
</li>
<li>å¯¹äºåº•éƒ¨å±‚å°¤ä¸ºä¸¥é‡<ul>
<li>ä»…ä»…é¡¶éƒ¨å±‚è®­ç»ƒå¾—è¾ƒå¥½ã€‚ç¬¬<em>t</em>å±‚å¯¼æ•°åŒ…å«d-tä¸ªçŸ©é˜µä¹˜ç§¯ï¼Œè¶Šå¾€åº•å±‚èµ°ï¼Œtè¶Šå°ï¼Œä¹˜å¾—è¶Šå¤šï¼Œæ¢¯åº¦æ¶ˆå¤±è¶Šä¸¥é‡ï¼Œæ‰€ä»¥åº•éƒ¨å±‚æ•ˆæœæ›´å·®ã€‚</li>
<li>æ— æ³•è®©ç¥ç»ç½‘ç»œæ›´æ·±ã€‚åªèƒ½æŠŠé¡¶éƒ¨å±‚è®­ç»ƒå¾—æ¯”è¾ƒå¥½ï¼Œåº•éƒ¨å±‚è·‘ä¸åŠ¨ï¼Œè¿™å’Œç»™ä¸€ä¸ªæµ…çš„ç¥ç»ç½‘ç»œæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°"><a href="#2-æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°" class="headerlink" title="2. æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°"></a>2. æ¨¡å‹åˆå§‹åŒ–å’Œæ¿€æ´»å‡½æ•°</h3><h4 id="2-1-è®©è®­ç»ƒæ›´åŠ ç¨³å®š"><a href="#2-1-è®©è®­ç»ƒæ›´åŠ ç¨³å®š" class="headerlink" title="2.1 è®©è®­ç»ƒæ›´åŠ ç¨³å®š"></a>2.1 è®©è®­ç»ƒæ›´åŠ ç¨³å®š</h4><p>æˆ‘ä»¬çš„ä¸€ä¸ªæ ¸å¿ƒç›®æ ‡æ˜¯å¦‚ä½•è®©è®­ç»ƒæ›´ç¨³å®šï¼Œæ¢¯åº¦å€¼ä¸è¦å¤ªå¤§ä¹Ÿä¸è¦å¤ªå°</p>
<ul>
<li>ç›®æ ‡ï¼šè®©æ¢¯åº¦å€¼åœ¨åˆç†çš„èŒƒå›´å†…<ul>
<li>ä¾‹å¦‚ [1e-6, 1e3]</li>
</ul>
</li>
<li><p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>å°†ä¹˜æ³•å˜åŠ æ³•ï¼š<ul>
<li>ResNetï¼ˆè·³è·ƒè¿æ¥ï¼Œå¦‚æœå¾ˆå¤šå±‚ï¼ŒåŠ å…¥åŠ æ³•è¿›å»ï¼‰</li>
<li>LSTMï¼ˆå¼•å…¥è®°å¿†ç»†èƒï¼Œæ›´æ–°é—¨ï¼Œé—å¿˜é—¨ï¼Œé€šè¿‡é—¨æƒé‡æ±‚å’Œï¼Œæ§åˆ¶ä¸‹ä¸€æ­¥æ˜¯å¦æ›´æ–°ï¼‰</li>
</ul>
</li>
<li><p>å½’ä¸€åŒ–ï¼š</p>
<ul>
<li><p>æ¢¯åº¦å½’ä¸€åŒ–ï¼ˆå½’ä¸€åŒ–å‡å€¼ï¼Œæ–¹å·®ï¼‰</p>
</li>
<li><p>æ¢¯åº¦è£å‰ª(clipping)ï¼šæ¯”å¦‚å¤§äº/å°äºä¸€ä¸ªå›ºå®šçš„é˜ˆå€¼ï¼Œå°±è®©æ¢¯åº¦ç­‰äºè¿™ä¸ªé˜ˆå€¼ï¼Œå°†æ¢¯åº¦é™åˆ¶åœ¨ä¸€ä¸ªèŒƒå›´ä¸­ã€‚ï¼ˆå¯ä»¥ç¼“è§£æ¢¯åº¦çˆ†ç‚¸ï¼‰</p>
</li>
</ul>
</li>
<li>åˆç†çš„æƒé‡åˆå§‹å’Œæ¿€æ´»å‡½æ•°ï¼šæœ¬èŠ‚è¯¾è®²è¿°é‡ç‚¹</li>
</ul>
</li>
</ul>
<p><strong>ä¸‹é¢æˆ‘ä»¬é‡ç‚¹æ¢è®¨æœ€åä¸€ç§æ–¹æ³•ï¼šåˆç†çš„æƒé‡åˆå§‹å’Œæ¿€æ´»å‡½æ•°</strong></p>
<h4 id="2-2-åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼-æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°"><a href="#2-2-åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼-æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°" class="headerlink" title="2.2 åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼/æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°"></a>2.2 åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼/æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°</h4><ul>
<li><p><strong>å°†æ¯å±‚çš„è¾“å‡ºå’Œæ¢¯åº¦éƒ½çœ‹åšéšæœºå˜é‡</strong></p>
<p>æ¯”å¦‚ç¬¬iå±‚æœ‰100ç»´ï¼Œå°±å°†è¾“å‡ºå’Œæ¢¯åº¦åˆ†åˆ«çœ‹æˆ100ä¸ªéšæœºå˜é‡</p>
</li>
<li><p><strong>è®©å®ƒä»¬çš„å‡å€¼å’Œæ–¹å·®éƒ½ä¿æŒä¸€è‡´</strong></p>
<p>æˆ‘ä»¬çš„ç›®æ ‡ï¼Œè¿™æ ·ä¸ç®¡ç¥ç»ç½‘ç»œå¤šæ·±ï¼Œæœ€åä¸€å±‚æ€»ä¸ç¬¬ä¸€å±‚å·®ä¸å¤šï¼Œä»è€Œä¸ä¼šæ¢¯åº¦çˆ†ç‚¸å’Œæ¶ˆå¤±</p>
</li>
</ul>
<p>æ ¹æ®æˆ‘ä»¬çš„å‡è®¾ï¼Œå¯ä»¥åˆ—å‡ºå¦‚ä¸‹æ–¹ç¨‹å¼ï¼š</p>
<img src="/2024/04/23/11-01-14/14-07.png" class>
<h4 id="2-3-æƒé‡åˆå§‹åŒ–"><a href="#2-3-æƒé‡åˆå§‹åŒ–" class="headerlink" title="2.3 æƒé‡åˆå§‹åŒ–"></a>2.3 æƒé‡åˆå§‹åŒ–</h4><ul>
<li>åœ¨åˆç†å€¼åŒºé—´é‡Œéšæœºåˆå§‹å‚æ•°</li>
<li>è®­ç»ƒ<strong>å¼€å§‹</strong>çš„æ—¶å€™æ›´å®¹æ˜“æœ‰æ•°å€¼ä¸ç¨³å®š<ul>
<li>è¿œç¦»æœ€ä¼˜è§£çš„åœ°æ–¹æŸå¤±å‡½æ•°è¡¨é¢å¯èƒ½å¾ˆå¤æ‚</li>
<li>æœ€ä¼˜è§£é™„è¿‘è¡¨é¢ä¼šæ¯”è¾ƒå¹³</li>
</ul>
</li>
<li>ä½¿ç”¨N(0, 0.01)åˆ†å¸ƒæ¥åˆå§‹å¯èƒ½å¯¹å°ç½‘ç»œæ²¡é—®é¢˜ï¼Œä½†ä¸èƒ½ä¿è¯æ·±åº¦ç¥ç»ç½‘ç»œ</li>
</ul>
<h4 id="2-4-ä¾‹å­ï¼šMLP"><a href="#2-4-ä¾‹å­ï¼šMLP" class="headerlink" title="2.4 ä¾‹å­ï¼šMLP"></a>2.4 ä¾‹å­ï¼šMLP</h4><p>ä¸‹é¢æˆ‘ä»¬ä»¥MLPä¸ºä¾‹ï¼Œè€ƒè™‘éœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Œæ‰èƒ½æ»¡è¶³<a href="#22-åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼/æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°">2.2èŠ‚</a>çš„å‡è®¾ã€‚</p>
<h5 id="2-4-1-æ¨¡å‹å‡è®¾"><a href="#2-4-1-æ¨¡å‹å‡è®¾" class="headerlink" title="2.4.1 æ¨¡å‹å‡è®¾"></a>2.4.1 æ¨¡å‹å‡è®¾</h5><ul>
<li>æ¯ä¸€å±‚<strong>æƒé‡</strong>ä¸­çš„å˜é‡å‡ä¸º<strong>ç‹¬ç«‹åŒåˆ†å¸ƒ</strong>ï¼Œå¹¶è®¾å‡ºå‡å€¼ã€æ–¹å·®ã€‚</li>
<li>æ¯ä¸€å±‚<strong>è¾“å…¥</strong>çš„å˜é‡<strong>ç‹¬ç«‹äº</strong>è¯¥å±‚<strong>æƒé‡</strong>å˜é‡ã€‚åŒæ—¶<strong>è¾“å…¥å˜é‡</strong>ä¹‹é—´<strong>ç‹¬ç«‹åŒåˆ†å¸ƒ</strong>ã€‚</li>
<li>å‡è®¾æ²¡æœ‰æ¿€æ´»å‡½æ•°(å…ˆç®€åŒ–åˆ†æï¼Œä¹‹åä¼šè€ƒè™‘æœ‰æ¿€æ´»å‡½æ•°çš„æƒ…å†µ)ï¼Œå¯ä»¥æ±‚å¾—è¯¥å±‚è¾“å‡ºçš„æœŸæœ›ä¸º0ã€‚</li>
</ul>
<img src="/2024/04/23/11-01-14/14-08.png" class>
<p>æ­¤å¤„ç”¨åˆ°äº†ä¸€ä¸ªé‡è¦æ€§è´¨ï¼š</p>
<img src="/2024/04/23/11-01-14/14-09.png" class>
<p>æ›´å¤šå‡å€¼ã€æ–¹å·®è¿ç®—å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/MissXy_/article/details/80705828">æœŸæœ›ã€æ–¹å·®ã€åæ–¹å·®åŠç›¸å…³ç³»æ•°çš„åŸºæœ¬è¿ç®—</a></p>
<h5 id="2-4-2-æ­£å‘æ–¹å·®"><a href="#2-4-2-æ­£å‘æ–¹å·®" class="headerlink" title="2.4.2 æ­£å‘æ–¹å·®"></a>2.4.2 æ­£å‘æ–¹å·®</h5><img src="/2024/04/23/11-01-14/14-10.png" class>
<ul>
<li><p>ç¬¬äºŒè¡Œçš„è®¡ç®—ä¸­ä»ç„¶ç”¨åˆ°äº†<a href="241æ¨¡å‹å‡è®¾">2.4.1èŠ‚</a>çš„æœŸæœ›çš„é‡è¦æ€§è´¨ï¼šå¦‚æœä¸¤ä¸ªå˜é‡ç‹¬ç«‹ï¼Œå®ƒä»¬ä¹˜ç§¯çš„å‡å€¼=å‡å€¼çš„ä¹˜ç§¯ï¼Œå†ç»“åˆwçš„æœŸæœ›ä¸º0(æ³¨æ„wå’Œhç‹¬ç«‹ï¼Œwä¹‹é—´ç‹¬ç«‹åŒåˆ†å¸ƒ)ï¼Œå³æœ‰ç¬¬äºŒè¡Œæœ«é¡¹æœŸæœ›ä¸º0ã€‚</p>
</li>
<li><p>æœ€åä¸€è¡Œç”±äºwi,jç‹¬ç«‹åŒåˆ†å¸ƒï¼Œæ–¹å·®ç›¸åŒï¼ŒåŠ ä¸Šåšäº†hjç‹¬ç«‹åŒåˆ†å¸ƒçš„å‡è®¾ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆ <strong>[t-1å±‚è¾“å‡ºç»´åº¦] x [tå±‚æƒé‡æ–¹å·®] x [t-1å±‚è¾“å‡ºæ–¹å·®]</strong> çš„å½¢å¼</p>
</li>
<li><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å›è¿‡å¤´æ¥çœ‹æˆ‘ä»¬çš„ç»ˆæç›®æ ‡<a href="#22-åŸºæœ¬å‡è®¾ï¼šè®©æ¯å±‚çš„å‡å€¼/æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°">2.2èŠ‚</a>çš„å‡è®¾ï¼Œæ¯å±‚è¾“å‡ºæœŸæœ›ä¸º0æˆ‘ä»¬å·²ç»å¯ä»¥æ»¡è¶³(2.4.1èŠ‚å·²ç»æ¨å¯¼å‡º)ï¼Œè€Œæ–¹å·®ç›¸åŒè¿™ä¸€ç›®æ ‡ï¼Œé€šè¿‡ä¸Šå›¾çš„æ¨å¯¼ï¼Œæˆ‘ä»¬å‘ç°éœ€è¦&lt;$n_{t-1}\gamma _{t}=1$ã€‚</p>
</li>
</ul>
<h5 id="2-4-3-åå‘å‡å€¼å’Œæ–¹å·®"><a href="#2-4-3-åå‘å‡å€¼å’Œæ–¹å·®" class="headerlink" title="2.4.3 åå‘å‡å€¼å’Œæ–¹å·®"></a>2.4.3 åå‘å‡å€¼å’Œæ–¹å·®</h5><img src="/2024/04/23/11-01-14/14-11.png" class>
<p>åå‘çš„æƒ…å†µå’Œæ­£å‘çš„ç±»ä¼¼ï¼Œä¸è¿‡æ­¤æ—¶æˆ‘ä»¬éœ€è¦æ»¡è¶³çš„å¼å­å˜ä¸º$n_{t}\gamma _{t}=1$ã€‚</p>
<h5 id="2-4-4-Xavieråˆå§‹"><a href="#2-4-4-Xavieråˆå§‹" class="headerlink" title="2.4.4 Xavieråˆå§‹"></a>2.4.4 Xavieråˆå§‹</h5><ul>
<li><p>ä¸Šè¿°æ¨å¯¼å¸¦æ¥çš„é—®é¢˜ï¼šéš¾ä»¥åŒæ—¶æ»¡è¶³$n_{t-1}\gamma _{t}=1$å’Œ$n_{t}\gamma _{t}=1$ã€‚ï¼ˆéœ€è¦æ¯å±‚è¾“å‡ºçš„ç»´åº¦éƒ½ç›¸åŒï¼‰</p>
</li>
<li><p>é‡‡ç”¨XavieræŠ˜ä¸­è§£å†³ï¼Œä¸èƒ½åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤å¼ï¼Œè½¬è€Œæ»¡è¶³ [<strong>ä¸Šé¢ä¸¤å¼åšåŠ æ³•åé™¤ä»¥2</strong>] å¾—åˆ°çš„å¼å­ï¼Œç”¨ä¸¤ç§åˆ†å¸ƒè¿›è¡Œåˆå§‹åŒ–ï¼ˆæ¯å±‚æ–¹å·®ã€å‡å€¼æ»¡è¶³æ¨å¯¼å¼ï¼‰ã€‚</p>
<img src="/2024/04/23/11-01-14/14-12.png" class>
</li>
<li><p>å¦‚æœèƒ½ç¡®å®šæ¯å±‚è¾“å…¥ã€è¾“å‡ºç»´åº¦å¤§å°ï¼Œåˆ™èƒ½ç¡®å®šè¯¥å±‚æƒé‡çš„æ–¹å·®å¤§å°ã€‚</p>
</li>
<li>æƒé‡åˆå§‹åŒ–æ–¹å¼ï¼šæ­£æ€åˆ†å¸ƒã€å‡åŒ€åˆ†å¸ƒï¼Œå‡å€¼/æ–¹å·®æ»¡è¶³Xavierçš„å‡è®¾ã€‚</li>
</ul>
<h5 id="2-4-5-å‡è®¾çº¿æ€§çš„æ¿€æ´»å‡½æ•°"><a href="#2-4-5-å‡è®¾çº¿æ€§çš„æ¿€æ´»å‡½æ•°" class="headerlink" title="2.4.5 å‡è®¾çº¿æ€§çš„æ¿€æ´»å‡½æ•°"></a>2.4.5 å‡è®¾çº¿æ€§çš„æ¿€æ´»å‡½æ•°</h5><p>çœŸå®æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šç”¨çº¿æ€§çš„æ¿€æ´»å‡½æ•°ï¼ˆè¿™æ ·ç›¸å½“äºæ²¡æœ‰è¿›è¡Œæ¿€æ´»ï¼‰ï¼Œè¿™é‡Œä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œå‡è®¾æ¿€æ´»å‡½æ•°æ˜¯çº¿æ€§çš„ã€‚</p>
<ul>
<li><strong>æ­£å‘</strong></li>
</ul>
<img src="/2024/04/23/11-01-14/14-13.png" class>
<p>ä¸Šè¿°æ¨å¯¼è¡¨æ˜ï¼Œä¸ºäº†ä½¿å¾—å‰å‘ä¼ æ’­çš„å‡å€¼ä¸º0ï¼Œæ–¹å·®å›ºå®šçš„è¯ï¼Œæ¿€æ´»å‡½æ•°å¿…é¡»f(x)=xï¼Œè¿™ç§æ’ç­‰æ˜ å°„ã€‚</p>
<ul>
<li><strong>åå‘</strong></li>
</ul>
<img src="/2024/04/23/11-01-14/14-14.png" class>
<p>PPTä¸Šçš„æ¨å¯¼ä¼¼ä¹æœ‰ç‚¹é—®é¢˜ï¼ˆä¸Šå›¾ä¸­ç¬¬äºŒè¡Œæ–¹ç¨‹ï¼‰ï¼Œç¬”è€…é‡æ–°è¿›è¡Œäº†ä¸‹è¿°æ¨å¯¼ï¼Œè¯»è€…ä¹Ÿå¯è‡ªè¡Œæ¨å¯¼éªŒè¯ï¼š</p>
<img src="/2024/04/23/11-01-14/14-15.png" class>
<p><strong>é€šè¿‡æ­£å‘å’Œåå‘çš„æ¨å¯¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºçš„ã€ç»“è®ºã€‘æ˜¯ï¼šå½“æ¿€æ´»å‡½æ•°ä¸ºf(x)=xï¼Œè¿™ç§æ’ç­‰æ˜ å°„æ›´æœ‰åˆ©äºç»´æŒç¥ç»ç½‘ç»œçš„ç¨³å®šæ€§ã€‚</strong></p>
<h5 id="2-4-6-æ£€æŸ¥å¸¸ç”¨æ¿€æ´»å‡½æ•°"><a href="#2-4-6-æ£€æŸ¥å¸¸ç”¨æ¿€æ´»å‡½æ•°" class="headerlink" title="2.4.6 æ£€æŸ¥å¸¸ç”¨æ¿€æ´»å‡½æ•°"></a>2.4.6 æ£€æŸ¥å¸¸ç”¨æ¿€æ´»å‡½æ•°</h5><img src="/2024/04/23/11-01-14/14-16.png" class>
<p>å¯¹äºå¸¸ç”¨æ¿€æ´»å‡½æ•°ï¼štanhï¼Œreluæ»¡è¶³åœ¨é›¶ç‚¹é™„è¿‘æœ‰f(x)=xï¼Œè€Œsigmoidå‡½æ•°åœ¨é›¶ç‚¹é™„è¿‘ä¸æ»¡è¶³è¦æ±‚ï¼Œå¯ä»¥å¯¹sigmoidå‡½æ•°è¿›è¡Œè°ƒæ•´ï¼ˆæ ¹æ®Taylorå±•å¼€å¼ï¼Œè°ƒæ•´å…¶è¿‡åŸç‚¹ï¼‰</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ul>
<li>å½“æ•°å€¼è¿‡å¤§æˆ–è€…è¿‡å°æ—¶ï¼Œä¼šå¯¼è‡´æ•°å€¼é—®é¢˜ã€‚</li>
<li><p>å¸¸å‘ç”Ÿåœ¨æ·±åº¦æ¨¡å‹ä¸­ï¼Œå› ä¸ºå…¶ä¼šå¯¹nä¸ªæ•°ç´¯ä¹˜ã€‚</p>
</li>
<li><p>åˆç†çš„æƒé‡åˆå§‹å€¼(å¦‚Xavier)å’Œæ¿€æ´»å‡½æ•°çš„é€‰å–(å¦‚relu, tanh, è°ƒæ•´åçš„sigmoid)å¯ä»¥æå‡æ•°å€¼ç¨³å®šæ€§ã€‚</p>
</li>
</ul>
<h3 id="4-Q-amp-A"><a href="#4-Q-amp-A" class="headerlink" title="4.Q&amp;A"></a>4.Q&amp;A</h3><p><strong>é—®é¢˜ï¼šnan, infæ˜¯æ€ä¹ˆäº§ç”Ÿçš„ä»¥åŠæ€ä¹ˆè§£å†³çš„ï¼Ÿ</strong></p>
<blockquote>
<p>NaNå’ŒInfæ€ä¹ˆäº§ç”Ÿçš„ï¼šå‚è€ƒ<a href="https://blog.csdn.net/qq_16334327/article/details/86526854">å‡ºç°nanã€infåŸå› </a></p>
<p>å¦‚ä½•è§£å†³ï¼šå‚è€ƒ<a href="https://blog.csdn.net/u011119817/article/details/103908065">æ·±åº¦å­¦ä¹ ä¸­nanå’Œinfçš„è§£å†³</a>ä»¥åŠ<a href="https://zhuanlan.zhihu.com/p/89588946#:~:text=ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºç°NaNæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š 1.,å¦‚æœåœ¨è¿­ä»£çš„100è½®ä»¥å†…ï¼Œå‡ºç°NaNï¼Œä¸€èˆ¬æƒ…å†µä¸‹çš„åŸå› æ˜¯å› ä¸ºä½ çš„å­¦ä¹ ç‡è¿‡é«˜ï¼Œéœ€è¦é™ä½å­¦ä¹ ç‡ã€‚ å¯ä»¥ä¸æ–­é™ä½å­¦ä¹ ç‡ç›´è‡³ä¸å‡ºç°NaNä¸ºæ­¢ï¼Œä¸€èˆ¬æ¥è¯´ä½äºç°æœ‰å­¦ä¹ ç‡1-10å€å³å¯ã€‚">è®­ç»ƒç½‘ç»œlosså‡ºç°Nanè§£å†³åŠæ³• </a></p>
</blockquote>
<p><strong>é—®é¢˜ï¼šè®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå¦‚æœç½‘ç»œå±‚çš„è¾“å‡ºçš„ä¸­é—´å±‚ç‰¹å¾å…ƒç´ çš„å€¼çªç„¶å˜æˆnanäº†ï¼Œæ˜¯å‘ç”Ÿæ¢¯åº¦çˆ†ç‚¸äº†å—ï¼Ÿ</strong></p>
<blockquote>
<p>å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/89588946#:~:text=ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºç°NaNæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š 1.,å¦‚æœåœ¨è¿­ä»£çš„100è½®ä»¥å†…ï¼Œå‡ºç°NaNï¼Œä¸€èˆ¬æƒ…å†µä¸‹çš„åŸå› æ˜¯å› ä¸ºä½ çš„å­¦ä¹ ç‡è¿‡é«˜ï¼Œéœ€è¦é™ä½å­¦ä¹ ç‡ã€‚ å¯ä»¥ä¸æ–­é™ä½å­¦ä¹ ç‡ç›´è‡³ä¸å‡ºç°NaNä¸ºæ­¢ï¼Œä¸€èˆ¬æ¥è¯´ä½äºç°æœ‰å­¦ä¹ ç‡1-10å€å³å¯ã€‚">è®­ç»ƒç½‘ç»œlosså‡ºç°Nanè§£å†³åŠæ³• </a></p>
</blockquote>
<p><strong>é—®é¢˜ï¼šè€å¸ˆï¼Œè®©æ¯å±‚æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°çš„æ–¹æ³•ï¼Œæ‚¨æŒ‡çš„æ˜¯batch normalizationå—ï¼Ÿæƒ³é—®ä¸€ä¸‹bnå±‚ä¸ºä»€ä¹ˆè¦æœ‰ä¼½é©¬å’Œè´å¡”ï¼Ÿå»æ‰å¯ä»¥å—</strong></p>
<blockquote>
<p>è®©æ¯å±‚æ–¹å·®æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå’Œbatch normæ²¡æœ‰å¤ªå¤šå…³ç³»ï¼Œ(æœ¬èŠ‚è¯¾ä»‹ç»çš„æ–¹æ³•æ˜¯åˆç†åœ°åˆå§‹åŒ–æƒé‡å’Œè®¾ç½®æ¿€æ´»å‡½æ•°)ã€‚batch normå¯ä»¥è®©ä½ çš„è¾“å‡ºå˜æˆä¸€ä¸ªå‡å€¼ä¸º0ï¼Œæ–¹å·®å·®ä¸å¤šæ˜¯ä¸€ä¸ªå›ºå®šå€¼çš„ä¸œè¥¿ï¼Œä½†å®ƒä¸ä¸€å®šèƒ½ä¿è¯ä½ çš„æ¢¯åº¦ã€‚</p>
</blockquote>
<p>(æ­¤å¤„èŠ‚é€‰å‡ ä¸ªé‡è¦çš„Q&amp;Aï¼Œå»ºè®®è§‚çœ‹å®Œæ•´Q&amp;Aï¼Œè·å¾—æ›´æ·±çš„ç†è§£)</p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>13-ä¸¢å¼ƒæ³•</title>
    <url>/2024/04/23/11-01-13/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="13-ä¸¢å¼ƒæ³•"><a href="#13-ä¸¢å¼ƒæ³•" class="headerlink" title="13-ä¸¢å¼ƒæ³•"></a>13-ä¸¢å¼ƒæ³•</h2><h3 id="1-ä¸¢å¼ƒæ³•åŠ¨æœºã€å®ç°åŠåŸåˆ™"><a href="#1-ä¸¢å¼ƒæ³•åŠ¨æœºã€å®ç°åŠåŸåˆ™" class="headerlink" title="1.ä¸¢å¼ƒæ³•åŠ¨æœºã€å®ç°åŠåŸåˆ™"></a>1.ä¸¢å¼ƒæ³•åŠ¨æœºã€å®ç°åŠåŸåˆ™</h3><h4 id="1-1åŠ¨æœº"><a href="#1-1åŠ¨æœº" class="headerlink" title="1.1åŠ¨æœº"></a>1.1åŠ¨æœº</h4><ul>
<li>ä¸€ä¸ªå¥½çš„æ¨¡å‹éœ€è¦å¯¹è¾“å…¥æ•°æ®çš„æ‰°åŠ¨é²æ£’ï¼ˆå¥å£®æ€§ï¼‰</li>
</ul>
<h4 id><a href="#" class="headerlink" title=" "></a> </h4><img src="/2024/04/23/11-01-13/13-02.jpg" class>       
<img src="/2024/04/23/11-01-13/13-03.jpg" class>
<h4 id="1-2å¦‚ä½•å®ç°æ¨¡å‹çš„è¿™ä¸€èƒ½åŠ›"><a href="#1-2å¦‚ä½•å®ç°æ¨¡å‹çš„è¿™ä¸€èƒ½åŠ›" class="headerlink" title="1.2å¦‚ä½•å®ç°æ¨¡å‹çš„è¿™ä¸€èƒ½åŠ›"></a>1.2å¦‚ä½•å®ç°æ¨¡å‹çš„è¿™ä¸€èƒ½åŠ›</h4><ul>
<li>ä½¿ç”¨æœ‰å™ªéŸ³çš„æ•°æ®ã€‚</li>
<li>ä¸¢å¼ƒæ³•ï¼šåœ¨å±‚ä¹‹é—´åŠ å…¥å™ªéŸ³ã€‚</li>
</ul>
<h4 id="1-3åŠ å…¥å™ªéŸ³çš„åŸåˆ™"><a href="#1-3åŠ å…¥å™ªéŸ³çš„åŸåˆ™" class="headerlink" title="1.3åŠ å…¥å™ªéŸ³çš„åŸåˆ™"></a>1.3åŠ å…¥å™ªéŸ³çš„åŸåˆ™</h4><img src="/2024/04/23/11-01-13/13-01.png" class>
<ul>
<li>ä¾‹å¦‚æ¨¡å‹çš„åŠŸèƒ½æ˜¯è¯†åˆ«çŒ«çŒ«ï¼ŒåŠ å…¥å™ªéŸ³å¯ä»¥æ˜¯è¾“å…¥æ¨¡ç³Šçš„çŒ«çŒ«å›¾ç‰‡ï¼Œä½†å°½é‡ä¸è¦æ˜¯ç‹—ç‹—çš„å›¾ç‰‡ã€‚</li>
</ul>
<h3 id="2-ä¸¢å¼ƒæ³•å†…å®¹"><a href="#2-ä¸¢å¼ƒæ³•å†…å®¹" class="headerlink" title="2.ä¸¢å¼ƒæ³•å†…å®¹"></a>2.ä¸¢å¼ƒæ³•å†…å®¹</h3><ul>
<li>ä¸¢å¼ƒæ³•å¯¹æ¯ä¸ªå…ƒç´ ä½œå¦‚ä¸‹æ‰°åŠ¨</li>
</ul>
<img src="/2024/04/23/11-01-13/13-04.png" class>
<ul>
<li>èƒ½å¤Ÿæ»¡è¶³åŠ å…¥å™ªéŸ³çš„æœŸæœ›ç›¸åŒåŸåˆ™</li>
<li>ä¸€å®šæ¦‚ç‡å˜ä¸º0ï¼Œä¸€å®šæ¦‚ç‡å˜å¾—å¾ˆå¤§</li>
</ul>
<img src="/2024/04/23/11-01-13/13-05.png" class>
<ul>
<li>æœŸæœ›æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ†æ¯çš„æ„ä¹‰</li>
</ul>
<h3 id="3-ä¸¢å¼ƒæ³•ä½¿ç”¨"><a href="#3-ä¸¢å¼ƒæ³•ä½¿ç”¨" class="headerlink" title="3.ä¸¢å¼ƒæ³•ä½¿ç”¨"></a>3.ä¸¢å¼ƒæ³•ä½¿ç”¨</h3><h4 id="3-1ä¸¢å¼ƒæ³•çš„ä½¿ç”¨ä½ç½®"><a href="#3-1ä¸¢å¼ƒæ³•çš„ä½¿ç”¨ä½ç½®" class="headerlink" title="3.1ä¸¢å¼ƒæ³•çš„ä½¿ç”¨ä½ç½®"></a>3.1ä¸¢å¼ƒæ³•çš„ä½¿ç”¨ä½ç½®</h4><ul>
<li>é€šå¸¸å°†ä¸¢å¼ƒæ³•ä½œç”¨åœ¨éšè—å…¨è¿æ¥å±‚çš„è¾“å‡ºä¸Š</li>
</ul>
<img src="/2024/04/23/11-01-13/13-06.png" class>
<ul>
<li>éšæœºé€‰ä¸­æŸäº›ç¥ç»å…ƒå°†å…¶è¾“å‡ºç½®ä½0ï¼Œå› æ­¤æ¨¡å‹ä¸ä¼šè¿‡åˆ†ä¾èµ–æŸäº›ç¥ç»å…ƒ</li>
</ul>
<img src="/2024/04/23/11-01-13/13-07.png" class>
<h4 id="3-2è®­ç»ƒä¸­çš„ä¸¢å¼ƒæ³•"><a href="#3-2è®­ç»ƒä¸­çš„ä¸¢å¼ƒæ³•" class="headerlink" title="3.2è®­ç»ƒä¸­çš„ä¸¢å¼ƒæ³•"></a>3.2è®­ç»ƒä¸­çš„ä¸¢å¼ƒæ³•</h4><ul>
<li>æ­£åˆ™é¡¹ï¼ˆä¸¢å¼ƒæ³•ï¼‰ä»…åœ¨è®­ç»ƒä¸­ä½¿ç”¨ï¼šå½±å“æ¨¡å‹å‚æ•°çš„æ›´æ–°ï¼Œé¢„æµ‹çš„æ—¶å€™ä¾¿ä¸å†ä½¿ç”¨</li>
</ul>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“"></a>4.æ€»ç»“</h3><ul>
<li>ä¸¢å¼ƒæ³•å°†ä¸€äº›è¾“å‡ºé¡¹éšæœºç½®0æ¥æ§åˆ¶æ¨¡å‹å¤æ‚åº¦</li>
<li>å¸¸ä½œç”¨åœ¨å¤šå±‚æ„ŸçŸ¥æœºçš„éšè—å±‚è¾“å‡ºä¸Š</li>
<li>ä¸¢å¼ƒæ¦‚ç‡æ˜¯æ§åˆ¶æ¨¡å‹å¤æ‚åº¦çš„è¶…å‚æ•°ï¼ˆå¸¸å–0.9ï¼Œ0.5ï¼Œ0.1ï¼‰</li>
</ul>
<h3 id="5-ä»£ç éƒ¨åˆ†"><a href="#5-ä»£ç éƒ¨åˆ†" class="headerlink" title="5.ä»£ç éƒ¨åˆ†"></a>5.ä»£ç éƒ¨åˆ†</h3><h4 id="5-1Dropoutéƒ¨åˆ†"><a href="#5-1Dropoutéƒ¨åˆ†" class="headerlink" title="5.1Dropoutéƒ¨åˆ†"></a>5.1Dropoutéƒ¨åˆ†</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dropout_layer</span> (X,dropout)ï¼š   <span class="comment">#Xä¸ºdropoutå±‚çš„è¾“å…¥ï¼Œdropoutä¸ºè®¾ç½®çš„ä¸¢å¼ƒæ¦‚ç‡</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">0</span>&lt;=dropout&lt;=<span class="number">1</span>        <span class="comment">#ä¸¢å¼ƒæ¦‚ç‡ä»‹äº0ï¼Œ1ä¹‹é—´</span></span><br><span class="line">    <span class="keyword">if</span> dropout == <span class="number">1</span>:</span><br><span class="line">       <span class="keyword">return</span> torch.zeros_like(x) <span class="comment">#è‹¥ä¸¢å¼ƒæ¦‚ç‡ä¸º1ï¼Œåˆ™Xçš„å…¨éƒ¨é¡¹å‡è¢«ç½®0</span></span><br><span class="line">    <span class="keyword">if</span> dropout == <span class="number">0</span>:</span><br><span class="line">       <span class="keyword">return</span> X                   <span class="comment">#è‹¥ä¸¢å¼ƒæ¦‚ç‡ä¸º0ï¼Œä¸å¯¹Xä½œä¸¢å¼ƒæ“ä½œï¼Œç›´æ¥è¿”å›X</span></span><br><span class="line">    mask=(torch.Tensor(X.shape).uniform_(<span class="number">0</span>,<span class="number">1</span>)&gt;dropout).<span class="built_in">float</span>() <span class="comment">#ç”¨uniformå‡½æ•°ç”Ÿæˆ0-1é—´çš„éšæœºå®æ•°ï¼Œåˆ©ç”¨â€&gt;&quot;ï¼Œå°†å¤§äºdropoutçš„è®°ä¸º1ï¼Œå°äºdropoutçš„è®°ä¸º0ï¼Œå®ç°ä¸¢å¼ƒæ“ä½œ</span></span><br><span class="line">    <span class="keyword">return</span> mask*X/(<span class="number">1</span>-dropout) <span class="comment">#å°†maskä¸Xç›¸ä¹˜å®ç°ä¸¢å¼ƒæ“ä½œï¼Œå¹¶é™¤ä»¥(1-dropout)ï¼Œè¿™é‡Œä¸ä½¿ç”¨é€‰ä¸­Xä¸­å…ƒç´ ç½®0çš„åŸå› æ˜¯ç›¸ä¹˜æ“ä½œç›¸æ¯”é€‰ä¸­æ“ä½œæ›´å¿«</span></span><br></pre></td></tr></table></figure>
<h4 id="5-2åœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨ä¸¢å¼ƒæ³•"><a href="#5-2åœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨ä¸¢å¼ƒæ³•" class="headerlink" title="5.2åœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨ä¸¢å¼ƒæ³•"></a>5.2åœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨ä¸¢å¼ƒæ³•</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">num_inputs, num_outputs, num_hiddens1, num_hiddens2 = <span class="number">784</span>, <span class="number">10</span>, <span class="number">256</span>, <span class="number">256</span></span><br><span class="line">dropout1, dropout2 = <span class="number">0.2</span>, <span class="number">0.5</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net</span>(nn.Module)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_init_</span>(<span class="params">self,num_inputs,num_outputs,num_outputs,num_hiddens1,num_hiddens2,is_training=<span class="literal">True</span></span>):</span><br><span class="line">       <span class="built_in">super</span>(Net,self)._init_()</span><br><span class="line">       self.num_inputs=num_inputs</span><br><span class="line">       self.training=is_training</span><br><span class="line">       self.lin1=nn.Linear(num_inputs,num_hiddens1)</span><br><span class="line">       self.lin2=nn.Linear(num_hiddens1,num_hiddens2)</span><br><span class="line">       self.lin2=nn.Linear(num_hiddens2,num_outputs)</span><br><span class="line">       self.relu=nn.ReLU()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,X</span>):</span><br><span class="line">       H1=self.relu(self.lin1(X.reshape((-<span class="number">1</span>,self.num_inputs))))</span><br><span class="line">       <span class="keyword">if</span> self.training == <span class="literal">True</span>:  <span class="comment">#ä¸¢å¼ƒæ³•ä»…åœ¨è®­ç»ƒä¸­ä½¿ç”¨</span></span><br><span class="line">           H1=dropout_layer(H1,dropout1)</span><br><span class="line">       H2=self.relu(self.lin2(H1))</span><br><span class="line">       <span class="keyword">if</span> self.training == <span class="literal">True</span>: <span class="comment">#ä¸¢å¼ƒæ³•ä»…åœ¨è®­ç»ƒä¸­ä½¿ç”¨</span></span><br><span class="line">           H2=dropout_layer(H2,dropout2)</span><br><span class="line">       out=self.lin3(H2)  <span class="comment">#outputå±‚ä¸å†ä½¿ç”¨ä¸¢å¼ƒæ³•</span></span><br><span class="line">       <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>12 æƒé‡è¡°é€€ Weight Decay</title>
    <url>/2024/04/23/11-01-12/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="12-æƒé‡è¡°é€€-Weight-Decay"><a href="#12-æƒé‡è¡°é€€-Weight-Decay" class="headerlink" title="12 æƒé‡è¡°é€€ Weight Decay"></a>12 æƒé‡è¡°é€€ Weight Decay</h2><p>æƒé‡è¡°é€€æ˜¯æœ€å¸¸è§çš„ä¸€ç§å¤„ç†è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼Œæ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„æ­£åˆ™åŒ–æŠ€æœ¯ä¹‹ä¸€ã€‚</p>
<h4 id="å¤ä¹ ï¼šæ§åˆ¶æ¨¡å‹å®¹é‡"><a href="#å¤ä¹ ï¼šæ§åˆ¶æ¨¡å‹å®¹é‡" class="headerlink" title="å¤ä¹ ï¼šæ§åˆ¶æ¨¡å‹å®¹é‡"></a>å¤ä¹ ï¼šæ§åˆ¶æ¨¡å‹å®¹é‡</h4><blockquote>
<ol>
<li>ä½¿ç”¨æ›´å°‘å‚æ•°</li>
<li>æ§åˆ¶æ¯ä¸ªå‚æ•°ï¼ˆå–å€¼/å¯é€‰æ‹©çš„å€¼ï¼‰èŒƒå›´è¾ƒå°</li>
</ol>
</blockquote>
<p>å…¶ä¸­æƒé‡è¡°é€€å±äºç¬¬äºŒç§æ–¹æ³•ã€‚</p>
<h3 id="1-ç¡¬æ€§é™åˆ¶-ç›´è§‚ç†è§£"><a href="#1-ç¡¬æ€§é™åˆ¶-ç›´è§‚ç†è§£" class="headerlink" title="1. ç¡¬æ€§é™åˆ¶/ç›´è§‚ç†è§£"></a>1. ç¡¬æ€§é™åˆ¶/ç›´è§‚ç†è§£</h3><p>æˆ‘ä»¬çš„ä¼˜åŒ–ç›®æ ‡ä»ç„¶æ˜¯$min\space\ell(\boldsymbol{w},b)$ï¼Œåªæ˜¯é¢å¤–å¯¹$\boldsymbol{w}$æ·»åŠ ä¸€ä¸ªé™åˆ¶æ¡ä»¶$||\boldsymbol{w}||^2\leqslant\theta$ï¼Œå³æƒé‡çš„å„é¡¹å¹³æ–¹å’Œå°äºä¸€ä¸ªç‰¹å®šçš„å¸¸æ•°$\theta$ã€‚é‚£ä¹ˆè®¾å®šä¸€ä¸ªè¾ƒå°çš„$\theta$å°±ä¼šä½¿å¾—$\boldsymbol{w}$ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½ä¸ä¼šå¤ªå¤§ã€‚</p>
<p>é€šå¸¸ä¸ä¼šé™åˆ¶åç§»bï¼Œç†è®ºä¸Šè®²bè¡¨ç¤ºæ•´ä¸ªæ•°æ®åœ¨é›¶ç‚¹ä¸Šçš„åç§»ï¼Œå› æ­¤æ˜¯ä¸åº”è¯¥é™åˆ¶çš„ï¼Œä½†å®è·µä¸­é™åˆ¶ä¸å¦å¯¹ç»“æœéƒ½æ²¡ä»€ä¹ˆå½±å“ã€‚</p>
<p><strong>å´æ©è¾¾è¯¾ç¨‹ä¸­å¯¹è¿™ä¸€ç°è±¡çš„è§£é‡Šæ˜¯wæ˜¯é«˜ç»´å‘é‡ï¼Œå·²ç»åŒ…å«äº†ç»å¤§å¤šæ•°å‚æ•°è¶³ä»¥è¡¨è¾¾é«˜æ–¹å·®é—®é¢˜ï¼Œbä½œä¸ºå•ä¸ªæ•°å­—å¯¹ç»“æœçš„å½±å“å°±ä¼šå¾ˆå°.</strong></p>
<p>å°çš„$\theta$æ„å‘³ç€æ›´å¼ºçš„æ­£åˆ™é¡¹ï¼Œå¯¹äºç›¸åŒçš„$\theta$ï¼Œ$\boldsymbol{w}$ä¸­å…ƒç´ è¶Šå¤šåˆ™å•ä¸ªå…ƒç´ çš„å€¼ä¼šè¶Šå°ã€‚</p>
<h3 id="2-æŸ”æ€§é™åˆ¶-å®é™…åº”ç”¨"><a href="#2-æŸ”æ€§é™åˆ¶-å®é™…åº”ç”¨" class="headerlink" title="2. æŸ”æ€§é™åˆ¶/å®é™…åº”ç”¨"></a>2. æŸ”æ€§é™åˆ¶/å®é™…åº”ç”¨</h3><p>ä¸Šæ–‡è¯´çš„ç¡¬æ€§é™åˆ¶åœ¨å®é™…ä½¿ç”¨æ—¶æ¯”è¾ƒéº»çƒ¦ï¼Œå®é™…ä¸Šå¸¸ç”¨çš„å‡½æ•°æ˜¯</p>
<p>$$<br>\begin{split}<br>min\space\ell(\boldsymbol{w},b)+\frac{\lambda}{2}||\boldsymbol{w}||^2<br>\end{split}<br>$$</p>
<p>å¯ä»¥é€šè¿‡æ‹‰æ ¼æœ—æ—¥ä¹˜å­è¯æ˜å¯¹äºæ¯ä¸ª$\theta$éƒ½å¯ä»¥æ‰¾åˆ°$\lambda$ä½¿å¾—ç¡¬æ€§é™åˆ¶çš„ç›®æ ‡å‡½æ•°ç­‰ä»·äºä¸Šå¼ã€‚</p>
<p>å…¶ä¸­$\frac{\lambda}{2}||\boldsymbol{w}||^2$è¿™ä¸€é¡¹è¢«ç§°ä¸ºç½š(penalty)ï¼Œ$\lambda$æ˜¯è¶…å‚æ•°ï¼Œæ§åˆ¶äº†æ­£åˆ™é¡¹çš„é‡è¦ç¨‹åº¦ã€‚</p>
<p>å½“ $\lambda=0$ æ—¶æ— ä½œç”¨ï¼Œ$\lambda\rightarrow\infty$ æ—¶æœ€ä¼˜è§£ $\boldsymbol{w}^*\rightarrow0$ï¼Œä¹Ÿå°±æ˜¯è¯´ $\lambda$ è¶Šå¤§æ¨¡å‹å¤æ‚åº¦å°±è¢«æ§åˆ¶çš„è¶Šä½ã€‚</p>
<p>ä¸‹é¢æ˜¯è€å¸ˆç»™å‡ºçš„æ¼”ç¤ºå›¾</p>
<img src="/2024/04/23/11-01-12/12-01.JPG" class>
<p>ä»¥$\boldsymbol{w}$ä¸­åªæœ‰ä¸¤ä¸ªå‚æ•°ä¸ºä¾‹ï¼Œå…¶ä¸­ç»¿è‰²çš„éƒ¨åˆ†æ˜¯åŸæœ¬æŸå¤±å‡½æ•°å‡½æ•°å€¼çš„â€œç­‰é«˜çº¿â€ï¼Œé»„è‰²éƒ¨åˆ†å¯ä»¥çœ‹ä½œæ˜¯æ­£åˆ™é¡¹å¯¹åº”å‡½æ•°å€¼çš„â€œç­‰é«˜çº¿â€ ï¼Œä½¿ç”¨æƒé‡è¡°å‡åéœ€è¦ä¼˜åŒ–çš„æŸå¤±å‡½æ•°ç›¸å½“äºå›¾ä¸­ä¸¤ç»„ç­‰é«˜çº¿å åŠ ã€‚åŸæœ¬æœ€ä¼˜è§£ä½äºç»¿è‰²ä¸­å¿ƒï¼Œç°åœ¨è¿™ä¸€ä½ç½®åœ¨å¯¹äºæ­£åˆ™é¡¹æœ‰å¾ˆé«˜çš„æŸå¤±ï¼Œè€Œæ­£åˆ™é¡¹æœ€å°å€¼ä½äºåŸç‚¹ï¼Œå› æ­¤ç°åœ¨çš„æœ€ç»ˆä¼˜åŒ–è§£ä¼šæ›´é è¿‘åŸç‚¹ï¼Œè€Œå½“æ‰€æœ‰å‚æ•°éƒ½æ›´é è¿‘åŸç‚¹æ—¶æ¨¡å‹çš„è§„æ¨¡ä¹Ÿå°±æ›´å°ã€‚</p>
<h3 id="3-å‚æ•°æ›´æ–°"><a href="#3-å‚æ•°æ›´æ–°" class="headerlink" title="3. å‚æ•°æ›´æ–°"></a>3. å‚æ•°æ›´æ–°</h3><h4 id="3-1-è®¡ç®—æ¢¯åº¦"><a href="#3-1-è®¡ç®—æ¢¯åº¦" class="headerlink" title="3.1 è®¡ç®—æ¢¯åº¦"></a>3.1 è®¡ç®—æ¢¯åº¦</h4><p>$$<br>\begin{split}<br>\frac{\partial{} }{\partial{\boldsymbol{w} } }(\ell(\boldsymbol{w},b)+\frac{\lambda}{2}||\boldsymbol{w}||^2)=\frac{\partial{\ell(\boldsymbol{w},b)} }{ {\partial{\boldsymbol{w} } } }+\lambda\boldsymbol{w}<br>\end{split}<br>$$</p>
<h4 id="3-2-æ›´æ–°å‚æ•°"><a href="#3-2-æ›´æ–°å‚æ•°" class="headerlink" title="3.2 æ›´æ–°å‚æ•°"></a>3.2 æ›´æ–°å‚æ•°</h4><p>å°†ä¸Šå¼ç»“æœå¸¦å…¥æ›´æ–°å‚æ•°å…¬å¼æ•´ç†å¯å¾—</p>
<p>$$<br>\begin{split}<br>\boldsymbol{w}_{t+1}=(1-\eta\lambda)\boldsymbol{w}_{t}-\eta\frac{\partial{\ell(\boldsymbol{w}_t,b_t)} }{ {\partial{\boldsymbol{w}_{t} } } }<br>\end{split}<br>$$</p>
<p>æ³¨æ„åˆ°è¿™ä¸ªå…¬å¼ä¸­åä¸€é¡¹ä¸åŸæ¥æ›´æ–°å‚æ•°çš„å…¬å¼æ²¡æœ‰åŒºåˆ«ï¼Œä»…ä»…æ˜¯åœ¨å‰ä¸€é¡¹$\boldsymbol{w}_{t}$ ä¸ŠåŠ äº†ä¸€ä¸ªç³»æ•°$(1-\eta\lambda)$ã€‚é€šå¸¸$\eta\lambda&lt;1$ ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±äºå¼•å…¥äº†$\lambda$ï¼Œæ¯æ¬¡æ›´æ–°å‚æ•°å‰å…ˆç»™å¾…æ›´æ–°å‚æ•°ä¹˜ä¸Šä¸€ä¸ªå°äº1çš„æƒé‡å†æ›´æ–°ï¼Œæƒé‡è¡°é€€ç”±æ­¤å¾—åã€‚</p>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h3><ul>
<li>æƒé‡è¡°é€€é€šè¿‡L2æ­£åˆ™é¡¹ä½¿å¾—æ¨¡å‹å‚æ•°ä¸ä¼šè¿‡å¤§ï¼Œä»è€Œæ§åˆ¶æ¨¡å‹å¤æ‚åº¦</li>
<li>æ­£åˆ™é¡¹æƒé‡ï¼ˆ$\lambda$ï¼‰æ˜¯æ§åˆ¶æ¨¡å‹å¤æ‚åº¦çš„è¶…å‚æ•°                                                                                                                                       </li>
</ul>
<h3 id="5-Q-amp-A"><a href="#5-Q-amp-A" class="headerlink" title="5. Q&amp;A"></a>5. Q&amp;A</h3><ul>
<li><p>Qï¼šPytorchæ˜¯å¦æ”¯æŒå¤æ•°ç¥ç»ç½‘ç»œï¼Ÿ</p>
</li>
<li><p>Aï¼šåº”è¯¥ä¸æ”¯æŒï¼Œä½†å¤æ•°å¯ä»¥çœ‹ä½œæ˜¯äºŒç»´çš„æ•°ï¼Œå¯ä»¥å°è¯•å°†å¯¹åº”ç»“æ„å˜æˆäºŒç»´æ¥å®ç°éœ€è¦çš„æ•ˆæœã€‚</p>
</li>
<li><p>Qï¼šä¸ºä»€ä¹ˆå‚æ•°ä¸è¿‡å¤§å¤æ‚åº¦å°±ä½å‘¢ï¼Ÿ</p>
</li>
<li><p>Aï¼šç¡®åˆ‡çš„è¯´æ˜¯é™åˆ¶æ¨¡å‹ä¼˜åŒ–æ—¶åªèƒ½åœ¨å¾ˆå°èŒƒå›´å†…å–å‚æ•°ä¼šä½¿æ¨¡å‹å¤æ‚åº¦é™ä½ï¼Œè§ä¸‹å›¾</p>
</li>
</ul>
<img src="/2024/04/23/11-01-12/12-02.JPG" class>
<p>å‚æ•°é€‰æ‹©èŒƒå›´å¤§æ—¶å¯æ‹Ÿåˆå‡ºå¾ˆå¤æ‚çš„æ›²çº¿ï¼Œé™åˆ¶ååªèƒ½å­¦åˆ°æ›´å¹³æ»‘çš„æ›²çº¿/é€‰æ‹©æ›´ç®€å•çš„æ¨¡å‹ï¼Œé‚£ä¹ˆæ¨¡å‹å¤æ‚åº¦å°±å˜ä½äº†ã€‚</p>
<ul>
<li><p>Qï¼šå¦‚æœä½¿ç”¨L1èŒƒæ•°å¦‚ä½•æ›´æ–°æƒé‡ï¼Ÿ</p>
</li>
<li><p>Aï¼šç¼–å†™ä»£ç æ—¶åªéœ€æŠŠç½šé¡¹æ”¹æˆå¦‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">l1_penalty</span>(<span class="params">w</span>):</span><br><span class="line">  <span class="keyword">return</span> torch.<span class="built_in">sum</span>(torch.<span class="built_in">abs</span>(w))</span><br></pre></td></tr></table></figure>
<p>è€å¸ˆè§£ç­”å°±åˆ°è¿™é‡Œï¼Œä½†å®æ“ä¸åº”è¯¥åªæ”¹ç½šé¡¹å‡½æ•°ï¼Œè¿˜éœ€é‡æ–°å®šä¹‰å¸¦æ­£åˆ™é¡¹çš„æŸå¤±å‡½æ•°å¹¶æ±‚å¯¼åŒ–ç®€ã€‚</p>
<div align="center">

$\frac{\partial{} }{\partial{\mathbf{w} } }(\ell(\mathbf{w},b)+\lambda||\mathbf{w}||_1)=\frac{\partial{\ell(\mathbf{w},b)} }{ {\partial{\mathbf{w} } } }+I'\lambda$

</div>

<p>å…¶ä¸­$Iâ€™=(a_1,â€¦,a_n)$,å½“$\mathbf{w}$ä¸­ç¬¬iä¸ªå…ƒç´ ä¸ºæ­£æ—¶$a_i=1$ï¼Œåä¹‹$a_i=-1$.ï¼ˆ=0æ—¶éšæ„ï¼‰</p>
<p>ä»£å…¥å…¬å¼åŒ–ç®€å¾—</p>
<div align="center">

$\mathbf{w}_{t+1}=\mathbf{w}_{t}-\eta\frac{\partial{\ell(\mathbf{w}_t,b_t)} }{ {\partial{\mathbf{w}_{t} } } }-I'\eta\lambda$

</div>

<p>ä»è¿™ä¸ªå¼å­å¯ä»¥çœ‹å‡ºä½¿ç”¨L1æ­£åˆ™åŒ–æ—¶åªèƒ½å¯¹æ‰€æœ‰åŒå·çš„å‚æ•°æ–½åŠ ä¸€ä¸ªç›¸åŒå¤§å°çš„æ­£åˆ™é¡¹ï¼ˆå¢å‡ä¸€ä¸ªå®šå€¼ï¼‰ï¼Œè€Œåè§‚L2æ­£åˆ™åŒ–å¯¹å‚æ•°çš„å½±å“æ˜¯ä¸å‚æ•°æœ¬èº«çš„å€¼æœ‰å…³çš„ï¼ˆä¹˜ä¸Šä¸€ä¸ªç³»æ•°ï¼‰ä¼¼ä¹æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ä¸è¿‡L1æ­£åˆ™åŒ–åœ¨ç‰¹å¾æå–ä¸Šä¼šæœ‰ç”¨å¤„ã€‚</p>
<ul>
<li><p>Qï¼šå®è·µä¸­æƒé‡è¡°å‡çš„å€¼è®¾ç½®ä¸ºå¤šå°‘å¥½ï¼Ÿè·‘ä»£ç æ—¶æ„Ÿè§‰æ•ˆæœä¸æ˜æ˜¾ã€‚</p>
</li>
<li><p>Aï¼šä¸€èˆ¬å–1e-2,1e-3,1e-4ï¼Œæƒé‡è¡°é€€çš„æ•ˆæœç¡®å®æœ‰é™ï¼Œä¹‹åè¿˜ä¼šè®²è§£æ›´å¤šæ–¹æ³•ã€‚å¦‚æœæ¨¡å‹çœŸçš„å¾ˆå¤æ‚é‚£ä¹ˆæƒé‡è¡°é€€ä¸€èˆ¬ä¸ä¼šå¸¦æ¥ç‰¹åˆ«å¥½çš„æ•ˆæœã€‚</p>
</li>
<li><p>Qï¼šå…³äºL2èŒƒæ•°çš„è®°æ³•</p>
</li>
<li><p>Aï¼šå®Œæ•´çš„å†™æ³•æ˜¯$||\boldsymbol{w}||^2_2$ï¼Œä¸Šæ ‡çš„2è¡¨ç¤ºå¹³æ–¹ï¼Œä¸‹æ ‡çš„2è¡¨ç¤ºæ˜¯L2èŒƒæ•°ï¼Œä¸‹æ ‡æœ‰æ—¶çœç•¥ã€‚</p>
</li>
<li><p>Qï¼šä¸ºä»€ä¹ˆè¦æŠŠ$\boldsymbol{w}$å¾€å°æ‹‰ï¼Ÿå¦‚æœæœ€ä¼˜è§£çš„$\boldsymbol{w}$æœ¬æ¥å°±è¾ƒå¤§æƒé‡è¡°å‡æ˜¯å¦ä¼šèµ·åä½œç”¨ï¼Ÿ/æ­£åˆ™é¡¹ä½¿å¾—$\boldsymbol{w}$å˜å¾—æ›´å¹³å‡æ²¡æœ‰çªå‡ºçš„å€¼ä¸ºä»€ä¹ˆå¯ä»¥æ‹Ÿåˆçš„æ›´å¥½å‘¢ï¼Ÿ</p>
</li>
<li><p>Aï¼šå®é™…è®­ç»ƒçš„æ•°æ®éƒ½æ˜¯æœ‰å™ªéŸ³çš„ï¼Œè€Œè¿™äº›å™ªéŸ³å¯èƒ½ä¼šè¢«æ‹Ÿåˆè¿›å»ä½¿å¾—æˆ‘ä»¬å®é™…æ±‚è§£æ—¶å¾—ä¸åˆ°æ•°å­¦ä¸Šçš„æœ€ä¼˜è§£ï¼Œæ­£åˆ™åŒ–èµ·åˆ°å°†ç»“æœæ‹‰å‘æœ€ä¼˜è§£çš„ä½œç”¨ã€‚å½“ç„¶å¦‚æœ$\lambda$é€‰å–è¿‡å¤§å¯èƒ½ä¼šæ‹‰å°çš„è¿‡å¤šï¼Œå¦‚æœæ²¡æœ‰è¿‡æ‹Ÿåˆé‚£æƒé‡è¡°å‡å°±ä¸èµ·ä½œç”¨ã€‚</p>
<p><strong>ç¬”è€…æ³¨ï¼šè¿™éƒ¨åˆ†è€å¸ˆèŠ±äº†è¾ƒé•¿æ—¶é—´è§£é‡Šï¼Œå»ºè®®å¤§å®¶è‡ªå·±å»çœ‹è§†é¢‘ã€‚æˆ‘çš„ä¸ªäººç†è§£æ˜¯é‡ç‚¹ä¸åœ¨äºwå¤§å°/æ˜¯å¦å¹³å‡ï¼Œè€Œæ˜¯ç”±äºæ•°æ®æœ‰å™ªå£°ï¼Œè€Œå™ªå£°å¼•èµ·è¿‡æ‹Ÿåˆä½¿å¾—æ±‚å‡ºçš„wæ¯”æ•°å­¦ä¸Šçš„æœ€ä¼˜è§£æ›´å¤§/æ›´ä¸å¹³å‡ï¼Œè¿™æ—¶å°±éœ€è¦æ­£åˆ™åŒ–èµ·åˆ°ä¸€ä¸ªå°†ç»“æœæ‹‰å‘æ›´å°/å¹³å‡/æ¥è¿‘æœ€ä¼˜è§£çš„ä½œç”¨ã€‚</strong></p>
</li>
<li><p>Qï¼šå™ªéŸ³å¤§ä¼šä½¿å¾—$\boldsymbol{w}$è¾ƒå¤§æ˜¯ç»éªŒæ‰€å¾—è¿˜æ˜¯å¯ä»¥è¯æ˜ï¼Ÿ</p>
</li>
<li>Aï¼šå¯ä»¥è¯æ˜ï¼Œä½†æœ¬è¯¾ç¨‹ä¸­ä¸è®²ï¼Œå¯ä»¥è‡ªå·±å°è¯•ã€‚</li>
<li>Qï¼šæ€æ ·è°ƒæ•´$\lambda$ï¼Ÿ</li>
<li>Aï¼šä¸èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™æ˜¯æœ€ä¼˜ï¼Œä½†å¯ä»¥ç”¨å‰é¢è®²çš„éªŒè¯é›†/kæŠ˜äº¤å‰éªŒè¯ï¼Œå…ˆå–$\lambda=0$çœ‹è®­ç»ƒç»“æœï¼Œå†æ”¹å˜$\lambda$çœ‹æ˜¯å¦æœ‰æ”¹å–„ã€‚</li>
</ul>
<p><strong>ä»£ç å’Œéƒ¨åˆ†è¯¾åé¢˜å‚è€ƒç­”æ¡ˆè§æœ¬è®²çš„ipynbæ–‡ä»¶ã€‚</strong></p>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>11-æ¨¡å‹é€‰æ‹©+è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ</title>
    <url>/2024/04/23/11-01-11/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="11-æ¨¡å‹é€‰æ‹©-è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"><a href="#11-æ¨¡å‹é€‰æ‹©-è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ" class="headerlink" title="11-æ¨¡å‹é€‰æ‹©+è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"></a>11-æ¨¡å‹é€‰æ‹©+è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ</h2><h3 id="1-æ¨¡å‹é€‰æ‹©"><a href="#1-æ¨¡å‹é€‰æ‹©" class="headerlink" title="1. æ¨¡å‹é€‰æ‹©"></a>1. æ¨¡å‹é€‰æ‹©</h3><p>æœ¬å°èŠ‚ä¸»è¦ä»‹ç»äº†è¯„ä¼°æ¨¡å‹çš„ä¸€äº›æŒ‡æ ‡å’Œæ–¹æ³•</p>
<h4 id="1-1-å®ä¾‹åˆ†æï¼šé¢„æµ‹è°ä¼šå¿è¿˜è´·æ¬¾"><a href="#1-1-å®ä¾‹åˆ†æï¼šé¢„æµ‹è°ä¼šå¿è¿˜è´·æ¬¾" class="headerlink" title="1.1 å®ä¾‹åˆ†æï¼šé¢„æµ‹è°ä¼šå¿è¿˜è´·æ¬¾"></a>1.1 å®ä¾‹åˆ†æï¼šé¢„æµ‹è°ä¼šå¿è¿˜è´·æ¬¾</h4><ul>
<li>é“¶è¡Œé›‡ä½ æ¥è°ƒæŸ¥è°ä¼šå¿è¿˜è´·æ¬¾ï¼Œä½ å¾—åˆ°äº†100ä¸ªç”³è¯·äººçš„ä¿¡æ¯ï¼Œå…¶ä¸­äº”ä¸ªäººåœ¨3å¹´å†…è¿çº¦äº†ã€‚ç„¶åä½ æƒŠè®¶çš„å‘ç°ï¼Œ<strong>æ‰€æœ‰çš„äº”ä¸ªäººåœ¨é¢è¯•æ—¶éƒ½ç©¿äº†è“è‰²è¡¬è¡«</strong>ã€‚æ˜¾ç„¶ï¼Œä½ çš„æ¨¡å‹ä¹Ÿå‘ç°äº†è¿™ä¸ªå¼ºä¿¡å·ï¼Œè¿™ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
</ul>
<p><strong>ç­”æ¡ˆæ˜¯ï¼Œä½ çš„æ¨¡å‹å¾ˆæœ‰å¯èƒ½ä¼šè®¤ä¸ºæ‰€æœ‰æ¥é¢è¯•çš„äººéƒ½ä¼šç©¿è“è‰²è¡¬è¡«ï¼Œè€Œè¿™å½“ç„¶æ˜¯ä¸å¯¹çš„ã€‚</strong></p>
<h4 id="1-2-è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®"><a href="#1-2-è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®" class="headerlink" title="1.2 è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®"></a>1.2 è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®</h4><ul>
<li>è®­ç»ƒè¯¯å·®ï¼šæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„è¯¯å·®</li>
<li>æ³›åŒ–è¯¯å·®ï¼šæ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šçš„è¯¯å·®</li>
<li><p>ä¾‹å­ï¼šæ ¹æ®æ¨¡è€ƒæˆç»©æ¥é¢„æµ‹æœªæ¥è€ƒè¯•åˆ†æ•°</p>
<ul>
<li>åœ¨è¿‡å»çš„è€ƒè¯•ä¸­è¡¨ç°å¾ˆå¥½ï¼ˆ<strong>è®­ç»ƒè¯¯å·®</strong>ï¼‰ä¸ä»£è¡¨æœªæ¥ä¼šå¥½ï¼ˆ<strong>æ³›åŒ–è¯¯å·®</strong>ï¼‰</li>
<li>å­¦ç”ŸAé€šè¿‡èƒŒä¹¦åœ¨æ¨¡è€ƒä¸­æ‹¿åˆ°å¾ˆå¥½æˆç»©</li>
<li>å­¦ç”ŸBçŸ¥é“ç­”æ¡ˆåé¢çš„åŸå› </li>
</ul>
</li>
<li><p><strong>å…¶ä¸­ï¼Œæ³›åŒ–è¯¯å·®æ˜¯æˆ‘ä»¬æ‰€æœ€å…³å¿ƒçš„</strong></p>
</li>
</ul>
<h4 id="1-3-éªŒè¯æ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†"><a href="#1-3-éªŒè¯æ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†" class="headerlink" title="1.3 éªŒè¯æ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†"></a>1.3 éªŒè¯æ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†</h4><ul>
<li>éªŒè¯æ•°æ®é›†ï¼šä¸€ä¸ªç”¨æ¥è¯„ä¼°æ¨¡å‹å¥½åçš„æ•°æ®é›†<ul>
<li>ä¾‹å¦‚æ‹¿å‡º50%çš„è®­ç»ƒæ•°æ®</li>
<li>ä¸è¦è·Ÿè®­ç»ƒæ•°æ®æ··åœ¨ä¸€èµ·ï¼ˆå¸¸çŠ¯é”™è¯¯ï¼‰</li>
</ul>
</li>
<li><p>æµ‹è¯•æ•°æ®é›†ï¼šåªç”¨ä¸€æ¬¡çš„æ•°æ®é›†ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>æœªæ¥çš„è€ƒè¯•</li>
<li>æˆ‘å‡ºä»·çš„æˆ¿å­çš„å®é™…æˆäº¤ä»·</li>
<li>ç”¨åœ¨kaggleç§æœ‰æ’è¡Œæ¦œä¸­çš„æ•°æ®é›†</li>
</ul>
</li>
<li><p><strong>äºŒè€…æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼ŒéªŒè¯æ•°æ®é›†å¯ä»¥é‚£æ¥ç”¨å¾ˆå¤šæ¬¡ï¼Œç›¸å½“äºå¹³æ—¶çš„æ¨¡æ‹Ÿè€ƒï¼Œè€Œæµ‹è¯•æ•°æ®é›†åˆ™åªèƒ½ç”¨ä¸€æ¬¡æ¥è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ï¼Œç›¸å½“äºæœ€ç»ˆçš„è€ƒè¯•ã€‚</strong></p>
</li>
</ul>
<h4 id="1-4-K-åˆ™äº¤å‰éªŒè¯"><a href="#1-4-K-åˆ™äº¤å‰éªŒè¯" class="headerlink" title="1.4 K-åˆ™äº¤å‰éªŒè¯"></a>1.4 K-åˆ™äº¤å‰éªŒè¯</h4><ul>
<li>åœ¨æ²¡æœ‰è¶³å¤Ÿå¤šæ•°æ®æ—¶ä½¿ç”¨ï¼ˆè¿™æ˜¯å¸¸æ€ï¼‰</li>
<li>ç®—æ³•ï¼š<ul>
<li>å°†è®­ç»ƒæ•°æ®åˆ†å‰²kå—</li>
<li>For i = 1ï¼Œâ€¦â€¦ï¼Œk<ul>
<li>ä½¿ç”¨ç¬¬iå—ä½œä¸ºéªŒè¯æ•°æ®é›†ï¼Œå…¶ä½™çš„ä½œä¸ºè®­ç»ƒæ•°æ®é›†</li>
</ul>
</li>
<li>æŠ¥å‘Škä¸ªéªŒè¯é›†è¯¯å·®çš„å¹³å‡</li>
</ul>
</li>
<li><p>å¸¸ç”¨ï¼šk = 5æˆ–10</p>
<blockquote>
<p>éšæœºæ‰“æ•£ï¼Œåˆ†å‰²Kå—ï¼Œkæ¬¡è®¡ç®—ï¼Œç¬¬iæ¬¡ï¼Œç”¨ç¬¬iå—ä½œä¸ºéªŒè¯é›†ï¼Œå‰©ä¸‹çš„ä½œä¸ºè®­ç»ƒæ•°æ®é›†ã€‚è¿™æ ·ä¼šè·å¾—kæ¬¡è¯¯å·®ï¼Œç®—è¯¯å·®å¹³å‡å€¼ã€‚</p>
</blockquote>
</li>
<li>K-åˆ™äº¤å‰éªŒè¯çš„ç›®çš„æ˜¯åœ¨æ²¡æœ‰è¶³å¤Ÿå¤šæ•°æ®ä½¿ç”¨æ—¶è¯„ä¼°æ¨¡å‹å’Œè¶…å‚æ•°çš„æ€§èƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>Kæ¬¡è®­ç»ƒå’ŒéªŒè¯ä½¿ç”¨çš„æ˜¯ç›¸åŒçš„è¶…å‚æ•°å’Œæ¨¡å‹</strong></li>
</ul>
<h4 id="1-5-æ€»ç»“"><a href="#1-5-æ€»ç»“" class="headerlink" title="1.5 æ€»ç»“"></a>1.5 æ€»ç»“</h4><ul>
<li>è®­ç»ƒæ•°æ®é›†ï¼šè®­ç»ƒæ¨¡å‹å‚æ•°</li>
<li>éªŒè¯æ•°æ®é›†ï¼šé€‰æ‹©æ¨¡å‹è¶…å‚æ•°,ä¿ç•™æœ€å¥½çš„å‚æ•°</li>
<li>éå¤§æ•°æ®é›†ä¸Šé€šå¸¸ä½¿ç”¨k-åˆ™äº¤å‰éªŒè¯</li>
</ul>
<h3 id="2-è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"><a href="#2-è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ" class="headerlink" title="2. è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ"></a>2. è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆ</h3><h4 id="2-1-ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆï¼Ÿ"><a href="#2-1-ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆï¼Ÿ" class="headerlink" title="2.1 ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆï¼Ÿ"></a>2.1 ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆï¼Ÿ</h4><div class="table-container">
<table>
<thead>
<tr>
<th>æ¨¡å‹å®¹é‡\æ•°æ®</th>
<th>ç®€å•</th>
<th style="text-align:center">å¤æ‚</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä½</td>
<td>æ­£å¸¸</td>
<td style="text-align:center">æ¬ æ‹Ÿåˆ</td>
</tr>
<tr>
<td>é«˜</td>
<td>è¿‡æ‹Ÿåˆ</td>
<td style="text-align:center">æ­£å¸¸</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>tipsï¼šæ¨¡å‹å®¹é‡å³æ¨¡å‹çš„å¤æ‚åº¦ï¼Œä¹Ÿä»£è¡¨äº†æ¨¡å‹æ‹Ÿåˆå„ç§å‡½æ•°çš„èƒ½åŠ›</li>
</ul>
<h4 id="2-2-æ¨¡å‹å®¹é‡"><a href="#2-2-æ¨¡å‹å®¹é‡" class="headerlink" title="2.2 æ¨¡å‹å®¹é‡"></a>2.2 æ¨¡å‹å®¹é‡</h4><ul>
<li>æ‹Ÿåˆå„ç§å‡½æ•°çš„èƒ½åŠ›</li>
<li>ä½å®¹é‡çš„æ¨¡å‹éš¾ä»¥æ‹Ÿåˆè®­ç»ƒæ•°æ®</li>
<li>é«˜å®¹é‡çš„æ¨¡å‹å¯ä»¥è®°ä½æ‰€æœ‰çš„è®­ç»ƒæ•°æ®</li>
</ul>
<img src="/2024/04/23/11-01-11/11-01.png" class>
<ul>
<li>æ˜¾ç„¶ï¼Œæ¨¡å‹å®¹é‡å¤ªä½æˆ–å¤ªé«˜éƒ½ä¸å¥½ã€‚å¤ªä½ï¼ˆå¯¹åº”ç¬¬ä¸€ç§ï¼‰è¿‡äºç®€å•ï¼Œæ¨¡å‹åˆ†ç±»æ•ˆæœå·®ï¼Œå¤ªé«˜ï¼ˆå¯¹åº”ç¬¬äºŒç§ï¼‰åˆ™è¿‡äºå¤æ‚ï¼ŒæŠŠå™ªå£°å…¨éƒ¨éƒ½æ‹Ÿåˆä½äº†ï¼Œè¿™æ˜¯æˆ‘ä»¬æ‰€ä¸å¸Œæœ›çš„ã€‚</li>
</ul>
<h4 id="2-3-æ¨¡å‹å®¹é‡çš„å½±å“"><a href="#2-3-æ¨¡å‹å®¹é‡çš„å½±å“" class="headerlink" title="2.3 æ¨¡å‹å®¹é‡çš„å½±å“"></a>2.3 æ¨¡å‹å®¹é‡çš„å½±å“</h4><img src="/2024/04/23/11-01-11/11-02.png" class>
<ul>
<li>æˆ‘ä»¬çš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯æŠŠæ³›åŒ–è¯¯å·®å¾€ä¸‹é™</li>
</ul>
<h4 id="2-4-ä¼°è®¡æ¨¡å‹å®¹é‡"><a href="#2-4-ä¼°è®¡æ¨¡å‹å®¹é‡" class="headerlink" title="2.4 ä¼°è®¡æ¨¡å‹å®¹é‡"></a>2.4 ä¼°è®¡æ¨¡å‹å®¹é‡</h4><ul>
<li>éš¾ä»¥åœ¨ä¸åŒçš„ç§ç±»ç®—æ³•ä¹‹é—´æ¯”è¾ƒ<ul>
<li>ä¾‹å¦‚æ ‘æ¨¡å‹å’Œç¥ç»ç½‘ç»œ</li>
</ul>
</li>
<li>ç»™å®šä¸€ä¸ªæ¨¡å‹ç§ç±»ï¼Œå°†æœ‰ä¸¤ä¸ªä¸»è¦å› ç´ <ul>
<li>å‚æ•°çš„ä¸ªæ•°</li>
<li>å‚æ•°çš„é€‰æ‹©èŒƒå›´</li>
</ul>
</li>
</ul>
<img src="/2024/04/23/11-01-11/11-03.png" class>
<h4 id="2-5-VCç»´"><a href="#2-5-VCç»´" class="headerlink" title="2.5 VCç»´"></a>2.5 VCç»´</h4><p>VCç»´æ˜¯ç»Ÿè®¡å­¦ä¹ ç†è®ºçš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³ï¼Œè¿™é‡Œå¤§è‡´äº†è§£å°±è¡Œï¼Œå› ä¸ºå¾ˆéš¾è®¡ç®—ä¹‹åå­¦ä¹ çš„æ¨¡å‹ï¼ˆå¦‚CNN,RNN)çš„VCç»´ï¼Œæ•…å¹¶ä¸ç»å¸¸ç”¨</p>
<ul>
<li>å®šä¹‰ï¼šå¯¹äºä¸€ä¸ªåˆ†ç±»æ¨¡å‹ï¼ŒVCç»´ç­‰äºä¸€ä¸ªæœ€å¤§çš„æ•°æ®é›†çš„å¤§å°ï¼Œä¸ç®¡å¦‚ä½•ç»™å®šæ ‡å·ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªæ¨¡å‹å¯¹å®ƒè¿›è¡Œå®Œç¾åˆ†ç±»ã€‚å³å­˜åœ¨Hä¸ªæ ·æœ¬ï¼Œæ¨¡å‹èƒ½æŠŠHä¸ªæ ·æœ¬çš„2^Hç§æ ‡å·æ–¹å¼æ‰“æ•£çš„Hçš„æœ€å¤§å€¼ã€‚</li>
<li>ä¾‹å­ï¼šçº¿æ€§åˆ†ç±»å™¨çš„VCç»´<ul>
<li>2ç»´è¾“å…¥çš„æ„ŸçŸ¥æœºï¼ŒVCç»´=3ï¼ˆå¯¹äºä¸‰ä¸ªç‚¹çš„ä»»æ„æ ‡å·éƒ½èƒ½åˆ†ç±»ï¼Œè€Œä»»æ„å››ä¸ªç‚¹çš„æ ·æœ¬éƒ½å­˜åœ¨ä¸èƒ½è¢«æ‰“æ•£çš„æ ‡å·å½¢å¼ä¸ªï¼Œå¦‚ä¹‹å‰è®²è¿‡çš„XORï¼‰</li>
</ul>
</li>
</ul>
<p>3ä¸ªç‚¹ï¼š</p>
<img src="/2024/04/23/11-01-11/11-04.png" class>
<p>4ä¸ªç‚¹ï¼š</p>
<img src="/2024/04/23/11-01-11/11-05.png" class>
<ul>
<li>æ”¯æŒNç»´è¾“å…¥çš„æ„ŸçŸ¥æœºçš„VCç»´æ˜¯N+1</li>
</ul>
<h4 id="2-6-VCç»´çš„ç”¨å¤„"><a href="#2-6-VCç»´çš„ç”¨å¤„" class="headerlink" title="2.6 VCç»´çš„ç”¨å¤„"></a>2.6 VCç»´çš„ç”¨å¤„</h4><ul>
<li>æä¾›ä¸ºä»€ä¹ˆä¸€ä¸ªæ¨¡å‹å¥½çš„ç†è®ºä¾æ®<ul>
<li>å®ƒå¯ä»¥è¡¡é‡è®­ç»ƒè¯¯å·®å’Œæ³›åŒ–è¯¯å·®ä¹‹é—´çš„é—´éš”</li>
</ul>
</li>
<li>ä½†æ·±åº¦å­¦ä¹ ä¸­å¾ˆå°‘ä½¿ç”¨<ul>
<li>è¡¡é‡ä¸æ˜¯å¾ˆå‡†ç¡®</li>
<li>è®¡ç®—æ·±åº¦å­¦ä¹ æ¨¡å‹çš„VCç»´å¾ˆå›°éš¾</li>
</ul>
</li>
</ul>
<h4 id="2-7-æ•°æ®å¤æ‚åº¦"><a href="#2-7-æ•°æ®å¤æ‚åº¦" class="headerlink" title="2.7 æ•°æ®å¤æ‚åº¦"></a>2.7 æ•°æ®å¤æ‚åº¦</h4><ul>
<li>å¤šä¸ªé‡è¦å› ç´ <ul>
<li>æ ·æœ¬çš„å…ƒç´ ä¸ªæ•°</li>
<li>æ¯ä¸ªæ ·æœ¬çš„å…ƒç´ ä¸ªæ•°</li>
<li>æ—¶é—´ã€ç©ºé—´ç»“æ„</li>
<li>å¤šæ ·æ€§</li>
</ul>
</li>
</ul>
<h4 id="2-8-æ€»ç»“"><a href="#2-8-æ€»ç»“" class="headerlink" title="2.8 æ€»ç»“"></a>2.8 æ€»ç»“</h4><ul>
<li>æ¨¡å‹å®¹é‡éœ€è¦åŒ¹é…æ•°æ®å¤æ‚åº¦ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ</li>
<li>ç»Ÿè®¡æœºå™¨å­¦ä¹ æä¾›æ•°å­¦å·¥å…·æ¥è¡¡é‡æ¨¡å‹å¤æ‚åº¦</li>
<li>å®é™…ä¸­ä¸€èˆ¬è€ƒè§‚å¯Ÿè®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®</li>
</ul>
<h3 id="3-å¤šé¡¹å¼å›å½’"><a href="#3-å¤šé¡¹å¼å›å½’" class="headerlink" title="3. å¤šé¡¹å¼å›å½’"></a>3. å¤šé¡¹å¼å›å½’</h3><ul>
<li>æœ¬å°èŠ‚ä½¿ç”¨å¤šé¡¹å¼å›å½’ä¸ºä¾‹å­ï¼Œåœ¨pytorchä¸Šå±•ç¤ºè¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆçš„å®é™…è¡¨ç°</li>
</ul>
<h4 id="3-1-å¯¼å…¥åº“"><a href="#3-1-å¯¼å…¥åº“" class="headerlink" title="3.1 å¯¼å…¥åº“"></a>3.1 å¯¼å…¥åº“</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br></pre></td></tr></table></figure>
<h4 id="3-2-ç”Ÿæˆæ•°æ®é›†"><a href="#3-2-ç”Ÿæˆæ•°æ®é›†" class="headerlink" title="3.2 ç”Ÿæˆæ•°æ®é›†"></a>3.2 ç”Ÿæˆæ•°æ®é›†</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">max_degree = <span class="number">20</span>  <span class="comment"># å¤šé¡¹å¼çš„æœ€å¤§é˜¶æ•°</span></span><br><span class="line">n_train, n_test = <span class="number">100</span>, <span class="number">100</span>  <span class="comment"># è®­ç»ƒå’Œæµ‹è¯•æ•°æ®é›†å¤§å°</span></span><br><span class="line">true_w = np.zeros(max_degree)  <span class="comment"># åˆ†é…å¤§é‡çš„ç©ºé—´</span></span><br><span class="line">true_w[<span class="number">0</span>:<span class="number">4</span>] = np.array([<span class="number">5</span>, <span class="number">1.2</span>, -<span class="number">3.4</span>, <span class="number">5.6</span>])<span class="comment">#å‰äº”ä¸ªå‚æ•°æ˜¯æœ‰ç”¨çš„å·²çŸ¥çš„å‚æ•°ï¼Œå…¶ä»–éƒ½æ˜¯0ï¼Œæ˜¯ä¸å¸Œæœ›è¢«å­¦ä¹ çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line">features = np.random.normal(size=(n_train + n_test, <span class="number">1</span>))<span class="comment">#åˆ›å»ºç‰¹å¾å€¼</span></span><br><span class="line">np.random.shuffle(features)<span class="comment">#æ‰“ä¹±é¡ºåº</span></span><br><span class="line">poly_features = np.power(features, np.arange(max_degree).reshape(<span class="number">1</span>, -<span class="number">1</span>))<span class="comment">#é€šè¿‡å¹¿æ’­æœºåˆ¶å¾—åˆ°æ¯ä¸ªç‰¹å¾å€¼çš„æ‰€æœ‰å¤šé¡¹å¼å€¼</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(max_degree):</span><br><span class="line">    poly_features[:, i] /= math.gamma(i + <span class="number">1</span>)  <span class="comment"># gamma(n)=(n-1)!ï¼Œé™¤ä»¥gammaé˜²æ­¢æ¢¯åº¦è¿‡å¤§</span></span><br><span class="line"><span class="comment"># labelsçš„ç»´åº¦:(n_train+n_test,)</span></span><br><span class="line">labels = np.dot(poly_features, true_w)<span class="comment">#å°†å¯¹åº”å¤šé¡¹å¼å€¼ä¸å…¶ç³»æ•°ç›¸ä¹˜</span></span><br><span class="line">labels += np.random.normal(scale=<span class="number">0.1</span>, size=labels.shape)<span class="comment">#åŠ ä¸Šå™ªå£°é¡¹</span></span><br></pre></td></tr></table></figure>
<h4 id="3-3-NumPyndarrayè½¬æ¢ä¸ºtensor"><a href="#3-3-NumPyndarrayè½¬æ¢ä¸ºtensor" class="headerlink" title="3.3 NumPyndarrayè½¬æ¢ä¸ºtensor"></a>3.3 NumPyndarrayè½¬æ¢ä¸ºtensor</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">true_w, features, poly_features, labels = [torch.tensor(x, dtype=</span><br><span class="line">    torch.float32) <span class="keyword">for</span> x <span class="keyword">in</span> [true_w, features, poly_features, labels]]</span><br></pre></td></tr></table></figure>
<h4 id="3-4-å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•"><a href="#3-4-å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•" class="headerlink" title="3.4 å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•"></a>3.4 å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•</h4><p>é¦–å…ˆè®©æˆ‘ä»¬[å®ç°ä¸€ä¸ªå‡½æ•°æ¥è¯„ä¼°æ¨¡å‹åœ¨ç»™å®šæ•°æ®é›†ä¸Šçš„æŸå¤±]ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">evaluate_loss</span>(<span class="params">net, data_iter, loss</span>):  <span class="comment">#@save</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;è¯„ä¼°ç»™å®šæ•°æ®é›†ä¸Šæ¨¡å‹çš„æŸå¤±&quot;&quot;&quot;</span></span><br><span class="line">    metric = d2l.Accumulator(<span class="number">2</span>)  <span class="comment"># æŸå¤±çš„æ€»å’Œ,æ ·æœ¬æ•°é‡</span></span><br><span class="line">    <span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter:</span><br><span class="line">        out = net(X)<span class="comment">#é¢„æµ‹å€¼</span></span><br><span class="line">        y = y.reshape(out.shape)<span class="comment">#å°†yç»´åº¦å˜ä¸ºä¸outä¸€æ ·</span></span><br><span class="line">        l = loss(out, y)<span class="comment">#è®¡ç®—æŸå¤±</span></span><br><span class="line">        metric.add(l.<span class="built_in">sum</span>(), l.numel())<span class="comment">#åŠ å…¥åˆ°è¿­ä»£å™¨ä¸­ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªbatch</span></span><br><span class="line">    <span class="keyword">return</span> metric[<span class="number">0</span>] / metric[<span class="number">1</span>]<span class="comment">#è¿”å›å¹³å‡æŸå¤±</span></span><br></pre></td></tr></table></figure>
<p>ç°åœ¨[å®šä¹‰è®­ç»ƒå‡½æ•°]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">train_features, test_features, train_labels, test_labels,</span></span><br><span class="line"><span class="params">          num_epochs=<span class="number">400</span></span>):</span><br><span class="line">    loss = nn.MSELoss()<span class="comment">#å®šä¹‰æŸå¤±</span></span><br><span class="line">    input_shape = train_features.shape[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># ä¸è®¾ç½®åç½®ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨å¤šé¡¹å¼ç‰¹å¾ä¸­å®ç°äº†å®ƒï¼ˆå³x^0ï¼‰</span></span><br><span class="line">    net = nn.Sequential(nn.Linear(input_shape, <span class="number">1</span>, bias=<span class="literal">False</span>))<span class="comment">#åˆ›å»ºæ¨¡å‹</span></span><br><span class="line">    batch_size = <span class="built_in">min</span>(<span class="number">10</span>, train_labels.shape[<span class="number">0</span>])</span><br><span class="line">    train_iter = d2l.load_array((train_features, train_labels.reshape(-<span class="number">1</span>,<span class="number">1</span>)),</span><br><span class="line">                                batch_size)<span class="comment">#è®­ç»ƒé›†</span></span><br><span class="line">    test_iter = d2l.load_array((test_features, test_labels.reshape(-<span class="number">1</span>,<span class="number">1</span>)),</span><br><span class="line">                               batch_size, is_train=<span class="literal">False</span>)<span class="comment">#æµ‹è¯•é›†</span></span><br><span class="line">    trainer = torch.optim.SGD(net.parameters(), lr=<span class="number">0.001</span>)<span class="comment">#è®¾ç½®ä¼˜åŒ–å™¨ï¼Œè¿™é‡Œä½¿ç”¨SGD</span></span><br><span class="line">    animator = d2l.Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>, ylabel=<span class="string">&#x27;loss&#x27;</span>, yscale=<span class="string">&#x27;log&#x27;</span>,</span><br><span class="line">                            xlim=[<span class="number">1</span>, num_epochs], ylim=[<span class="number">1e-3</span>, <span class="number">1e2</span>],</span><br><span class="line">                            legend=[<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;test&#x27;</span>])<span class="comment">#åŠ¨ç”»</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        d2l.train_epoch_ch3(net, train_iter, loss, trainer)<span class="comment">#è®­ç»ƒ</span></span><br><span class="line">        <span class="keyword">if</span> epoch == <span class="number">0</span> <span class="keyword">or</span> (epoch + <span class="number">1</span>) % <span class="number">20</span> == <span class="number">0</span>:</span><br><span class="line">            animator.add(epoch + <span class="number">1</span>, (evaluate_loss(net, train_iter, loss),</span><br><span class="line">                                     evaluate_loss(net, test_iter, loss)))<span class="comment">#å°†å½“å‰çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æŸå¤±å­˜å…¥animatorä¸­ï¼Œç”¨äºç»˜å›¾</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;weight:&#x27;</span>, net[<span class="number">0</span>].weight.data.numpy())<span class="comment">#æ‰“å°è®­ç»ƒåçš„å‚æ•°</span></span><br></pre></td></tr></table></figure>
<h4 id="3-5-ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ-æ­£æ€"><a href="#3-5-ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ-æ­£æ€" class="headerlink" title="3.5 [ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ(æ­£æ€)]"></a>3.5 [<strong>ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ(æ­£æ€)</strong>]</h4><p>æˆ‘ä»¬å°†é¦–å…ˆä½¿ç”¨ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°ï¼Œå®ƒä¸æ•°æ®ç”Ÿæˆå‡½æ•°çš„é˜¶æ•°ç›¸åŒã€‚ ç»“æœè¡¨æ˜ï¼Œè¯¥æ¨¡å‹èƒ½æœ‰æ•ˆé™ä½è®­ç»ƒæŸå¤±å’Œæµ‹è¯•æŸå¤±ã€‚ å­¦ä¹ åˆ°çš„æ¨¡å‹å‚æ•°ä¹Ÿæ¥è¿‘çœŸå®å€¼ğ‘¤=[5,1.2,âˆ’3.4,5.6]ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»å¤šé¡¹å¼ç‰¹å¾ä¸­é€‰æ‹©å‰4ä¸ªç»´åº¦ï¼Œå³1,x,x^2/2!,x^3/3!</span></span><br><span class="line">train(poly_features[:n_train, :<span class="number">4</span>], poly_features[n_train:, :<span class="number">4</span>],</span><br><span class="line">      labels[:n_train], labels[n_train:])</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-11/11-06.png" class>
<h4 id="3-6-çº¿æ€§å‡½æ•°æ‹Ÿåˆ-æ¬ æ‹Ÿåˆ"><a href="#3-6-çº¿æ€§å‡½æ•°æ‹Ÿåˆ-æ¬ æ‹Ÿåˆ" class="headerlink" title="3.6 [çº¿æ€§å‡½æ•°æ‹Ÿåˆ(æ¬ æ‹Ÿåˆ)]"></a>3.6 [<strong>çº¿æ€§å‡½æ•°æ‹Ÿåˆ(æ¬ æ‹Ÿåˆ)</strong>]</h4><p>è®©æˆ‘ä»¬å†çœ‹çœ‹çº¿æ€§å‡½æ•°æ‹Ÿåˆï¼Œå‡å°‘è¯¥æ¨¡å‹çš„è®­ç»ƒæŸå¤±ç›¸å¯¹å›°éš¾ã€‚ åœ¨æœ€åä¸€ä¸ªè¿­ä»£å‘¨æœŸå®Œæˆåï¼Œè®­ç»ƒæŸå¤±ä»ç„¶å¾ˆé«˜ã€‚ å½“ç”¨æ¥æ‹Ÿåˆéçº¿æ€§æ¨¡å¼ï¼ˆå¦‚è¿™é‡Œçš„ä¸‰é˜¶å¤šé¡¹å¼å‡½æ•°ï¼‰æ—¶ï¼Œçº¿æ€§æ¨¡å‹å®¹æ˜“æ¬ æ‹Ÿåˆã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»å¤šé¡¹å¼ç‰¹å¾ä¸­é€‰æ‹©å‰2ä¸ªç»´åº¦ï¼Œå³1å’Œx</span></span><br><span class="line">train(poly_features[:n_train, :<span class="number">2</span>], poly_features[n_train:, :<span class="number">2</span>],</span><br><span class="line">      labels[:n_train], labels[n_train:])</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-11/11-07.png" class>
<h4 id="3-7-é«˜é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ-è¿‡æ‹Ÿåˆ"><a href="#3-7-é«˜é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ-è¿‡æ‹Ÿåˆ" class="headerlink" title="3.7 [é«˜é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ(è¿‡æ‹Ÿåˆ)]"></a>3.7 [<strong>é«˜é˜¶å¤šé¡¹å¼å‡½æ•°æ‹Ÿåˆ(è¿‡æ‹Ÿåˆ)</strong>]</h4><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•ä½¿ç”¨ä¸€ä¸ªé˜¶æ•°è¿‡é«˜çš„å¤šé¡¹å¼æ¥è®­ç»ƒæ¨¡å‹ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®ç”¨äºå­¦åˆ°é«˜é˜¶ç³»æ•°åº”è¯¥å…·æœ‰æ¥è¿‘äºé›¶çš„å€¼ã€‚ å› æ­¤ï¼Œè¿™ä¸ªè¿‡äºå¤æ‚çš„æ¨¡å‹ä¼šè½»æ˜“å—åˆ°è®­ç»ƒæ•°æ®ä¸­å™ªå£°çš„å½±å“ã€‚ è™½ç„¶è®­ç»ƒæŸå¤±å¯ä»¥æœ‰æ•ˆåœ°é™ä½ï¼Œä½†æµ‹è¯•æŸå¤±ä»ç„¶å¾ˆé«˜ã€‚ ç»“æœè¡¨æ˜ï¼Œå¤æ‚æ¨¡å‹å¯¹æ•°æ®é€ æˆäº†è¿‡æ‹Ÿåˆã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»å¤šé¡¹å¼ç‰¹å¾ä¸­é€‰å–æ‰€æœ‰ç»´åº¦</span></span><br><span class="line">train(poly_features[:n_train, :], poly_features[n_train:, :],</span><br><span class="line">      labels[:n_train], labels[n_train:], num_epochs=<span class="number">1500</span>)</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-11/11-08.png" class>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>10-å¤šå±‚æ„ŸçŸ¥æœº</title>
    <url>/2024/04/23/11-01-10/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="å¤šå±‚æ„ŸçŸ¥æœº"><a href="#å¤šå±‚æ„ŸçŸ¥æœº" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœº"></a>å¤šå±‚æ„ŸçŸ¥æœº</h2><h3 id="æ„ŸçŸ¥æœº"><a href="#æ„ŸçŸ¥æœº" class="headerlink" title="æ„ŸçŸ¥æœº"></a>æ„ŸçŸ¥æœº</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>ä»ç°åœ¨çš„è§‚ç‚¹æ¥çœ‹ï¼Œæ„ŸçŸ¥æœºå®é™…ä¸Šå°±æ˜¯ç¥ç»ç½‘ç»œä¸­çš„ä¸€ä¸ªç¥ç»å•å…ƒ</p>
<img src="/2024/04/23/11-01-10/%E6%84%9F%E7%9F%A5%E6%9C%BA.png" class>
<p>æ„ŸçŸ¥æœºèƒ½è§£å†³äºŒåˆ†ç±»é—®é¢˜ï¼Œä½†ä¸çº¿æ€§å›å½’å’Œsoftmaxå›å½’æœ‰æ‰€åŒºåˆ«ï¼šçº¿æ€§å›å½’ä¸softmaxå›å½’çš„è¾“å‡ºå‡ä¸ºå®æ•°ï¼Œsoftmaxå›å½’çš„è¾“å‡ºåŒæ—¶è¿˜æ»¡è¶³æ¦‚ç‡å…¬ç†ã€‚</p>
<h4 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h4><p>è®­ç»ƒæ„ŸçŸ¥æœºçš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">initialize w = <span class="number">0</span> <span class="keyword">and</span> b = <span class="number">0</span></span><br><span class="line">repeat</span><br><span class="line">    <span class="comment">#æ­¤å¤„è¡¨è¾¾å¼å°äº0ä»£è¡¨é¢„æµ‹ç»“æœé”™è¯¯</span></span><br><span class="line">    <span class="keyword">if</span> y_i[&lt;w,x_i&gt;+b] &lt;= <span class="number">0</span> then</span><br><span class="line">        w=w + yixi</span><br><span class="line">        b=b + yi</span><br><span class="line">    end <span class="keyword">if</span></span><br><span class="line">until <span class="built_in">all</span> classified correctly</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºè¿™ç­‰ä»·äºä½¿ç”¨å¦‚ä¸‹æŸå¤±å‡½æ•°çš„éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆbatch_size=1ï¼‰:<br>$$<br>\ell(y, \boldsymbol x,\boldsymbol w)=max(0,-y&lt;\boldsymbol w,\boldsymbol x&gt;)\\<br>=max(0,-y\boldsymbol w^T\boldsymbol x)<br>$$<br>å½“é¢„æµ‹é”™è¯¯æ—¶ï¼Œåå¯¼æ•°ä¸º<br>$$<br>\frac{\partial \ell}{\partial \boldsymbol w}=-y\cdot \boldsymbol x<br>$$</p>
<p>æ³¨ï¼šæ­¤å¤„ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå°†åç½®é¡¹bå½’å…¥wä¸­çš„æœ€åä¸€ç»´ï¼Œå¹¶åœ¨ç‰¹å¾xä¸­ç›¸åº”çš„æœ€åä¸€ç»´åŠ å…¥å¸¸æ•°1</p>
<h4 id="æ”¶æ•›å®šç†"><a href="#æ”¶æ•›å®šç†" class="headerlink" title="æ”¶æ•›å®šç†"></a>æ”¶æ•›å®šç†</h4><p>è®¾æ•°æ®åœ¨ç‰¹å¾ç©ºé—´èƒ½è¢«åŠå¾„ä¸ºrçš„åœ†ï¼ˆçƒï¼‰è¦†ç›–ï¼Œå¹¶ä¸”åˆ†ç±»æ—¶æœ‰ä½™é‡ï¼ˆå³$\sigma$å‡½æ•°çš„è¾“å…¥ä¸ä¼šå–ä½¿è¾“å‡ºæ¨¡æ£±ä¸¤å¯çš„å€¼ï¼‰$y(\boldsymbol x^T\boldsymbol w)\geq \rho$ï¼Œè‹¥åˆå§‹å‚æ•°æ»¡è¶³$\|\boldsymbol w\|^2+b^2 \leq 1$ï¼Œåˆ™æ„ŸçŸ¥æœºä¿è¯åœ¨$\frac{r^2+1}{\rho ^2}$æ­¥å†…æ”¶æ•›</p>
<p><a href="https://zhuanlan.zhihu.com/p/46762820">æ”¶æ•›æ€§çš„è¯æ˜</a></p>
<h3 id="çº¿æ€§æ¨¡å‹çš„ç¼ºé™·"><a href="#çº¿æ€§æ¨¡å‹çš„ç¼ºé™·" class="headerlink" title="çº¿æ€§æ¨¡å‹çš„ç¼ºé™·"></a>çº¿æ€§æ¨¡å‹çš„ç¼ºé™·</h3><p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬å­¦ä¹ äº†softmaxå›å½’ï¼Œçº¿æ€§å›å½’ï¼Œä»–ä»¬æœ‰å°†è¾“å…¥å‘é‡ä¸ä¸€ä¸ªæƒé‡å‘é‡åšå†…ç§¯å†ä¸ä¸€ä¸ªåç½®ç›¸åŠ å¾—åˆ°ä¸€ä¸ªå€¼çš„è¿‡ç¨‹ï¼š<br>$$<br>O =W^TX+b<br>$$<br>è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºä»¿å°„å˜æ¢ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰åç½®é¡¹çš„çº¿æ€§å˜æ¢ï¼Œå®ƒæœ€ç»ˆäº§ç”Ÿçš„æ¨¡å‹è¢«ç§°ä¸ºçº¿æ€§æ¨¡å‹ï¼Œçº¿æ€§æ¨¡å‹çš„ç‰¹ç‚¹æ˜¯åªèƒ½ä»¥çº¿æ€§çš„æ–¹å¼å¯¹ç‰¹å¾ç©ºé—´è¿›è¡Œåˆ’åˆ†ï¼š</p>
<img src="/2024/04/23/11-01-10/%E7%BA%BF%E6%80%A7%E5%88%92%E5%88%86.png" class>
<p>ç„¶è€Œï¼Œè¿™ç§çº¿æ€§åˆ’åˆ†ä¾èµ–äºçº¿æ€§å‡è®¾ï¼Œæ˜¯éå¸¸ä¸å¯é çš„</p>
<ul>
<li>çº¿æ€§å‡è®¾æ„å‘³ç€å•è°ƒå‡è®¾ï¼Œè¿™æ˜¯ä¸å¯é çš„ï¼š<ul>
<li>å¯¹äºäººä½“çš„ä½“æ¸©ä¸å¥åº·æƒ…å†µçš„å»ºæ¨¡ï¼Œäººä½“åœ¨37â„ƒæ—¶æœ€ä¸ºå¥åº·ï¼Œè¿‡å°è¿‡å¤§å‡æœ‰é£é™©ï¼Œç„¶è€Œè¿™ä¸æ˜¯å•è°ƒçš„</li>
</ul>
</li>
<li>çº¿æ€§å‡è®¾æ„å‘³ç€ç‰¹å¾ä¸é¢„æµ‹å­˜åœ¨çº¿æ€§ç›¸å…³æ€§ï¼Œè¿™ä¹Ÿæ˜¯ä¸å¯é çš„ï¼š<ul>
<li>å¦‚æœé¢„æµ‹ä¸€ä¸ªäººå¿è¿˜å€ºåŠ¡çš„å¯èƒ½æ€§ï¼Œé‚£è¿™ä¸ªäººçš„èµ„äº§ä»0ä¸‡å…ƒå¢è‡³5ä¸‡å…ƒå’Œä»100ä¸‡å…ƒå¢è‡³105ä¸‡å…ƒå¯¹åº”çš„å¿è¿˜å€ºåŠ¡çš„å¯èƒ½æ€§çš„å¢å¹…è‚¯å®šæ˜¯ä¸ç›¸ç­‰çš„ï¼Œä¹Ÿå°±æ˜¯ä¸çº¿æ€§ç›¸å…³çš„</li>
</ul>
</li>
<li>çº¿æ€§æ¨¡å‹çš„è¯„ä¼°æ ‡å‡†æ˜¯æœ‰ä½ç½®ä¾èµ–æ€§çš„ï¼Œè¿™æ˜¯ä¸å¯é çš„ï¼š<ul>
<li>å¦‚æœéœ€è¦åˆ¤æ–­å›¾ç‰‡ä¸­çš„åŠ¨ç‰©æ˜¯çŒ«è¿˜æ˜¯ç‹—ï¼Œå¯¹äºå›¾ç‰‡ä¸­ä¸€ä¸ªåƒç´ çš„æƒé‡çš„æ”¹å˜æ°¸è¿œæ˜¯ä¸å¯é çš„ï¼Œå› ä¸ºå¦‚æœå°†å›¾ç‰‡ç¿»è½¬ï¼Œå®ƒçš„ç±»åˆ«ä¸ä¼šæ”¹å˜ï¼Œä½†æ˜¯çº¿æ€§æ¨¡å‹ä¸å…·å¤‡è¿™ç§æ€§è´¨ï¼Œåƒç´ çš„æƒé‡å°†ä¼šå¤±æ•ˆ</li>
</ul>
</li>
</ul>
<p>è¯¾ç¨‹ä¸­æ‰€æåˆ°çš„ä¾‹å­æ˜¯XORé—®é¢˜ï¼Œå³å¸Œæœ›æ¨¡å‹èƒ½é¢„æµ‹å‡ºXORåˆ†ç±»ï¼ˆåˆ†å‰²å›¾ç‰‡ä¸­çš„ä¸€ä¸‰è±¡é™ä¸äºŒå››è±¡é™ï¼‰ï¼š</p>
<img src="/2024/04/23/11-01-10/XOR%E9%97%AE%E9%A2%98.png" class>
<h3 id="å¤šå±‚æ„ŸçŸ¥æœº-1"><a href="#å¤šå±‚æ„ŸçŸ¥æœº-1" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœº"></a>å¤šå±‚æ„ŸçŸ¥æœº</h3><h4 id="XORé—®é¢˜çš„å¤šå±‚æ¬¡è§£å†³"><a href="#XORé—®é¢˜çš„å¤šå±‚æ¬¡è§£å†³" class="headerlink" title="XORé—®é¢˜çš„å¤šå±‚æ¬¡è§£å†³"></a>XORé—®é¢˜çš„å¤šå±‚æ¬¡è§£å†³</h4><p>ä»ä»¥XORé—®é¢˜ä¸ºä¾‹ï¼ŒXORé—®é¢˜çš„ä¸€ä¸ªè§£å†³æ€è·¯æ˜¯åˆ†ç±»ä¸¤æ¬¡ï¼Œå…ˆæŒ‰xè½´åˆ†ç±»ä¸º+å’Œ-ï¼Œå†æŒ‰yè½´åˆ†ç±»ä¸º+å’Œ-ï¼Œæœ€åå°†ä¸¤ä¸ªåˆ†ç±»ç»“æœç›¸ä¹˜ï¼Œ+å³ä¸ºä¸€ä¸‰è±¡é™ï¼Œ-å³ä¸ºäºŒå››è±¡é™ï¼š</p>
<img src="/2024/04/23/11-01-10/%E5%A4%9A%E5%B1%82%E5%88%86%E7%B1%BBXOR1.png" class>
<img src="/2024/04/23/11-01-10/%E5%A4%9A%E5%B1%82%E5%88%86%E7%B1%BBXOR2.png" class>
<p>è¿™å®é™…ä¸Šå°†ä¿¡æ¯è¿›è¡Œäº†å¤šå±‚æ¬¡çš„ä¼ é€’ï¼š</p>
<img src="/2024/04/23/11-01-10/XOR%E4%BF%A1%E6%81%AF%E5%A4%9A%E5%B1%82%E6%AC%A1%E4%BC%A0%E9%80%92.png" class>
<p>å…¶ä¸­è“è‰²ä¸ºæŒ‰Xåæ ‡çš„æ­£è´Ÿè¿›è¡Œçš„åˆ†ç±»ï¼Œæ©™è‰²ä¸ºæŒ‰Yåæ ‡çš„æ­£è´Ÿè¿›è¡Œçš„åˆ†ç±»ï¼Œç°è‰²ä¸ºå°†äºŒè€…ä¿¡æ¯çš„ç»¼åˆï¼Œè¿™å°±å®ç°äº†ç”¨å¤šå±‚æ¬¡çš„çº¿æ€§æ¨¡å‹å¯¹éçº¿æ€§è¿›è¡Œé¢„æµ‹</p>
<h4 id="å¤šå±‚æ„ŸçŸ¥æœº-2"><a href="#å¤šå±‚æ„ŸçŸ¥æœº-2" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœº"></a>å¤šå±‚æ„ŸçŸ¥æœº</h4><p>æœ‰äº†XORé—®é¢˜çš„è§£å†³ç»éªŒï¼Œå¯ä»¥æƒ³åˆ°å¦‚æœå°†å¤šä¸ªæ„ŸçŸ¥æœºå †å èµ·æ¥ï¼Œå½¢æˆå…·æœ‰å¤šä¸ªå±‚æ¬¡çš„ç»“æ„ï¼Œå¦‚å›¾ï¼š</p>
<img src="/2024/04/23/11-01-10/%E5%8D%95%E9%9A%90%E8%97%8F%E5%B1%82.png" class>
<p>è¿™é‡Œçš„æ¨¡å‹ç§°ä¸ºå¤šå±‚æ„ŸçŸ¥æœºï¼Œç¬¬ä¸€å±‚åœ†åœˆ$x_1,x_2,x_3,x_4$ç§°ä¸ºè¾“å…¥ï¼ˆå®é™…ä¸Šä»–å¹¶éæ„ŸçŸ¥æœºï¼‰ï¼Œä¹‹åçš„ä¸€å±‚ç§°ä¸ºéšè—å±‚ï¼Œç”±5ä¸ªæ„ŸçŸ¥æœºæ„æˆï¼Œä»–ä»¬å‡ä»¥å‰ä¸€å±‚çš„ä¿¡æ¯ä½œä¸ºè¾“å…¥ï¼Œæœ€åæ˜¯è¾“å‡ºå±‚ï¼Œä»¥å‰ä¸€å±‚éšè—å±‚çš„ç»“æœä½œä¸ºè¾“å…¥ã€‚é™¤äº†è¾“å…¥çš„ä¿¡æ¯å’Œæœ€åä¸€å±‚çš„æ„ŸçŸ¥æœºä»¥å¤–ï¼Œå…¶ä½™çš„å±‚å‡ç§°ä¸ºéšè—å±‚ï¼Œéšè—å±‚çš„è®¾ç½®ä¸ºæ¨¡å‹ä¸€ä¸ªé‡è¦çš„è¶…å‚æ•°ï¼Œè¿™é‡Œçš„æ¨¡å‹æœ‰ä¸€ä¸ªéšè—å±‚ã€‚</p>
<h4 id="æ¿€æ´»å‡½æ•°"><a href="#æ¿€æ´»å‡½æ•°" class="headerlink" title="æ¿€æ´»å‡½æ•°"></a>æ¿€æ´»å‡½æ•°</h4><p>ä½†æ˜¯ä»…ä»…æœ‰çº¿æ€§å˜æ¢æ˜¯ä¸å¤Ÿçš„ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•çš„å°†å¤šä¸ªçº¿æ€§å˜æ¢æŒ‰å±‚æ¬¡å åŠ ï¼Œç”±äºçº¿æ€§å˜æ¢çš„ç»“æœä»ä¸ºçº¿æ€§å˜æ¢ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ç»“æœç­‰ä»·äºçº¿æ€§å˜æ¢ï¼Œä¸å•ä¸ªæ„ŸçŸ¥æœºå¹¶æ— åŒºåˆ«ï¼Œåè€ŒåŠ å¤§äº†æ¨¡å‹ï¼Œæµªè´¹äº†èµ„æºï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦å¯¹æ¯ä¸ªå•å…ƒï¼ˆæ„ŸçŸ¥æœºï¼‰çš„è¾“å‡ºé€šè¿‡æ¿€æ´»å‡½æ•°è¿›è¡Œå¤„ç†å†äº¤ç”±ä¸‹ä¸€å±‚çš„æ„ŸçŸ¥æœºè¿›è¡Œè¿ç®—ï¼Œè¿™äº›æ¿€æ´»å‡½æ•°å°±æ˜¯è§£å†³éçº¿æ€§é—®é¢˜çš„å…³é”®ã€‚</p>
<p><em>æ¿€æ´»å‡½æ•°</em>ï¼ˆactivation functionï¼‰é€šè¿‡è®¡ç®—åŠ æƒå’Œå¹¶åŠ ä¸Šåç½®æ¥ç¡®å®šç¥ç»å…ƒæ˜¯å¦åº”è¯¥è¢«æ¿€æ´»ï¼Œå®ƒä»¬å°†è¾“å…¥ä¿¡å·è½¬æ¢ä¸ºè¾“å‡ºçš„å¯å¾®è¿ç®—ã€‚å¤§å¤šæ•°æ¿€æ´»å‡½æ•°éƒ½æ˜¯éçº¿æ€§çš„ã€‚</p>
<p>ä¸»è¦çš„æ¿€æ´»å‡½æ•°æœ‰ï¼š</p>
<h5 id="ReLUå‡½æ•°"><a href="#ReLUå‡½æ•°" class="headerlink" title="ReLUå‡½æ•°"></a>ReLUå‡½æ•°</h5><p>æœ€å—æ¬¢è¿çš„æ¿€æ´»å‡½æ•°æ˜¯<em>ä¿®æ­£çº¿æ€§å•å…ƒ</em>ï¼ˆRectified linear<br>unitï¼Œ<em>ReLU</em>ï¼‰ï¼Œå› ä¸ºå®ƒå®ç°ç®€å•ï¼ŒåŒæ—¶åœ¨å„ç§é¢„æµ‹ä»»åŠ¡ä¸­è¡¨ç°è‰¯å¥½ã€‚<strong>ReLUæä¾›äº†ä¸€ç§éå¸¸ç®€å•çš„éçº¿æ€§å˜æ¢</strong>ã€‚ç»™å®šå…ƒç´ $x$ï¼ŒReLUå‡½æ•°è¢«å®šä¹‰ä¸ºè¯¥å…ƒç´ ä¸$0$çš„æœ€å¤§å€¼ï¼š<br>$$<br>\operatorname{ReLU}(x) = \max(x, 0)<br>$$<br>ReLUå‡½æ•°é€šè¿‡å°†ç›¸åº”çš„æ´»æ€§å€¼è®¾ä¸º0ï¼Œä»…ä¿ç•™æ­£å…ƒç´ å¹¶ä¸¢å¼ƒæ‰€æœ‰è´Ÿå…ƒç´ ã€‚ä¸ºäº†ç›´è§‚æ„Ÿå—ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºå‡½æ•°çš„æ›²çº¿å›¾ã€‚æ­£å¦‚ä»å›¾ä¸­æ‰€çœ‹åˆ°ï¼Œæ¿€æ´»å‡½æ•°æ˜¯åˆ†æ®µçº¿æ€§çš„ã€‚ä½¿ç”¨ReLUçš„åŸå› æ˜¯ï¼Œå®ƒæ±‚å¯¼è¡¨ç°å¾—ç‰¹åˆ«å¥½ï¼šè¦ä¹ˆè®©å‚æ•°æ¶ˆå¤±ï¼Œè¦ä¹ˆè®©å‚æ•°é€šè¿‡ã€‚è¿™ä½¿å¾—ä¼˜åŒ–è¡¨ç°çš„æ›´å¥½ï¼Œå¹¶ä¸”ReLUå‡è½»äº†å›°æ‰°ä»¥å¾€ç¥ç»ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</p>
<h5 id="sigmoidå‡½æ•°"><a href="#sigmoidå‡½æ•°" class="headerlink" title="sigmoidå‡½æ•°"></a>sigmoidå‡½æ•°</h5><p><strong>å¯¹äºä¸€ä¸ªå®šä¹‰åŸŸåœ¨$\mathbb{R}$ä¸­çš„è¾“å…¥ï¼Œ<em>sigmoidå‡½æ•°</em>å°†è¾“å…¥å˜æ¢ä¸ºåŒºé—´(0,1)ä¸Šçš„è¾“å‡º</strong>ã€‚ å› æ­¤ï¼Œsigmoidé€šå¸¸ç§°ä¸º<em>æŒ¤å‹å‡½æ•°</em>ï¼ˆsquashing functionï¼‰ï¼šå®ƒå°†èŒƒå›´$ï¼ˆ-\infty, \inftyï¼‰$ä¸­çš„ä»»æ„è¾“å…¥å‹ç¼©åˆ°åŒºé—´ï¼ˆ0,1ï¼‰ä¸­çš„æŸä¸ªå€¼ï¼š<br>$$<br>\operatorname{sigmoid}(x) = \frac{1}{1 + e^{-x}}.<br>$$<br>åœ¨åŸºäºæ¢¯åº¦çš„å­¦ä¹ ä¸­ï¼Œsigmoidå‡½æ•°æ˜¯ä¸€ä¸ªè‡ªç„¶çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¹³æ»‘çš„ã€å¯å¾®çš„é˜ˆå€¼å•å…ƒè¿‘ä¼¼ã€‚å½“æˆ‘ä»¬æƒ³è¦å°†è¾“å‡ºè§†ä½œäºŒå…ƒåˆ†ç±»é—®é¢˜çš„æ¦‚ç‡æ—¶ï¼Œsigmoidä»ç„¶è¢«å¹¿æ³›ç”¨ä½œè¾“å‡ºå•å…ƒä¸Šçš„æ¿€æ´»å‡½æ•°ï¼ˆä½ å¯ä»¥å°†sigmoidè§†ä¸ºsoftmaxçš„ç‰¹ä¾‹ï¼‰ã€‚ç„¶è€Œï¼Œsigmoidåœ¨éšè—å±‚ä¸­å·²ç»è¾ƒå°‘ä½¿ç”¨ï¼Œå®ƒåœ¨å¤§éƒ¨åˆ†æ—¶å€™è¢«æ›´ç®€å•ã€æ›´å®¹æ˜“è®­ç»ƒçš„ReLUæ‰€å–ä»£ã€‚</p>
<h5 id="tanhå‡½æ•°"><a href="#tanhå‡½æ•°" class="headerlink" title="tanhå‡½æ•°"></a>tanhå‡½æ•°</h5><p>ä¸sigmoidå‡½æ•°ç±»ä¼¼ï¼Œ<strong>tanh(åŒæ›²æ­£åˆ‡)å‡½æ•°ä¹Ÿèƒ½å°†å…¶è¾“å…¥å‹ç¼©è½¬æ¢åˆ°åŒºé—´(-1,1)ä¸Š</strong>ã€‚tanhå‡½æ•°çš„å…¬å¼å¦‚ä¸‹ï¼š<br>$$<br>\operatorname{tanh}(x) = \frac{1 - e^{-2x}}{1 + e^{-2x}}<br>$$</p>
<h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><p>è¿˜å¯ä»¥ä½¿ç”¨æ›´å¤šéšè—å±‚çš„æ„ŸçŸ¥æœºå’Œsoftmaxå‡½æ•°è§£å†³åˆ†ç±»é—®é¢˜</p>
<h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><ol>
<li>è¯æ˜ä¸€ä¸ªä»…ä½¿ç”¨ReLUï¼ˆæˆ–pReLUï¼‰çš„å¤šå±‚æ„ŸçŸ¥æœºæ„é€ äº†ä¸€ä¸ªè¿ç»­çš„åˆ†æ®µçº¿æ€§å‡½æ•°ã€‚</li>
</ol>
<blockquote>
<p>ç»˜åˆ¶å‡ºRELUçš„å›¾åƒåï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¾“å‡ºå€¼åœ¨ç»è¿‡ä¸‹ä¸€å±‚éšè—å±‚çš„è®¡ç®—åï¼Œå¦‚æœç»“æœå°äºç­‰äº0ï¼Œåˆ™è¿™ä¸ªæ•°æ®è¢«èˆå¼ƒï¼Œç»“æœå¤§äº0åˆ™è¢«ä¿ç•™ï¼Œç±»ä¼¼ä¸€ä¸ªç­›é€‰çš„è¿‡ç¨‹ã€‚ç›¸å½“äºä¸Šä¸€å±‚çš„è¾“å‡ºç»è¿‡çº¿æ€§å˜æ¢ååœ¨ä¸‹ä¸€å±‚è¢«ç­›é€‰ï¼Œçº¿æ€§å˜æ¢å’Œä¸Šè¿°ç­›é€‰çš„è¿‡ç¨‹éƒ½æ˜¯è¿ç»­çš„ï¼Œå› æ­¤å°±ä¼šäº§ç”Ÿè¿ç»­è€Œä¸”åˆ†æ®µçš„ç»“æœã€‚</p>
</blockquote>
<ol>
<li>æ„å»ºå¤šä¸ªè¶…å‚æ•°çš„æœç´¢æ–¹æ³•ã€‚</li>
</ol>
<blockquote>
<p>æœ‰å››ç§ä¸»è¦çš„ç­–ç•¥å¯ç”¨äºæœç´¢æœ€ä½³é…ç½®ã€‚</p>
<ul>
<li>è¯•é”™</li>
<li>ç½‘æ ¼æœç´¢</li>
<li>éšæœºæœç´¢</li>
<li>è´å¶æ–¯ä¼˜åŒ–</li>
</ul>
</blockquote>
<p>è¯¦è§<a href="https://www.jiqizhixin.com/articles/101401">è¶…å‚æ•°æœç´¢ä¸å¤Ÿé«˜æ•ˆï¼Ÿè¿™å‡ å¤§ç­–ç•¥äº†è§£ä¸€ä¸‹</a></p>
<ol>
<li>æƒé‡åˆå§‹åŒ–æ–¹æ³•</li>
</ol>
<blockquote>
<ol>
<li>å…¨é›¶åˆå§‹åŒ–ï¼šåœ¨ç¥ç»ç½‘ç»œä¸­ï¼ŒæŠŠwåˆå§‹åŒ–ä¸º0æ˜¯ä¸å¯ä»¥çš„ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœæŠŠwåˆå§‹åŒ–0ï¼Œé‚£ä¹ˆæ¯ä¸€å±‚çš„ç¥ç»å…ƒå­¦åˆ°çš„ä¸œè¥¿éƒ½æ˜¯ä¸€æ ·çš„ï¼ˆè¾“å‡ºæ˜¯ä¸€æ ·çš„ï¼‰ï¼Œè€Œä¸”åœ¨BPçš„æ—¶å€™ï¼Œæ¯ä¸€å±‚å†…çš„ç¥ç»å…ƒä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºä»–ä»¬çš„gradientç›¸åŒï¼Œweight<br>updateä¹Ÿç›¸åŒã€‚</li>
<li>éšæœºåˆå§‹åŒ–</li>
<li>Xavieråˆå§‹åŒ–ï¼šä¿æŒè¾“å…¥å’Œè¾“å‡ºçš„æ–¹å·®ä¸€è‡´ï¼ˆæœä»ç›¸åŒçš„åˆ†å¸ƒï¼‰ï¼Œè¿™æ ·å°±é¿å…äº†æ‰€æœ‰è¾“å‡ºå€¼éƒ½è¶‹å‘äº0ã€‚</li>
<li>He<br>initializationï¼šåœ¨ReLUç½‘ç»œä¸­ï¼Œå‡å®šæ¯ä¸€å±‚æœ‰ä¸€åŠçš„ç¥ç»å…ƒè¢«æ¿€æ´»ï¼Œå¦ä¸€åŠä¸º0ï¼ˆxè´ŸåŠè½´ä¸­æ˜¯ä¸æ¿€æ´»çš„ï¼‰ï¼Œæ‰€ä»¥è¦ä¿æŒvarianceä¸å˜ï¼Œåªéœ€è¦åœ¨Xavierçš„åŸºç¡€ä¸Šå†é™¤ä»¥2ã€‚</li>
<li>pre-training</li>
</ol>
</blockquote>
<p>è¯¦è§<a href="https://zhuanlan.zhihu.com/p/72374385">æƒé‡/å‚æ•°åˆå§‹åŒ–</a></p>
<ol>
<li>è¶…å‚æ•°çš„è°ƒèŠ‚</li>
</ol>
<blockquote>
<ol>
<li>åœ¨mlpä¸­ï¼Œç¬¬ä¸€ä¸ªéšè—çš„çš„å•å…ƒæ•°å¯èƒ½å¤§äºè¾“å…¥çš„ä¸ªæ•°ï¼Œæ¯ä¸ªéšè—å±‚ä¸­çš„å•å…ƒæ•°ç”±å‰è‡³åé€’å‡ï¼Œé€æ¸æ¥è¿‘è¾“å‡ºçš„ä¸ªæ•°ã€‚</li>
<li>å¤šæ•°æƒ…å†µä¸‹ï¼Œå°†mlpçš„æ·±åº¦è®¾ç½®å¾—è¾ƒæ·±ï¼Œè€Œæ¯å±‚çš„å•å…ƒæ•°ç›¸å¯¹è¾ƒå°‘ï¼Œè¿™æ ·æ˜“äºè®­ç»ƒï¼Œä¸æ˜“è¿‡æ‹Ÿåˆï¼Œä¹Ÿåˆ©äºé€æ­¥å­¦ä¹ æ ·æœ¬ç‰¹å¾ã€‚</li>
<li>æ¿€æ´»å‡½æ•°ç§ç±»çš„é€‰æ‹©å¯¹è®­ç»ƒçš„å½±å“å°äºå…¶ä½™çš„å› ç´ ã€‚</li>
</ol>
</blockquote>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li><p>å¤šå±‚æ„ŸçŸ¥æœºä½¿ç”¨éšè—å±‚å’Œæ¿€æ´»å‡½æ•°æ¥å¾—åˆ°éçº¿æ€§æ¨¡å‹</p>
</li>
<li><p>å¸¸ç”¨æ¿€æ´»å‡½æ•°ï¼šSigmoidï¼ŒTanhï¼ŒReLU</p>
</li>
<li><p>ä½¿ç”¨softmaxè¿›è¡Œå¤šåˆ†ç±»</p>
</li>
<li><p>éšè—å±‚æ•°ã€å¤§å°ä¸ºè¶…å‚æ•°</p>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>09-softmaxå›å½’</title>
    <url>/2024/04/23/11-01-09/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="09-softmaxå›å½’"><a href="#09-softmaxå›å½’" class="headerlink" title="09-softmaxå›å½’"></a>09-softmaxå›å½’</h1><h3 id="1-å›å½’VSåˆ†ç±»ï¼š"><a href="#1-å›å½’VSåˆ†ç±»ï¼š" class="headerlink" title="1.å›å½’VSåˆ†ç±»ï¼š"></a>1.å›å½’VSåˆ†ç±»ï¼š</h3><ul>
<li>å›å½’ä¼°è®¡ä¸€ä¸ªè¿ç»­å€¼</li>
<li>åˆ†ç±»é¢„æµ‹ä¸€ä¸ªç¦»æ•£ç±»åˆ«</li>
</ul>
<img src="/2024/04/23/11-01-09/09-01.png" class>
<h4 id="1-1-ä»å›å½’åˆ°å¤šç±»åˆ†ç±»ï¼š"><a href="#1-1-ä»å›å½’åˆ°å¤šç±»åˆ†ç±»ï¼š" class="headerlink" title="1.1 ä»å›å½’åˆ°å¤šç±»åˆ†ç±»ï¼š"></a>1.1 ä»å›å½’åˆ°å¤šç±»åˆ†ç±»ï¼š</h4><h5 id="å›å½’ï¼š"><a href="#å›å½’ï¼š" class="headerlink" title="å›å½’ï¼š"></a>å›å½’ï¼š</h5><ul>
<li>å•è¿ç»­æ•°å€¼è¾“å‡º</li>
<li>è‡ªç„¶åŒºé—´R</li>
<li>è·ŸçœŸå®å€¼çš„åŒºåˆ«ä½œä¸ºæŸå¤±</li>
</ul>
<img src="/2024/04/23/11-01-09/09-02.png" class>
<h5 id="åˆ†ç±»ï¼š"><a href="#åˆ†ç±»ï¼š" class="headerlink" title="åˆ†ç±»ï¼š"></a>åˆ†ç±»ï¼š</h5><ul>
<li><p>é€šå¸¸å¤šä¸ªè¾“å‡º</p>
</li>
<li><p>è¾“å‡ºiæ˜¯é¢„æµ‹ä¸ºç¬¬iç±»çš„ç½®ä¿¡åº¦</p>
</li>
</ul>
<img src="/2024/04/23/11-01-09/09-03.png" class>
<h5 id="å‡æ–¹æŸå¤±ï¼š"><a href="#å‡æ–¹æŸå¤±ï¼š" class="headerlink" title="å‡æ–¹æŸå¤±ï¼š"></a>å‡æ–¹æŸå¤±ï¼š</h5><ul>
<li><p>å¯¹ç±»åˆ«è¿›è¡Œä¸€ä½æœ‰æ•ˆç¼–ç </p>
<p>$y=[y_{1},y_{2},â€¦,y_{n}]^{T}$<br>$y_{i}=\begin{cases}<br>1&amp;i=y\\<br>2&amp;otherwise<br>\end{cases}$</p>
</li>
<li><p>ä½¿ç”¨å‡æ–¹æŸå¤±è®­ç»ƒ</p>
</li>
<li><p>æœ€å¤§å€¼ä¸ºé¢„æµ‹<br>$<br>\hat{y}=\underset {i}{argmax}\quad o^{i}<br>$</p>
</li>
</ul>
<h5 id="æ— æ ¡éªŒæ¯”ä¾‹"><a href="#æ— æ ¡éªŒæ¯”ä¾‹" class="headerlink" title="æ— æ ¡éªŒæ¯”ä¾‹"></a>æ— æ ¡éªŒæ¯”ä¾‹</h5><ul>
<li><p>å¯¹ç±»åˆ«è¿›è¡Œä¸€ä½æœ‰æ•ˆç¼–ç </p>
</li>
<li><p>æœ€å¤§å€¼ä¸ºé¢„æµ‹<br>$<br>\hat{y}=\underset {i}{argmax}\quad o^{i}<br>$</p>
</li>
<li><p>éœ€è¦æ›´ç½®ä¿¡çš„è¯†åˆ«æ­£ç¡®ç±»ï¼ˆå¤§ä½™é‡ï¼‰<br>$<br>o_y-o_i\geq\Delta(y,i)<br>$</p>
</li>
</ul>
<h5 id="æ ¡éªŒæ¯”ä¾‹"><a href="#æ ¡éªŒæ¯”ä¾‹" class="headerlink" title="æ ¡éªŒæ¯”ä¾‹"></a>æ ¡éªŒæ¯”ä¾‹</h5><ul>
<li><p>è¾“å‡ºåŒ¹é…æ¦‚ç‡ï¼ˆ$\hat{y}$éè´Ÿï¼Œå’Œä¸º1ï¼‰<br>$<br>\hat{y}=softmax(o)<br>$</p>
<p>$<br>\hat{y_i}=\frac{exp(o_i)}{\sum_{k} exp(o_k)}<br>$</p>
</li>
</ul>
<ul>
<li>æ¦‚ç‡$y$å’Œ$\hat{y}$çš„åŒºåˆ«ä½œä¸ºæŸå¤±</li>
</ul>
<h4 id="1-2-Softmaxå’Œäº¤å‰ç†µæŸå¤±"><a href="#1-2-Softmaxå’Œäº¤å‰ç†µæŸå¤±" class="headerlink" title="1.2 Softmaxå’Œäº¤å‰ç†µæŸå¤±"></a>1.2 Softmaxå’Œäº¤å‰ç†µæŸå¤±</h4><ul>
<li><p>äº¤å‰ç†µç”¨æ¥è¡¡é‡ä¸¤ä¸ªæ¦‚ç‡çš„åŒºåˆ«$H(p,q)=\sum_{i} -p_{i}log(q_i)$</p>
</li>
<li><p>å°†å®ƒä½œä¸ºæŸå¤±<br>$<br>l(y,\hat{y})=-\sum_{i}y_{i}log\hat{y_{i}}=-log\hat{y_y}<br>$</p>
<blockquote>
<p>æ¨å¯¼è¿‡ç¨‹ï¼Ÿ</p>
</blockquote>
</li>
<li>å…¶æ¢¯åº¦æ˜¯çœŸå®æ¦‚ç‡å’Œé¢„æµ‹æ¦‚ç‡çš„åŒºåˆ«<br>$<br>\partial_{o_{i}}l(y,\hat{y})=softmax(o)_{i}-y_{i}<br>$</li>
</ul>
<blockquote>
<p>Softmaxå›å½’æ˜¯ä¸€ä¸ªå¤šç±»åˆ†ç±»æ¨¡å‹</p>
<p>ä½¿ç”¨Softmaxæ“ä½œå­å¾—åˆ°æ¯ä¸ªç±»çš„é¢„æµ‹ç½®ä¿¡åº¦</p>
<p>ä½¿ç”¨äº¤å‰ç†µæ¥è¡¡é‡å’Œé¢„æµ‹æ ‡å·çš„åŒºåˆ«</p>
</blockquote>
<h3 id="2-æŸå¤±å‡½æ•°"><a href="#2-æŸå¤±å‡½æ•°" class="headerlink" title="2.æŸå¤±å‡½æ•°"></a>2.æŸå¤±å‡½æ•°</h3><img src="/2024/04/23/11-01-09/09-04.png" class>
<h4 id="2-1-L2-Loss-å‡æ–¹æŸå¤±"><a href="#2-1-L2-Loss-å‡æ–¹æŸå¤±" class="headerlink" title="2.1 L2 Loss  å‡æ–¹æŸå¤±"></a>2.1 L2 Loss  å‡æ–¹æŸå¤±</h4><p>$<br>l(y,y^{â€˜})=\frac{1}{2}(y-y^{â€˜})^2<br>$</p>
<img src="/2024/04/23/11-01-09/09-05.png" class>
<blockquote>
<p>è“è‰²ï¼šy=0<br>ç»¿è‰²ä¼¼ç„¶å‡½æ•°,é«˜æ–¯åˆ†å¸ƒ<br>æŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼Œä¸€æ¬¡å‡½æ•°<br>æ¢¯åº¦ä¼šéšç€ç»“æœé€¼è¿‘è€Œä¸‹é™</p>
</blockquote>
<h4 id="2-2-L1-Loss-ç»å¯¹å€¼æŸå¤±å‡½æ•°"><a href="#2-2-L1-Loss-ç»å¯¹å€¼æŸå¤±å‡½æ•°" class="headerlink" title="2.2 L1 Loss  ç»å¯¹å€¼æŸå¤±å‡½æ•°"></a>2.2 L1 Loss  ç»å¯¹å€¼æŸå¤±å‡½æ•°</h4><p>$<br>l(y,y^{â€˜})=\lvert y-y^{â€˜}\rvert<br>$</p>
<img src="/2024/04/23/11-01-09/09-06.png" class>
<blockquote>
<p>æ¢¯åº¦ä¿æŒä¸å˜ï¼Œä½†åœ¨0å¤„æ¢¯åº¦éšæœº</p>
</blockquote>
<h4 id="2-3Huberâ€™s-Robust-Loss-é²æ£’æŸå¤±"><a href="#2-3Huberâ€™s-Robust-Loss-é²æ£’æŸå¤±" class="headerlink" title="2.3Huberâ€™s Robust Loss   é²æ£’æŸå¤±"></a>2.3Huberâ€™s Robust Loss   é²æ£’æŸå¤±</h4><img src="/2024/04/23/11-01-09/09-07.png" class>
<blockquote>
<p>ç»“åˆL1 Losså’ŒL2 Lossçš„ä¼˜ç‚¹</p>
</blockquote>
<h3 id="3-å›¾ç‰‡åˆ†ç±»æ•°æ®é›†"><a href="#3-å›¾ç‰‡åˆ†ç±»æ•°æ®é›†" class="headerlink" title="3.å›¾ç‰‡åˆ†ç±»æ•°æ®é›†"></a>3.å›¾ç‰‡åˆ†ç±»æ•°æ®é›†</h3><h4 id="3-1-Fashion-MNISTæ•°æ®é›†ï¼š"><a href="#3-1-Fashion-MNISTæ•°æ®é›†ï¼š" class="headerlink" title="3.1 Fashion-MNISTæ•°æ®é›†ï¼š"></a>3.1 Fashion-MNISTæ•°æ®é›†ï¼š</h4><ul>
<li><p>è¯»å–æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡ToTensorå®ä¾‹å°†å›¾åƒæ•°æ®ä»PILç±»å‹å˜æ¢æˆ32ä½æµ®ç‚¹æ•°æ ¼å¼ï¼Œ</span></span><br><span class="line"><span class="comment"># å¹¶é™¤ä»¥255ä½¿å¾—æ‰€æœ‰åƒç´ çš„æ•°å€¼å‡åœ¨0ï½1ä¹‹é—´</span></span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºå¼ é‡å½¢å¼ trans</span></span><br><span class="line"><span class="comment"># è¯»å–ä¸ºè®­ç»ƒé›†ï¼Œæµ‹è¯•é›†ï¼Œè¯»å–ä¸ºå¼ é‡å½¢å¼è¿˜ä¸æ˜¯å›¾ç‰‡å½¢å¼</span></span><br><span class="line">trans=transforms.ToTensor()</span><br><span class="line">mnist_train=torchvision.datasets.FashionMNIST(root=<span class="string">&quot;../data&quot;</span>,train=<span class="literal">True</span>,                                              transform=trans,download=<span class="literal">True</span>)</span><br><span class="line">mnist_test=torchvision.datasets.FashionMNIST(root=<span class="string">&quot;../data&quot;</span>,train=<span class="literal">False</span>,                                             transform=trans,download=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®é›†å†…å›¾ç‰‡å¤§å°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€å¼ å›¾ç‰‡çš„shape</span></span><br><span class="line">mnist_train[<span class="number">0</span>][<span class="number">0</span>].shape</span><br><span class="line">torch.Size([<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>])</span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå›¾ç‰‡ä¸ºå•é€šé“ï¼ˆé»‘ç™½ï¼‰çš„28X28çš„å›¾ç‰‡</p>
</li>
<li><p>ä¸¤ä¸ªå¯è§†åŒ–å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_fashion_mnist_labels</span>(<span class="params">labels</span>):  </span><br><span class="line">  <span class="string">&quot;&quot;&quot;è¿”å›Fashion-MNISTæ•°æ®é›†çš„æ–‡æœ¬æ ‡ç­¾&quot;&quot;&quot;</span></span><br><span class="line">  text_labels = [<span class="string">&#x27;t-shirt&#x27;</span>, <span class="string">&#x27;trouser&#x27;</span>, <span class="string">&#x27;pullover&#x27;</span>, <span class="string">&#x27;dress&#x27;</span>, <span class="string">&#x27;coat&#x27;</span>,</span><br><span class="line">                 <span class="string">&#x27;sandal&#x27;</span>, <span class="string">&#x27;shirt&#x27;</span>, <span class="string">&#x27;sneaker&#x27;</span>, <span class="string">&#x27;bag&#x27;</span>, <span class="string">&#x27;ankle boot&#x27;</span>]</span><br><span class="line">  <span class="keyword">return</span> [text_labels[<span class="built_in">int</span>(i)] <span class="keyword">for</span> i <span class="keyword">in</span> labels]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show_images</span>(<span class="params">imgs, num_rows, num_cols, titles=<span class="literal">None</span>, scale=<span class="number">1.5</span></span>):  </span><br><span class="line">  <span class="string">&quot;&quot;&quot;ç»˜åˆ¶å›¾åƒåˆ—è¡¨&quot;&quot;&quot;</span></span><br><span class="line">  figsize = (num_cols * scale, num_rows * scale)</span><br><span class="line">  _, axes = d2l.plt.subplots(num_rows, num_cols, figsize=figsize)</span><br><span class="line">  axes = axes.flatten()</span><br><span class="line">  <span class="keyword">for</span> i, (ax, img) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(axes, imgs)):</span><br><span class="line">      <span class="keyword">if</span> torch.is_tensor(img):</span><br><span class="line">          <span class="comment"># å›¾ç‰‡å¼ é‡</span></span><br><span class="line">          ax.imshow(img.numpy())</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">          <span class="comment"># PILå›¾ç‰‡</span></span><br><span class="line">          ax.imshow(img)</span><br><span class="line">      ax.axes.get_xaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">      ax.axes.get_yaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">      <span class="keyword">if</span> titles:</span><br><span class="line">          ax.set_title(titles[i])</span><br><span class="line">  <span class="keyword">return</span> axes</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>æ˜¾ç¤ºæ•°æ®é›†å›¾åƒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ç”»2è¡Œæ¯è¡Œ9ä¸ªï¼Œtitlesæ‹¿å‡º</span><br><span class="line">X,y = next(iter(data.DataLoader(mnist_train,batch_size=18)))</span><br><span class="line">show_images(X.reshape(18,28,28),2,9,titles=get_fashion_mnist_labels(y))</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-09/09-08.png" class>
</li>
</ul>
<ul>
<li>å®šä¹‰load_data_fashion_mnistå‡½æ•°<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_data_fashion_mnist</span>(<span class="params">batch_size, resize=<span class="literal">None</span></span>):  </span><br><span class="line">  <span class="string">&quot;&quot;&quot;ä¸‹è½½Fashion-MNISTæ•°æ®é›†ï¼Œç„¶åå°†å…¶åŠ è½½åˆ°å†…å­˜ä¸­&quot;&quot;&quot;</span></span><br><span class="line">  trans = [transforms.ToTensor()]</span><br><span class="line">  <span class="keyword">if</span> resize:</span><br><span class="line">      trans.insert(<span class="number">0</span>, transforms.Resize(resize))</span><br><span class="line">  trans = transforms.Compose(trans)</span><br><span class="line">  mnist_train = torchvision.datasets.FashionMNIST(</span><br><span class="line">      root=<span class="string">&quot;../data&quot;</span>, train=<span class="literal">True</span>, transform=trans, download=<span class="literal">True</span>)</span><br><span class="line">  mnist_test = torchvision.datasets.FashionMNIST(</span><br><span class="line">      root=<span class="string">&quot;../data&quot;</span>, train=<span class="literal">False</span>, transform=trans, download=<span class="literal">True</span>)</span><br><span class="line">  <span class="keyword">return</span> (data.DataLoader(mnist_train, batch_size, shuffle=<span class="literal">True</span>,</span><br><span class="line">                          num_workers=get_dataloader_workers()),</span><br><span class="line">          data.DataLoader(mnist_test, batch_size, shuffle=<span class="literal">False</span>,</span><br><span class="line">                          num_workers=get_dataloader_workers()))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æˆ‘ä»¬é€šè¿‡æŒ‡å®šresizeå‚æ•°æ¥æµ‹è¯•load_data_fashion_mnistå‡½æ•°çš„å›¾åƒå¤§å°è°ƒæ•´åŠŸèƒ½ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_iter, test_iter = load_data_fashion_mnist(<span class="number">32</span>, resize=<span class="number">64</span>)</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">  <span class="built_in">print</span>(X.shape, X.dtype, y.shape, y.dtype)</span><br><span class="line">  <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h3 id="4-ä»é›¶å®ç°softmaxå›å½’"><a href="#4-ä»é›¶å®ç°softmaxå›å½’" class="headerlink" title="4.ä»é›¶å®ç°softmaxå›å½’"></a>4.ä»é›¶å®ç°softmaxå›å½’</h3><h4 id="softmax"><a href="#softmax" class="headerlink" title="softmax:"></a>softmax:</h4><p>$$<br>softmax(X)_{ij}=\frac{exp(X_{ij})}{\sum_{k} exp(X_{ik})}<br>$$</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">softmax</span>(<span class="params">X</span>):</span><br><span class="line">    <span class="comment"># æ±‚æ¯ä¸€ä¸ªå…ƒç´ çš„æŒ‡æ•°è®¡ç®—</span></span><br><span class="line">    X_exp = torch.exp(X)</span><br><span class="line">    <span class="comment"># æŒ‰è¡Œæ±‚å’Œ</span></span><br><span class="line">    partition = X_exp.<span class="built_in">sum</span>(<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> X_exp / partition</span><br></pre></td></tr></table></figure>
<ol>
<li><p>å°†å›¾åƒå±•å¹³ï¼Œæ¯ä¸ªå›¾åƒçœ‹åšé•¿åº¦ä¸º784çš„å‘é‡ï¼Œå› ä¸ºæ•°æ®é›†æœ‰åä¸ªç±»åˆ«ï¼Œæ‰€ä»¥ç½‘ç»œè¾“å‡ºç»´åº¦ä¸º10ã€‚ä»¥æ­¤è®¾å®šå‚æ•°å¤§å°å¹¶åˆå§‹åŒ–ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å›¾ç‰‡æ˜¯ä¸€ä¸ªä¸‰ç»´çš„ï¼Œæ‹‰é•¿ä¸ºä¸€ä¸ªå‘é‡,softmaxå›å½’è¾“å…¥ä¸ºå‘é‡</span></span><br><span class="line">num_inputs = <span class="number">784</span></span><br><span class="line">num_outputs = <span class="number">10</span></span><br><span class="line"><span class="comment"># ç”¨é«˜æ–¯å›å½’åˆå§‹æƒé‡ï¼Œå‡å€¼0ï¼Œæ–¹å·®0.01ï¼Œå½¢çŠ¶è¡Œåˆ—ä¸ºè¾“å…¥è¾“å‡ºä¸ªæ•°ï¼Œéœ€è¦è®¡ç®—æ¢¯åº¦</span></span><br><span class="line">W = torch.normal(<span class="number">0</span>, <span class="number">0.01</span>, size=(num_inputs, num_outputs), requires_grad=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># è¾“å‡ºéœ€è¦ä¸€ä¸ªåç§»</span></span><br><span class="line">b = torch.zeros(num_outputs, requires_grad=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°softmaxå›å½’æ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">net</span>(<span class="params">X</span>):</span><br><span class="line">    <span class="keyword">return</span> softmax(torch.matmul(X.reshape((-<span class="number">1</span>, W.shape[<span class="number">0</span>])), W) + b)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cross_entropy</span>(<span class="params">y_hat, y</span>):</span><br><span class="line">    <span class="keyword">return</span> - torch.log(y_hat[<span class="built_in">range</span>(<span class="built_in">len</span>(y_hat)), y])</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¡ç®—æ­£ç¡®ç‡ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">y_hat, y</span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®¡ç®—é¢„æµ‹æ­£ç¡®çš„æ•°é‡&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(y_hat.shape) &gt; <span class="number">1</span> <span class="keyword">and</span> y_hat.shape[<span class="number">1</span>] &gt; <span class="number">1</span>:</span><br><span class="line">        y_hat = y_hat.argmax(axis=<span class="number">1</span>)</span><br><span class="line">    cmp = y_hat.<span class="built_in">type</span>(y.dtype) == y</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">float</span>(cmp.<span class="built_in">type</span>(y.dtype).<span class="built_in">sum</span>())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯„ä¼°netç²¾åº¦</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">evaluate_accuracy</span>(<span class="params">net, data_iter</span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®¡ç®—åœ¨æŒ‡å®šæ•°æ®é›†ä¸Šæ¨¡å‹çš„ç²¾åº¦&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(net, torch.nn.Module):</span><br><span class="line">        net.<span class="built_in">eval</span>()</span><br><span class="line">    metric = Accumulator(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter:</span><br><span class="line">            metric.add(accuracy(net(X), y), y.numel())</span><br><span class="line">    <span class="keyword">return</span> metric[<span class="number">0</span>] / metric[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Accumulator</span>:  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;åœ¨nä¸ªå˜é‡ä¸Šç´¯åŠ &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n</span>):</span><br><span class="line">        self.data = [<span class="number">0.0</span>] * n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self, *args</span>):</span><br><span class="line">        self.data = [a + <span class="built_in">float</span>(b) <span class="keyword">for</span> a, b <span class="keyword">in</span> <span class="built_in">zip</span>(self.data, args)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reset</span>(<span class="params">self</span>):</span><br><span class="line">        self.data = [<span class="number">0.0</span>] * <span class="built_in">len</span>(self.data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        <span class="keyword">return</span> self.data[idx]</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®šä¹‰è®­ç»ƒæ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train_ch3</span>(<span class="params">net, train_iter, test_iter, loss, num_epochs, updater</span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®­ç»ƒæ¨¡å‹ï¼ˆå®šä¹‰è§ç¬¬3ç« ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    animator = Animator(xlabel=<span class="string">&#x27;epoch&#x27;</span>, xlim=[<span class="number">1</span>, num_epochs], ylim=[<span class="number">0.3</span>, <span class="number">0.9</span>],</span><br><span class="line">                        legend=[<span class="string">&#x27;train loss&#x27;</span>, <span class="string">&#x27;train acc&#x27;</span>, <span class="string">&#x27;test acc&#x27;</span>])</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        train_metrics = train_epoch_ch3(net, train_iter, loss, updater)</span><br><span class="line">        test_acc = evaluate_accuracy(net, test_iter)</span><br><span class="line">        animator.add(epoch + <span class="number">1</span>, train_metrics + (test_acc,))</span><br><span class="line">    train_loss, train_acc = train_metrics</span><br><span class="line">    <span class="keyword">assert</span> train_loss &lt; <span class="number">0.5</span>, train_loss</span><br><span class="line">    <span class="keyword">assert</span> train_acc &lt;= <span class="number">1</span> <span class="keyword">and</span> train_acc &gt; <span class="number">0.7</span>, train_acc</span><br><span class="line">    <span class="keyword">assert</span> test_acc &lt;= <span class="number">1</span> <span class="keyword">and</span> test_acc &gt; <span class="number">0.7</span>, test_acc</span><br></pre></td></tr></table></figure>
</li>
<li><p>é¢„æµ‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">predict_ch3</span>(<span class="params">net, test_iter, n=<span class="number">6</span></span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;é¢„æµ‹æ ‡ç­¾ï¼ˆå®šä¹‰è§ç¬¬3ç« ï¼‰&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> X, y <span class="keyword">in</span> test_iter:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    trues = d2l.get_fashion_mnist_labels(y)</span><br><span class="line">    preds = d2l.get_fashion_mnist_labels(net(X).argmax(axis=<span class="number">1</span>))</span><br><span class="line">    titles = [true +<span class="string">&#x27;\n&#x27;</span> + pred <span class="keyword">for</span> true, pred <span class="keyword">in</span> <span class="built_in">zip</span>(trues, preds)]</span><br><span class="line">    d2l.show_images(</span><br><span class="line">        X[<span class="number">0</span>:n].reshape((n, <span class="number">28</span>, <span class="number">28</span>)), <span class="number">1</span>, n, titles=titles[<span class="number">0</span>:n])</span><br><span class="line"></span><br><span class="line">predict_ch3(net, test_iter)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<img src="/2024/04/23/11-01-09/09-09.png" class>
<ol>
<li>åŠ¨ç”»<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animator</span>: </span><br><span class="line">  <span class="string">&quot;&quot;&quot;åœ¨åŠ¨ç”»ä¸­ç»˜åˆ¶æ•°æ®&quot;&quot;&quot;</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, xlabel=<span class="literal">None</span>, ylabel=<span class="literal">None</span>, legend=<span class="literal">None</span>, xlim=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">               ylim=<span class="literal">None</span>, xscale=<span class="string">&#x27;linear&#x27;</span>, yscale=<span class="string">&#x27;linear&#x27;</span>,</span></span><br><span class="line"><span class="params">               fmts=(<span class="params"><span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;m--&#x27;</span>, <span class="string">&#x27;g-.&#x27;</span>, <span class="string">&#x27;r:&#x27;</span></span>), nrows=<span class="number">1</span>, ncols=<span class="number">1</span>,</span></span><br><span class="line"><span class="params">               figsize=(<span class="params"><span class="number">3.5</span>, <span class="number">2.5</span></span>)</span>):</span><br><span class="line">      <span class="comment"># å¢é‡åœ°ç»˜åˆ¶å¤šæ¡çº¿</span></span><br><span class="line">      <span class="keyword">if</span> legend <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">          legend = []</span><br><span class="line">      d2l.use_svg_display()</span><br><span class="line">      self.fig, self.axes = d2l.plt.subplots(nrows, ncols, figsize=figsize)</span><br><span class="line">      <span class="keyword">if</span> nrows * ncols == <span class="number">1</span>:</span><br><span class="line">          self.axes = [self.axes, ]</span><br><span class="line">      <span class="comment"># ä½¿ç”¨lambdaå‡½æ•°æ•è·å‚æ•°</span></span><br><span class="line">      self.config_axes = <span class="keyword">lambda</span>: d2l.set_axes(</span><br><span class="line">          self.axes[<span class="number">0</span>], xlabel, ylabel, xlim, ylim, xscale, yscale, legend)</span><br><span class="line">      self.X, self.Y, self.fmts = <span class="literal">None</span>, <span class="literal">None</span>, fmts</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self, x, y</span>):</span><br><span class="line">      <span class="comment"># å‘å›¾è¡¨ä¸­æ·»åŠ å¤šä¸ªæ•°æ®ç‚¹</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(y, <span class="string">&quot;__len__&quot;</span>):</span><br><span class="line">          y = [y]</span><br><span class="line">      n = <span class="built_in">len</span>(y)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(x, <span class="string">&quot;__len__&quot;</span>):</span><br><span class="line">          x = [x] * n</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> self.X:</span><br><span class="line">          self.X = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> self.Y:</span><br><span class="line">          self.Y = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">      <span class="keyword">for</span> i, (a, b) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(x, y)):</span><br><span class="line">          <span class="keyword">if</span> a <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> b <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">              self.X[i].append(a)</span><br><span class="line">              self.Y[i].append(b)</span><br><span class="line">      self.axes[<span class="number">0</span>].cla()</span><br><span class="line">      <span class="keyword">for</span> x, y, fmt <span class="keyword">in</span> <span class="built_in">zip</span>(self.X, self.Y, self.fmts):</span><br><span class="line">          self.axes[<span class="number">0</span>].plot(x, y, fmt)</span><br><span class="line">      self.config_axes()</span><br><span class="line">      display.display(self.fig)</span><br><span class="line">      display.clear_output(wait=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="5-softmaxçš„ç®€æ´å®ç°"><a href="#5-softmaxçš„ç®€æ´å®ç°" class="headerlink" title="5.softmaxçš„ç®€æ´å®ç°"></a>5.softmaxçš„ç®€æ´å®ç°</h3><blockquote>
<p>è°ƒç”¨torchå†…çš„ç½‘ç»œå±‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#train_iter è¿”å›ä¸€ä¸ªè®­ç»ƒé›†æµ‹è¯•é›†çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> d2l <span class="keyword">import</span> torch <span class="keyword">as</span> d2l</span><br><span class="line">batch_size=<span class="number">256</span></span><br><span class="line">train_iter,test_iter=d2l.load_data_fashion_mnist(batch_size)</span><br><span class="line">net=nn.Sequential(nn.Flatten(),nn.Linear(<span class="number">784</span>,<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_weights</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(m) == nn.Linear:</span><br><span class="line">        nn.init.normal_(m.weight,std=<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line">net.apply(init_weights)</span><br><span class="line">loss=nn.CrossEntropyLoss()</span><br><span class="line">trainer=torch.optim.SGD(net.parameters(),lr=<span class="number">0.1</span>)</span><br><span class="line">num_epochs=<span class="number">10</span></span><br><span class="line">d2l.train_ch3(net,train_iter,test_iter,loss,num_epochs,trainer)</span><br></pre></td></tr></table></figure>
<h3 id="6-softmaxå›å½’Q-amp-A"><a href="#6-softmaxå›å½’Q-amp-A" class="headerlink" title="6.softmaxå›å½’Q&amp;A"></a>6.softmaxå›å½’Q&amp;A</h3><p><strong>Q1:softlabelè®­ç»ƒç­–ç•¥ä»¥åŠä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</strong></p>
<blockquote>
<p>softmaxç”¨æŒ‡æ•°å¾ˆéš¾é€¼è¿‘1ï¼Œsoftlabelå°†æ­£ä¾‹å’Œè´Ÿä¾‹åˆ†åˆ«æ ‡è®°ä¸º0.9å’Œ0.1ä½¿ç»“æœé€¼è¿‘å˜å¾—å¯èƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„å°æŠ€å·§ã€‚</p>
</blockquote>
<h5 id="Q2-softmaxå›å½’å’Œlogisticå›å½’ï¼Ÿ"><a href="#Q2-softmaxå›å½’å’Œlogisticå›å½’ï¼Ÿ" class="headerlink" title="Q2:softmaxå›å½’å’Œlogisticå›å½’ï¼Ÿ"></a>Q2:softmaxå›å½’å’Œlogisticå›å½’ï¼Ÿ</h5><blockquote>
<p>logisticå›å½’ä¸ºäºŒåˆ†ç±»é—®é¢˜ï¼Œæ˜¯softmaxå›å½’çš„ç‰¹ä¾‹</p>
</blockquote>
<h5 id="Q3-ä¸ºä»€ä¹ˆä½¿ç”¨äº¤å‰ç†µï¼Œè€Œä¸ç”¨ç›¸å¯¹ç†µï¼Œäº’ä¿¡æ¯ç†µç­‰å…¶ä»–åŸºäºä¿¡æ¯é‡çš„åº¦é‡ï¼Ÿ"><a href="#Q3-ä¸ºä»€ä¹ˆä½¿ç”¨äº¤å‰ç†µï¼Œè€Œä¸ç”¨ç›¸å¯¹ç†µï¼Œäº’ä¿¡æ¯ç†µç­‰å…¶ä»–åŸºäºä¿¡æ¯é‡çš„åº¦é‡ï¼Ÿ" class="headerlink" title="Q3:ä¸ºä»€ä¹ˆä½¿ç”¨äº¤å‰ç†µï¼Œè€Œä¸ç”¨ç›¸å¯¹ç†µï¼Œäº’ä¿¡æ¯ç†µç­‰å…¶ä»–åŸºäºä¿¡æ¯é‡çš„åº¦é‡ï¼Ÿ"></a>Q3:ä¸ºä»€ä¹ˆä½¿ç”¨äº¤å‰ç†µï¼Œè€Œä¸ç”¨ç›¸å¯¹ç†µï¼Œäº’ä¿¡æ¯ç†µç­‰å…¶ä»–åŸºäºä¿¡æ¯é‡çš„åº¦é‡ï¼Ÿ</h5><blockquote>
<p>å®é™…ä¸Šä½¿ç”¨å“ªä¸€ç§ç†µçš„æ•ˆæœåŒºåˆ«ä¸å¤§ï¼Œæ‰€ä»¥å“ªç§ç®€å•å°±ç”¨å“ªç§</p>
</blockquote>
<h5 id="Q4-y-log-hat-y-ä¸ºä»€ä¹ˆæˆ‘ä»¬åªå…³å¿ƒæ­£ç¡®ç±»ï¼Œè€Œä¸å…³å¿ƒä¸æ­£ç¡®çš„ç±»å‘¢ï¼Ÿ"><a href="#Q4-y-log-hat-y-ä¸ºä»€ä¹ˆæˆ‘ä»¬åªå…³å¿ƒæ­£ç¡®ç±»ï¼Œè€Œä¸å…³å¿ƒä¸æ­£ç¡®çš„ç±»å‘¢ï¼Ÿ" class="headerlink" title="Q4:$y*log\hat{y}$   ä¸ºä»€ä¹ˆæˆ‘ä»¬åªå…³å¿ƒæ­£ç¡®ç±»ï¼Œè€Œä¸å…³å¿ƒä¸æ­£ç¡®çš„ç±»å‘¢ï¼Ÿ"></a>Q4:$y*log\hat{y}$   ä¸ºä»€ä¹ˆæˆ‘ä»¬åªå…³å¿ƒæ­£ç¡®ç±»ï¼Œè€Œä¸å…³å¿ƒä¸æ­£ç¡®çš„ç±»å‘¢ï¼Ÿ</h5><blockquote>
<p>å¹¶ä¸æ˜¯ä¸å…³å¿ƒï¼Œè€Œæ˜¯ä¸æ­£ç¡®çš„çš„ç±»æ ‡å·ä¸ºé›¶ï¼Œæ‰€ä»¥ç®—å¼ä¸­ä¸ä½“ç°ï¼Œå¦‚æœä½¿ç”¨softlabelç­–ç•¥ï¼Œå°±ä¼šä½“ç°å‡ºä¸æ­£ç¡®çš„ç±»ã€‚</p>
</blockquote>
<h5 id="Q5-ä¼¼ç„¶å‡½æ•°æ›²çº¿æ˜¯æ€ä¹ˆå¾—å‡ºæ¥çš„ï¼Ÿæœ‰ä»€ä¹ˆå‚è€ƒæ„ä¹‰ï¼Ÿ"><a href="#Q5-ä¼¼ç„¶å‡½æ•°æ›²çº¿æ˜¯æ€ä¹ˆå¾—å‡ºæ¥çš„ï¼Ÿæœ‰ä»€ä¹ˆå‚è€ƒæ„ä¹‰ï¼Ÿ" class="headerlink" title="Q5:ä¼¼ç„¶å‡½æ•°æ›²çº¿æ˜¯æ€ä¹ˆå¾—å‡ºæ¥çš„ï¼Ÿæœ‰ä»€ä¹ˆå‚è€ƒæ„ä¹‰ï¼Ÿ"></a>Q5:ä¼¼ç„¶å‡½æ•°æ›²çº¿æ˜¯æ€ä¹ˆå¾—å‡ºæ¥çš„ï¼Ÿæœ‰ä»€ä¹ˆå‚è€ƒæ„ä¹‰ï¼Ÿ</h5><blockquote>
<p>æœ€å°åŒ–æŸå¤±å‡½æ•°ä¹Ÿæ„å‘³ç€æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°ï¼Œä¼¼ç„¶å‡½æ•°è¡¨ç¤ºç»Ÿè®¡æ¦‚ç‡å’Œæ¨¡å‹çš„æ‹Ÿåˆç¨‹åº¦ã€‚</p>
</blockquote>
<h5 id="Q6-åœ¨å¤šæ¬¡è¿­ä»£ä¹‹åæ¬§å¦‚æœæµ‹è¯•ç²¾åº¦å‡ºç°ä¸Šå‡åå†ä¸‹é™æ˜¯è¿‡æ‹Ÿåˆäº†å—ï¼Ÿå¯ä»¥æå‰ç»ˆæ­¢å—ï¼Ÿ"><a href="#Q6-åœ¨å¤šæ¬¡è¿­ä»£ä¹‹åæ¬§å¦‚æœæµ‹è¯•ç²¾åº¦å‡ºç°ä¸Šå‡åå†ä¸‹é™æ˜¯è¿‡æ‹Ÿåˆäº†å—ï¼Ÿå¯ä»¥æå‰ç»ˆæ­¢å—ï¼Ÿ" class="headerlink" title="Q6:åœ¨å¤šæ¬¡è¿­ä»£ä¹‹åæ¬§å¦‚æœæµ‹è¯•ç²¾åº¦å‡ºç°ä¸Šå‡åå†ä¸‹é™æ˜¯è¿‡æ‹Ÿåˆäº†å—ï¼Ÿå¯ä»¥æå‰ç»ˆæ­¢å—ï¼Ÿ"></a>Q6:åœ¨å¤šæ¬¡è¿­ä»£ä¹‹åæ¬§å¦‚æœæµ‹è¯•ç²¾åº¦å‡ºç°ä¸Šå‡åå†ä¸‹é™æ˜¯è¿‡æ‹Ÿåˆäº†å—ï¼Ÿå¯ä»¥æå‰ç»ˆæ­¢å—ï¼Ÿ</h5><blockquote>
<p>å¾ˆæœ‰å¯èƒ½æ˜¯è¿‡æ‹Ÿåˆï¼Œå¯ä»¥ç»§ç»­è®­ç»ƒæ¥è§‚å¯Ÿæ˜¯å¦æŒç»­ä¸‹é™</p>
</blockquote>
<h5 id="Q7-cnnç½‘ç»œä¸»è¦å­¦ä¹ åˆ°çš„æ˜¯çº¹ç†è¿˜æ˜¯è½®å»“è¿˜æ˜¯æ‰€æœ‰å†…å®¹çš„ç»¼åˆï¼Ÿ"><a href="#Q7-cnnç½‘ç»œä¸»è¦å­¦ä¹ åˆ°çš„æ˜¯çº¹ç†è¿˜æ˜¯è½®å»“è¿˜æ˜¯æ‰€æœ‰å†…å®¹çš„ç»¼åˆï¼Ÿ" class="headerlink" title="Q7:cnnç½‘ç»œä¸»è¦å­¦ä¹ åˆ°çš„æ˜¯çº¹ç†è¿˜æ˜¯è½®å»“è¿˜æ˜¯æ‰€æœ‰å†…å®¹çš„ç»¼åˆï¼Ÿ"></a>Q7:cnnç½‘ç»œä¸»è¦å­¦ä¹ åˆ°çš„æ˜¯çº¹ç†è¿˜æ˜¯è½®å»“è¿˜æ˜¯æ‰€æœ‰å†…å®¹çš„ç»¼åˆï¼Ÿ</h5><blockquote>
<p>ç›®å‰è®¤ä¸ºä¸»è¦å­¦ä¹ åˆ°çš„æ˜¯çº¹ç†ä¿¡æ¯</p>
</blockquote>
<h5 id="Q8-softmaxå¯è§£é‡Šå—ï¼Ÿ"><a href="#Q8-softmaxå¯è§£é‡Šå—ï¼Ÿ" class="headerlink" title="Q8:softmaxå¯è§£é‡Šå—ï¼Ÿ"></a>Q8:softmaxå¯è§£é‡Šå—ï¼Ÿ</h5><blockquote>
<p>å•çº¯softmaxæ˜¯å¯è§£é‡Šçš„ï¼Œå¯ä»¥åœ¨ç»Ÿè®¡ä¹¦ç±ä¸­æ‰¾åˆ°ç›¸å…³çš„è§£é‡Šã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>08-çº¿æ€§å›å½’+åŸºç¡€ä¼˜åŒ–ç®—æ³•</title>
    <url>/2024/04/23/11-01-08/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="çº¿æ€§å›å½’-åŸºç¡€ä¼˜åŒ–ç®—æ³•"><a href="#çº¿æ€§å›å½’-åŸºç¡€ä¼˜åŒ–ç®—æ³•" class="headerlink" title="çº¿æ€§å›å½’+åŸºç¡€ä¼˜åŒ–ç®—æ³•"></a>çº¿æ€§å›å½’+åŸºç¡€ä¼˜åŒ–ç®—æ³•</h2><h3 id="1-çº¿æ€§å›å½’"><a href="#1-çº¿æ€§å›å½’" class="headerlink" title="1.çº¿æ€§å›å½’"></a>1.çº¿æ€§å›å½’</h3><ul>
<li><p>æˆ¿ä»·é¢„æµ‹ä¾‹å­</p>
</li>
<li><p><strong>çº¿æ€§æ¨¡å‹</strong></p>
<ul>
<li><p>è¾“å…¥ï¼š$x=[x_1,x_2,â€¦,x_n]^T$</p>
</li>
<li><p>çº¿æ€§æ¨¡å‹éœ€è¦ç¡®å®šä¸€ä¸ªnç»´æƒé‡å’Œä¸€ä¸ªæ ‡é‡åå·®$\omega=[\omega_1,\omega_2,â€¦,\omega_n]^T,b$</p>
</li>
<li><p>è¾“å‡º ï¼š$y=\omega_1x_1+\omega_2x_2+â€¦+\omega_nx_n+b$ï¼Œ</p>
<p>å‘é‡ç‰ˆæœ¬çš„æ˜¯ $y=&lt;\omega,x&gt;+b$</p>
</li>
<li><p>çº¿æ€§æ¨¡å‹å¯ä»¥çœ‹ä½œæ˜¯å•å±‚ç¥ç»ç½‘ç»œ</p>
<blockquote>
<ul>
<li>ç¥ç»ç½‘ç»œæºäºç¥ç»ç§‘å­¦<ul>
<li>æœ€æ—©çš„ç¥ç»ç½‘ç»œæ˜¯æºè‡ªç¥ç»ç§‘å­¦çš„ï¼Œä½†æ˜¯æ—¶è‡³ä»Šæ—¥ï¼Œå¾ˆå¤šç¥ç»ç½‘ç»œå·²ç»è¿œè¿œé«˜äºç¥ç»ç§‘å­¦ï¼Œå¯è§£é‡Šæ€§ä¹Ÿä¸æ˜¯å¾ˆå¼ºï¼Œä¸å¿…çº ç»“</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p>è¡¡é‡ä¼°è®¡è´¨é‡</p>
<ul>
<li><p>æˆ‘ä»¬éœ€è¦ä¼°è®¡æ¨¡å‹çš„é¢„ä¼°å€¼å’ŒçœŸå®å€¼ä¹‹é—´çš„å·®è·ï¼Œä¾‹å¦‚æˆ¿å±‹å”®ä»·å’Œè‚¡ä»·</p>
</li>
<li><p>å‡è®¾$y$æ˜¯çœŸå®å€¼ï¼Œ$\tilde{y}$æ˜¯ä¼°è®¡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒ</p>
<p>$l(y,\tilde{y})=\frac{1}{2}(y-\tilde{y})^2$ï¼Œè¿™ä¸ªå«åš<strong>å¹³æ–¹æŸå¤±</strong></p>
</li>
</ul>
</li>
<li><p><strong>è®­ç»ƒæ•°æ®</strong></p>
<ul>
<li><p>æ”¶é›†ä¸€äº›æ•°æ®ç‚¹æ¥å†³å®šå‚æ•°å€¼ï¼ˆæƒé‡$\omega$å’Œåå·®$b$ï¼‰ï¼Œä¾‹å¦‚6ä¸ªæœˆå†…è¢«å–æ‰çš„æˆ¿å­ã€‚</p>
</li>
<li><p>è¿™è¢«ç§°ä¹‹ä¸ºè®­ç»ƒæ•°æ®</p>
</li>
<li><p>é€šå¸¸è¶Šå¤šè¶Šå¥½ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç°å®ä¸–ç•Œçš„æ•°æ®éƒ½æ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯ä¸ºäº†è®­ç»ƒå‡ºç²¾ç¡®çš„å‚æ•°å¾€å¾€éœ€è¦è®­ç»ƒæ•°æ®è¶Šå¤šè¶Šå¥½ï¼Œå½“è®­ç»ƒæ•°æ®ä¸è¶³çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œé¢å¤–å¤„ç†ã€‚</p>
</li>
<li><p>å‡è®¾æˆ‘ä»¬æœ‰nä¸ªæ ·æœ¬ï¼Œè®°ä¸º</p>
<p>$X=[x_1,x_2,â€¦,x_n]^T,y=[y_1,y_2,â€¦y_n]^T$</p>
<p>$X$çš„æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæ ·æœ¬ï¼Œ$y$çš„æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè¾“å‡ºçš„å®æ•°å€¼ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>å‚æ•°å­¦ä¹ </strong></p>
<ul>
<li><p><strong>è®­ç»ƒæŸå¤±</strong>ã€‚ä½†æˆ‘ä»¬è®­ç»ƒå‚æ•°çš„æ—¶å€™ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªæŸå¤±å‡½æ•°æ¥è¡¡é‡å‚æ•°çš„å¥½åï¼Œåº”ç”¨å‰æ–‡æè¿‡çš„å¹³æ–¹æŸå¤±æœ‰å…¬å¼ï¼š</p>
<p>$l(X,x,\omega,b)=\frac{1}{2n}\sum_{i=1}^n(y_i-{&lt; x_i, w &gt;}-b)^2=\frac{1}{2n}||y-X\omega-b||^2$</p>
</li>
<li><p><strong>æœ€å°åŒ–æŸå¤±æ¥å­¦ä¹ å‚æ•°</strong>ã€‚è®­ç»ƒå‚æ•°çš„ç›®çš„å°±æ˜¯ä½¿æŸå¤±å‡½æ•°çš„å€¼å°½å¯èƒ½å°ï¼ˆè¿™æ„å‘³ç€é¢„ä¼°å€¼å’ŒçœŸå®å€¼æ›´æ¥è¿‘ï¼‰ã€‚æœ€åæ±‚å¾—çš„å‚æ•°å€¼å¯è¡¨ç¤ºä¸ºï¼š</p>
<p>$\omega^*,b^*=argmin_{\omega,b}l(X,x,\omega,b)$</p>
</li>
</ul>
</li>
<li><p><strong>æ˜¾ç¤ºè§£</strong></p>
<ul>
<li><p>çº¿æ€§å›å½’æœ‰æ˜¾ç¤ºè§£ï¼Œå³å¯ä»¥ç›´æ¥çŸ©é˜µæ•°å­¦è¿ç®—ï¼Œå¾—åˆ°å‚æ•°wå’Œbçš„æœ€ä¼˜è§£ï¼Œè€Œä¸æ˜¯ç”¨æ¢¯åº¦ä¸‹é™ï¼Œç‰›é¡¿æ³•ç­‰å‚æ•°ä¼˜åŒ–æ–¹å¼ä¸€ç‚¹ç‚¹é€¼è¿‘æœ€ä¼˜è§£ã€‚</p>
</li>
<li><p><strong>æ¨å¯¼è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li><p>ä¸ºäº†æ–¹ä¾¿çŸ©é˜µè¡¨ç¤ºå’Œè®¡ç®—ï¼Œå°†åå·®åŠ å…¥æƒé‡ï¼Œ$X\gets[X,1],\omega\gets[\omega,b]$</p>
</li>
<li><p>æŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œæœ€ä¼˜è§£æ»¡è¶³å¯¼æ•°ä¸º0ï¼Œå¯è§£å‡ºæ˜¾ç¤ºè§£</p>
<p>ä»¤$\frac{\partial}{\partial\omega} l(X,y,\omega)=0$</p>
<p>æœ‰$\frac{1}{n}(y-X\omega)^TX=0$</p>
<p>è§£å¾—$\omega^*=(X^TX)^{-1}X^Ty$</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>æ€»ç»“</p>
<ul>
<li>çº¿æ€§å›å½’æ˜¯å¯¹nç»´è¾“å…¥çš„åŠ æƒï¼Œå¤–åŠ åå·®</li>
<li>ä½¿ç”¨<strong>å¹³æ–¹æŸå¤±</strong>æ¥è¡¡é‡é¢„æµ‹å€¼å’ŒçœŸå®å€¼ä¹‹é—´çš„è¯¯å·®</li>
<li><strong>çº¿æ€§å›å½’æœ‰æ˜¾ç¤ºè§£</strong></li>
<li>çº¿æ€§å›å½’å¯ä»¥çœ‹ä½œå•å±‚ç¥ç»ç½‘ç»œ</li>
</ul>
</li>
</ul>
<h3 id="2-åŸºç¡€ä¼˜åŒ–ç®—æ³•"><a href="#2-åŸºç¡€ä¼˜åŒ–ç®—æ³•" class="headerlink" title="2.åŸºç¡€ä¼˜åŒ–ç®—æ³•"></a>2.åŸºç¡€ä¼˜åŒ–ç®—æ³•</h3><ul>
<li><p><strong>æ¢¯åº¦ä¸‹é™</strong></p>
<ul>
<li>å½“æ¨¡å‹æ²¡æœ‰æ˜¾ç¤ºè§£çš„æ—¶å€™ï¼Œåº”ç”¨æ¢¯åº¦ä¸‹é™æ³•é€¼è¿‘æœ€ä¼˜è§£ã€‚</li>
<li>æ¢¯åº¦ä¸‹é™æ³•çš„å…·ä½“æ­¥éª¤ï¼š<ul>
<li>æŒ‘é€‰ä¸€ä¸ªåˆå§‹å€¼$\omega_0$</li>
<li>é‡å¤è¿­ä»£å‚æ•°ï¼Œè¿­ä»£å…¬å¼ä¸ºï¼š$\omega_t=\omega_{t-1}-\lambda\frac{\partial l}{\partial\omega_{t-1} } $<ul>
<li><strong>$-\frac{\partial l}{\partial\omega_{t-1}}$ä¸ºå‡½æ•°å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Œå­¦ä¹ ç‡$\lambda$ä¸ºå­¦ä¹ æ­¥é•¿ã€‚</strong></li>
</ul>
</li>
</ul>
</li>
<li>é€‰æ‹©å­¦ä¹ ç‡<ul>
<li>å­¦ä¹ ç‡$\lambda$ä¸ºå­¦ä¹ æ­¥é•¿ï¼Œä»£è¡¨äº†æ²¿è´Ÿæ¢¯åº¦æ–¹å‘èµ°äº†å¤šè¿œï¼Œè¿™æ˜¯è¶…å‚æ•°ï¼ˆäººä¸ºæŒ‡å®šçš„çš„å€¼ï¼Œä¸æ˜¯è®­ç»ƒå¾—åˆ°çš„ï¼‰</li>
<li>å­¦ä¹ ç‡ä¸èƒ½å¤ªå¤§ï¼Œä¹Ÿä¸èƒ½å¤ªå°ï¼Œéœ€è¦é€‰å–é€‚å½“ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™</strong></p>
<ul>
<li><p>åœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šç®—æ¢¯åº¦å¤ªè´µäº†</p>
<ul>
<li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¾ˆå°‘ç›´æ¥åº”ç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œè¿™æ˜¯å› ä¸ºæ¯æ¬¡æ›´æ–°éƒ½éœ€è¦è®¡ç®—è®­ç»ƒé›†ä¸Šæ‰€æœ‰çš„æ ·æœ¬ï¼Œè€—è´¹æ—¶é—´å¤ªé•¿ã€‚ä¸€ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œè¿­ä»£ä¸€æ¬¡å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿç”šè‡³æ•°å°æ—¶ã€‚</li>
</ul>
</li>
<li><p>ä¸ºäº†å‡å°‘è¿ç®—ä»£ä»·ï¼Œæˆ‘ä»¬å¯ä»¥==éšæœºé‡‡æ ·==bä¸ªæ ·æœ¬$i_1,i_2,â€¦,i_b$æ¥è¿‘ä¼¼æŸå¤±ï¼ŒæŸå¤±å‡½æ•°ä¸ºï¼š</p>
<p>â€‹    $\frac{1}{b}\sum_{i\in I_b}l(x_i,y_i,\omega)$ , </p>
<p>å…¶ä¸­<strong>bæ˜¯æ‰¹é‡å¤§å°(batch size)ï¼Œä¹Ÿæ˜¯è¶…å‚æ•°</strong></p>
</li>
<li><p><strong>é€‰æ‹©æ‰¹é‡å¤§å°</strong></p>
<ul>
<li>bä¹Ÿä¸èƒ½å¤ªå¤§ï¼šå†…å­˜æ¶ˆè€—å¢åŠ ï¼›æµªè´¹è®¡ç®—èµ„æºï¼Œä¸€ä¸ªæç«¯çš„æƒ…å†µæ˜¯å¯èƒ½ä¼šé‡å¤é€‰å–å¾ˆå¤šå·®ä¸å¤šçš„æ ·æœ¬ï¼Œæµªè´¹è®¡ç®—èµ„æº</li>
<li>bä¹Ÿä¸èƒ½å¤ªå°ï¼šæ¯æ¬¡è®¡ç®—é‡å¤ªå°ï¼Œå¾ˆéš¾ä»¥å¹¶è¡Œï¼Œä¸èƒ½æœ€å¤§é™åº¦åˆ©ç”¨GPUèµ„æº</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>æ€»ç»“</strong></p>
<ul>
<li>æ¢¯åº¦ä¸‹é™é€šè¿‡ä¸æ–­<strong>æ²¿ç€è´Ÿæ¢¯åº¦æ–¹å‘</strong>æ›´æ–°å‚æ•°æ±‚è§£</li>
<li>å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™æ˜¯æ·±åº¦å­¦ä¹ é»˜è®¤çš„æ±‚è§£ç®—æ³•ï¼ˆç®€å•ï¼Œç¨³å®šï¼‰</li>
<li><strong>ä¸¤ä¸ªé‡è¦çš„è¶…å‚æ•°ï¼šæ‰¹é‡å¤§å°ï¼ˆbatch sizeï¼‰ï¼Œå­¦ä¹ ç‡ï¼ˆlrï¼‰</strong></li>
</ul>
</li>
</ul>
<h3 id="3-çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°"><a href="#3-çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°" class="headerlink" title="3.çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°"></a>3.çº¿æ€§å›å½’çš„ä»é›¶å¼€å§‹å®ç°</h3><ul>
<li>ä»£ç </li>
</ul>
<h3 id="4-æ–°å‹å›å½’çš„ç®€æ´å®ç°"><a href="#4-æ–°å‹å›å½’çš„ç®€æ´å®ç°" class="headerlink" title="4.æ–°å‹å›å½’çš„ç®€æ´å®ç°"></a>4.æ–°å‹å›å½’çš„ç®€æ´å®ç°</h3><ul>
<li>ä»£ç </li>
</ul>
<ul>
<li><strong>1.ä¸ºä»€ä¹ˆä½¿ç”¨å¹³æ–¹æŸå¤±è€Œä¸æ˜¯ç»å¯¹å·®å€¼ï¼Ÿ</strong><ul>
<li>å…¶å®å·®åˆ«ä¸å¤§ï¼Œæœ€å¼€å§‹ä½¿ç”¨å¹³æ–¹æŸå¤±æ˜¯å› ä¸ºå®ƒå¯å¯¼ï¼Œç°åœ¨å…¶å®éƒ½å¯ä»¥ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><strong>2.æŸå¤±ä¸ºä»€ä¹ˆè¦æ±‚å¹³å‡ï¼Ÿ</strong><ul>
<li>æœ¬è´¨ä¸Šæ²¡æœ‰å…³ç³»ï¼Œä½†æ˜¯å¦‚æœä¸æ±‚å¹³å‡ï¼Œæ¢¯åº¦çš„æ•°å€¼ä¼šæ¯”è¾ƒå¤§ï¼Œè¿™æ—¶éœ€è¦å­¦ä¹ ç‡é™¤ä»¥nã€‚å¦‚æœä¸é™¤ä»¥nï¼Œå¯èƒ½ä¼šéšç€æ ·æœ¬æ•°é‡çš„å¢å¤§è€Œè®©æ¢¯åº¦å˜å¾—å¾ˆå¤§ã€‚</li>
</ul>
</li>
<li><strong>3.ä¸ç®¡æ˜¯æ¢¯åº¦ä¸‹é™è¿˜æ˜¯éšæœºæ¢¯åº¦ä¸‹é™ï¼Œæ€ä¹ˆæ‰¾åˆ°åˆé€‚çš„å­¦ä¹ ç‡ï¼Ÿ</strong><ul>
<li>é€‰æ‹©å¯¹å­¦ä¹ ç‡ä¸æ•æ„Ÿçš„ä¼˜åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚Adam</li>
<li>åˆç†å‚æ•°åˆå§‹åŒ–</li>
</ul>
</li>
<li><strong>4.è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè¿‡æ‹Ÿåˆå’Œæ¬ æ‹Ÿåˆæƒ…å†µä¸‹ï¼Œå­¦ä¹ ç‡å’Œbatch_sizeåº”è¯¥å¦‚ä½•è°ƒæ•´ï¼Ÿ</strong><ul>
<li>ç†è®ºä¸Šå­¦ä¹ ç‡å’Œbatch_sizeå¯¹æœ€åçš„æ‹Ÿåˆç»“æœä¸ä¼šæœ‰å½±å“</li>
</ul>
</li>
<li><strong>5.æ·±åº¦å­¦ä¹ ä¸Šï¼Œè®¾ç½®æŸå¤±å‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘æ­£åˆ™å—ï¼Ÿ</strong><ul>
<li>ä¼šè€ƒè™‘ï¼Œä½†æ˜¯å’ŒæŸå¤±å‡½æ•°æ˜¯åˆ†å¼€çš„ï¼Œæ·±åº¦å­¦ä¹ ä¸­æ­£åˆ™æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„ï¼Œæœ‰å¾ˆå¤šå…¶ä»–çš„æŠ€æœ¯å¯ä»¥æœ‰æ­£åˆ™çš„æ•ˆæœã€‚</li>
</ul>
</li>
<li><strong>6.å¦‚æœæ ·æœ¬å¤§å°ä¸æ˜¯æ‰¹é‡æ•°çš„æ•´æ•°å€ï¼Œéœ€è¦éšæœºå‰”é™¤å¤šä½™çš„æ ·æœ¬å—ï¼Ÿ</strong><ul>
<li>å°±å–å¤šä½™çš„æ ·æœ¬ä½œä¸ºä¸€ä¸ªæ‰¹æ¬¡</li>
<li>ç›´æ¥ä¸¢å¼ƒ</li>
<li>ä»ä¸‹ä¸€ä¸ªepoché‡Œé¢è¡¥å°‘çš„æ ·æœ¬</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼</title>
    <url>/2024/04/23/11-01-07/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼"><a href="#07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼" class="headerlink" title="07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼"></a>07-é“¾å¼æ³•åˆ™ä¸è‡ªåŠ¨æ±‚å¯¼</h2><h3 id="1-å‘é‡é“¾å¼æ³•åˆ™"><a href="#1-å‘é‡é“¾å¼æ³•åˆ™" class="headerlink" title="1. å‘é‡é“¾å¼æ³•åˆ™"></a>1. å‘é‡é“¾å¼æ³•åˆ™</h3><ul>
<li><h4 id="1-1-æ ‡é‡é“¾å¼æ³•åˆ™"><a href="#1-1-æ ‡é‡é“¾å¼æ³•åˆ™" class="headerlink" title="1.1 æ ‡é‡é“¾å¼æ³•åˆ™"></a>1.1 æ ‡é‡é“¾å¼æ³•åˆ™</h4></li>
</ul>
<img src="/2024/04/23/11-01-07/image-01.png" class>
<ul>
<li><h4 id="1-2-æ‹“å±•åˆ°å‘é‡"><a href="#1-2-æ‹“å±•åˆ°å‘é‡" class="headerlink" title="1.2 æ‹“å±•åˆ°å‘é‡"></a>1.2 æ‹“å±•åˆ°å‘é‡</h4><blockquote>
<p>éœ€è¦æ³¨æ„ç»´æ•°çš„å˜åŒ–</p>
<p>ä¸‹å›¾ä¸‰ç§æƒ…å†µåˆ†åˆ«å¯¹åº”ï¼š</p>
<ol>
<li>yä¸ºæ ‡é‡ï¼Œxä¸ºå‘é‡</li>
<li>yä¸ºæ ‡é‡ï¼Œxä¸ºçŸ©é˜µ</li>
<li>yã€xä¸ºçŸ©é˜µ</li>
</ol>
</blockquote>
</li>
</ul>
<img src="/2024/04/23/11-01-07/image-02.png" class>
<hr>
<h5 id="ä¾‹1ï¼ˆæ ‡é‡å¯¹å‘é‡æ±‚å¯¼ï¼‰"><a href="#ä¾‹1ï¼ˆæ ‡é‡å¯¹å‘é‡æ±‚å¯¼ï¼‰" class="headerlink" title="ä¾‹1ï¼ˆæ ‡é‡å¯¹å‘é‡æ±‚å¯¼ï¼‰"></a>ä¾‹1ï¼ˆæ ‡é‡å¯¹å‘é‡æ±‚å¯¼ï¼‰</h5><blockquote>
<p>è¿™é‡Œåº”è¯¥æ˜¯ç”¨åˆ†å­å¸ƒå±€ï¼Œæ‰€ä»¥æ˜¯Xè½¬ç½®</p>
</blockquote>
<p>â€‹                                 <img src="/2024/04/23/11-01-07/image-03.png" class>   </p>
<h5 id="ä¾‹2ï¼ˆæ¶‰åŠåˆ°çŸ©é˜µçš„æƒ…å†µï¼‰"><a href="#ä¾‹2ï¼ˆæ¶‰åŠåˆ°çŸ©é˜µçš„æƒ…å†µï¼‰" class="headerlink" title="ä¾‹2ï¼ˆæ¶‰åŠåˆ°çŸ©é˜µçš„æƒ…å†µï¼‰"></a>ä¾‹2ï¼ˆæ¶‰åŠåˆ°çŸ©é˜µçš„æƒ…å†µï¼‰</h5><blockquote>
<p>Xæ˜¯mxnçš„çŸ©é˜µ,wä¸ºnç»´å‘é‡ï¼Œyä¸ºmç»´å‘é‡ï¼›<br>zå¯¹Xw-yåšL2 norm,ä¸ºæ ‡é‡ï¼›<br>è¿‡ç¨‹ä¸ä¾‹ä¸€å¤§ä½“ä¸€è‡´ï¼›</p>
</blockquote>
<p>â€‹                                   <img src="/2024/04/23/11-01-07/image-04.png" class></p>
<hr>
<blockquote>
<p>ç”±äºåœ¨ç¥ç»ç½‘ç»œåŠ¨è¾„å‡ ç™¾å±‚ï¼Œæ‰‹åŠ¨è¿›è¡Œé“¾å¼æ±‚å¯¼æ˜¯å¾ˆå›°éš¾çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å€ŸåŠ©è‡ªåŠ¨æ±‚å¯¼</p>
</blockquote>
<hr>
<h3 id="2-è‡ªåŠ¨æ±‚å¯¼"><a href="#2-è‡ªåŠ¨æ±‚å¯¼" class="headerlink" title="2. è‡ªåŠ¨æ±‚å¯¼"></a>2. è‡ªåŠ¨æ±‚å¯¼</h3><ul>
<li><p>å«ä¹‰ï¼šè®¡ç®—ä¸€ä¸ªå‡½æ•°åœ¨æŒ‡å®šå€¼ä¸Šçš„å¯¼æ•°</p>
</li>
<li><p>è‡ªåŠ¨æ±‚å¯¼æœ‰åˆ«äº</p>
<ul>
<li><p>ç¬¦å·æ±‚å¯¼</p>
<img src="/2024/04/23/11-01-07/image-05.png" class>
</li>
<li><p>æ•°å€¼æ±‚å¯¼</p>
<img src="/2024/04/23/11-01-07/image-06.png" class>
</li>
</ul>
</li>
</ul>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£è‡ªåŠ¨æ±‚å¯¼ï¼Œä¸‹é¢å¼•å…¥è®¡ç®—å›¾çš„æ¦‚å¿µ</p>
<h4 id="2-1-è®¡ç®—å›¾"><a href="#2-1-è®¡ç®—å›¾" class="headerlink" title="2.1 è®¡ç®—å›¾"></a>2.1 è®¡ç®—å›¾</h4><ul>
<li><p>å°†ä»£ç åˆ†è§£æˆæ“ä½œå­</p>
</li>
<li><p>å°†è®¡ç®—è¡¨ç¤ºæˆä¸€ä¸ª<strong>æ— ç¯å›¾</strong></p>
<blockquote>
<p>ä¸‹å›¾è‡ªåº•å‘ä¸Šå…¶å®å°±ç±»ä¼¼äºé“¾å¼æ±‚å¯¼è¿‡ç¨‹</p>
</blockquote>
</li>
</ul>
<img src="/2024/04/23/11-01-07/image-07.png" class>
<p>â€‹     </p>
<ul>
<li><p>è®¡ç®—å›¾æœ‰ä¸¤ç§æ„é€ æ–¹å¼<br>è®¡ç®—ä¸ä¸Šå›¾æ— å…³</p>
<ul>
<li><p>æ˜¾ç¤ºæ„é€ </p>
<blockquote>
<p>å¯ä»¥ç†è§£ä¸ºå…ˆå®šä¹‰å…¬å¼å†ä»£å€¼</p>
<p>Tensorflow/Theano/MXNet</p>
</blockquote>
<img src="/2024/04/23/11-01-07/image-08.png" class>
</li>
<li><p>éšå¼æ„é€ </p>
<blockquote>
<p>ç³»ç»Ÿå°†æ‰€æœ‰çš„è®¡ç®—è®°å½•ä¸‹æ¥</p>
<p>Pytorch/MXNet</p>
</blockquote>
<img src="/2024/04/23/11-01-07/image-09.png" class>
</li>
</ul>
</li>
</ul>
<h4 id="2-2-è‡ªåŠ¨æ±‚å¯¼çš„ä¸¤ç§æ¨¡å¼"><a href="#2-2-è‡ªåŠ¨æ±‚å¯¼çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="2.2 è‡ªåŠ¨æ±‚å¯¼çš„ä¸¤ç§æ¨¡å¼"></a>2.2 è‡ªåŠ¨æ±‚å¯¼çš„ä¸¤ç§æ¨¡å¼</h4><ul>
<li><p>æ­£å‘ç´¯ç§¯</p>
 <img src="/2024/04/23/11-01-07/image-10.png" class>
</li>
<li><p>åå‘ç´¯ç§¯ï¼ˆåå‘ä¼ é€’back propagationï¼‰</p>
<img src="/2024/04/23/11-01-07/image-11.png" class>
</li>
</ul>
<p>â€‹    <strong>åå‘ç´¯ç§¯è®¡ç®—è¿‡ç¨‹</strong></p>
<img src="/2024/04/23/11-01-07/image-12.png" class>
<blockquote>
<p>åå‘ç´¯ç§¯çš„æ­£å‘è¿‡ç¨‹ï¼šè‡ªåº•å‘ä¸Šï¼Œéœ€è¦å­˜å‚¨ä¸­é—´ç»“æœ</p>
<p>åå‘ç´¯ç§¯çš„åå‘è¿‡ç¨‹ï¼šè‡ªé¡¶å‘ä¸‹ï¼Œå¯ä»¥å»é™¤ä¸éœ€è¦çš„æï¼ˆå›¾ä¸­çš„xåº”ä¸ºwï¼‰</p>
<img src="/2024/04/23/11-01-07/image-13.png" class>
</blockquote>
<h4 id="2-3-å¤æ‚åº¦æ¯”è¾ƒ"><a href="#2-3-å¤æ‚åº¦æ¯”è¾ƒ" class="headerlink" title="2.3 å¤æ‚åº¦æ¯”è¾ƒ"></a>2.3 å¤æ‚åº¦æ¯”è¾ƒ</h4><ul>
<li><p>åå‘ç´¯ç§¯</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n),næ˜¯æ“ä½œå­æ•°<ul>
<li>é€šå¸¸æ­£å‘å’Œåå‘çš„ä»£ä»·ç±»ä¼¼</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)<ul>
<li>å­˜å‚¨æ­£å‘è¿‡ç¨‹æ‰€æœ‰çš„ä¸­é—´ç»“æœ</li>
</ul>
</li>
</ul>
</li>
<li><p>æ­£å‘ç´¯ç§¯</p>
<blockquote>
<p>æ¯æ¬¡è®¡ç®—ä¸€ä¸ªå˜é‡çš„æ¢¯åº¦æ—¶éƒ½éœ€è¦å°†æ‰€æœ‰èŠ‚ç‚¹æ‰«ä¸€é</p>
</blockquote>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-ä»£ç éƒ¨åˆ†"><a href="#3-ä»£ç éƒ¨åˆ†" class="headerlink" title="3. ä»£ç éƒ¨åˆ†"></a>3. ä»£ç éƒ¨åˆ†</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¹y = x.Txå…³äºåˆ—å‘é‡xæ±‚å¯¼</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">x = torch.arange(<span class="number">4.0</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>tensor([0., 1., 2., 3.])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å­˜å‚¨æ¢¯åº¦</span></span><br><span class="line">x.requires_grad_(<span class="literal">True</span>)<span class="comment">#ç­‰ä»·äºx = torch.arange(4.0,requires_grad=True)</span></span><br><span class="line">x.grad<span class="comment">#é»˜è®¤å€¼æ˜¯None</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y = torch.dot(x,x)</span><br><span class="line">y</span><br><span class="line"><span class="comment">#PyTorchéšå¼åœ°æ„é€ è®¡ç®—å›¾ï¼Œgrad_fnç”¨äºè®°å½•æ¢¯åº¦è®¡ç®—</span></span><br></pre></td></tr></table></figure>
<pre><code>tensor(14., grad_fn=&lt;DotBackward0&gt;)
</code></pre><p><strong>é€šè¿‡è°ƒç”¨åå‘ä¼ æ’­å‡½æ•°æ¥è‡ªåŠ¨è®¡ç®—yå…³äºxæ¯ä¸ªåˆ†é‡çš„æ¢¯åº¦</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y.backward()</span><br><span class="line">x.grad</span><br></pre></td></tr></table></figure>
<pre><code>tensor([0., 2., 4., 6.])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x.grad==<span class="number">2</span>*x<span class="comment">#éªŒè¯</span></span><br></pre></td></tr></table></figure>
<pre><code>tensor([True, True, True, True])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒPyTorchä¼šç´¯ç§¯æ¢¯åº¦ï¼Œæˆ‘ä»¬éœ€è¦æ¸…é™¤ä¹‹å‰çš„å€¼</span></span><br><span class="line">x.grad.zero_()<span class="comment">#å¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ç»“æœå°±ä¼šåŠ ç´¯ä¸Šä¹‹å‰çš„æ¢¯åº¦å€¼ï¼Œå˜ä¸º[1,5,9,13]</span></span><br><span class="line">y = x.<span class="built_in">sum</span>()</span><br><span class="line">y.backward()</span><br><span class="line">x.grad</span><br></pre></td></tr></table></figure>
<pre><code>tensor([1., 1., 1., 1.])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x.grad.zero_()</span><br><span class="line">y=x*x<span class="comment">#å“ˆè¾¾ç›ç§¯ï¼Œå¯¹åº”å…ƒç´ ç›¸ä¹˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨æ·±åº¦å­¦ä¹ ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¸è®¡ç®—å¾®åˆ†çŸ©é˜µ</span></span><br><span class="line"><span class="comment">#è€Œæ˜¯è®¡ç®—æ‰¹é‡ä¸­æ¯ä¸ªæ ·æœ¬å•ç‹¬è®¡ç®—çš„åå¯¼æ•°ä¹‹å’Œ</span></span><br><span class="line"></span><br><span class="line">y.<span class="built_in">sum</span>().backward()<span class="comment">#ç­‰ä»·äºy.backword(torch.ones(len(x)))</span></span><br><span class="line">x.grad</span><br></pre></td></tr></table></figure>
<pre><code>tensor([0., 2., 4., 6.])
</code></pre><p><strong>å°†æŸäº›è®¡ç®—ç§»åŠ¨åˆ°è®°å½•çš„è®¡ç®—å›¾ä¹‹å¤–</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åå¯ç”¨äºç”¨äºå°†ç¥ç»ç½‘ç»œçš„ä¸€äº›å‚æ•°å›ºå®šä½</span></span><br><span class="line">x.grad.zero_()</span><br><span class="line">y = x*x</span><br><span class="line">u = y.detach()<span class="comment">#æŠŠyå½“ä½œå¸¸æ•°</span></span><br><span class="line">z = u*x</span><br><span class="line"></span><br><span class="line">z.<span class="built_in">sum</span>().backward()</span><br><span class="line">x.grad == u</span><br></pre></td></tr></table></figure>
<pre><code>tensor([True, True, True, True])
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x.grad.zero_()</span><br><span class="line">y.<span class="built_in">sum</span>().backward()</span><br><span class="line">x.grad == <span class="number">2</span>*x</span><br></pre></td></tr></table></figure>
<pre><code>tensor([True, True, True, True])
</code></pre><p><strong>å³ä½¿æ„å»ºå‡½æ•°çš„è®¡ç®—å›¾éœ€è¦ç”¨è¿‡Pythonæ§åˆ¶æµï¼Œä»ç„¶å¯ä»¥è®¡ç®—å¾—åˆ°çš„å˜é‡çš„æ¢¯åº¦</strong></p>
<p><strong>è¿™ä¹Ÿæ˜¯éšå¼æ„é€ çš„ä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒä¼šå­˜å‚¨æ¢¯åº¦è®¡ç®—çš„è®¡ç®—å›¾ï¼Œå†æ¬¡è®¡ç®—æ—¶æ‰§è¡Œåå‘è¿‡ç¨‹å°±å¯ä»¥</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">a</span>):</span><br><span class="line">    b = a * <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> b.norm()&lt;<span class="number">1000</span>:</span><br><span class="line">        b = b * <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> b.<span class="built_in">sum</span>() &gt; <span class="number">0</span>:</span><br><span class="line">        c = b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        c = <span class="number">100</span> * b</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">a = torch.randn(size=(),requires_grad=<span class="literal">True</span>)</span><br><span class="line">d = f(a)</span><br><span class="line">d.backward()</span><br><span class="line"></span><br><span class="line">a.grad == d / a</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="4-è‡ªåŠ¨æ±‚å¯¼-Q-amp-A"><a href="#4-è‡ªåŠ¨æ±‚å¯¼-Q-amp-A" class="headerlink" title="4. è‡ªåŠ¨æ±‚å¯¼ Q&amp;A"></a>4. è‡ªåŠ¨æ±‚å¯¼ Q&amp;A</h3><p><strong><code>Q1ï¼špptä¸Šéšå¼æ„é€ å’Œæ˜¾å¼æ„é€ çœ‹èµ·æ¥ä¸ºå•¥å·®ä¸å¤šï¼Ÿ</code></strong></p>
<blockquote>
<p>æ˜¾å¼å’Œéšå¼çš„å·®åˆ«å…¶å®å°±æ˜¯æ•°å­¦ä¸Šæ±‚æ¢¯åº¦å’Œpythonæ±‚æ¢¯åº¦è®¡ç®—ä¸Šçš„å·®åˆ«ï¼Œä¸ç”¨æ·±ç©¶</p>
<p>æ˜¾å¼æ„é€ å°±æ˜¯æˆ‘ä»¬æ•°å­¦ä¸Šæ­£å¸¸æ±‚å¯¼æ•°çš„æ±‚æ³•ï¼Œå…ˆæŠŠæ‰€æœ‰æ±‚å¯¼çš„è¡¨è¾¾å¼é€‰å‡ºæ¥å†ä»£å€¼</p>
</blockquote>
<p><strong><code>Q2:éœ€è¦æ­£å‘å’Œåå‘éƒ½ç®—ä¸€éå—ï¼Ÿ</code></strong></p>
<blockquote>
<p>éœ€è¦æ­£å‘å…ˆç®—ä¸€éï¼Œè‡ªåŠ¨æ±‚å¯¼æ—¶åªè¿›è¡Œåå‘å°±å¯ä»¥ï¼Œå› ä¸ºæ­£å‘çš„ç»“æœå·²ç»å­˜å‚¨</p>
</blockquote>
<p><strong><code>Q3:ä¸ºä»€ä¹ˆPyTorchä¼šé»˜è®¤ç´¯ç§¯æ¢¯åº¦</code></strong></p>
<blockquote>
<p>ä¾¿äºè®¡ç®—å¤§æ‰¹é‡ï¼›æ–¹ä¾¿è¿›ä¸€æ­¥è®¾è®¡</p>
</blockquote>
<p><strong><code>Q4:ä¸ºä»€ä¹ˆæ·±åº¦å­¦ä¹ ä¸­ä¸€èˆ¬å¯¹æ ‡é‡æ±‚å¯¼è€Œä¸æ˜¯å¯¹çŸ©é˜µæˆ–å‘é‡æ±‚å¯¼</code></strong></p>
<blockquote>
<p>lossä¸€èˆ¬éƒ½æ˜¯æ ‡é‡</p>
</blockquote>
<p><strong><code>Q5:ä¸ºä»€ä¹ˆè·å–.gradå‰éœ€è¦backward</code></strong></p>
<blockquote>
<p>ç›¸å½“äºå‘Šè¯‰ç¨‹åºéœ€è¦è®¡ç®—æ¢¯åº¦ï¼Œå› ä¸ºè®¡ç®—æ¢¯åº¦çš„ä»£ä»·å¾ˆå¤§ï¼Œé»˜è®¤ä¸è®¡ç®—</p>
</blockquote>
<p><strong><code>Q6:pytorchæˆ–mxnetæ¡†æ¶è®¾è®¡ä¸Šå¯ä»¥å®ç°çŸ¢é‡çš„æ±‚å¯¼å—</code></strong></p>
<blockquote>
<p>å¯ä»¥</p>
</blockquote>
<h3 id="5-ç»ƒä¹ "><a href="#5-ç»ƒä¹ " class="headerlink" title="5. ç»ƒä¹ "></a>5. ç»ƒä¹ </h3><p><strong>1.ä¸ºä»€ä¹ˆè®¡ç®—äºŒé˜¶å¯¼æ•°æ¯”ä¸€é˜¶å¯¼æ•°çš„å¼€é”€è¦æ›´å¤§ï¼Ÿ</strong></p>
<p>äºŒé˜¶å¯¼æ•°æ˜¯åœ¨ä¸€é˜¶å¯¼æ•°çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œå¼€é”€è‡ªç„¶æ›´å¤§</p>
<p><strong>2.åœ¨è¿è¡Œåå‘ä¼ æ’­å‡½æ•°ä¹‹åï¼Œç«‹å³å†æ¬¡è¿è¡Œå®ƒï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</strong></p>
<p>â€œRuntimeError: Trying to backward through the graph a second time (or directly access saved tensors after they have already been freed). Saved intermediate values of the graph are freed when you call .backward() or autograd.grad(). Specify retain_graph=True if you need to backward through the graph a second time or if you need to access saved tensors after calling backward.â€</p>
<p>è¯´æ˜ä¸èƒ½è¿ç»­ä¸¤æ¬¡è¿è¡Œ,pytorchä½¿ç”¨çš„æ˜¯åŠ¨æ€è®¡ç®—å›¾,åå‘ä¼ æ’­å‡½æ•°è¿è¡Œä¸€æ¬¡åè®¡ç®—å›¾å°±è¢«é‡Šæ”¾äº†</p>
<p><strong>åªéœ€è¦åœ¨å‡½æ•°æ¥å£å°†å‚æ•°retain_graphè®¾ä¸ºTrueå³å¯</strong></p>
<p>In [51]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def f(a):</span><br><span class="line">    b = a * 2</span><br><span class="line">    while b.norm()&lt;1000:</span><br><span class="line">        b = b * 2</span><br><span class="line">    if b.sum() &gt; 0:</span><br><span class="line">        c = b</span><br><span class="line">    else:</span><br><span class="line">        c = 100 * b</span><br><span class="line">    return c</span><br><span class="line">a.grad.zero_()</span><br><span class="line">a = torch.randn(size=(),requires_grad=True)#size=0è¡¨ç¤ºaæ˜¯æ ‡é‡</span><br><span class="line">d = f(a)</span><br><span class="line">#d.backward(retain_graph=True)</span><br><span class="line">#a.grad</span><br><span class="line">d.backward()</span><br><span class="line">a.grad</span><br></pre></td></tr></table></figure>
<p>Out[51]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tensor(4096.)</span><br></pre></td></tr></table></figure>
<p><strong>3.åœ¨æ§åˆ¶æµçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®¡ç®—då…³äºaçš„å¯¼æ•°ï¼Œå¦‚æœæˆ‘ä»¬å°†å˜é‡aæ›´æ”¹ä¸ºéšæœºå‘é‡æˆ–çŸ©é˜µï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ­¤æ—¶ï¼Œè®¡ç®—ç»“æœf(a)ä¸å†æ˜¯æ ‡é‡ã€‚ç»“æœä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ‘ä»¬å¦‚ä½•åˆ†æè¿™ä¸ªç»“æœï¼Ÿ</strong></p>
<p>backwardå‡½æ•°çš„æœºåˆ¶æœ¬èº«ä¸å…è®¸å¼ é‡å¯¹å¼ é‡æ±‚å¯¼ï¼Œå¦‚æœè¾“å…¥æ˜¯å‘é‡æˆ–çŸ©é˜µï¼Œéœ€è¦å°†å…¶åœ¨å„ä¸ªåˆ†é‡ä¸Šæ±‚å’Œï¼Œå˜ä¸ºæ ‡é‡ï¼›æ‰€ä»¥è¿˜éœ€è¦ä¼ å…¥ä¸€ä¸ªä¸è¾“å…¥åŒå‹çš„å¼ é‡</p>
<p>In [53]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def f(a):</span><br><span class="line">    b = a * 2</span><br><span class="line">    while b.norm()&lt;1000:</span><br><span class="line">        b = b * 2</span><br><span class="line">    if b.sum() &gt; 0:</span><br><span class="line">        c = b</span><br><span class="line">    else:</span><br><span class="line">        c = 100 * b</span><br><span class="line">    return c</span><br><span class="line">a.grad.zero_()</span><br><span class="line">a = torch.randn(10,requires_grad=True)</span><br><span class="line">d = f(a)</span><br><span class="line">#d.backward(retain_graph=True)</span><br><span class="line">#a.grad</span><br><span class="line">#d.backward()#RuntimeError: grad can be implicitly created only for scalar outputs</span><br><span class="line">d.sum().backward()#éœ€è¦åŠ ä¸Š.sum()å¦åˆ™ä¼šæŠ¥é”™ </span><br><span class="line">a.grad</span><br></pre></td></tr></table></figure>
<p>Out[53]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tensor([51200., 51200., 51200., 51200., 51200., 51200., 51200., 51200., 51200.,</span><br><span class="line">        51200.])</span><br></pre></td></tr></table></figure>
<p><strong>4.é‡æ–°è®¾è®¡ä¸€ä¸ªæ±‚æ§åˆ¶æµæ¢¯åº¦çš„ä¾‹å­ã€‚è¿è¡Œå¹¶åˆ†æç»“æœã€‚</strong></p>
<p>In [56]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def h(x):</span><br><span class="line">    y = x * x</span><br><span class="line">    while y.norm() &lt; 2500:</span><br><span class="line">        y = y * 2</span><br><span class="line">    if y.sum() &lt; 0:</span><br><span class="line">        c = 100*y</span><br><span class="line">    else:</span><br><span class="line">        c = y</span><br><span class="line">    return c</span><br><span class="line">x.grad.zero_()</span><br><span class="line">x = torch.randn(size=(),requires_grad=True)</span><br><span class="line">y = h(x)</span><br><span class="line">y.backward()</span><br><span class="line">x.grad</span><br></pre></td></tr></table></figure>
<p>Out[56]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tensor(-3311.5398)</span><br></pre></td></tr></table></figure>
<p><strong>5.ä½¿f(x)=sin(x)ï¼Œç»˜åˆ¶f(x)å’Œdf(x)/dxçš„å›¾åƒï¼Œå…¶ä¸­åè€…ä¸ä½¿ç”¨fâ€™(x)=\cos(x)ã€‚</strong></p>
<p>In [66]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">x = torch.arange(-20,20,0.1,requires_grad=True,dtype=torch.float32)</span><br><span class="line">y = torch.sin(x)</span><br><span class="line">y.sum().backward()</span><br><span class="line">plt.plot(x.detach(),y.detach(),label=&#x27;y=sinx&#x27;)</span><br><span class="line">plt.plot(x.detach(),x.grad,label=&#x27;dy/dx&#x27;)</span><br><span class="line">plt.legend(loc=&#x27;lower right&#x27;)</span><br></pre></td></tr></table></figure>
<p>Out[66]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;matplotlib.legend.Legend at 0x1d627d00280&gt;</span><br></pre></td></tr></table></figure>
<img src="/2024/04/23/11-01-07/image-14.png" class>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>06-çŸ©é˜µè®¡ç®—</title>
    <url>/2024/04/23/11-01-06/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="06-çŸ©é˜µè®¡ç®—"><a href="#06-çŸ©é˜µè®¡ç®—" class="headerlink" title="06-çŸ©é˜µè®¡ç®—"></a>06-çŸ©é˜µè®¡ç®—</h2><h3 id="1-å¯¼æ•°çš„æ¦‚å¿µåŠå‡ ä½•æ„ä¹‰"><a href="#1-å¯¼æ•°çš„æ¦‚å¿µåŠå‡ ä½•æ„ä¹‰" class="headerlink" title="1. å¯¼æ•°çš„æ¦‚å¿µåŠå‡ ä½•æ„ä¹‰"></a>1. å¯¼æ•°çš„æ¦‚å¿µåŠå‡ ä½•æ„ä¹‰</h3><h4 id="1-1-æ ‡é‡å¯¼æ•°"><a href="#1-1-æ ‡é‡å¯¼æ•°" class="headerlink" title="1.1 æ ‡é‡å¯¼æ•°"></a>1.1 æ ‡é‡å¯¼æ•°</h4><ul>
<li>å¯¼æ•°æ˜¯åˆ‡çº¿çš„æ–œç‡</li>
</ul>
<img src="/2024/04/23/11-01-06/06-01.png" class>
<ul>
<li>æŒ‡å‘å€¼å˜åŒ–æœ€å¤§çš„æ–¹å‘</li>
</ul>
<img src="/2024/04/23/11-01-06/06-02.png" class>
<h4 id="1-2-äºšå¯¼æ•°"><a href="#1-2-äºšå¯¼æ•°" class="headerlink" title="1.2 äºšå¯¼æ•°"></a>1.2 äºšå¯¼æ•°</h4><ul>
<li>å°†å¯¼æ•°æ‹“å±•åˆ°ä¸å¯å¾®çš„å‡½æ•°ï¼Œåœ¨ä¸å¯å¯¼çš„ç‚¹çš„å¯¼æ•°å¯ä»¥ç”¨ä¸€ä¸ªèŒƒå›´å†…çš„æ•°è¡¨ç¤º</li>
</ul>
<img src="/2024/04/23/11-01-06/06-03.png" class>
<h3 id="2-å‡½æ•°ä¸æ ‡é‡ï¼Œå‘é‡ï¼ŒçŸ©é˜µ"><a href="#2-å‡½æ•°ä¸æ ‡é‡ï¼Œå‘é‡ï¼ŒçŸ©é˜µ" class="headerlink" title="2. å‡½æ•°ä¸æ ‡é‡ï¼Œå‘é‡ï¼ŒçŸ©é˜µ"></a>2. å‡½æ•°ä¸æ ‡é‡ï¼Œå‘é‡ï¼ŒçŸ©é˜µ</h3><p>è¯¥éƒ¨åˆ†ç»“åˆè¯¾ç¨‹è§†é¢‘å’Œå‚è€ƒæ–‡ç« è¿›è¡Œæ€»ç»“ï¼ˆå‚è€ƒäº†çŸ¥ä¹æ–‡ç« ï¼š<a href="https://zhuanlan.zhihu.com/p/263777564">çŸ©é˜µæ±‚å¯¼çš„æœ¬è´¨ä¸åˆ†å­å¸ƒå±€ã€åˆ†æ¯å¸ƒå±€çš„æœ¬è´¨ï¼ˆçŸ©é˜µæ±‚å¯¼â€”â€”æœ¬è´¨ç¯‡ï¼‰ - çŸ¥ä¹ (zhihu.com)</a>ï¼‰</p>
<ul>
<li>å½“fï¼Œinputä¸ºä¸åŒå½¢å¼æ—¶ï¼Œf(input)ç»“æœçš„è¡¨è¾¾å½¢å¼</li>
</ul>
<h4 id="2-1-f-ä¸ºæ˜¯ä¸€ä¸ªæ ‡é‡"><a href="#2-1-f-ä¸ºæ˜¯ä¸€ä¸ªæ ‡é‡" class="headerlink" title="2.1 f ä¸ºæ˜¯ä¸€ä¸ªæ ‡é‡"></a>2.1 f ä¸ºæ˜¯ä¸€ä¸ªæ ‡é‡</h4><h5 id="2-1-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡"><a href="#2-1-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡" class="headerlink" title="2.1.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡"></a>2.1.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡</h5><img src="/2024/04/23/11-01-06/06-04.png" class>
<h5 id="2-1-2-inputæ˜¯ä¸€ä¸ªå‘é‡"><a href="#2-1-2-inputæ˜¯ä¸€ä¸ªå‘é‡" class="headerlink" title="2.1.2 inputæ˜¯ä¸€ä¸ªå‘é‡"></a>2.1.2 inputæ˜¯ä¸€ä¸ªå‘é‡</h5><img src="/2024/04/23/11-01-06/06-05.png" class>
<img src="/2024/04/23/11-01-06/06-06.png" class>
<h5 id="2-1-3-inputæ˜¯ä¸€ä¸ªçŸ©é˜µ"><a href="#2-1-3-inputæ˜¯ä¸€ä¸ªçŸ©é˜µ" class="headerlink" title="2.1.3 inputæ˜¯ä¸€ä¸ªçŸ©é˜µ"></a>2.1.3 inputæ˜¯ä¸€ä¸ªçŸ©é˜µ</h5><img src="/2024/04/23/11-01-06/06-07.png" class>
<img src="/2024/04/23/11-01-06/06-08.png" class>
<h4 id="2-2-fæ˜¯ä¸€ä¸ªå‘é‡"><a href="#2-2-fæ˜¯ä¸€ä¸ªå‘é‡" class="headerlink" title="2.2 fæ˜¯ä¸€ä¸ªå‘é‡"></a>2.2 fæ˜¯ä¸€ä¸ªå‘é‡</h4><ul>
<li><strong>f</strong>æ˜¯ç”±è‹¥å¹²ä¸ªf(æ ‡é‡)ç»„æˆçš„å‘é‡</li>
</ul>
<h5 id="2-2-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡"><a href="#2-2-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡" class="headerlink" title="2.2.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡"></a>2.2.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡</h5><img src="/2024/04/23/11-01-06/06-09.png" class>
<h5 id="2-2-2-inputæ˜¯ä¸€ä¸ªå‘é‡"><a href="#2-2-2-inputæ˜¯ä¸€ä¸ªå‘é‡" class="headerlink" title="2.2.2 inputæ˜¯ä¸€ä¸ªå‘é‡"></a>2.2.2 inputæ˜¯ä¸€ä¸ªå‘é‡</h5><img src="/2024/04/23/11-01-06/06-10.png" class>
<img src="/2024/04/23/11-01-06/06-11.png" class>
<h5 id="2-2-3-inputæ˜¯ä¸€ä¸ªçŸ©é˜µ"><a href="#2-2-3-inputæ˜¯ä¸€ä¸ªçŸ©é˜µ" class="headerlink" title="2.2.3 inputæ˜¯ä¸€ä¸ªçŸ©é˜µ"></a>2.2.3 inputæ˜¯ä¸€ä¸ªçŸ©é˜µ</h5><img src="/2024/04/23/11-01-06/06-12.png" class>
<img src="/2024/04/23/11-01-06/06-13.png" class>
<h4 id="2-3-Fæ˜¯ä¸€ä¸ªçŸ©é˜µ"><a href="#2-3-Fæ˜¯ä¸€ä¸ªçŸ©é˜µ" class="headerlink" title="2.3 Fæ˜¯ä¸€ä¸ªçŸ©é˜µ"></a>2.3 Fæ˜¯ä¸€ä¸ªçŸ©é˜µ</h4><ul>
<li><strong>F</strong>æ˜¯ä¸€ä¸ªç”±è‹¥å¹²<strong>f</strong>ç»„æˆçš„ä¸€ä¸ªçŸ©é˜µ</li>
</ul>
<h5 id="2-3-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡"><a href="#2-3-1-inputæ˜¯ä¸€ä¸ªæ ‡é‡" class="headerlink" title="2.3.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡"></a>2.3.1 inputæ˜¯ä¸€ä¸ªæ ‡é‡</h5><img src="/2024/04/23/11-01-06/06-14.png" class>
<h5 id="2-3-2-inputæ˜¯ä¸€ä¸ªå‘é‡"><a href="#2-3-2-inputæ˜¯ä¸€ä¸ªå‘é‡" class="headerlink" title="2.3.2 inputæ˜¯ä¸€ä¸ªå‘é‡"></a>2.3.2 inputæ˜¯ä¸€ä¸ªå‘é‡</h5><img src="/2024/04/23/11-01-06/06-15.png" class>
<img src="/2024/04/23/11-01-06/06-16.png" class>
<h5 id="2-3-3-inputæ˜¯ä¸€ä¸ªå‘é‡"><a href="#2-3-3-inputæ˜¯ä¸€ä¸ªå‘é‡" class="headerlink" title="2.3.3 inputæ˜¯ä¸€ä¸ªå‘é‡"></a>2.3.3 inputæ˜¯ä¸€ä¸ªå‘é‡</h5><img src="/2024/04/23/11-01-06/06-17.png" class>
<img src="/2024/04/23/11-01-06/06-18.png" class>
<h3 id="3-æ±‚å¯¼çš„æœ¬è´¨"><a href="#3-æ±‚å¯¼çš„æœ¬è´¨" class="headerlink" title="3. æ±‚å¯¼çš„æœ¬è´¨"></a>3. æ±‚å¯¼çš„æœ¬è´¨</h3><img src="/2024/04/23/11-01-06/06-19.png" class>
<p><strong>å¯ä»¥å°†få¯¹x1ï¼Œx2ï¼Œx3çš„åå¯¼åˆ†åˆ«æ±‚å‡ºæ¥ï¼Œå³</strong></p>
<img src="/2024/04/23/11-01-06/06-20.png" class>
<ul>
<li>çŸ©é˜µæ±‚å¯¼ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œ<strong>æœ¬è´¨å°±æ˜¯</strong> $function$ ä¸­çš„<strong>æ¯ä¸ª</strong>$f$ <strong>åˆ†åˆ«å¯¹å˜å…ƒä¸­çš„æ¯ä¸ªå…ƒç´ é€ä¸ªæ±‚åå¯¼ï¼Œåªä¸è¿‡å†™æˆäº†å‘é‡ã€çŸ©é˜µå½¢å¼è€Œå·²ã€‚</strong></li>
</ul>
<img src="/2024/04/23/11-01-06/06-21.png" class>
<p>ï¼ˆè¯¾ä¸Šæ˜¯æŒ‰è¡Œå‘é‡å±•å¼€çš„ï¼‰</p>
<img src="/2024/04/23/11-01-06/06-22.png" class>
<p><strong>Xä¸ºçŸ©é˜µæ—¶</strong>ï¼Œå…ˆæŠŠçŸ©é˜µå˜å…ƒ$X$è¿›è¡Œ<strong>è½¬ç½®</strong>ï¼Œå†å¯¹<strong>è½¬ç½®å</strong>çš„<strong>æ¯ä¸ªä½ç½®</strong>çš„å…ƒç´ é€ä¸ªæ±‚åå¯¼ï¼Œç»“æœå¸ƒå±€å’Œ<strong>è½¬ç½®å¸ƒå±€ä¸€æ ·</strong>ã€‚ï¼ˆè¯¾ä¸Šè®²çš„æ˜¯è¿™ç§å±•å¼€æ–¹å¼ï¼‰</p>
<img src="/2024/04/23/11-01-06/06-23.png" class>
<ul>
<li>æ‰€ä»¥ï¼Œå¦‚æœ $function$ä¸­æœ‰ $m$ä¸ª$f$ (æ ‡é‡)ï¼Œå˜å…ƒä¸­æœ‰ $n$ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆï¼Œæ¯ä¸ª $f$å¯¹å˜å…ƒä¸­çš„æ¯ä¸ªå…ƒç´ é€ä¸ªæ±‚åå¯¼åï¼Œæˆ‘ä»¬å°±ä¼šäº§ç”Ÿ $m*n$ä¸ªç»“æœã€‚</li>
</ul>
<h3 id="4-çŸ©é˜µæ±‚å¯¼çš„å¸ƒå±€"><a href="#4-çŸ©é˜µæ±‚å¯¼çš„å¸ƒå±€" class="headerlink" title="4. çŸ©é˜µæ±‚å¯¼çš„å¸ƒå±€"></a>4. çŸ©é˜µæ±‚å¯¼çš„å¸ƒå±€</h3><ul>
<li>ç»è¿‡ä¸Šè¿°å¯¹æ±‚å¯¼æœ¬è´¨çš„æ¨å¯¼ï¼Œå…³äºçŸ©é˜µæ±‚å¯¼çš„é—®é¢˜ï¼Œå®è´¨ä¸Šå°±æ˜¯å¯¹æ±‚å¯¼ç»“æœçš„è¿›ä¸€æ­¥æ’å¸ƒé—®é¢˜<br><strong>å¯¹äº2.2ï¼ˆfä¸ºå‘é‡ï¼Œinputä¹Ÿä¸ºå‘é‡ï¼‰ä¸­çš„æƒ…å†µï¼Œå…¶æ±‚å¯¼ç»“æœæœ‰ä¸¤ç§æ’å¸ƒæ–¹å¼ï¼Œä¸€ç§æ˜¯<code>åˆ†å­å¸ƒå±€</code>ï¼Œä¸€ç§æ˜¯<code>åˆ†æ¯å¸ƒå±€</code></strong></li>
</ul>
<h5 id="4-1-åˆ†å­å¸ƒå±€"><a href="#4-1-åˆ†å­å¸ƒå±€" class="headerlink" title="4.1 åˆ†å­å¸ƒå±€"></a>4.1 åˆ†å­å¸ƒå±€</h5><p><strong>åˆ†å­å¸ƒå±€</strong>ï¼Œå°±æ˜¯åˆ†å­æ˜¯<strong>åˆ—å‘é‡</strong>å½¢å¼ï¼Œåˆ†æ¯æ˜¯<strong>è¡Œå‘é‡</strong>å½¢å¼ ï¼ˆè¯¾ä¸Šè®²çš„ï¼‰</p>
<img src="/2024/04/23/11-01-06/06-24.png" class>
<h5 id="4-2-åˆ†æ¯å¸ƒå±€"><a href="#4-2-åˆ†æ¯å¸ƒå±€" class="headerlink" title="4.2 åˆ†æ¯å¸ƒå±€"></a>4.2 åˆ†æ¯å¸ƒå±€</h5><p>2.<strong>åˆ†æ¯å¸ƒå±€</strong>ï¼Œå°±æ˜¯åˆ†æ¯æ˜¯<strong>åˆ—å‘é‡</strong>å½¢å¼ï¼Œåˆ†å­æ˜¯<strong>è¡Œå‘é‡</strong>å½¢å¼</p>
<img src="/2024/04/23/11-01-06/06-25.png" class>
<p><strong>å°†æ±‚å¯¼æ¨å¹¿åˆ°çŸ©é˜µï¼Œç”±äºçŸ©é˜µå¯ä»¥çœ‹ä½œç”±å¤šä¸ªå‘é‡æ‰€ç»„æˆï¼Œå› æ­¤å¯¹çŸ©é˜µçš„æ±‚å¯¼å¯ä»¥çœ‹ä½œå…ˆå¯¹æ¯ä¸ªå‘é‡è¿›è¡Œæ±‚å¯¼ï¼Œç„¶åå†å¢åŠ ä¸€ä¸ªç»´åº¦å­˜æ”¾æ±‚å¯¼ç»“æœã€‚</strong></p>
<ul>
<li>ä¾‹å¦‚å½“Fä¸ºçŸ©é˜µï¼Œinputä¸ºçŸ©é˜µæ—¶ï¼ŒFä¸­çš„æ¯ä¸ªå…ƒç´ f(æ ‡é‡ï¼‰æ±‚å¯¼åå‡ä¸ºä¸€ä¸ªçŸ©é˜µï¼ˆæŒ‰ç…§è¯¾ä¸Šçš„å±•å¼€æ–¹å¼ï¼‰ï¼Œå› æ­¤æ¯ä¸ª<strong>f</strong>ï¼ˆåŒ…å«å¤šä¸ªfï¼ˆæ ‡é‡ï¼‰ï¼‰æ±‚å¯¼åä¸ºå­˜æ”¾å¤šä¸ªçŸ©é˜µçš„ä¸‰ç»´å½¢çŠ¶ï¼Œå†ç”±äºçŸ©é˜µFç”±å¤šä¸ª<strong>f</strong>ç»„æˆï¼Œå› æ­¤Fæ±‚å¯¼åä¸ºå­˜æ”¾å¤šä¸ª<strong>f</strong>æ±‚å¯¼ç»“æœçš„å››ç»´å½¢çŠ¶ã€‚<br><strong>å¯¹äºä¸åŒfå’Œinputæ±‚å¯¼åçš„ç»´åº¦æƒ…å†µæ€»ç»“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆè¯¾ç¨‹ä¸­çš„æˆªå›¾ï¼‰</strong></li>
</ul>
<img src="/2024/04/23/11-01-06/06-26.png" class>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>05-çº¿æ€§ä»£æ•°</title>
    <url>/2024/04/23/11-01-05/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="05-çº¿æ€§ä»£æ•°"><a href="#05-çº¿æ€§ä»£æ•°" class="headerlink" title="05-çº¿æ€§ä»£æ•°"></a>05-çº¿æ€§ä»£æ•°</h2><h3 id="1-çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†"><a href="#1-çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†" class="headerlink" title="1. çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†"></a>1. çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†</h3><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯ç”±æ ‡é‡è¿‡æ¸¡åˆ°å‘é‡ï¼Œå†ä»å‘é‡æ‹“å±•åˆ°çŸ©é˜µæ“ä½œï¼Œé‡ç‚¹åœ¨äºç†è§£çŸ©é˜µå±‚é¢ä¸Šçš„æ“ä½œ</p>
<h4 id="1-1-æ ‡é‡"><a href="#1-1-æ ‡é‡" class="headerlink" title="1.1 æ ‡é‡"></a>1.1 æ ‡é‡</h4><img src="/2024/04/23/11-01-05/05-01.png" class>
<h4 id="1-2-å‘é‡"><a href="#1-2-å‘é‡" class="headerlink" title="1.2 å‘é‡"></a>1.2 å‘é‡</h4><img src="/2024/04/23/11-01-05/05-02.png" class>
<img src="/2024/04/23/11-01-05/05-03.png" class>
<h4 id="1-3-çŸ©é˜µ"><a href="#1-3-çŸ©é˜µ" class="headerlink" title="1.3 çŸ©é˜µ"></a>1.3 çŸ©é˜µ</h4><h5 id="1-3-1-çŸ©é˜µçš„æ“ä½œ"><a href="#1-3-1-çŸ©é˜µçš„æ“ä½œ" class="headerlink" title="1.3.1 çŸ©é˜µçš„æ“ä½œ"></a>1.3.1 çŸ©é˜µçš„æ“ä½œ</h5><img src="/2024/04/23/11-01-05/05-04.png" class>
<img src="/2024/04/23/11-01-05/05-05.png" class>
<img src="/2024/04/23/11-01-05/05-06.png" class>
<img src="/2024/04/23/11-01-05/05-07.png" class>
<p>â€‹    (çŸ©é˜µèŒƒæ•°éº»çƒ¦ä¸”ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬ç”¨FèŒƒæ•°)</p>
<h5 id="1-3-2-ç‰¹æ®ŠçŸ©é˜µ"><a href="#1-3-2-ç‰¹æ®ŠçŸ©é˜µ" class="headerlink" title="1.3.2 ç‰¹æ®ŠçŸ©é˜µ"></a>1.3.2 ç‰¹æ®ŠçŸ©é˜µ</h5><img src="/2024/04/23/11-01-05/05-08.png" class>
<img src="/2024/04/23/11-01-05/05-09.png" class>
<img src="/2024/04/23/11-01-05/05-10.png" class>
<p>â€‹    (æ·±åº¦å­¦ä¹ é‡ŒåŸºæœ¬ä¸ä¼šæ¶‰åŠåˆ°æ­£å®šã€ç½®æ¢çŸ©é˜µï¼Œè¿™é‡Œæ˜ç¡®ä¸ªæ¦‚å¿µå°±è¡Œ)</p>
<h5 id="1-3-3-ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼"><a href="#1-3-3-ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼" class="headerlink" title="1.3.3 ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼"></a>1.3.3 ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼</h5><ul>
<li><p>æ•°å­¦å®šä¹‰ï¼šè®¾Aæ˜¯né˜¶æ–¹é˜µï¼Œå¦‚æœå­˜åœ¨å¸¸æ•°<img src="https://images0.cnblogs.com/blog/650633/201407/141700142243782.png" alt="img">åŠéé›¶nå‘é‡xï¼Œä½¿å¾—<img src="https://images0.cnblogs.com/blog/650633/201407/141700145536982.png" alt="img">ï¼Œåˆ™ç§°<img src="https://images0.cnblogs.com/blog/650633/201407/141700149439396.png" alt="img">æ˜¯çŸ©é˜µAçš„ç‰¹å¾å€¼ï¼Œxæ˜¯Aå±äºç‰¹å¾å€¼<img src="https://images0.cnblogs.com/blog/650633/201407/141700153035353.png" alt="img">çš„ç‰¹å¾å‘é‡</p>
</li>
<li><p>ç›´è§‚ç†è§£ï¼šä¸è¢«çŸ©é˜µAæ”¹å˜æ–¹å‘çš„å‘é‡xå°±æ˜¯Açš„ä¸€ä¸ªç‰¹å¾å‘é‡</p>
<img src="/2024/04/23/11-01-05/05-11.png" class>
</li>
<li><p>çŸ©é˜µä¸ä¸€å®šæœ‰ç‰¹å¾å‘é‡ï¼Œä½†æ˜¯å¯¹ç§°çŸ©é˜µæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ç‰¹å¾å‘é‡</p>
</li>
</ul>
<h3 id="2-çº¿æ€§ä»£æ•°å®ç°"><a href="#2-çº¿æ€§ä»£æ•°å®ç°" class="headerlink" title="2. çº¿æ€§ä»£æ•°å®ç°"></a>2. çº¿æ€§ä»£æ•°å®ç°</h3><p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯åº”ç”¨pytorchå®ç°åŸºæœ¬çŸ©é˜µæ“ä½œï¼ŒåŒæ ·ç”±æ ‡é‡è¿‡æ¸¡åˆ°å‘é‡æœ€åæ‹“å±•åˆ°çŸ©é˜µ</p>
<h4 id="2-1-æ ‡é‡"><a href="#2-1-æ ‡é‡" class="headerlink" title="2.1 æ ‡é‡"></a>2.1 æ ‡é‡</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch    <span class="comment"># åº”ç”¨pytorchæ¡†æ¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ‡é‡ç”±åªæœ‰ä¸€ä¸ªå…ƒç´ çš„å¼ é‡è¡¨ç¤º</span></span><br><span class="line">x = torch.tensor([<span class="number">3.0</span>])     <span class="comment"># å•ç‹¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ ‡é‡ä¹Ÿå¯ä»¥</span></span><br><span class="line">y = torch.tensor([<span class="number">2.0</span>])     <span class="comment"># å•ç‹¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºæ ‡é‡ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="built_in">print</span>(x + y)    <span class="comment"># tensor([5.])</span></span><br><span class="line"><span class="built_in">print</span>(x * y)    <span class="comment"># tensor([6.])</span></span><br><span class="line"><span class="built_in">print</span>(x / y)    <span class="comment"># tensor([1.5000])</span></span><br><span class="line"><span class="built_in">print</span>(x ** y)   <span class="comment"># tensor([9.]) æŒ‡æ•°è¿ç®—</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-å‘é‡"><a href="#2-2-å‘é‡" class="headerlink" title="2.2 å‘é‡"></a>2.2 å‘é‡</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‘é‡å¯ä»¥çœ‹ä½œæ˜¯è‹¥å¹²æ ‡é‡å€¼ç»„æˆçš„åˆ—è¡¨</span></span><br><span class="line">x = torch.arange(<span class="number">4</span>)     <span class="comment"># tensor([0, 1, 2, 3])</span></span><br><span class="line">                        <span class="comment"># ç”Ÿæˆ[0, 4)èŒƒå›´å†…æ‰€æœ‰æ•´æ•°æ„æˆçš„å¼ é‡tensor</span></span><br><span class="line"><span class="built_in">print</span>(x[<span class="number">3</span>])             <span class="comment"># tensor(3)</span></span><br><span class="line">                        <span class="comment"># å’Œåˆ—è¡¨ç›¸ä¼¼ï¼Œé€šè¿‡å¼ é‡çš„ç´¢å¼•è®¿é—®å…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(x))           <span class="comment"># 4</span></span><br><span class="line">                        <span class="comment"># è·å–å¼ é‡xçš„é•¿åº¦</span></span><br><span class="line"><span class="built_in">print</span>(x.shape)          <span class="comment"># torch.Size([4])</span></span><br><span class="line">                        <span class="comment"># è·å–å¼ é‡å½¢çŠ¶ï¼Œè¿™é‡Œxæ˜¯åªæœ‰ä¸€ä¸ªè½´çš„å¼ é‡å› æ­¤å½¢çŠ¶åªæœ‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="2-3-çŸ©é˜µ"><a href="#2-3-çŸ©é˜µ" class="headerlink" title="2.3 çŸ©é˜µ"></a>2.3 çŸ©é˜µ</h4><h5 id="2-3-1-åˆ›å»º"><a href="#2-3-1-åˆ›å»º" class="headerlink" title="2.3.1 åˆ›å»º"></a>2.3.1 åˆ›å»º</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.arange(<span class="number">6</span>)     <span class="comment"># tensor([0, 1, 2, 3, 4, 5])</span></span><br><span class="line">B = torch.tensor([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">0</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">C = torch.tensor([[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">                   [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],</span><br><span class="line">                   [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],</span><br><span class="line">                  [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">                   [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]]])</span><br><span class="line">D = torch.arange(<span class="number">20</span>, dtype=torch.float32)</span><br></pre></td></tr></table></figure>
<h5 id="2-3-2-è½¬ç½®"><a href="#2-3-2-è½¬ç½®" class="headerlink" title="2.3.2 è½¬ç½®"></a>2.3.2 è½¬ç½®</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.arange(<span class="number">6</span>)     <span class="comment"># tensor([0, 1, 2, 3, 4, 5])</span></span><br><span class="line">A = A.reshape(<span class="number">3</span>,<span class="number">2</span>)      <span class="comment"># tensor([[0, 1],</span></span><br><span class="line">                        <span class="comment">#         [2, 3],</span></span><br><span class="line">                        <span class="comment">#         [4, 5]])</span></span><br><span class="line"></span><br><span class="line">A = A.T                 <span class="comment"># è½¬ç½® A.T</span></span><br><span class="line">                        <span class="comment"># tensor([[0, 2, 4],</span></span><br><span class="line">                        <span class="comment">#         [1, 3, 5]])</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-3-reshape"><a href="#2-3-3-reshape" class="headerlink" title="2.3.3 reshape"></a>2.3.3 reshape</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨reshapeæ–¹æ³•åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º3 x 2çš„çŸ©é˜µA</span></span><br><span class="line">A = torch.arange(<span class="number">6</span>)     <span class="comment"># tensor([0, 1, 2, 3, 4, 5])</span></span><br><span class="line">A = A.reshape(<span class="number">3</span>,<span class="number">2</span>)      <span class="comment"># tensor([[0, 1],</span></span><br><span class="line">                        <span class="comment">#         [2, 3],</span></span><br><span class="line">                        <span class="comment">#         [4, 5]])</span></span><br></pre></td></tr></table></figure>
<p>tips(ç¡®å®šçŸ©é˜µshape)ï¼š</p>
<p>ç”±å¤–å±‚åˆ°å†…å±‚ä¾æ¬¡å»ä¸­æ‹¬å·ï¼Œå¹¶è®°ä¸‹å»æ‰ä¸­æ‹¬å·åæ­¤æ—¶å…ƒç´ çš„ä¸ªæ•°ï¼Œä»»é€‰å…¶ä¸­ä¸€ä¸ªå…ƒç´ é‡å¤ä¸Šè¿°å»æ‹¬å·çš„æ“ä½œç›´åˆ°è¯¥å…ƒç´ ä¸­æ— ä¸­æ‹¬å·ï¼Œè®°ä¸‹çš„æ•°å­—ä»å·¦åˆ°å³ä¾æ¬¡æ’åºä¸­é—´ç”¨xè¿æ¥å³ä¸ºçŸ©é˜µshape</p>
<h5 id="2-3-4-clone"><a href="#2-3-4-clone" class="headerlink" title="2.3.4 clone"></a>2.3.4 clone</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.arange(<span class="number">20</span>, dtype=torch.float32)</span><br><span class="line">A = A.reshape(<span class="number">5</span>,<span class="number">4</span>)</span><br><span class="line">B = A.clone()   <span class="comment"># é€šè¿‡åˆ†é…æ–°å†…å­˜ï¼Œå°†Açš„ä¸€ä¸ªå‰¯æœ¬åˆ†ç»™Bï¼Œè¯¥è¾¹Bå¹¶ä¸å½±å“Açš„å€¼</span></span><br><span class="line"><span class="built_in">print</span>(B)        <span class="comment"># tensor([[ 0.,  1.,  2.,  3.],</span></span><br><span class="line">                <span class="comment">#         [ 4.,  5.,  6.,  7.],</span></span><br><span class="line">                <span class="comment">#         [ 8.,  9., 10., 11.],</span></span><br><span class="line">                <span class="comment">#         [12., 13., 14., 15.],</span></span><br><span class="line">                <span class="comment">#         [16., 17., 18., 19.]])</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-5-sum"><a href="#2-3-5-sum" class="headerlink" title="2.3.5 sum"></a>2.3.5 sum</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.tensor([[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">                   [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],</span><br><span class="line">                   [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],</span><br><span class="line">                  [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">                   [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]]])</span><br><span class="line"><span class="built_in">print</span>(A.shape)</span><br><span class="line"><span class="comment"># torch.Size([2, 3, 3])</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>())</span><br><span class="line"><span class="comment"># tensor(54)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">0</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 1,  2,  3],</span></span><br><span class="line"><span class="string">        [ 5,  6,  7],</span></span><br><span class="line"><span class="string">        [ 9, 10, 11]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">0</span>, keepdims=<span class="literal">True</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[[ 1,  2,  3],</span></span><br><span class="line"><span class="string">         [ 5,  6,  7],</span></span><br><span class="line"><span class="string">         [ 9, 10, 11]]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">1</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[12, 15, 18],</span></span><br><span class="line"><span class="string">        [ 3,  3,  3]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[[12, 15, 18]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 3,  3,  3]]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">2</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 6, 15, 24],</span></span><br><span class="line"><span class="string">        [ 0,  3,  6]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">2</span>, keepdims=<span class="literal">True</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[[ 6],</span></span><br><span class="line"><span class="string">         [15],</span></span><br><span class="line"><span class="string">         [24]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        [[ 0],</span></span><br><span class="line"><span class="string">         [ 3],</span></span><br><span class="line"><span class="string">         [ 6]]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=[<span class="number">0</span>,<span class="number">1</span>]))</span><br><span class="line"><span class="comment"># tensor([15, 18, 21])</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=[<span class="number">0</span>,<span class="number">1</span>], keepdims=<span class="literal">True</span>))</span><br><span class="line"><span class="comment"># tensor([[[15, 18, 21]]])</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-6-numel"><a href="#2-3-6-numel" class="headerlink" title="2.3.6 numel"></a>2.3.6 numel</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.tensor([[<span class="number">0.</span>,<span class="number">0.</span>,<span class="number">0.</span>],[<span class="number">1.</span>,<span class="number">1.</span>,<span class="number">1.</span>]])</span><br><span class="line"><span class="built_in">print</span>(A.numel())    <span class="comment"># 6 å…ƒç´ ä¸ªæ•°</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-7-mean"><a href="#2-3-7-mean" class="headerlink" title="2.3.7 mean"></a>2.3.7 mean</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.tensor([[<span class="number">0.</span>,<span class="number">0.</span>,<span class="number">0.</span>],[<span class="number">1.</span>,<span class="number">1.</span>,<span class="number">1.</span>]])</span><br><span class="line"><span class="built_in">print</span>(A.numel())    <span class="comment"># 6 å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>())      <span class="comment"># tensor(3.)</span></span><br><span class="line"><span class="built_in">print</span>(A.mean())     <span class="comment"># tensor(0.5000)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç‰¹å®šè½´</span></span><br><span class="line">A = torch.tensor([[<span class="number">0.</span>,<span class="number">0.</span>,<span class="number">0.</span>],[<span class="number">1.</span>,<span class="number">1.</span>,<span class="number">1.</span>]])</span><br><span class="line"><span class="built_in">print</span>(A.shape[<span class="number">0</span>])       <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(A.<span class="built_in">sum</span>(axis=<span class="number">0</span>))    <span class="comment"># tensor([1., 1., 1.])</span></span><br><span class="line"><span class="built_in">print</span>(A.mean(axis=<span class="number">0</span>))   <span class="comment"># tensor([0.5000, 0.5000, 0.5000])  å¹³å‡å€¼</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-8-dot"><a href="#2-3-8-dot" class="headerlink" title="2.3.8 dot"></a>2.3.8 dot</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = torch.tensor([<span class="number">0.</span>,<span class="number">1.</span>,<span class="number">2.</span>,<span class="number">3.</span>])</span><br><span class="line">y = torch.tensor([<span class="number">1.</span>,<span class="number">1.</span>,<span class="number">1.</span>,<span class="number">1.</span>])</span><br><span class="line"><span class="built_in">print</span>(torch.dot(x, y))  <span class="comment"># tensor(6.)</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-9-mmã€mv"><a href="#2-3-9-mmã€mv" class="headerlink" title="2.3.9 mmã€mv"></a>2.3.9 mmã€mv</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.tensor([[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">                  [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">B = torch.tensor([[<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">                  [<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                  [<span class="number">0</span>,<span class="number">0</span>]])</span><br><span class="line">x = torch.tensor([<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(torch.mv(A, x))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">å‘é‡ç§¯</span></span><br><span class="line"><span class="string">tensor([ 9, 36])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(torch.mm(A, B))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">çŸ©é˜µç§¯</span></span><br><span class="line"><span class="string">tensor([[ 1,  1],</span></span><br><span class="line"><span class="string">        [10, 10]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-10-L1ã€L2ã€FèŒƒæ•°"><a href="#2-3-10-L1ã€L2ã€FèŒƒæ•°" class="headerlink" title="2.3.10  L1ã€L2ã€FèŒƒæ•°"></a>2.3.10  L1ã€L2ã€FèŒƒæ•°</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = torch.tensor([<span class="number">3.0</span>, -<span class="number">4.0</span>])</span><br><span class="line"><span class="built_in">print</span>(torch.<span class="built_in">abs</span>(x).<span class="built_in">sum</span>())   <span class="comment"># å‘é‡çš„L1èŒƒæ•°: tensor(7.)  xä¸­çš„æ¯ä¸ªå…ƒç´ ç»å¯¹å€¼çš„å’Œ</span></span><br><span class="line"><span class="built_in">print</span>(torch.norm(x))        <span class="comment"># å‘é‡çš„L2èŒƒæ•°: tensor(5.)  xä¸­çš„æ¯ä¸ªå…ƒç´ å¹³æ–¹çš„å’Œå¼€æ ¹å·</span></span><br><span class="line"></span><br><span class="line">A = torch.ones((<span class="number">4</span>, <span class="number">9</span>))</span><br><span class="line"><span class="built_in">print</span>(torch.norm(A))        <span class="comment"># çŸ©é˜µçš„FèŒƒæ•°:  tensor(6.)  Aä¸­çš„æ¯ä¸ªå…ƒç´ å¹³æ–¹çš„å’Œå¼€æ ¹å·</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-11-è¿ç®—"><a href="#2-3-11-è¿ç®—" class="headerlink" title="2.3.11  è¿ç®—"></a>2.3.11  è¿ç®—</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.arange(<span class="number">20</span>, dtype=torch.float32)</span><br><span class="line">A = A.reshape(<span class="number">5</span>,<span class="number">4</span>)</span><br><span class="line">B = A.clone()   </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(B)        <span class="comment"># tensor([[ 0.,  1.,  2.,  3.],</span></span><br><span class="line">                <span class="comment">#         [ 4.,  5.,  6.,  7.],</span></span><br><span class="line">                <span class="comment">#         [ 8.,  9., 10., 11.],</span></span><br><span class="line">                <span class="comment">#         [12., 13., 14., 15.],</span></span><br><span class="line">                <span class="comment">#         [16., 17., 18., 19.]])</span></span><br><span class="line">                </span><br><span class="line"><span class="built_in">print</span>(A == B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[True, True, True, True],</span></span><br><span class="line"><span class="string">        [True, True, True, True],</span></span><br><span class="line"><span class="string">        [True, True, True, True],</span></span><br><span class="line"><span class="string">        [True, True, True, True],</span></span><br><span class="line"><span class="string">        [True, True, True, True]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A + B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 0.,  2.,  4.,  6.],</span></span><br><span class="line"><span class="string">        [ 8., 10., 12., 14.],</span></span><br><span class="line"><span class="string">        [16., 18., 20., 22.],</span></span><br><span class="line"><span class="string">        [24., 26., 28., 30.],</span></span><br><span class="line"><span class="string">        [32., 34., 36., 38.]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A * B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[  0.,   1.,   4.,   9.],</span></span><br><span class="line"><span class="string">        [ 16.,  25.,  36.,  49.],</span></span><br><span class="line"><span class="string">        [ 64.,  81., 100., 121.],</span></span><br><span class="line"><span class="string">        [144., 169., 196., 225.],</span></span><br><span class="line"><span class="string">        [256., 289., 324., 361.]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-3-12-å¹¿æ’­"><a href="#2-3-12-å¹¿æ’­" class="headerlink" title="2.3.12 å¹¿æ’­"></a>2.3.12 å¹¿æ’­</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">A = torch.tensor([[<span class="number">1.</span>,<span class="number">2.</span>,<span class="number">3.</span>],</span><br><span class="line">                  [<span class="number">4.</span>,<span class="number">5.</span>,<span class="number">6.</span>]])</span><br><span class="line">B = A.<span class="built_in">sum</span>(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 6.],</span></span><br><span class="line"><span class="string">        [15.]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A / B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[0.1667, 0.3333, 0.5000],</span></span><br><span class="line"><span class="string">        [0.2667, 0.3333, 0.4000]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A + B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 7.,  8.,  9.],</span></span><br><span class="line"><span class="string">        [19., 20., 21.]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A * B)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tensor([[ 6., 12., 18.],</span></span><br><span class="line"><span class="string">        [60., 75., 90.]])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>04-æ•°æ®è¯»å–å’Œæ“ä½œ</title>
    <url>/2024/04/23/11-01-04/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="04-æ•°æ®è¯»å–å’Œæ“ä½œ"><a href="#04-æ•°æ®è¯»å–å’Œæ“ä½œ" class="headerlink" title="04-æ•°æ®è¯»å–å’Œæ“ä½œ"></a>04-æ•°æ®è¯»å–å’Œæ“ä½œ</h2><h3 id="1-æ•°æ®æ“ä½œ"><a href="#1-æ•°æ®æ“ä½œ" class="headerlink" title="1. æ•°æ®æ“ä½œ"></a>1. æ•°æ®æ“ä½œ</h3><p>ä¸ºäº†èƒ½å¤Ÿå®Œæˆå„ç§æ•°æ®æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æŸç§æ–¹æ³•æ¥å­˜å‚¨å’Œæ“ä½œæ•°æ®ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦åšä¸¤ä»¶é‡è¦çš„äº‹ï¼š</p>
<ol>
<li>è·å–æ•°æ®ï¼›</li>
<li>å°†æ•°æ®è¯»å…¥è®¡ç®—æœºåå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</li>
</ol>
<p>å¦‚æœæ²¡æœ‰æŸç§æ–¹æ³•æ¥å­˜å‚¨æ•°æ®ï¼Œé‚£ä¹ˆè·å–æ•°æ®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç» n ç»´æ•°ç»„ï¼Œä¹Ÿç§°ä¸º<strong>å¼ é‡</strong>ï¼ˆtensorï¼‰ã€‚PyTorchçš„<strong>å¼ é‡ç±»</strong>ä¸Numpyçš„<code>ndarray</code>ç±»ä¼¼ã€‚ä½†åœ¨æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­åº”ç”¨PyTorchçš„<strong>å¼ é‡ç±»</strong>ï¼Œåˆæ¯”Numpyçš„<code>ndarray</code>å¤šä¸€äº›é‡è¦åŠŸèƒ½ï¼š</p>
<ol>
<li>tensorå¯ä»¥åœ¨å¾ˆå¥½åœ°æ”¯æŒGPUåŠ é€Ÿè®¡ç®—ï¼Œè€ŒNumPyä»…æ”¯æŒCPUè®¡ç®—ï¼›</li>
<li>tensoræ”¯æŒè‡ªåŠ¨å¾®åˆ†ã€‚</li>
</ol>
<p>è¿™äº›åŠŸèƒ½ä½¿å¾—å¼ é‡ç±»æ›´é€‚åˆæ·±åº¦å­¦ä¹ ã€‚</p>
<h4 id="1-1-åŸºæœ¬æ“ä½œ"><a href="#1-1-åŸºæœ¬æ“ä½œ" class="headerlink" title="1.1 åŸºæœ¬æ“ä½œ"></a>1.1 åŸºæœ¬æ“ä½œ</h4><p>[<strong>å¼ é‡è¡¨ç¤ºç”±ä¸€äº›æ•°å€¼ç»„æˆçš„æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å¯èƒ½æœ‰å¤šä¸ªç»´åº¦</strong>]ã€‚å…·æœ‰ä¸€ä¸ªè½´çš„å¼ é‡å¯¹åº”æ•°å­¦ä¸Šçš„<strong>å‘é‡</strong>ï¼ˆvectorï¼‰ï¼›å…·æœ‰ä¸¤ä¸ªè½´çš„å¼ é‡å¯¹åº”æ•°å­¦ä¸Šçš„<strong>çŸ©é˜µ</strong>ï¼ˆmatrixï¼‰ï¼›å…·æœ‰ä¸¤ä¸ªè½´ä»¥ä¸Šçš„å¼ é‡æ²¡æœ‰ç‰¹æ®Šçš„æ•°å­¦åç§°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>arange</code>åˆ›å»ºä¸€ä¸ªè¡Œå‘é‡<code>x</code>ã€‚è¿™ä¸ªè¡Œå‘é‡åŒ…å«ä»0å¼€å§‹çš„å‰12ä¸ªæ•´æ•°ï¼Œå®ƒä»¬è¢«<strong>é»˜è®¤åˆ›å»ºä¸ºæµ®ç‚¹æ•°</strong>ã€‚å¼ é‡ä¸­çš„æ¯ä¸ªå€¼éƒ½ç§°ä¸ºå¼ é‡çš„<strong>å…ƒç´ </strong>ï¼ˆelementï¼‰ã€‚ä¾‹å¦‚ï¼Œå¼ é‡<code>x</code>ä¸­æœ‰12ä¸ªå…ƒç´ ã€‚é™¤éé¢å¤–æŒ‡å®šï¼Œæ–°çš„å¼ é‡é»˜è®¤å°†å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶é‡‡ç”¨åŸºäºCPUçš„è®¡ç®—ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = torch.arange(<span class="number">12</span>)</span><br><span class="line">  tensor([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>])</span><br></pre></td></tr></table></figure>
<p>[<strong>å¯ä»¥é€šè¿‡å¼ é‡çš„<code>shape</code>å±æ€§æ¥è®¿é—®å¼ é‡ï¼ˆæ²¿æ¯ä¸ªè½´çš„é•¿åº¦ï¼‰çš„<em>å½¢çŠ¶</em></strong>]ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.shape</span><br><span class="line">  torch.Size([<span class="number">12</span>])</span><br></pre></td></tr></table></figure>
<p>å¦‚æœåªæƒ³çŸ¥é“å¼ é‡ä¸­å…ƒç´ çš„æ€»æ•°ï¼Œå³å½¢çŠ¶çš„æ‰€æœ‰å…ƒç´ ä¹˜ç§¯ï¼Œå¯ä»¥æ£€æŸ¥å®ƒçš„å¤§å°ï¼ˆsizeï¼‰ã€‚</p>
<p>å› ä¸ºè¿™é‡Œåœ¨å¤„ç†çš„æ˜¯ä¸€ä¸ªå‘é‡ï¼Œæ‰€ä»¥å®ƒçš„<code>shape</code>ä¸å®ƒçš„<code>size</code>ç›¸åŒã€‚åœ¨å¤„ç†æ›´é«˜ç»´åº¦çš„çš„å¼ é‡æ—¶ï¼Œå¯ä»¥ç”¨è¿™ç§æ–¹æ³•è·å–å¼ é‡ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.numel()</span><br><span class="line">  <span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>[<strong>è¦æƒ³æ”¹å˜ä¸€ä¸ªå¼ é‡çš„å½¢çŠ¶è€Œä¸æ”¹å˜å…ƒç´ æ•°é‡å’Œå…ƒç´ å€¼ï¼Œå¯ä»¥è°ƒç”¨<code>reshape</code>å‡½æ•°ã€‚</strong>]</p>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥æŠŠå¼ é‡<code>x</code>ä»å½¢çŠ¶ä¸ºï¼ˆ12,ï¼‰çš„è¡Œå‘é‡è½¬æ¢ä¸ºå½¢çŠ¶ä¸ºï¼ˆ3,4ï¼‰çš„çŸ©é˜µã€‚è¿™ä¸ªæ–°çš„å¼ é‡åŒ…å«ä¸è½¬æ¢å‰ç›¸åŒçš„å€¼ï¼Œä½†æ˜¯å®ƒè¢«çœ‹æˆä¸€ä¸ª3è¡Œ4åˆ—çš„çŸ©é˜µã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å¼ é‡çš„å½¢çŠ¶å‘ç”Ÿäº†æ”¹å˜ï¼Œä½†å…¶å…ƒç´ å€¼å¹¶æ²¡æœ‰å˜ã€‚æ”¹å˜å¼ é‡çš„å½¢çŠ¶æ—¶ï¼Œå¼ é‡ä¸­å…ƒç´ çš„ä¸ªæ•°ä¸ä¼šæ”¹å˜ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X = x.reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">  tensor([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">          [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">          [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¸éœ€è¦é€šè¿‡æ‰‹åŠ¨æŒ‡å®šæ¯ä¸ªç»´åº¦æ¥æ”¹å˜å½¢çŠ¶ã€‚å¦‚æœæˆ‘ä»¬çš„ç›®æ ‡å½¢çŠ¶æ˜¯ï¼ˆé«˜åº¦ x å®½åº¦ï¼‰ï¼Œé‚£ä¹ˆåœ¨çŸ¥é“å®½åº¦åï¼Œé«˜åº¦ä¼šè¢«è‡ªåŠ¨è®¡ç®—å¾—å‡ºï¼Œä¸å¿…æˆ‘ä»¬è‡ªå·±åšé™¤æ³•ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>-1</code>æ¥è°ƒç”¨æ­¤è‡ªåŠ¨è®¡ç®—å‡ºç»´åº¦çš„åŠŸèƒ½å³å¯ä»¥ç”¨<code>x.reshape(-1,4)</code>æˆ–<code>x.reshape(3,-1)</code>æ¥å–ä»£<code>x.reshape(3,4)</code>ã€‚</p>
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›[<strong>ä½¿ç”¨å…¨0ã€å…¨1ã€å…¶ä»–å¸¸é‡ï¼Œæˆ–è€…ä»ç‰¹å®šåˆ†å¸ƒä¸­éšæœºé‡‡æ ·çš„æ•°å­—</strong>]æ¥åˆå§‹åŒ–çŸ©é˜µã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸ºï¼ˆ2,3,4ï¼‰çš„å¼ é‡ï¼Œå…¶ä¸­æ‰€æœ‰å…ƒç´ éƒ½è®¾ç½®ä¸º0æˆ–è€…1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.zeros((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">  tensor([[[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">            [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">            [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]],</span><br><span class="line"></span><br><span class="line">          [[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">            [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">            [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]]])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">  tensor([[[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]],</span><br><span class="line"></span><br><span class="line">          [[<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]]])</span><br></pre></td></tr></table></figure>
<p>æœ‰æ—¶æˆ‘ä»¬æƒ³é€šè¿‡ä»æŸä¸ªç‰¹å®šçš„æ¦‚ç‡åˆ†å¸ƒä¸­éšæœºé‡‡æ ·æ¥å¾—åˆ°å¼ é‡ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æ„é€ æ•°ç»„æ¥ä½œä¸ºç¥ç»ç½‘ç»œä¸­çš„å‚æ•°æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šéšæœºåˆå§‹åŒ–å‚æ•°çš„å€¼ã€‚ä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸ºï¼ˆ3,4ï¼‰çš„å¼ é‡ã€‚å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä»å‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º1çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒä¸­éšæœºé‡‡æ ·ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.randn(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">  tensor([[ <span class="number">0.1364</span>,  <span class="number">0.3546</span>, -<span class="number">0.9091</span>, -<span class="number">1.8926</span>],</span><br><span class="line">          [ <span class="number">0.5786</span>, -<span class="number">0.9019</span>, -<span class="number">0.1305</span>, -<span class="number">0.1899</span>],</span><br><span class="line">          [ <span class="number">0.5696</span>,  <span class="number">1.1626</span>, -<span class="number">0.5987</span>,  <span class="number">0.4085</span>]])</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¿˜å¯ä»¥[<strong>é€šè¿‡æä¾›åŒ…å«æ•°å€¼çš„Pythonåˆ—è¡¨ï¼ˆæˆ–åµŒå¥—åˆ—è¡¨ï¼‰ï¼Œæ¥ä¸ºæ‰€éœ€å¼ é‡ä¸­çš„æ¯ä¸ªå…ƒç´ èµ‹äºˆç¡®å®šå€¼</strong>]ã€‚åœ¨è¿™é‡Œï¼Œæœ€å¤–å±‚çš„åˆ—è¡¨å¯¹åº”äºè½´0ï¼Œå†…å±‚çš„åˆ—è¡¨å¯¹åº”äºè½´1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.tensor([[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line">  tensor([[<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>],</span><br><span class="line">          [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">          [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>
<h4 id="1-2-ç®€å•è¿ç®—"><a href="#1-2-ç®€å•è¿ç®—" class="headerlink" title="1.2 ç®€å•è¿ç®—"></a>1.2 ç®€å•è¿ç®—</h4><p>æˆ‘ä»¬æƒ³åœ¨è¿™äº›æ•°æ®ä¸Šæ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œå…¶ä¸­æœ€ç®€å•ä¸”æœ€æœ‰ç”¨çš„æ“ä½œæ˜¯<strong>æŒ‰å…ƒç´ </strong>ï¼ˆelementwiseï¼‰è¿ç®—ã€‚å®ƒä»¬å°†æ ‡å‡†æ ‡é‡è¿ç®—ç¬¦åº”ç”¨äºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ã€‚å¯¹äºå°†ä¸¤ä¸ªæ•°ç»„ä½œä¸ºè¾“å…¥çš„å‡½æ•°ï¼ŒæŒ‰å…ƒç´ è¿ç®—å°†äºŒå…ƒè¿ç®—ç¬¦åº”ç”¨äºä¸¤ä¸ªæ•°ç»„ä¸­çš„æ¯å¯¹ä½ç½®å¯¹åº”çš„å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºä»»ä½•ä»æ ‡é‡åˆ°æ ‡é‡çš„å‡½æ•°æ¥åˆ›å»ºæŒ‰å…ƒç´ å‡½æ•°ã€‚æˆ‘ä»¬é€šè¿‡å°†æ ‡é‡å‡½æ•°å‡çº§ä¸ºæŒ‰å…ƒç´ å‘é‡è¿ç®—æ¥ç”Ÿæˆå‘é‡å€¼$F: \mathbb{R}^d, \mathbb{R}^d \rightarrow \mathbb{R}^d$ã€‚</p>
<p>å¯¹äºä»»æ„å…·æœ‰ç›¸åŒå½¢çŠ¶çš„å¼ é‡ï¼Œ[<strong>å¸¸è§çš„æ ‡å‡†ç®—æœ¯è¿ç®—ç¬¦ï¼ˆ<code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>å’Œ`</strong>`ï¼‰éƒ½å¯ä»¥è¢«å‡çº§ä¸ºæŒ‰å…ƒç´ è¿ç®—**]ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€å½¢çŠ¶çš„ä»»æ„ä¸¤ä¸ªå¼ é‡ä¸Šè°ƒç”¨æŒ‰å…ƒç´ æ“ä½œã€‚æˆ‘ä»¬ä½¿ç”¨é€—å·æ¥è¡¨ç¤ºä¸€ä¸ªå…·æœ‰5ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯æŒ‰å…ƒç´ æ“ä½œçš„ç»“æœã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = torch.tensor([<span class="number">1.0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.tensor([<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x + y, x - y, x * y, x / y, x ** y</span><br><span class="line">  (tensor([ <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">6.</span>, <span class="number">10.</span>]),</span><br><span class="line">    tensor([-<span class="number">1.</span>,  <span class="number">0.</span>,  <span class="number">2.</span>,  <span class="number">6.</span>]),</span><br><span class="line">    tensor([ <span class="number">2.</span>,  <span class="number">4.</span>,  <span class="number">8.</span>, <span class="number">16.</span>]),</span><br><span class="line">    tensor([<span class="number">0.5000</span>, <span class="number">1.0000</span>, <span class="number">2.0000</span>, <span class="number">4.0000</span>]),</span><br><span class="line">    tensor([ <span class="number">1.</span>,  <span class="number">4.</span>, <span class="number">16.</span>, <span class="number">64.</span>]))</span><br></pre></td></tr></table></figure>
<p>(<strong>â€œæŒ‰å…ƒç´ â€æ–¹å¼å¯ä»¥åº”ç”¨æ›´å¤šçš„è®¡ç®—</strong>)ï¼ŒåŒ…æ‹¬åƒæ±‚å¹‚è¿™æ ·çš„ä¸€å…ƒè¿ç®—ç¬¦ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.exp(x)</span><br><span class="line">  tensor([<span class="number">2.7183e+00</span>, <span class="number">7.3891e+00</span>, <span class="number">5.4598e+01</span>, <span class="number">2.9810e+03</span>])</span><br></pre></td></tr></table></figure>
<p>[<strong>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå¤šä¸ªå¼ é‡<em>è¿ç»“</em>ï¼ˆconcatenateï¼‰åœ¨ä¸€èµ·</strong>]ï¼ŒæŠŠå®ƒä»¬ç«¯å¯¹ç«¯åœ°å èµ·æ¥å½¢æˆä¸€ä¸ªæ›´å¤§çš„å¼ é‡ã€‚æˆ‘ä»¬åªéœ€è¦æä¾›å¼ é‡åˆ—è¡¨ï¼Œå¹¶ç»™å‡ºæ²¿å“ªä¸ªè½´è¿ç»“ã€‚ä¸‹é¢çš„ä¾‹å­åˆ†åˆ«æ¼”ç¤ºäº†å½“æˆ‘ä»¬æ²¿è¡Œï¼ˆè½´-0ï¼Œå½¢çŠ¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰å’ŒæŒ‰åˆ—ï¼ˆè½´-1ï¼Œå½¢çŠ¶çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼‰è¿ç»“ä¸¤ä¸ªçŸ©é˜µæ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªè¾“å‡ºå¼ é‡çš„è½´-0é•¿åº¦ï¼ˆ$6$ï¼‰æ˜¯ä¸¤ä¸ªè¾“å…¥å¼ é‡è½´-0é•¿åº¦çš„æ€»å’Œï¼ˆ$3 + 3$ï¼‰ï¼›ç¬¬äºŒä¸ªè¾“å‡ºå¼ é‡çš„è½´-1é•¿åº¦ï¼ˆ$8$ï¼‰æ˜¯ä¸¤ä¸ªè¾“å…¥å¼ é‡è½´-1é•¿åº¦çš„æ€»å’Œï¼ˆ$4 + 4$ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X = torch.arange(<span class="number">12</span>, dtype=torch.float32).reshape((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Y = torch.tensor([[<span class="number">2.0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.cat((X, Y), dim=<span class="number">0</span>), torch.cat((X, Y), dim=<span class="number">1</span>)</span><br><span class="line">  (tensor([[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>],</span><br><span class="line">            [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>],</span><br><span class="line">            [ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>],</span><br><span class="line">            [ <span class="number">2.</span>,  <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">            [ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>],</span><br><span class="line">            [ <span class="number">4.</span>,  <span class="number">3.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>]]),</span><br><span class="line">    tensor([[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>,  <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">            [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>],</span><br><span class="line">            [ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>,  <span class="number">4.</span>,  <span class="number">3.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>]]))</span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šè¿°ä¾‹å­å¯è§ï¼Œå½“éœ€è¦æŒ‰è½´-xè¿ç»“ä¸¤ä¸ªå¼ é‡æ—¶ï¼Œæˆ‘ä»¬å°±åœ¨ç¬¬x+1å±‚æ‹¬å·å†…å°†ä¸¤å¼ é‡ä¸­çš„å…ƒç´ ç›¸ç»„åˆã€‚ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å°†ä¸¤ä¸ªä¸‰ç»´å¼ é‡ç›¸è¿ç»“ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X = torch.arange(<span class="number">12</span>, dtype=torch.float32).reshape((<span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Y = torch.tensor([[[<span class="number">2.0</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">3</span>]], [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], [[<span class="number">4</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">1</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.cat((X, Y), dim=<span class="number">0</span>), torch.cat((X, Y), dim=<span class="number">1</span>), torch.cat((X, Y), dim=<span class="number">2</span>)</span><br><span class="line">  (tensor([[[ <span class="number">0.</span>,  <span class="number">1.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">4.</span>,  <span class="number">5.</span>],</span><br><span class="line">              [ <span class="number">6.</span>,  <span class="number">7.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">8.</span>,  <span class="number">9.</span>],</span><br><span class="line">              [<span class="number">10.</span>, <span class="number">11.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">2.</span>,  <span class="number">1.</span>],</span><br><span class="line">              [ <span class="number">4.</span>,  <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">1.</span>,  <span class="number">2.</span>],</span><br><span class="line">              [ <span class="number">3.</span>,  <span class="number">4.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">1.</span>]]]),</span><br><span class="line">    tensor([[[ <span class="number">0.</span>,  <span class="number">1.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">3.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">1.</span>],</span><br><span class="line">              [ <span class="number">4.</span>,  <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">4.</span>,  <span class="number">5.</span>],</span><br><span class="line">              [ <span class="number">6.</span>,  <span class="number">7.</span>],</span><br><span class="line">              [ <span class="number">1.</span>,  <span class="number">2.</span>],</span><br><span class="line">              [ <span class="number">3.</span>,  <span class="number">4.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">8.</span>,  <span class="number">9.</span>],</span><br><span class="line">             [<span class="number">10.</span>, <span class="number">11.</span>],</span><br><span class="line">             [ <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">1.</span>]]]),</span><br><span class="line">    tensor([[[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>],</span><br><span class="line">              [ <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">3.</span>]],</span><br><span class="line"> </span><br><span class="line">           [[ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>],</span><br><span class="line">              [ <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>]],</span><br><span class="line"> </span><br><span class="line">            [[ <span class="number">8.</span>,  <span class="number">9.</span>,  <span class="number">4.</span>,  <span class="number">3.</span>],</span><br><span class="line">             [<span class="number">10.</span>, <span class="number">11.</span>,  <span class="number">2.</span>,  <span class="number">1.</span>]]]))</span><br></pre></td></tr></table></figure>
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³[<strong>é€šè¿‡<em>é€»è¾‘è¿ç®—ç¬¦</em>æ„å»ºäºŒå…ƒå¼ é‡</strong>]ã€‚ ä»¥<code>X == Y</code>ä¸ºä¾‹ï¼š å¯¹äºæ¯ä¸ªä½ç½®ï¼Œå¦‚æœ<code>X</code>å’Œ<code>Y</code>åœ¨è¯¥ä½ç½®ç›¸ç­‰ï¼Œåˆ™æ–°å¼ é‡ä¸­ç›¸åº”é¡¹çš„å€¼ä¸º1ã€‚ è¿™æ„å‘³ç€é€»è¾‘è¯­å¥<code>X == Y</code>åœ¨è¯¥ä½ç½®å¤„ä¸ºçœŸï¼Œå¦åˆ™è¯¥ä½ç½®ä¸º0ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X == Y</span><br><span class="line">  tensor([[<span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>,  <span class="literal">True</span>],</span><br><span class="line">          [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">            [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>]])</span><br></pre></td></tr></table></figure>
<p>[<strong>å¯¹å¼ é‡ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ±‚å’Œï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå•å…ƒç´ å¼ é‡ã€‚</strong>]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X.<span class="built_in">sum</span>()</span><br><span class="line">  tensor(<span class="number">66.</span>)</span><br></pre></td></tr></table></figure>
<h4 id="1-3-å¹¿æ’­æœºåˆ¶"><a href="#1-3-å¹¿æ’­æœºåˆ¶" class="headerlink" title="1.3 å¹¿æ’­æœºåˆ¶"></a>1.3 å¹¿æ’­æœºåˆ¶</h4><p>åœ¨ä¸Šé¢çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•åœ¨ç›¸åŒå½¢çŠ¶çš„ä¸¤ä¸ªå¼ é‡ä¸Šæ‰§è¡ŒæŒ‰å…ƒç´ æ“ä½œã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ[<strong>å³ä½¿å½¢çŠ¶ä¸åŒï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡è°ƒç”¨<em>å¹¿æ’­æœºåˆ¶</em>ï¼ˆbroadcasting mechanismï¼‰æ¥æ‰§è¡ŒæŒ‰å…ƒç´ æ“ä½œ</strong>]ã€‚è¿™ç§æœºåˆ¶çš„å·¥ä½œæ¡ä»¶æ˜¯ï¼šä¸¤ä¸ªå¼ é‡ä»åå¼€å§‹æ•°ï¼Œæ¯ä¸ªç»´åº¦ç›¸ç­‰æˆ–è€…å…¶ä¸­ä¸€ä¸ªä¸º1ã€‚è¿™ç§æœºåˆ¶çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼šé¦–å…ˆï¼Œé€šè¿‡é€‚å½“å¤åˆ¶å…ƒç´ æ¥æ‰©å±•ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°ç»„ï¼Œä»¥ä¾¿åœ¨è½¬æ¢ä¹‹åï¼Œä¸¤ä¸ªå¼ é‡å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ã€‚å…¶æ¬¡ï¼Œå¯¹ç”Ÿæˆçš„æ•°ç»„æ‰§è¡ŒæŒ‰å…ƒç´ æ“ä½œã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†æ²¿ç€æ•°ç»„ä¸­é•¿åº¦ä¸º1çš„è½´è¿›è¡Œå¹¿æ’­ï¼Œå¦‚ä¸‹ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = torch.arange(<span class="number">3</span>).reshape((<span class="number">3</span>, <span class="number">1</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = torch.arange(<span class="number">2</span>).reshape((<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, a + b</span><br><span class="line">  (tensor([[<span class="number">0</span>],</span><br><span class="line">            [<span class="number">1</span>],</span><br><span class="line">            [<span class="number">2</span>]]),</span><br><span class="line">    tensor([[<span class="number">0</span>, <span class="number">1</span>]]))</span><br><span class="line">    tensor([[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">           [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">           [<span class="number">2</span>, <span class="number">3</span>]])</span><br></pre></td></tr></table></figure>
<p>ç”±äº<code>a</code>å’Œ<code>b</code>åˆ†åˆ«æ˜¯$3\times1$å’Œ$1\times2$çŸ©é˜µï¼Œå¦‚æœè®©å®ƒä»¬ç›¸åŠ ï¼Œå®ƒä»¬çš„å½¢çŠ¶ä¸åŒ¹é…ã€‚æˆ‘ä»¬å°†ä¸¤ä¸ªçŸ©é˜µ<strong>å¹¿æ’­</strong>ä¸ºä¸€ä¸ªæ›´å¤§çš„$3\times2$çŸ©é˜µï¼ŒçŸ©é˜µ<code>a</code>å¤åˆ¶åˆ—ï¼ŒçŸ©é˜µ<code>b</code>å¤åˆ¶è¡Œï¼Œç„¶åå†æŒ‰å…ƒç´ ç›¸åŠ ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¿æ’­æœºåˆ¶åªèƒ½æ‰©å±•ç»´åº¦ï¼Œè€Œä¸èƒ½å‡­ç©ºå¢åŠ å¼ é‡çš„ç»´åº¦ï¼Œä¾‹å¦‚åœ¨è®¡ç®—æ²¿æŸä¸ªè½´çš„å‡å€¼æ—¶ï¼Œè‹¥å¼ é‡ç»´åº¦ä¸åŒï¼Œåˆ™ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>C = torch.arange(<span class="number">24</span>, dtype=torch.float32).reshape(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>C / C.<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br><span class="line">  RuntimeError: The size of tensor a (<span class="number">3</span>) must <span class="keyword">match</span> the size of tensor b (<span class="number">2</span>) at non-singleton dimension <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬éœ€è¦å°†<code>keepdims</code>è®¾ä¸ºTrueï¼Œæ‰èƒ½æ­£ç¡®åˆ©ç”¨å¹¿æ’­æœºåˆ¶æ‰©å±•<code>C.sum(axis=1)</code>çš„ç»´åº¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>C / C.<span class="built_in">sum</span>(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">  tensor([[[<span class="number">0.0000</span>, <span class="number">0.0667</span>, <span class="number">0.1111</span>, <span class="number">0.1429</span>],</span><br><span class="line">            [<span class="number">0.3333</span>, <span class="number">0.3333</span>, <span class="number">0.3333</span>, <span class="number">0.3333</span>],</span><br><span class="line">            [<span class="number">0.6667</span>, <span class="number">0.6000</span>, <span class="number">0.5556</span>, <span class="number">0.5238</span>]],</span><br><span class="line"></span><br><span class="line">          [[<span class="number">0.2500</span>, <span class="number">0.2549</span>, <span class="number">0.2593</span>, <span class="number">0.2632</span>],</span><br><span class="line">            [<span class="number">0.3333</span>, <span class="number">0.3333</span>, <span class="number">0.3333</span>, <span class="number">0.3333</span>],</span><br><span class="line">            [<span class="number">0.4167</span>, <span class="number">0.4118</span>, <span class="number">0.4074</span>, <span class="number">0.4035</span>]]])</span><br></pre></td></tr></table></figure>
<h4 id="1-4-ç´¢å¼•å’Œåˆ‡ç‰‡"><a href="#1-4-ç´¢å¼•å’Œåˆ‡ç‰‡" class="headerlink" title="1.4 ç´¢å¼•å’Œåˆ‡ç‰‡"></a>1.4 ç´¢å¼•å’Œåˆ‡ç‰‡</h4><p>å°±åƒåœ¨ä»»ä½•å…¶ä»–Pythonæ•°ç»„ä¸­ä¸€æ ·ï¼Œå¼ é‡ä¸­çš„å…ƒç´ å¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®ã€‚ä¸ä»»ä½•Pythonæ•°ç»„ä¸€æ ·ï¼šç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼•æ˜¯-1ï¼›å¯ä»¥æŒ‡å®šèŒƒå›´ä»¥åŒ…å«ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªä¹‹å‰çš„å…ƒç´ ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬[<strong>å¯ä»¥ç”¨<code>[-1]</code>é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥ç”¨<code>[1:3]</code>é€‰æ‹©ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå…ƒç´ </strong>]ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X[-<span class="number">1</span>], X[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">  (tensor([ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>]),</span><br><span class="line">    tensor([[ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>],</span><br><span class="line">            [ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>]]))</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬[<strong>å¯ä»¥ç”¨<code>[::2]</code>æ¯é—´éš”ä¸€ä¸ªå…ƒç´ é€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥ç”¨<code>[::3]</code>æ¯é—´éš”ä¸¤ä¸ªå…ƒç´ é€‰æ‹©ä¸€ä¸ªå…ƒç´ </strong>]ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X[::<span class="number">2</span>, ::<span class="number">3</span>]</span><br><span class="line">  tensor([[ <span class="number">0.</span>,  <span class="number">3.</span>],</span><br><span class="line">            [ <span class="number">8.</span>, <span class="number">11.</span>]])</span><br></pre></td></tr></table></figure>
<p>[<strong>é™¤è¯»å–å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æŒ‡å®šç´¢å¼•æ¥å°†å…ƒç´ å†™å…¥çŸ©é˜µã€‚</strong>]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X[<span class="number">1</span>, <span class="number">2</span>] = <span class="number">9</span></span><br><span class="line">  tensor([[ <span class="number">0.</span>,  <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>],</span><br><span class="line">          [ <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">9.</span>,  <span class="number">7.</span>],</span><br><span class="line">          	[ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>]])</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬æƒ³[<strong>ä¸ºå¤šä¸ªå…ƒç´ èµ‹å€¼ç›¸åŒçš„å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦ç´¢å¼•æ‰€æœ‰å…ƒç´ ï¼Œç„¶åä¸ºå®ƒä»¬èµ‹å€¼ã€‚</strong>]ä¾‹å¦‚ï¼Œ<code>[0:2, :]</code>è®¿é—®ç¬¬1è¡Œå’Œç¬¬2è¡Œï¼Œå…¶ä¸­â€œ:â€ä»£è¡¨æ²¿è½´1ï¼ˆåˆ—ï¼‰çš„æ‰€æœ‰å…ƒç´ ã€‚è™½ç„¶æˆ‘ä»¬è®¨è®ºçš„æ˜¯çŸ©é˜µçš„ç´¢å¼•ï¼Œä½†è¿™ä¹Ÿé€‚ç”¨äºå‘é‡å’Œè¶…è¿‡2ä¸ªç»´åº¦çš„å¼ é‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>X[<span class="number">0</span>:<span class="number">2</span>, :] = <span class="number">12</span></span><br><span class="line">  tensor([[<span class="number">12.</span>, <span class="number">12.</span>, <span class="number">12.</span>, <span class="number">12.</span>],</span><br><span class="line">          [<span class="number">12.</span>, <span class="number">12.</span>, <span class="number">12.</span>, <span class="number">12.</span>],</span><br><span class="line">          	[ <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>, <span class="number">11.</span>]])</span><br></pre></td></tr></table></figure>
<h4 id="1-5-èŠ‚çº¦å†…å­˜"><a href="#1-5-èŠ‚çº¦å†…å­˜" class="headerlink" title="1.5 èŠ‚çº¦å†…å­˜"></a>1.5 èŠ‚çº¦å†…å­˜</h4><p>[<strong>å¦‚æœåœ¨åç»­è®¡ç®—ä¸­æ²¡æœ‰é‡å¤ä½¿ç”¨<code>X</code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>X[:] = X + Y</code>æˆ–<code>X += Y</code>æ¥å‡å°‘æ“ä½œçš„å†…å­˜å¼€é”€ã€‚</strong>]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>before = <span class="built_in">id</span>(X)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>X += Y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">id</span>(X) == before</span><br><span class="line">  <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h4 id="1-6-è½¬æ¢ä¸ºå…¶ä»–Pythonå¯¹è±¡"><a href="#1-6-è½¬æ¢ä¸ºå…¶ä»–Pythonå¯¹è±¡" class="headerlink" title="1.6 è½¬æ¢ä¸ºå…¶ä»–Pythonå¯¹è±¡"></a>1.6 è½¬æ¢ä¸ºå…¶ä»–Pythonå¯¹è±¡</h4><p>å°†æ·±åº¦å­¦ä¹ æ¡†æ¶å®šä¹‰çš„å¼ é‡[<strong>è½¬æ¢ä¸ºNumPyå¼ é‡ï¼ˆ<code>ndarray</code>ï¼‰</strong>]å¾ˆå®¹æ˜“ï¼Œåä¹‹ä¹ŸåŒæ ·å®¹æ˜“ã€‚torchå¼ é‡å’Œnumpyæ•°ç»„å°†å…±äº«å®ƒä»¬çš„åº•å±‚å†…å­˜ï¼Œå°±åœ°æ“ä½œæ›´æ”¹ä¸€ä¸ªå¼ é‡ä¹Ÿä¼šåŒæ—¶æ›´æ”¹å¦ä¸€ä¸ªå¼ é‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>A = X.numpy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>B = torch.tensor(A)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(A), <span class="built_in">type</span>(B)</span><br><span class="line">  (numpy.ndarray, torch.Tensor)</span><br></pre></td></tr></table></figure>
<p>è¦(<strong>å°†å¤§å°ä¸º1çš„å¼ é‡è½¬æ¢ä¸ºPythonæ ‡é‡</strong>)ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨<code>item</code>å‡½æ•°æˆ–Pythonçš„å†…ç½®å‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = torch.tensor([<span class="number">3.5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, a.item(), <span class="built_in">float</span>(a), <span class="built_in">int</span>(a)</span><br><span class="line">  (tensor([<span class="number">3.5000</span>]), <span class="number">3.5</span>, <span class="number">3.5</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-æ•°æ®é¢„å¤„ç†"><a href="#2-æ•°æ®é¢„å¤„ç†" class="headerlink" title="2. æ•°æ®é¢„å¤„ç†"></a>2. æ•°æ®é¢„å¤„ç†</h3><p>ä¸ºäº†èƒ½ç”¨æ·±åº¦å­¦ä¹ æ¥è§£å†³ç°å®ä¸–ç•Œçš„é—®é¢˜ï¼Œæˆ‘ä»¬ç»å¸¸ä»é¢„å¤„ç†åŸå§‹æ•°æ®å¼€å§‹ï¼Œè€Œä¸æ˜¯ä»é‚£äº›å‡†å¤‡å¥½çš„å¼ é‡æ ¼å¼æ•°æ®å¼€å§‹ã€‚åœ¨Pythonä¸­å¸¸ç”¨çš„æ•°æ®åˆ†æå·¥å…·ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>pandas</code>è½¯ä»¶åŒ…ã€‚åƒåºå¤§çš„Pythonç”Ÿæ€ç³»ç»Ÿä¸­çš„è®¸å¤šå…¶ä»–æ‰©å±•åŒ…ä¸€æ ·ï¼Œ<code>pandas</code>å¯ä»¥ä¸å¼ é‡å…¼å®¹ã€‚æœ¬èŠ‚æˆ‘ä»¬å°†ç®€è¦ä»‹ç»ä½¿ç”¨<code>pandas</code>é¢„å¤„ç†åŸå§‹æ•°æ®ï¼Œå¹¶å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºå¼ é‡æ ¼å¼çš„æ­¥éª¤ã€‚</p>
<h4 id="2-1-è¯»å–æ•°æ®é›†"><a href="#2-1-è¯»å–æ•°æ®é›†" class="headerlink" title="2.1 è¯»å–æ•°æ®é›†"></a>2.1 è¯»å–æ•°æ®é›†</h4><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é¦–å…ˆ(<strong>åˆ›å»ºä¸€ä¸ªäººå·¥æ•°æ®é›†ï¼Œå¹¶å­˜å‚¨åœ¨CSVï¼ˆé€—å·åˆ†éš”å€¼ï¼‰æ–‡ä»¶</strong>)<code>../data/house_tiny.csv</code>ä¸­ã€‚ä»¥å…¶ä»–æ ¼å¼å­˜å‚¨çš„æ•°æ®ä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚ä¸‹é¢æˆ‘ä»¬å°†æ•°æ®é›†æŒ‰è¡Œå†™å…¥CSVæ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.makedirs(os.path.join(<span class="string">&#x27;..&#x27;</span>, <span class="string">&#x27;data&#x27;</span>), exist_ok=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_file = os.path.join(<span class="string">&#x27;..&#x27;</span>, <span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;house_tiny.csv&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> <span class="built_in">open</span>(data_file, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>    f.write(<span class="string">&#x27;NumRooms,Alley,Price\n&#x27;</span>)  <span class="comment"># åˆ—å</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>    f.write(<span class="string">&#x27;NA,Pave,127500\n&#x27;</span>)  <span class="comment"># æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®æ ·æœ¬</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>    f.write(<span class="string">&#x27;2,NA,106000\n&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>    f.write(<span class="string">&#x27;4,NA,178100\n&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>    f.write(<span class="string">&#x27;NA,NA,140000\n&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>è¦[<strong>ä»åˆ›å»ºçš„CSVæ–‡ä»¶ä¸­åŠ è½½åŸå§‹æ•°æ®é›†</strong>]ï¼Œæˆ‘ä»¬å¯¼å…¥<code>pandas</code>åŒ…å¹¶è°ƒç”¨<code>read_csv</code>å‡½æ•°ã€‚è¯¥æ•°æ®é›†æœ‰å››è¡Œä¸‰åˆ—ã€‚å…¶ä¸­æ¯è¡Œæè¿°äº†æˆ¿é—´æ•°é‡ï¼ˆâ€œNumRoomsâ€ï¼‰ã€å··å­ç±»å‹ï¼ˆâ€œAlleyâ€ï¼‰å’Œæˆ¿å±‹ä»·æ ¼ï¼ˆâ€œPriceâ€ï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = pd.read_csv(data_file)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">NumRooms</th>
<th style="text-align:center">Alley</th>
<th style="text-align:center">Price</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Pave</td>
<td style="text-align:center">127500</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2.0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">106000</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">4.0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">178100</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">140000</td>
</tr>
</tbody>
</table>
</div>
<h4 id="2-2-å¤„ç†ç¼ºå¤±å€¼"><a href="#2-2-å¤„ç†ç¼ºå¤±å€¼" class="headerlink" title="2.2 å¤„ç†ç¼ºå¤±å€¼"></a>2.2 å¤„ç†ç¼ºå¤±å€¼</h4><p>â€œNaNâ€é¡¹ä»£è¡¨ç¼ºå¤±å€¼ã€‚[<strong>ä¸ºäº†å¤„ç†ç¼ºå¤±çš„æ•°æ®ï¼Œå…¸å‹çš„æ–¹æ³•åŒ…æ‹¬<em>æ’å€¼æ³•</em>å’Œ<em>åˆ é™¤æ³•</em>ï¼Œ</strong>]å…¶ä¸­æ’å€¼æ³•ç”¨ä¸€ä¸ªæ›¿ä»£å€¼å¼¥è¡¥ç¼ºå¤±å€¼ï¼Œè€Œåˆ é™¤æ³•åˆ™ç›´æ¥å¿½ç•¥ç¼ºå¤±å€¼ã€‚é€šè¿‡ä½ç½®ç´¢å¼•<code>iloc</code>ï¼Œæˆ‘ä»¬å°†<code>data</code>åˆ†æˆ<code>inputs</code>å’Œ<code>outputs</code>ï¼Œå…¶ä¸­å‰è€…ä¸º<code>data</code>çš„å‰ä¸¤åˆ—ï¼Œè€Œåè€…ä¸º<code>data</code>çš„æœ€åä¸€åˆ—ã€‚å¯¹äº<code>inputs</code>ä¸­ç¼ºå°‘çš„æ•°å€¼ï¼Œæˆ‘ä»¬ç”¨åŒä¸€åˆ—çš„å‡å€¼æ›¿æ¢â€œNaNâ€é¡¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputs, outputs = data.iloc[:, <span class="number">0</span>:<span class="number">2</span>], data.iloc[:, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputs = inputs.fillna(inputs.mean(numeric_only=<span class="literal">True</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(inputs)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>numeric_only=True,å¤„ç†è¿è¡Œbug</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">NumRooms</th>
<th style="text-align:center">Alley</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">3.0</td>
<td style="text-align:center">Pave</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2.0</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">4.0</td>
<td style="text-align:center">NaN</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">3.0</td>
<td style="text-align:center">NaN</td>
</tr>
</tbody>
</table>
</div>
<p>åˆ©ç”¨åˆ é™¤æ³•ï¼Œæˆ‘ä»¬åˆ é™¤ç¼ºå¤±å…ƒç´ æœ€å¤šçš„ä¸€ä¸ªæ ·æœ¬ã€‚é¦–å…ˆï¼Œ<code>data.isnull()</code>çŸ©é˜µç»Ÿè®¡æ¯ä¸ªå…ƒç´ æ˜¯å¦ç¼ºå¤±ï¼Œä¹‹ååœ¨è½´-1çš„æ–¹å‘ä¸Šå°†<code>data.isnull()</code>å…ƒç´ æ±‚å’Œï¼Œå¾—åˆ°æ¯ä¸ªæ ·æœ¬ç¼ºå¤±å…ƒç´ ä¸ªæ•°ï¼Œå–å¾—ç¼ºå¤±å…ƒç´ ä¸ªæ•°æœ€å¤§çš„æ ·æœ¬çš„åºå·ï¼Œå¹¶å°†å…¶åˆ é™¤ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nan_numer = data.isnull().<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nan_max_id = nan_numer.idxmax()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data_delete = data.drop([nan_max_id], axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">NumRooms</th>
<th style="text-align:center">Alley</th>
<th style="text-align:center">Price</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">Pave</td>
<td style="text-align:center">127500</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2.0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">106000</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">4.0</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">178100</td>
</tr>
</tbody>
</table>
</div>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ©ç”¨<code>dropna</code>åˆ é™¤æ•°æ®ï¼Œå…¶ä¸­â€¢Axiså“ªä¸ªç»´åº¦Howå¦‚ä½•åˆ é™¤ï¼Œâ€˜anyâ€™è¡¨ç¤ºæœ‰nanå³åˆ é™¤ï¼Œâ€˜allâ€™è¡¨ç¤ºå…¨ä¸ºnanåˆ é™¤ï¼ŒThreshæœ‰å¤šå°‘ä¸ªnanåˆ é™¤ï¼ŒSubsetåœ¨å“ªäº›åˆ—ä¸­æŸ¥æ‰¾nanï¼ŒInplaceæ˜¯å¦åŸåœ°ä¿®æ”¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dropna( axis=<span class="number">0</span>, how=â€˜<span class="built_in">any</span>â€™, thresh=<span class="literal">None</span>, subset=<span class="literal">None</span>, inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>[<strong>å¯¹äº<code>inputs</code>ä¸­çš„ç±»åˆ«å€¼æˆ–ç¦»æ•£å€¼ï¼Œæˆ‘ä»¬å°†â€œNaNâ€è§†ä¸ºä¸€ä¸ªç±»åˆ«ã€‚</strong>]ç”±äºâ€œå··å­ç±»å‹â€ï¼ˆâ€œAlleyâ€ï¼‰åˆ—åªæ¥å—ä¸¤ç§ç±»å‹çš„ç±»åˆ«å€¼â€œPaveâ€å’Œâ€œNaNâ€ï¼Œ<code>pandas</code>å¯ä»¥è‡ªåŠ¨å°†æ­¤åˆ—è½¬æ¢ä¸ºä¸¤åˆ—â€œAlley_Paveâ€å’Œâ€œAlley_nanâ€ã€‚å··å­ç±»å‹ä¸ºâ€œPaveâ€çš„è¡Œä¼šå°†â€œAlley_Paveâ€çš„å€¼è®¾ç½®ä¸º1ï¼Œâ€œAlley_nanâ€çš„å€¼è®¾ç½®ä¸º0ã€‚ç¼ºå°‘å··å­ç±»å‹çš„è¡Œä¼šå°†â€œAlley_Paveâ€å’Œâ€œAlley_nanâ€åˆ†åˆ«è®¾ç½®ä¸º0å’Œ1ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>inputs = pd.get_dummies(inputs, dummy_na=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(inputs)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">NumRooms</th>
<th style="text-align:center">Alley_Pave</th>
<th style="text-align:center">Alley_nan</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">3.0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2.0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">4.0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">3.0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<h4 id="2-3-è½¬æ¢ä¸ºå¼ é‡æ ¼å¼"><a href="#2-3-è½¬æ¢ä¸ºå¼ é‡æ ¼å¼" class="headerlink" title="2.3 è½¬æ¢ä¸ºå¼ é‡æ ¼å¼"></a>2.3 è½¬æ¢ä¸ºå¼ é‡æ ¼å¼</h4><p>[<strong>ç°åœ¨<code>inputs</code>å’Œ<code>outputs</code>ä¸­çš„æ‰€æœ‰æ¡ç›®éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œå®ƒä»¬å¯ä»¥è½¬æ¢ä¸ºå¼ é‡æ ¼å¼ã€‚</strong>]</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> torch</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>X, y = torch.tensor(inputs.values), torch.tensor(outputs.values)</span><br><span class="line">  (tensor([[<span class="number">3.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">            [<span class="number">2.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">4.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">            [<span class="number">3.</span>, <span class="number">0.</span>, <span class="number">1.</span>]], dtype=torch.float64),</span><br><span class="line">    tensor([<span class="number">127500</span>, <span class="number">106000</span>, <span class="number">178100</span>, <span class="number">140000</span>]))</span><br></pre></td></tr></table></figure>
<h3 id="3-Q-amp-A"><a href="#3-Q-amp-A" class="headerlink" title="3. Q&amp;A"></a>3. Q&amp;A</h3><p><strong><code>Q1ï¼šreshapeå’Œviewçš„åŒºåˆ«ï¼Ÿ</code></strong></p>
<blockquote>
<p>Viewä¸ºæµ…æ‹·è´ï¼Œåªèƒ½ä½œç”¨äºè¿ç»­å‹å¼ é‡ï¼›Contiguouså‡½æ•°å°†å¼ é‡åšæ·±æ‹·è´å¹¶è½¬ä¸ºè¿ç»­å‹ï¼›Reshapeåœ¨å¼ é‡è¿ç»­æ—¶å’Œviewç›¸åŒï¼Œä¸è¿ç»­æ—¶ç­‰ä»·äºå…ˆcontiguouså†viewã€‚</p>
</blockquote>
<p><strong><code>Q2ï¼šæ•°ç»„è®¡ç®—åƒåŠ›æ€ä¹ˆåŠï¼Ÿ</code></strong></p>
<blockquote>
<p>å­¦ä¹ numpyçš„çŸ¥è¯†ã€‚</p>
</blockquote>
<p><strong><code>Q3ï¼šå¦‚ä½•å¿«é€ŸåŒºåˆ†ç»´åº¦ï¼Ÿ</code></strong></p>
<blockquote>
<p>åˆ©ç”¨<code>a.shape</code>æˆ–<code>a.dim()</code>ã€‚</p>
</blockquote>
<p><strong><code>Q4ï¼šTensorå’ŒArrayæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</code></strong></p>
<blockquote>
<p>Tensoræ˜¯æ•°å­¦ä¸Šå®šä¹‰çš„å¼ é‡ï¼ŒArrayæ˜¯è®¡ç®—æœºæ¦‚å¿µæ•°ç»„ï¼Œä½†åœ¨æ·±åº¦å­¦ä¹ ä¸­æœ‰æ—¶å°†Tensorè§†ä¸ºå¤šç»´æ•°ç»„ã€‚</p>
</blockquote>
<p><strong><code>Q5ï¼šæ–°åˆ†é…äº†yçš„å†…å­˜ï¼Œé‚£ä¹ˆä¹‹å‰yå¯¹åº”çš„å†…å­˜ä¼šè‡ªåŠ¨é‡Šæ”¾å—ï¼Ÿ</code></strong></p>
<blockquote>
<p>Pythonä¼šåœ¨ä¸éœ€è¦æ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>03-æ·±åº¦å­¦ä¹ å®‰è£…</title>
    <url>/2024/04/23/11-01-03/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="03-å®‰è£…"><a href="#03-å®‰è£…" class="headerlink" title="03-å®‰è£…"></a>03-å®‰è£…</h2><h3 id="1-å®‰è£…python"><a href="#1-å®‰è£…python" class="headerlink" title="1.å®‰è£…python"></a>1.å®‰è£…python</h3><p>é¦–å…ˆå‰ææ˜¯å®‰è£…pythonï¼Œè¿™é‡Œæ¨èå®‰è£…python3.8 è¾“å…¥å‘½ä»¤ <strong><em>sudo apt install python3.8</em></strong> å³å¯</p>
<h3 id="2-å®‰è£…Miniconda-Anaconda"><a href="#2-å®‰è£…Miniconda-Anaconda" class="headerlink" title="2.å®‰è£…Miniconda/Anaconda"></a>2.å®‰è£…Miniconda/Anaconda</h3><ul>
<li><p>ç„¶åç¬¬äºŒæ­¥ï¼Œå®‰è£… Minicondaï¼ˆå¦‚æœå·²ç»å®‰è£…condaæˆ–è€…Minicondaï¼Œåˆ™å¯ä»¥è·³è¿‡è¯¥æ­¥éª¤)ã€‚</p>
<h4 id="2-1-å®‰è£…Miniconda"><a href="#2-1-å®‰è£…Miniconda" class="headerlink" title="2.1 å®‰è£…Miniconda"></a>2.1 å®‰è£…Miniconda</h4><ul>
<li>å®‰è£…MInicondaçš„å¥½å¤„æ˜¯å¯ä»¥åˆ›å»ºå¾ˆå¤šè™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸”ä¸åŒç¯å¢ƒä¹‹é—´äº’ç›¸ä¸ä¼šæœ‰ä¾èµ–å…³ç³»ï¼Œå¯¹æ—¥åçš„é¡¹ç›®æœ‰å¸®åŠ©ï¼Œå¦‚æœåªæƒ³åœ¨æœ¬åœ°å®‰è£…çš„è¯ï¼Œä¸è£…Minicondaåªä½¿ç”¨pipå³å¯ï¼Œç¬¬äºŒæ­¥å¯ä»¥è·³è¿‡ã€‚</li>
<li>å¦‚æœæ˜¯Windowsç³»ç»Ÿï¼Œè¾“å…¥å‘½ä»¤ <strong><em>wget <a href="https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-Windows-x86_64.exe">https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-Windows-x86_64.exe</a></em></strong></li>
<li>å¦‚æœæ˜¯macOSï¼Œè¾“å…¥å‘½ä»¤ <strong><em>wget <a href="https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-MacOSX-x86_64.sh">https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-MacOSX-x86_64.sh</a></em></strong> ä¹‹åè¦è¾“å…¥å‘½ä»¤ <strong><em>sh Miniconda3-py38_4.10.3-MacOSX-x86_64.sh -b</em></strong></li>
<li>å¦‚æœæ˜¯Linuxç³»ç»Ÿï¼Œè¾“å…¥å‘½ä»¤ <strong><em>wget <a href="https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-Linux-x86_64.sh">https://repo.anaconda.com/miniconda/Miniconda3-py38_4.10.3-Linux-x86_64.sh</a></em></strong> ä¹‹åè¾“å…¥å‘½ä»¤ <strong><em>sh Miniconda3-py38_4.10.3-Linux-x86_64.sh -b</em></strong></li>
<li>ä»¥ä¸Šéƒ½æ˜¯åŸºäºpython3.8ç‰ˆæœ¬ï¼Œå¯¹äºå…¶ä»–ç‰ˆæœ¬ï¼Œå¯ä»¥è®¿é—® <strong><em><a href="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a></em></strong> ï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬å³å¯ã€‚</li>
</ul>
<h4 id="2-2-Minicondaç¯å¢ƒæ“ä½œ"><a href="#2-2-Minicondaç¯å¢ƒæ“ä½œ" class="headerlink" title="2.2 Minicondaç¯å¢ƒæ“ä½œ"></a>2.2 Minicondaç¯å¢ƒæ“ä½œ</h4><ul>
<li>å¯¹äºç¬¬ä¸€æ¬¡å®‰è£…Minicondaçš„ï¼Œè¦åˆå§‹åŒ–ç»ˆç«¯shellï¼Œè¾“å…¥å‘½ä»¤ <strong><em>~/miniconda3/bin/conda init</em></strong></li>
<li>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <strong><em>conda create â€”name d2l python=3.8 -y</em></strong> æ¥åˆ›å»ºä¸€ä¸ªåä¸ºxxxçš„ç¯å¢ƒï¼Œè¿™é‡Œå‘½åä¸ºd2l</li>
<li>æ‰“å¼€xxxç¯å¢ƒå‘½ä»¤: <strong><em>conda activate xxx</em></strong> ï¼›å…³é—­å‘½ä»¤ï¼š<strong><em>conda deactivate xxx</em></strong>ã€‚å¯¹äºåŸºç¡€condaç¯å¢ƒä¸ç”¨æ·»åŠ å</li>
</ul>
</li>
</ul>
<h3 id="3-å®‰è£…Pytorch-d2l-jupyteråŒ…"><a href="#3-å®‰è£…Pytorch-d2l-jupyteråŒ…" class="headerlink" title="3.å®‰è£…Pytorch, d2l, jupyteråŒ…"></a>3.å®‰è£…Pytorch, d2l, jupyteråŒ…</h3><ul>
<li><p>ç¬¬ä¸‰æ­¥ï¼Œå®‰è£…æ·±åº¦å­¦ä¹ æ¡†æ¶å’Œ<code>d2l</code>è½¯ä»¶åŒ…</p>
<p>åœ¨å®‰è£…æ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹å‰ï¼Œè¯·å…ˆæ£€æŸ¥ä½ çš„è®¡ç®—æœºä¸Šæ˜¯å¦æœ‰å¯ç”¨çš„GPUï¼ˆä¸ºç¬”è®°æœ¬ç”µè„‘ä¸Šæ˜¾ç¤ºå™¨æä¾›è¾“å‡ºçš„GPUä¸ç®—ï¼‰ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥æŸ¥çœ‹è®¡ç®—æœºæ˜¯å¦è£…æœ‰NVIDIA GPUå¹¶å·²å®‰è£…<a href="https://developer.nvidia.com/cuda-downloads">CUDA</a>ã€‚ å¦‚æœä½ çš„æœºå™¨æ²¡æœ‰ä»»ä½•GPUï¼Œæ²¡æœ‰å¿…è¦æ‹…å¿ƒï¼Œå› ä¸ºä½ çš„CPUåœ¨å‰å‡ ç« å®Œå…¨å¤Ÿç”¨ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æµç•…åœ°å­¦ä¹ å…¨éƒ¨ç« èŠ‚ï¼Œè¯·ææ—©è·å–GPUå¹¶ä¸”å®‰è£…æ·±åº¦å­¦ä¹ æ¡†æ¶çš„GPUç‰ˆæœ¬ã€‚</p>
<ul>
<li><p>ä½ å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å®‰è£…PyTorchçš„CPUæˆ–GPUç‰ˆæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install torch==1.8.1</span><br><span class="line">pip install torchvision==0.9.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹Ÿå¯ä»¥è®¿é—®å®˜ç½‘ <strong><em><a href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a></em></strong> é€‰æ‹©é€‚åˆè‡ªå·±ç”µè„‘pytorchç‰ˆæœ¬ä¸‹è½½!</p>
</li>
<li>
</li>
<li><p>æœ¬è¯¾ç¨‹çš„jupyter notebookä»£ç è¯¦è§ <strong><em><a href="https://zh-v2.d2l.ai/d2l-zh.zip">https://zh-v2.d2l.ai/d2l-zh.zip</a></em></strong></p>
</li>
<li><p>ä¸‹è½½jupyter notebook ï¼šè¾“å…¥å‘½ä»¤ <strong><em>pip install jupyter notebook</em></strong> ï¼ˆè‹¥pipå¤±çµå¯ä»¥å°è¯•pip3ï¼‰ï¼Œè¾“å…¥å¯†å‘½ä»¤ <strong><em>jupyter notebook</em></strong> å³å¯æ‰“å¼€ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a>4. æ€»ç»“</h3><ul>
<li>æœ¬èŠ‚ä¸»è¦ä»‹ç»<strong>å®‰è£…Miniconda</strong>ã€<strong>CPUç¯å¢ƒä¸‹çš„Pytorch</strong>å’Œå…¶å®ƒè¯¾ç¨‹æ‰€éœ€<strong>è½¯ä»¶åŒ…</strong>(d2l, jupyter)ã€‚å¯¹äºå‰é¢å‡ èŠ‚æ¥è¯´ï¼ŒCPUå·²ç»å¤Ÿç”¨äº†ã€‚<ul>
<li>å¦‚æœæ‚¨<strong>å·²ç»å®‰è£…</strong>äº†Miniconda/Anaconda, Pytorchæ¡†æ¶å’Œjupyterè®°äº‹æœ¬, æ‚¨åªéœ€å†å®‰è£…<strong>d2låŒ…</strong>ï¼Œå°±å¯ä»¥è·³è¿‡æœ¬èŠ‚è§†é¢‘äº†<strong>å¼€å¯æ·±åº¦å­¦ä¹ ä¹‹æ—…</strong>äº†; å¦‚æœå¸Œæœ›åç»­ç« èŠ‚åœ¨<strong>GPUä¸‹è·‘æ·±åº¦å­¦ä¹ </strong>, å¯ä»¥<strong>æ–°å»ºç¯å¢ƒ</strong>å®‰è£…<strong>CUDAç‰ˆæœ¬çš„Pytorch</strong>ã€‚</li>
<li>å¦‚æœéœ€è¦åœ¨Windowsä¸‹<strong>å®‰è£…CUDAå’ŒPytorch</strong>(cudaç‰ˆæœ¬)ï¼Œç”¨<strong>æœ¬åœ°GPUè·‘æ·±åº¦å­¦ä¹ </strong>ï¼Œå¯ä»¥å‚è€ƒææ²è€å¸ˆ<a href="https://www.zhihu.com/zvideo/1363284223420436480">Windowsä¸‹å®‰è£…CUDAå’ŒPytorchè·‘æ·±åº¦å­¦ä¹ </a>ï¼Œå¦‚æœç½‘æ…¢æ€»å¤±è´¥çš„åŒå­¦å¯ä»¥å‚è€ƒ<a href="https://www.zhihu.com/question/425647129/answer/2278290137">cuda11.0å¦‚ä½•å®‰è£…pytorchï¼Ÿ - Glenn1Q84çš„å›ç­” - çŸ¥ä¹</a>ã€‚å½“ç„¶ï¼Œå¦‚æœä¸æ–¹ä¾¿åœ¨æœ¬åœ°è¿›è¡Œé…ç½®(å¦‚æ— GPU, GPUæ˜¾å­˜è¿‡ä½ç­‰)ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©<a href="https://colab.research.google.com/">Colab</a>(éœ€è¦ç§‘å­¦ä¸Šç½‘)ï¼Œæˆ–å…¶å®ƒ<strong>äº‘æœåŠ¡å™¨</strong>GPUè·‘æ·±åº¦å­¦ä¹ ã€‚</li>
<li>å¦‚æœpipå®‰è£…æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ç”¨é•œåƒæºå®‰è£…ï¼š<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install torch torchvision -i http://mirrors.aliyun.com/pypi/simple/  --trusted-host mirrors.aliyun.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>å¦‚æœå®‰è£…æ—¶ç»å¸¸æŠ¥é”™, å¯ä»¥å‚è€ƒè¯¾ç¨‹è¯„è®ºåŒºéƒ¨åˆ†ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>02-æ·±åº¦å­¦ä¹ ä»‹ç»</title>
    <url>/2024/04/23/11-01-02/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="02-æ·±åº¦å­¦ä¹ ä»‹ç»"><a href="#02-æ·±åº¦å­¦ä¹ ä»‹ç»" class="headerlink" title="02-æ·±åº¦å­¦ä¹ ä»‹ç»"></a>02-æ·±åº¦å­¦ä¹ ä»‹ç»</h2><h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h3><h4 id="1-1-AIåœ°å›¾"><a href="#1-1-AIåœ°å›¾" class="headerlink" title="1.1 AIåœ°å›¾"></a>1.1 AIåœ°å›¾</h4><p>é¦–å…ˆç”»ä¸€ä¸ªç®€å•çš„äººå·¥æ™ºèƒ½åœ°å›¾ï¼š</p>
<img src="/2024/04/23/11-01-02/02-01.png" class>
<ul>
<li><p>xè½´è¡¨ç¤ºä¸åŒçš„æ¨¡å¼oræ–¹æ³•ï¼šæœ€æ—©çš„æ˜¯ç¬¦å·å­¦ï¼Œæ¥ä¸‹æ¥æ˜¯æ¦‚ç‡æ¨¡å‹ï¼Œä¹‹åæ˜¯æœºå™¨å­¦ä¹ </p>
</li>
<li><p>yè½´è¡¨ç¤ºå¯ä»¥è¾¾åˆ°çš„å±‚æ¬¡ï¼šç”±åº•éƒ¨å‘ä¸Šä¾æ¬¡æ˜¯</p>
<blockquote>
<p>æ„ŸçŸ¥ï¼šäº†è§£æ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚èƒ½å¤Ÿå¯ä»¥çœ‹åˆ°ç‰©ä½“ï¼Œå¦‚é¢å‰çš„ä¸€å—å±å¹•</p>
<p>æ¨ç†ï¼šåŸºäºæ„ŸçŸ¥åˆ°çš„ç°è±¡ï¼Œæƒ³è±¡æˆ–æ¨æµ‹æœªæ¥ä¼šå‘ç”Ÿä»€ä¹ˆ</p>
<p>çŸ¥è¯†ï¼šæ ¹æ®çœ‹åˆ°çš„æ•°æ®æˆ–è€…ç°è±¡ï¼Œå½¢æˆè‡ªå·±çš„çŸ¥è¯†</p>
<p>è§„åˆ’ï¼šæ ¹æ®å­¦ä¹ åˆ°çš„çŸ¥è¯†ï¼Œåšå‡ºé•¿è¿œçš„è§„åˆ’</p>
</blockquote>
</li>
</ul>
<h4 id="1-2-AIåœ°å›¾è§£è¯»"><a href="#1-2-AIåœ°å›¾è§£è¯»" class="headerlink" title="1.2 AIåœ°å›¾è§£è¯»"></a>1.2 AIåœ°å›¾è§£è¯»</h4><ul>
<li><p>é—®é¢˜é¢†åŸŸçš„ä¸€ä¸ªç®€å•åˆ†ç±»</p>
<ul>
<li><p><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼š</p>
<ul>
<li>åœç•™åœ¨æ¯”è¾ƒç®€å•çš„<strong>æ„ŸçŸ¥</strong>å±‚é¢ï¼Œæ¯”å¦‚è‡ªç„¶è¯­è¨€å¤„ç†ç”¨çš„æ¯”è¾ƒå¤šçš„æœºå™¨ç¿»è¯‘ï¼Œç»™ä¸€å¥ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡ï¼Œå¾ˆå¤šæ—¶å€™æ˜¯äººçš„æ½œæ„è¯†é‡Œé¢å¤§è„‘æ„ŸçŸ¥çš„ä¸€ä¸ªé—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œäººå¯ä»¥å‡ ç§’é’Ÿå†…ååº”è¿‡æ¥çš„ä¸œè¥¿ï¼Œå±äºæ„ŸçŸ¥èŒƒå›´ã€‚</li>
<li>è‡ªç„¶è¯­è¨€å¤„ç†æœ€æ—©ä½¿ç”¨çš„æ–¹æ³•æ˜¯<strong>ç¬¦å·å­¦</strong>ï¼Œç”±äºè¯­è¨€å…·æœ‰ç¬¦å·æ€§ï¼›ä¹‹åä¸€æ®µæ—¶é—´æ¯”è¾ƒæµè¡Œçš„æœ‰<strong>æ¦‚ç‡æ¨¡å‹</strong>ï¼Œä»¥åŠç°åœ¨ä¹Ÿç”¨çš„æ¯”è¾ƒå¤šçš„<strong>æœºå™¨å­¦ä¹ </strong>ã€‚</li>
</ul>
</li>
<li><p><strong>è®¡ç®—æœºè§†è§‰</strong>ï¼š</p>
<ul>
<li>åœ¨ç®€å•çš„æ„ŸçŸ¥å±‚æ¬¡ä¹‹ä¸Šï¼Œå¯ä»¥å¯¹å›¾ç‰‡åšä¸€äº›<strong>æ¨ç†</strong>ã€‚ </li>
<li>å›¾ç‰‡é‡Œéƒ½æ˜¯ä¸€äº›åƒç´ ï¼Œå¾ˆéš¾ç”¨ç¬¦å·å­¦è§£é‡Šï¼Œæ‰€ä»¥ä¸€èˆ¬é‡‡ç”¨<strong>æ¦‚ç‡æ¨¡å‹</strong>å’Œ<strong>æœºå™¨å­¦ä¹ </strong>ã€‚</li>
</ul>
</li>
<li><p><strong>æ·±åº¦å­¦ä¹ </strong></p>
<ul>
<li>æœºå™¨å­¦ä¹ çš„ä¸€ç§ï¼Œæ›´æ·±å±‚çš„ç¥ç»ç½‘ç»œã€‚</li>
<li>å¯ä»¥åšè®¡ç®—æœºè§†è§‰ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼Œå¼ºåŒ–å­¦ä¹ ç­‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>è¿‡å»å…«å¹´æœ€çƒ­çš„æ–¹å‘ï¼Œä¹Ÿæ˜¯æœ¬è¯¾ç¨‹å…³å¿ƒçš„é‡ç‚¹ï¼š</p>
<ul>
<li>æ·±åº¦å­¦ä¹ +è®¡ç®—æœºè§†è§‰ / è‡ªç„¶è¯­è¨€å¤„ç†</li>
</ul>
</li>
</ul>
<p>æœ¬èŠ‚è¯¾åªå…³æ³¨AIä¸­çš„ä¸€å°éƒ¨åˆ†é¢†åŸŸï¼Œå³æ·±åº¦å­¦ä¹ èƒŒæ™¯ä¸‹çš„è§†è§‰å’Œè‡ªç„¶è¯­è¨€å¤„ç†ç›¸å…³çš„åŸºç¡€åº”ç”¨ã€‚</p>
<hr>
<h3 id="2-æ·±åº¦å­¦ä¹ çš„åº”ç”¨"><a href="#2-æ·±åº¦å­¦ä¹ çš„åº”ç”¨" class="headerlink" title="2. æ·±åº¦å­¦ä¹ çš„åº”ç”¨"></a>2. æ·±åº¦å­¦ä¹ çš„åº”ç”¨</h3><h4 id="2-1-å›¾ç‰‡åˆ†ç±»"><a href="#2-1-å›¾ç‰‡åˆ†ç±»" class="headerlink" title="2.1 å›¾ç‰‡åˆ†ç±»"></a>2.1 å›¾ç‰‡åˆ†ç±»</h4><p>æ·±åº¦å­¦ä¹ æœ€æ—©æ˜¯åœ¨å›¾ç‰‡åˆ†ç±»ä¸Šæœ‰æ¯”è¾ƒå¤§çš„çªç ´ï¼ŒImageNetæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å›¾ç‰‡åˆ†ç±»æ•°æ®é›†ï¼Œ</p>
<img src="/2024/04/23/11-01-02/02-02.png" class>
<p><code>xè½´</code>ï¼šå¹´ä»½      <code>yè½´</code>ï¼šé”™è¯¯ç‡     <code>åœ†ç‚¹</code>ï¼šè¡¨ç¤ºæŸå¹´ä»½æŸç ”ç©¶å·¥ä½œ/paperçš„é”™è¯¯ç‡  <a href="https://image-net.org/">IMAGENET</a>   <a href="https://qz.com/1034972/the-data-that-changed-the-direction-of-ai-research-and-possibly-the-world/">æ•°æ®æ¥æº</a></p>
<blockquote>
<p>åœ¨2010å¹´æ—¶ï¼Œé”™è¯¯ç‡æ¯”è¾ƒé«˜ï¼Œæœ€å¥½çš„å·¥ä½œé”™è¯¯ç‡ä¹Ÿåœ¨26%ã€%27å·¦å³ï¼›</p>
<p>åœ¨2012å¹´ï¼Œæœ‰å›¢é˜Ÿé¦–æ¬¡ä½¿ç”¨æ·±åº¦å­¦ä¹ å°†é”™è¯¯ç‡é™åˆ°25%ä»¥ä¸‹ï¼›</p>
<p>åœ¨æ¥ä¸‹æ¥å‡ å¹´ä¸­ï¼Œä½¿ç”¨æ·±åº¦å­¦ä¹ å¯ä»¥å°†è¯¯å·®é™åˆ°å¾ˆä½ã€‚</p>
<p>2017å¹´åŸºæœ¬æ‰€æœ‰çš„å›¢é˜Ÿå¯ä»¥å°†é”™è¯¯ç‡é™åˆ°5%ä»¥ä¸‹ï¼ŒåŸºæœ¬å¯ä»¥è¾¾åˆ°äººç±»è¯†åˆ«å›¾ç‰‡çš„ç²¾åº¦ã€‚</p>
</blockquote>
<h4 id="2-2-ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰²"><a href="#2-2-ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰²" class="headerlink" title="2.2 ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰²"></a>2.2 ç‰©ä½“æ£€æµ‹å’Œåˆ†å‰²</h4><p>å½“ä½ ä¸ä»…ä»…æƒ³çŸ¥é“å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆå†…å®¹ï¼Œè¿˜æƒ³çŸ¥é“ç‰©ä½“æ˜¯ä»€ä¹ˆï¼Œåœ¨ä»€ä¹ˆä½ç½®ï¼Œè¿™å°±æ˜¯<strong>ç‰©ä½“æ£€æµ‹</strong>ã€‚<strong>ç‰©ä½“åˆ†å‰²</strong>æ˜¯æŒ‡æ¯ä¸€ä¸ªåƒç´ å±äºä»€ä¹ˆï¼Œå±äºé£æœºè¿˜æ˜¯å±äºäºº(å¦‚ä¸‹å›¾)ï¼Œè¿™æ˜¯å›¾åƒé¢†åŸŸæ›´æ·±å±‚æ¬¡çš„ä¸€ä¸ªåº”ç”¨ã€‚<br><img src="/2024/04/23/11-01-02/02-03.png" class></p>
<h4 id="2-3-æ ·å¼è¿ç§»"><a href="#2-3-æ ·å¼è¿ç§»" class="headerlink" title="2.3 æ ·å¼è¿ç§»"></a>2.3 æ ·å¼è¿ç§»</h4><p>åŸå›¾ç‰‡+æƒ³è¦è¿ç§»çš„é£æ ¼=é£æ ¼è¿ç§»åçš„å›¾ç‰‡ï¼ŒåŠ äº†ä¸€ä¸ªå¯ä»¥æ ¹æ®è¾“å…¥æ”¹å˜å›¾ç‰‡é£æ ¼çš„æ»¤é•œã€‚<br><img src="/2024/04/23/11-01-02/02-04.png" class></p>
<h4 id="2-4-äººè„¸åˆæˆ"><a href="#2-4-äººè„¸åˆæˆ" class="headerlink" title="2.4 äººè„¸åˆæˆ"></a>2.4 äººè„¸åˆæˆ</h4><p>ä¸‹å›¾ä¸­æ‰€æœ‰çš„äººè„¸éƒ½æ˜¯å‡çš„ï¼Œç”±æœºå™¨åˆæˆçš„å›¾ç‰‡ï¼š<br><img src="/2024/04/23/11-01-02/02-05.png" class></p>
<h4 id="2-5-æ–‡å­—ç”Ÿæˆå›¾ç‰‡"><a href="#2-5-æ–‡å­—ç”Ÿæˆå›¾ç‰‡" class="headerlink" title="2.5 æ–‡å­—ç”Ÿæˆå›¾ç‰‡"></a>2.5 æ–‡å­—ç”Ÿæˆå›¾ç‰‡</h4><ol>
<li><p>æè¿°ï¼šä¸€ä¸ªèƒ¡èåœå®å®é›ç‹—çš„å›¾ç‰‡ã€‚</p>
</li>
<li><p>æè¿°ï¼šä¸€ä¸ªç‰›æ²¹æœå½¢çŠ¶çš„é èƒŒæ¤…ã€‚</p>
<img src="/2024/04/23/11-01-02/02-06.png" class>
</li>
</ol>
<h4 id="2-6-æ–‡å­—ç”Ÿæˆ"><a href="#2-6-æ–‡å­—ç”Ÿæˆ" class="headerlink" title="2.6 æ–‡å­—ç”Ÿæˆ"></a>2.6 æ–‡å­—ç”Ÿæˆ</h4><blockquote>
<p>ç¤ºä¾‹1ï¼š</p>
<p>é—®é¢˜è¾“å…¥ï¼šå¦‚ä½•ä¸¾è¡Œä¸€ä¸ªæœ‰æ•ˆçš„è‘£äº‹ä¼šè®® </p>
<p>æœºå™¨è¾“å‡ºï¼šç”Ÿæˆç¯‡ç« å›ç­”</p>
<p>ç¤ºä¾‹2ï¼š</p>
<p>è¾“å…¥ï¼šå°†Studentsä»Schoolè¿™ä¸ªtableä¸­é€‰å‡ºæ¥</p>
<p>è¾“å‡ºï¼šç”¨äºæŸ¥è¯¢çš„SQLè¯­è¨€</p>
</blockquote>
<img src="/2024/04/23/11-01-02/02-07.png" class>
<h4 id="2-7-æ— äººé©¾é©¶"><a href="#2-7-æ— äººé©¾é©¶" class="headerlink" title="2.7 æ— äººé©¾é©¶"></a>2.7 æ— äººé©¾é©¶</h4><p>è¯†åˆ«è½¦ã€é“è·¯ä»¥åŠå„ç§éšœç¢ç‰©ç­‰ï¼Œå¹¶è§„åˆ’è·¯çº¿ã€‚</p>
<img src="/2024/04/23/11-01-02/02-08.png" class>
<h4 id="2-8-æ¡ˆä¾‹ç ”ç©¶â€”â€”å¹¿å‘Šç‚¹å‡»"><a href="#2-8-æ¡ˆä¾‹ç ”ç©¶â€”â€”å¹¿å‘Šç‚¹å‡»" class="headerlink" title="2.8 æ¡ˆä¾‹ç ”ç©¶â€”â€”å¹¿å‘Šç‚¹å‡»"></a>2.8 æ¡ˆä¾‹ç ”ç©¶â€”â€”å¹¿å‘Šç‚¹å‡»</h4><blockquote>
<p>ç”¨æˆ·è¾“å…¥æƒ³è¦æœç´¢çš„å¹¿å‘Šå†…å®¹ï¼Œå¦‚ï¼šbaby toy</p>
<p>ç½‘ç«™å‘ˆç°æœ€å…·æœ‰æ•ˆç›Šçš„å¹¿å‘Š(ç”¨æˆ·æ›´å¯èƒ½ç‚¹å‡»ï¼Œä¸”ç»™ç½‘ç«™å¸¦æ¥æ›´é«˜ç»æµæ•ˆç›Š)</p>
</blockquote>
<img src="/2024/04/23/11-01-02/02-09.png" class>
<h5 id="2-8-1-æ­¥éª¤"><a href="#2-8-1-æ­¥éª¤" class="headerlink" title="2.8.1 æ­¥éª¤"></a>2.8.1 æ­¥éª¤</h5><img src="/2024/04/23/11-01-02/02-10.png" class>
<ol>
<li>è§¦å‘ï¼šç”¨æˆ·è¾“å…¥å…³é”®è¯ï¼Œæœºå™¨å…ˆæ‰¾åˆ°ä¸€äº›ç›¸å…³çš„å¹¿å‘Š</li>
<li>ç‚¹å‡»ç‡é¢„ä¼°ï¼š   åˆ©ç”¨æœºå™¨å­¦ä¹ çš„æ¨¡å‹é¢„æµ‹ç”¨æˆ·å¯¹å¹¿å‘Šçš„ç‚¹å‡»ç‡</li>
<li>æ’åºï¼šåˆ©ç”¨ç‚¹å‡»ç‡xç«ä»·çš„ç»“æœè¿›è¡Œæ’åºå‘ˆç°å¹¿å‘Šï¼Œæ’åé«˜çš„åœ¨å‰é¢å‘ˆç°</li>
</ol>
<h5 id="2-8-2-æ¨¡å‹çš„é¢„æµ‹ä¸è®­ç»ƒ"><a href="#2-8-2-æ¨¡å‹çš„é¢„æµ‹ä¸è®­ç»ƒ" class="headerlink" title="2.8.2 æ¨¡å‹çš„é¢„æµ‹ä¸è®­ç»ƒ"></a>2.8.2 æ¨¡å‹çš„<mark>é¢„æµ‹ä¸è®­ç»ƒ</mark></h5><p>ä¸Šè¿°æ­¥éª¤çš„ç¬¬äºŒæ­¥ä¸­æ¶‰åŠåˆ°æ¨¡å‹é¢„æµ‹ç”¨æˆ·çš„ç‚¹å‡»ç‡ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š<br><img src="/2024/04/23/11-01-02/02-11.png" class></p>
<p><strong>æ¨¡å‹é¢„æµ‹</strong></p>
<p>æ•°æ® (å¾…é¢„æµ‹å¹¿å‘Š) â†’ ç‰¹å¾æå– â†’ æ¨¡å‹ â†’ ç‚¹å‡»ç‡é¢„æµ‹</p>
<p><strong>æ¨¡å‹è®­ç»ƒ</strong></p>
<p>è®­ç»ƒæ•°æ® (è¿‡å»å¹¿å‘Šå±•ç°å’Œç”¨æˆ·ç‚¹å‡») â†’ ç‰¹å¾(X)å’Œç”¨æˆ·ç‚¹å‡»(Y) â†’ å–‚ç»™æ¨¡å‹è®­ç»ƒ</p>
<h5 id="2-8-3-å®Œæ•´çš„æ•…äº‹"><a href="#2-8-3-å®Œæ•´çš„æ•…äº‹" class="headerlink" title="2.8.3 å®Œæ•´çš„æ•…äº‹"></a>2.8.3 å®Œæ•´çš„æ•…äº‹</h5><img src="/2024/04/23/11-01-02/02-12.png" class>
<p><strong><font color="Navy">é¢†åŸŸä¸“å®¶</font></strong>ï¼šå¯¹ç‰¹å®šçš„åº”ç”¨æœ‰æ¯”è¾ƒæ·±çš„äº†è§£ï¼Œæ ¹æ®å±•ç°æƒ…å†µä»¥åŠç”¨æˆ·ç‚¹å‡»åˆ†æç”¨æˆ·çš„è¡Œä¸ºï¼ŒæœŸæœ›æ¨¡å‹å¯¹åº”ç”¨åšä¸€äº›æ‹Ÿåˆï¼Œç¬¦åˆçœŸå®æ•°æ®å’Œåˆ†ææƒ…å†µã€‚</p>
<p><strong><font color="Navy">æ•°æ®ç§‘å­¦å®¶</font></strong>ï¼šåˆ©ç”¨æ•°æ®è®­ç»ƒæ¨¡å‹ï¼Œè®­ç»ƒåæ¨¡å‹æŠ•å…¥ä½¿ç”¨ï¼Œè¿›è¡Œé¢„æµ‹å‘ˆç°ã€‚</p>
<p><strong><font color="Navy">AIä¸“å®¶</font></strong>ï¼šåº”ç”¨è§„æ¨¡æ‰©å¤§ï¼Œç”¨æˆ·æ•°é‡å¢å¤šï¼Œæ¨¡å‹æ›´åŠ å¤æ‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æå‡ç²¾åº¦å’Œæ€§èƒ½ã€‚</p>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><ul>
<li>é€šè¿‡AIåœ°å›¾ï¼Œè¯¾ç¨‹ä»çºµå‘å’Œæ¨ªå‘ä¸¤ä¸ªç»´åº¦è§£è¯»äº†æ·±åº¦å­¦ä¹ åœ¨é‡è¦é—®é¢˜é¢†åŸŸçš„æ¦‚å†µã€‚</li>
<li>ä»‹ç»äº†æ·±åº¦å­¦ä¹ åœ¨CVå’ŒNLPæ–¹é¢çš„ä¸€äº›åº”ç”¨</li>
<li>ç®€å•åˆ†æå¹¶ç ”ç©¶äº†æ·±åº¦å­¦ä¹ å®ä¾‹â€”â€”å¹¿å‘Šç‚¹å‡»ã€‚</li>
</ul>
<hr>
<h3 id="4-æ·±åº¦å­¦ä¹ ä»‹ç»-Q-amp-A"><a href="#4-æ·±åº¦å­¦ä¹ ä»‹ç»-Q-amp-A" class="headerlink" title="4. æ·±åº¦å­¦ä¹ ä»‹ç» Q&amp;A"></a>4. æ·±åº¦å­¦ä¹ ä»‹ç» Q&amp;A</h3><p>â—† <strong>Q1ï¼šæœºå™¨å­¦ä¹ çš„å¯è§£é‡Šæ€§ï¼Ÿæœºå™¨å­¦ä¹ åœ¨å›¾ç‰‡åˆ†å‰²ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Œç›®å‰æœ‰æ²¡æœ‰å®šè®ºï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A1</font>ï¼šæ¨¡å‹çš„å¯è§£é‡Šæ€§ä¸ç®¡æ˜¯æ·±åº¦å­¦ä¹ è¿˜æ˜¯æœºå™¨å­¦ä¹ éƒ½æ˜¯éå¸¸å—äººå…³æ³¨çš„ç‚¹ï¼Œå› ä¸ºè¿™åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œè®­ç»ƒäº†ä¸€ä¸ªæ¨¡å‹ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆworkæˆ–è€…ä¸ºä»€ä¹ˆä¸workã€‚å¯¹äºæ·±åº¦å­¦ä¹ æ¥è¯´ï¼Œæ¨¡å‹çš„<strong>å¯è§£é‡Šæ€§</strong>æ˜¯åšå¾—ä¸å¤Ÿå¥½çš„ï¼›å¯¹äºæœºå™¨å­¦ä¹ æ¥è¯´ï¼Œæˆ‘ä»¬å¯¹ç®€å•çš„æ¨¡å‹å¯ä»¥ç†è§£ï¼Œä½†å½“æ¨¡å‹å˜å¾—å¾ˆæ·±çš„æ—¶å€™ï¼Œå‡ ä¹åªèƒ½æ”¾å¼ƒç†è§£çš„è¿‡ç¨‹ã€‚</p>
<p>ç‰¹åˆ«åœ°ï¼Œ<strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆ</strong>å’Œ<strong>å¯è§£é‡Šæ€§</strong>æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œæ‰€æœ‰æå‡ºçš„æ–°æ¨¡å‹éƒ½ä¼šè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Œå¯è§£é‡Šæ€§æ˜¯è¯´äººæ˜¯ä¸æ˜¯èƒ½ç†è§£è¿™ä¸ªæ¨¡å‹ï¼Œç†è§£æ¨¡å‹ä¸ºä»€ä¹ˆå·¥ä½œæ˜¯ä¸€ä¸ªæ–¹é¢ï¼Œè¿˜éœ€è¦çŸ¥é“å®ƒä»€ä¹ˆæ—¶å€™ä¸å·¥ä½œä»¥åŠåœ¨ä»€ä¹ˆåœ°æ–¹ä¼šå‡ºç°åå·®ã€‚</p>
<p>ç›®å‰æ¥è¯´ï¼Œä¸€ä¸ªæ¨¡å‹åœ¨ä¸€ä¸ªåº”ç”¨/é¢†åŸŸä¸Šä¸ºä»€ä¹ˆå¯ä»¥å·¥ä½œï¼Œä¼šæœ‰ä¸€äº›è§£é‡Šï¼Œæˆ‘ä»¬ä¼šåœ¨è§£é‡Šä¸åŒçš„æ¨¡å‹çš„æ—¶å€™ç»™å¤§å®¶è¿›è¡Œè®²è§£ã€‚</p>
</blockquote>
<p>â—† <strong>Q2ï¼šé¢†åŸŸä¸“å®¶æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A2</font>ï¼šä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘è¦åšå†œä¸šä¸Šçš„ç‰©ä½“è¯†åˆ«ï¼Œæˆ‘ç§äº†ä¸€æ£µæ ‘ï¼Œæƒ³è¦çœ‹ä»Šå¹´çš„æ”¶æˆæ€ä¹ˆæ ·ï¼Œæˆ‘æœ‰å¾ˆå¤šå¾ˆå¤šåœŸåœ°ï¼Œç”¨äººå»ä¸€ä¸ªä¸ªæŸ¥çœ‹å¾ˆè´¹åŠ›ï¼Œäºæ˜¯æˆ‘ç”¨ä¸€ä¸ªæ— äººæœºï¼Œå°†å†œä½œç‰©çš„æƒ…å†µæ‹ä¸‹æ¥ï¼Œå‡è®¾å¾—åˆ°äº†æ ‘çš„ä¸€äº›å›¾ç‰‡ï¼Œè€Œæ•°æ®ç§‘å­¦å®¶ä¸çŸ¥é“å†œä½œç‰©ä»€ä¹ˆæ ·çš„æƒ…å†µæ˜¯å¥½ï¼Œä»€ä¹ˆæ ·æ˜¯åï¼Œäºæ˜¯<strong>é¢†åŸŸä¸“å®¶è¿›è¡Œè§£é‡Š</strong>ï¼Œæ¯”å¦‚å¤šå°‘å¶å­ç®—æ˜¯å¥½ï¼Œä»€ä¹ˆæ ·ä¸å¥½ã€‚åŒæ—¶<strong>æ•°æ®ç§‘å­¦å®¶</strong>å°†é¢†åŸŸä¸“å®¶çš„<strong>é—®é¢˜ç¿»è¯‘</strong>æˆæœºå™¨å­¦ä¹ èƒ½åšçš„ä»»åŠ¡ã€‚æ‰€ä»¥å¯ä»¥è®¤ä¸º<strong>é¢†åŸŸä¸“å®¶</strong>æ˜¯<strong>æéœ€æ±‚</strong>çš„äºº<strong>ç”²æ–¹</strong>ï¼Œè€Œ<strong>æ•°æ®ç§‘å­¦å®¶</strong>æ˜¯<strong>ä¹™æ–¹</strong>ã€‚</p>
</blockquote>
<p>â—† <strong>Q3ï¼šMXNetçš„GPUç‰ˆæœ¬çš„å®‰è£…å¿…é¡»è¦å¸è½½CPUç‰ˆæœ¬çš„å—ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A3</font>ï¼šæ˜¯çš„ï¼Œä½†æˆ‘ä»¬çš„è¯¾ç¨‹æ˜¯<strong>åŸºäºPytorch</strong>ï¼ŒPytorchä¼šä¸ä¸€æ ·ä¸€äº›ã€‚</p>
</blockquote>
<p>â—† <strong>Q4ï¼šæ·±åº¦å­¦ä¹ æ— æ³•ç”¨æ•°å­¦è§„èŒƒè¡¨è¿°ï¼Œåªèƒ½ç”¨ç›´è§‰ç†è§£æ˜¯å—ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A4</font>ï¼šä¸ä¸€å®šï¼Œæ·±åº¦å­¦ä¹ æ¨¡å‹å¯ä»¥ç”¨<strong>æ•°å­¦å½¢å¼è¡¨ç¤º</strong>ï¼Œæ¥ä¸‹æ¥ä¹Ÿä¼šè®²åˆ°å¾ˆå¤šæ•°å­¦çš„ä¸œè¥¿ï¼Œä½†æ˜¯è¯´å…·ä½“ç”¨æ•°å­¦è§£é‡Šå®ƒ<strong>ä¸ºä»€ä¹ˆå·¥ä½œ</strong>ï¼Œ<strong>ä¸ºä»€ä¹ˆä¸å·¥ä½œ</strong>ï¼Œè¿™ä¸ªæ˜¯ç›®å‰æˆ‘ä»¬åšçš„ä¸å¥½çš„åœ°æ–¹ã€‚</p>
</blockquote>
<p>â—† <strong>Q5ï¼šç¬¦å·å­¦å¯ä»¥å’Œæœºå™¨å­¦ä¹ èåˆèµ·æ¥å—ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A5</font>ï¼šç¡®å®æ˜¯å¯ä»¥çš„ã€‚ç›®å‰æ¥è¯´ï¼Œ<strong>ç¬¦å·å­¦</strong>åœ¨<strong>æ·±åº¦å­¦ä¹ </strong>æœ‰ä¸€äº›æ–°çš„è¿›å±•ï¼Œä»¥å‰è¯´ç¬¦å·å­¦å°±æ˜¯åšä¸€äº›ç¬¦å·ä¸Šçš„æ¨ç†ï¼Œç›®å‰<strong>æ·±åº¦å­¦ä¹ å¦‚å›¾ç¥ç»ç½‘ç»œ</strong>ï¼Œå¯ä»¥åšä¸€äº›æ¯”è¾ƒå¤æ‚çš„æ¨ç†ã€‚</p>
</blockquote>
<p>â—† <strong>Q6ï¼šæ•°æ®ç§‘å­¦å®¶å’ŒAIä¸“å®¶çš„ä¸»è¦åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A6</font>ï¼šæˆ‘è§‰å¾—æ²¡æœ‰å¤ªå¤šåŒºåˆ«ã€‚æ•°æ®ç§‘å­¦å®¶å¾ˆå¤šæ—¶å€™å…³æ³¨çš„æ˜¯ç»™ä¸€ä¸ªæ•°æ®ï¼Œèµ¶ç´§å‡ºä¸€ä¸ªæ¨¡å‹ï¼Œèƒ½å·¥ä½œå°±å¥½äº†ï¼Œ<strong>å…³æ³¨</strong>çš„æ˜¯å¦‚ä½•æŠŠé¢†åŸŸä¸“å®¶çš„ä¸€ä¸ªå®é™…çš„ä¸šåŠ¡é—®é¢˜ï¼Œå˜æˆä¸€ä¸ªæœºå™¨å­¦ä¹ èƒ½åšçš„ä»»åŠ¡ï¼Œè®­ç»ƒæˆä¸€ä¸ªè¿˜ä¸é”™çš„æ¨¡å‹ã€‚<strong>AIä¸“å®¶ä¹Ÿå¯èƒ½æ˜¯æ•°æ®ç§‘å­¦å®¶</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶ä¸ä»…è¦è®­ç»ƒå‡ºæ¥ä¸€ä¸ªæ¨¡å‹èƒ½ç”¨ï¼Œè€Œä¸”ä¼š<strong>å…³å¿ƒ</strong>å¦‚ä½•æŠŠæ¨¡å‹ç²¾åº¦åšå¾—å¾ˆé«˜ï¼Œæˆ–è€…å¯ä»¥è¯´ï¼Œ<strong>èµ„æ·±æ•°æ®ç§‘å­¦å®¶å¯ä»¥è®¤ä¸ºæ˜¯AIä¸“å®¶</strong>ã€‚</p>
<p>æ•°æ®ç§‘å­¦å®¶å¯ä»¥æœ‰<strong>ä¸¤æ¡è·¯çº¿</strong>ï¼Œä¸€ä¸ªæ˜¯<strong>ä¸æ–­å¼€æ‹“æ–°é¢†åŸŸ</strong>ï¼Œæ¯”å¦‚æœºå™¨å­¦ä¹ åœ¨å†œä¸šä¸Šçš„åº”ç”¨ï¼Œåœ¨åŒ»ç–—ä¸Šçš„åº”ç”¨ç­‰ï¼Œè¿™ä¸ªæ˜¯<strong>å¾€å¹¿çš„èµ°</strong>ï¼Œ<strong>å¾€æ·±çš„èµ°</strong>çš„è¯å¯ä»¥ç§°ä¸ºæ˜¯AIä¸“å®¶ï¼Œåœ¨æŸä¸€å—æ–¹é¢äº†è§£å¾—å¾ˆæ·±ã€‚</p>
</blockquote>
<p>â—† <strong>Q7ï¼šMACæ˜¯ä¸æ˜¯å¯ä»¥æ”¯æŒPytorchï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A7</font>ï¼šå¯ä»¥ã€‚</p>
</blockquote>
<p>â—† <strong>Q8ï¼šè¯´è‡ªç„¶è¯­è¨€å¤„ç†ä»…ä»…åœç•™åœ¨æ„ŸçŸ¥å±‚é¢ä¼¼ä¹ä¸å¤ªåˆé€‚ï¼Ÿå› ä¸ºè¯­è¨€çš„ç†è§£å’Œäº§å‡ºä¸ä»…ä»…æ˜¯æ„ŸçŸ¥ï¼Œä¹Ÿæ¶‰åŠåˆ°è¯­è¨€çŸ¥è¯†å’Œä¸–ç•ŒçŸ¥è¯†ï¼Œä¹Ÿæ¶‰åŠåˆ°è§„åˆ’ï¼Œæ¯”å¦‚æœºå™¨è§„åˆ’ä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆã€‚</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A8</font>ï¼šç¡®å®æ˜¯è¿™æ ·ï¼Œè¯­è¨€å½“ç„¶æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„è¿‡ç¨‹ï¼Œæˆ‘åªæ˜¯æƒ³è¯´ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†æˆ‘ä»¬åšå¾—è¿˜å¾ˆä¸€èˆ¬ï¼Œè™½ç„¶èƒ½åšä¸€äº›æ„ŸçŸ¥ä»¥å¤–çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰æ˜¯è¯´ï¼Œ<strong>ä¸å¦‚</strong>æ·±åº¦å­¦ä¹ ç‰¹åˆ«æœºå™¨å­¦ä¹ ï¼Œåœ¨å›¾ç‰‡ä¸Šçš„åº”ç”¨åšå¾—å¥½ä¸€äº›ã€‚å½“ç„¶AIåœ°å›¾ä¸Šä¹Ÿåªæ˜¯ä¸€ä¸ª<strong>å¤§è‡´çš„åˆ†ç±»</strong>ï¼Œå¤§å®¶ä¸ç”¨ç‰¹åˆ«çº ç»“ã€‚</p>
</blockquote>
<p>â—† <strong>Q9ï¼šè¯·é—®è€å¸ˆæœ‰è€ƒè™‘åé¢è®²ä¸€è®²å¦‚ä½•å¯»æ‰¾è‡ªå·±é¢†åŸŸçš„paperçš„ç»éªŒå—ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A9</font>ï¼šè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œå› ä¸ºå¤§å®¶å¦‚æœç°åœ¨å»è¯»paperçš„è¯ï¼Œå¯èƒ½æ¯å¤©éƒ½æœ‰ä¸€ç™¾ç¯‡paperå‡ºæ¥ï¼Œä½ æ€ä¹ˆæ ·å»æ‰¾åˆ°ä½ æƒ³è¦çš„paperï¼Œæ€»ä¸èƒ½å¤©å¤©çœ‹æœ‹å‹åœˆæ¨æ–‡ï¼Œè¿™æ ·åªèƒ½çŸ¥é“åˆ«äººè¯»è¿‡çš„paperï¼Œä¸ä¼šæœ‰è‡ªå·±<strong>ç‹¬ç‰¹çš„è§è§£</strong>ï¼Œæ€ä¹ˆæ ·æ‰¾åˆ°è‡ªå·±æ„Ÿå…´è¶£å’Œæœ‰å¯å‘æ€§çš„è®ºæ–‡ï¼Œåé¢æœ‰æœºä¼šå’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘çš„åšæ³•ã€‚</p>
</blockquote>
<p>â—† <strong>Q10ï¼šä»¥æ— äººé©¾é©¶ä¸ºä¾‹ï¼Œè¯¯åˆ¤ç‡åœ¨ä¸æ–­ä¸‹é™ï¼Œä½†è¯¯åˆ¤çš„å½±å“è¿˜æ˜¯å¾ˆä¸¥é‡çš„ï¼Œæœ‰å¯èƒ½ä»å·²æœ‰çš„åˆ¤æ–­case(æ ·ä¾‹)å¾—åˆ°ä¿®æ­£ï¼Œä»è€Œå®Œå…¨é¿å…è¿™æ ·çš„é”™è¯¯å—ï¼Ÿ</strong></p>
<blockquote>
<p><font color="MediumSeaGreen">A10</font>ï¼š<strong>æ— äººé©¾é©¶</strong>ä¸­ï¼Œä»»ä½•ä¸€æ¬¡å‡ºç°çš„é”™è¯¯ï¼Œéƒ½å¯èƒ½å¸¦æ¥æ¯ç­æ€§çš„ç¾éš¾ã€‚å¤§å®¶å¯èƒ½çœ‹åˆ°ï¼Œç‰¹æ–¯æ‹‰ä»Šå¤©æ’äº†ï¼Œæ˜å¤©åˆæ’äº†ã€‚æ‰€ä»¥è¯´ï¼Œæ— äººé©¾é©¶å¯¹äº<strong>é”™è¯¯ç‡</strong>ç¡®å®æ˜¯éå¸¸æ³¨é‡çš„ã€‚</p>
<p>æœºå™¨å­¦ä¹ åœ¨å­¦æœ¯ç•Œç°åœ¨æœ‰å¾ˆå¤šå…³äº<strong>uncertainty</strong>æˆ–è€…<strong>robustness</strong>çš„ç ”ç©¶ï¼Œå°±æ˜¯è¯´æ¨¡å‹åœ¨æ•°æ®åç§»æˆ–è€…æç«¯æƒ…å†µä¸‹ä¼šä¸ä¼šç»™å‡ºå¾ˆä¸å¥½çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬ä¸ä¼šç‰¹åˆ«æ·±å…¥å»è®²è¿™ä¸ªäº‹æƒ…ï¼Œä½†æ˜¯æ— äººé©¾é©¶è¿™ä¸€å—ç¡®å®ä¼šé€šè¿‡å¤§é‡çš„æŠ€æœ¯ï¼Œæ¯”å¦‚è¯´æŠŠä¸åŒçš„æ¨¡å‹èåˆåœ¨ä¸€èµ·ï¼Œä¸æ˜¯ä»…ä»…trainä¸€ä¸ªæ¨¡å‹ï¼Œç”¨å¤šä¸ªæ¨¡å‹æ¥åšæŠ•ç¥¨ã€‚æ±½è½¦æœ‰å¾ˆå¤šé›·è¾¾ã€æ‘„åƒå¤´ï¼Œå®ƒä¼šé€šè¿‡ä¸åŒçš„ä¼ æ„Ÿå™¨æ¥è¿›è¡Œæ¨¡å‹çš„èåˆï¼Œä»è€Œé™ä½è¯¯å·®ã€‚</p>
<p>æˆ‘ä»¬è¿™ä¸ªè¯¾ç¨‹ä¸ä¼šç‰¹åˆ«åœ°è®²ï¼Œå› ä¸ºæ¶‰åŠåˆ°è¯„ä»·æ— äººé©¾é©¶çš„ç‰¹åˆ«æŠ€æœ¯ï¼Œä½†åœ¨ç«èµ›ä¸­æˆ‘ä»¬ä¼šç»™å¤§å®¶çœ‹åˆ°å¦‚ä½•é€šè¿‡<strong>èåˆå¤šä¸ªæ¨¡å‹æå‡ç²¾åº¦</strong>çš„åšæ³•ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>01-æ·±åº¦å­¦ä¹ è¯¾ç¨‹å®‰æ’</title>
    <url>/2024/04/23/11-01-01/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="01-è¯¾ç¨‹å®‰æ’"><a href="#01-è¯¾ç¨‹å®‰æ’" class="headerlink" title="01-è¯¾ç¨‹å®‰æ’"></a>01-è¯¾ç¨‹å®‰æ’</h2><h3 id="1-è¯¾ç¨‹ç›®æ ‡"><a href="#1-è¯¾ç¨‹ç›®æ ‡" class="headerlink" title="1. è¯¾ç¨‹ç›®æ ‡"></a>1. è¯¾ç¨‹ç›®æ ‡</h3><ul>
<li>ä»‹ç»æ·±åº¦å­¦ä¹ ç»å…¸å’Œæœ€æ–°æ¨¡å‹<ul>
<li>LeNet, ResNet, LSTM, BERT, â€¦</li>
</ul>
</li>
<li>æœºå™¨å­¦ä¹ åŸºç¡€<ul>
<li>æŸå¤±å‡½æ•°ã€ç›®æ ‡å‡½æ•°ã€è¿‡æ‹Ÿåˆã€ä¼˜åŒ–</li>
</ul>
</li>
<li>å®è·µ<ul>
<li>ä½¿ç”¨Pytorchå®ç°ä»‹ç»çš„çŸ¥è¯†ç‚¹</li>
<li>åœ¨çœŸå®æ•°æ®ä¸Šä½“éªŒç®—æ³•æ•ˆæœ</li>
</ul>
</li>
</ul>
<h3 id="2-å†…å®¹"><a href="#2-å†…å®¹" class="headerlink" title="2. å†…å®¹"></a>2. å†…å®¹</h3><blockquote>
<p>æ·±åº¦å­¦ä¹ åŸºç¡€ï¼šçº¿æ€§ç¥ç»ç½‘ç»œï¼Œå¤šå±‚æ„ŸçŸ¥æœº</p>
<p>å·ç§¯ç¥ç»ç½‘ç»œï¼šLeNet, AlexNet, VGG, Inception, ResNet</p>
<p>å¾ªç¯ç¥ç»ç½‘ç»œï¼šRNNï¼ŒGRUï¼ŒLSTMï¼Œseq2seq</p>
<p>æ³¨æ„åŠ›æœºåˆ¶ï¼šAttentionï¼Œ Transformer</p>
<p>ä¼˜åŒ–ç®—æ³•ï¼šSGDï¼ŒMomentumï¼ŒAdam</p>
<p>é«˜æ€§èƒ½è®¡ç®—ï¼šå¹¶è¡Œï¼Œå¤šGPUï¼Œåˆ†å¸ƒå¼</p>
<p>è®¡ç®—æœºè§†è§‰ï¼šç›®æ ‡æ£€æµ‹ï¼Œè¯­ä¹‰åˆ†å‰²</p>
<p>è‡ªç„¶è¯­è¨€å¤„ç†ï¼šè¯åµŒå…¥ï¼ŒBERT</p>
</blockquote>
<h3 id="3-å­¦åˆ°ä»€ä¹ˆ"><a href="#3-å­¦åˆ°ä»€ä¹ˆ" class="headerlink" title="3. å­¦åˆ°ä»€ä¹ˆ"></a>3. å­¦åˆ°ä»€ä¹ˆ</h3><ul>
<li>Whatï¼šæ·±åº¦å­¦ä¹ æœ‰å“ªäº›æŠ€æœ¯ï¼Œä»¥åŠå“ªäº›æŠ€æœ¯å¯ä»¥å¸®ä½ è§£å†³é—®é¢˜</li>
<li>Howï¼šå¦‚ä½•å®ç°ï¼ˆäº§å“ or paperï¼‰å’Œè°ƒå‚ï¼ˆç²¾åº¦oré€Ÿåº¦ï¼‰</li>
<li>Whyï¼šèƒŒåçš„åŸå› ï¼ˆç›´è§‰ã€æ•°å­¦ï¼‰</li>
</ul>
<h3 id="4-åŸºæœ¬è¦æ±‚"><a href="#4-åŸºæœ¬è¦æ±‚" class="headerlink" title="4. åŸºæœ¬è¦æ±‚"></a>4. åŸºæœ¬è¦æ±‚</h3><ul>
<li><strong>AIç›¸å…³ä»ä¸šäººå‘˜</strong>ï¼ˆäº§å“ç»ç†ç­‰ï¼‰ï¼šæŒæ¡Whatï¼ŒçŸ¥é“åè¯ï¼Œèƒ½å¹²ä»€ä¹ˆ</li>
<li><strong>æ•°æ®ç§‘å­¦å®¶ã€å·¥ç¨‹å¸ˆ</strong>ï¼šæŒæ¡Whatã€Howï¼Œæ‰‹è¦å¿«ï¼Œèƒ½å‡ºæ´»</li>
<li><strong>ç ”ç©¶å‘˜ã€å­¦ç”Ÿ</strong>ï¼šæŒæ¡Whatã€Howã€Whyï¼Œé™¤äº†çŸ¥é“æœ‰ä»€ä¹ˆå’Œæ€ä¹ˆåšï¼Œè¿˜è¦çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæ€è€ƒèƒŒåçš„åŸå› ï¼Œåšå‡ºæ–°çš„çªç ´</li>
</ul>
<h3 id="5-è¯¾ç¨‹èµ„æº"><a href="#5-è¯¾ç¨‹èµ„æº" class="headerlink" title="5. è¯¾ç¨‹èµ„æº"></a>5. è¯¾ç¨‹èµ„æº</h3><ul>
<li>è¯¾ç¨‹ä¸»é¡µï¼š<a href="https://courses.d2l.ai/zh-v2/">https://courses.d2l.ai/zh-v2/</a></li>
<li>æ•™æï¼š<a href="https://zh-v2.d2l.ai/">https://zh-v2.d2l.ai/</a></li>
<li>è¯¾ç¨‹è®ºå›è®¨è®ºï¼š<a href="https://discuss.d2l.ai/c/chinese-version/16">https://discuss.d2l.ai/c/chinese-version/16</a></li>
<li>Pytorchè®ºå›ï¼š<a href="https://discuss.pytorch.org/">https://discuss.pytorch.org/</a></li>
<li>bç«™è§†é¢‘åˆé›†ï¼š[<a href="https://space.bilibili.com/1567748478/channel/seriesdetail?sid=358497](">https://space.bilibili.com/1567748478/channel/seriesdetail?sid=358497](</a></li>
</ul>
<h3 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h3><ul>
<li>è¯¾ç¨‹ç›®æ ‡ã€å†…å®¹å’Œè¦æ±‚</li>
<li>ç›¸å…³è¯¾ç¨‹èµ„æºé“¾æ¥</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>00-æ·±åº¦å­¦ä¹ é¢„å‘Š</title>
    <url>/2024/04/23/11-01-00/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.24ï¼šåˆç¨¿</li>
</ul>
<h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><ul>
<li><a href="/2024/04/24/12-18-34/" title="åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h2 id="00-é¢„å‘Š"><a href="#00-é¢„å‘Š" class="headerlink" title="00-é¢„å‘Š"></a>00-é¢„å‘Š</h2><h3 id="1-å­¦ä¹ æ·±åº¦å­¦ä¹ å…³é”®æ˜¯åŠ¨æ‰‹"><a href="#1-å­¦ä¹ æ·±åº¦å­¦ä¹ å…³é”®æ˜¯åŠ¨æ‰‹" class="headerlink" title="1. å­¦ä¹ æ·±åº¦å­¦ä¹ å…³é”®æ˜¯åŠ¨æ‰‹"></a>1. å­¦ä¹ æ·±åº¦å­¦ä¹ å…³é”®æ˜¯åŠ¨æ‰‹</h3><ul>
<li>æ·±åº¦å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½æœ€çƒ­çš„é¢†åŸŸ</li>
<li>æ ¸å¿ƒæ˜¯ç¥ç»ç½‘ç»œ</li>
<li>ç¥ç»ç½‘ç»œæ˜¯ä¸€é—¨è¯­è¨€</li>
<li><p>åº”è¯¥åƒå­¦ä¹ Python/C++ä¸€æ ·å­¦ä¹ æ·±åº¦å­¦ä¹ </p>
<h3 id="2-å‚è€ƒä¹¦ç›®ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹"><a href="#2-å‚è€ƒä¹¦ç›®ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹" class="headerlink" title="2. å‚è€ƒä¹¦ç›®ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹"></a>2. å‚è€ƒä¹¦ç›®ã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹</h3></li>
<li><p>æ˜¯ä¸€æœ¬æ·±åº¦å­¦ä¹ çš„æ•™ç§‘ä¹¦</p>
<ul>
<li><p>è¦†ç›–90å¹´ä»£è‡³ä»Šçš„é‡è¦æ¨¡å‹</p>
</li>
<li><p>æ¯ä¸€ç« æ˜¯ä¸€ä¸ªJupyterè®°äº‹æœ¬</p>
<ul>
<li>æä¾›æ‰€æœ‰æ¨¡å‹çš„å®Œæ•´å®ç°</li>
<li>åœ¨çœŸå®æ•°æ®ä¸Šè¿è¡Œ</li>
</ul>
</li>
<li><p><strong>åŸä¹¦é“¾æ¥</strong>ï¼š<a href="https://zh.d2l.ai/">åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ (åŸä¹¦ä¸­æ–‡ç‰ˆ)</a></p>
</li>
<li><p><strong>é¡¹ç›®é“¾æ¥</strong>ï¼š<a href="https://github.com/d2l-ai/d2l-zh">Githubé¡¹ç›®</a></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>è‹±æ–‡ç‰ˆï¼š2019å¹´æ¨å‡º<br>é‡å†™äº†æ‰€æœ‰ç« èŠ‚</p>
<ul>
<li>åŠ å…¥50%æ–°å†…å®¹(å¦‚Transformer)<br>Numpy/MXNet, Pytorchå’ŒTensorFlow2.0çš„ä»£ç å®ç°</li>
</ul>
</li>
</ul>
<ul>
<li>è¯¾ç¨‹å¯¹åº”ç½‘ç«™ï¼š<a href="https://courses.d2l.ai/zh-v2/">è¯¾ç¨‹ä¸»é¡µ</a>(åŒ…å«åŸè§†é¢‘<strong>è¯¾ä»¶</strong>ç­‰èµ„æº)</li>
</ul>
<ul>
<li>bç«™<strong>è§†é¢‘</strong>ç½‘ç«™ï¼š<a href="https://space.bilibili.com/1567748478/channel/seriesdetail?sid=358497">è§†é¢‘åˆé›†</a></li>
</ul>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><ul>
<li>å¦‚ä½•å­¦ä¹ æ·±åº¦å­¦ä¹ â€”â€”åŠ¨æ‰‹è·‘ä»£ç </li>
<li>è¯¾ç¨‹èµ„æºï¼šä¹¦ç±ã€è§†é¢‘ã€è¯¾ä»¶ç­‰</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°å›› ç¥ç»ç½‘ç»œçš„è¡¨è¾¾</title>
    <url>/2024/04/22/13-37-13/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.22ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-40-33/" title="æœºå™¨ç¬”è®°æ±‡æ€»">å´æ©è¾¾æœºå™¨å­¦ä¹  - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="8-ç¥ç»ç½‘ç»œï¼šè¡¨è¾¾ï¼ˆNeural-Networks-Representationï¼‰"><a href="#8-ç¥ç»ç½‘ç»œï¼šè¡¨è¾¾ï¼ˆNeural-Networks-Representationï¼‰" class="headerlink" title="8 ç¥ç»ç½‘ç»œï¼šè¡¨è¾¾ï¼ˆNeural Networks: Representationï¼‰"></a>8 ç¥ç»ç½‘ç»œï¼šè¡¨è¾¾ï¼ˆNeural Networks: Representationï¼‰</h1><h2 id="8-1-éçº¿æ€§å‡è®¾ï¼ˆNon-linear-Hypothesesï¼‰"><a href="#8-1-éçº¿æ€§å‡è®¾ï¼ˆNon-linear-Hypothesesï¼‰" class="headerlink" title="8.1 éçº¿æ€§å‡è®¾ï¼ˆNon-linear Hypothesesï¼‰"></a>8.1 éçº¿æ€§å‡è®¾ï¼ˆNon-linear Hypothesesï¼‰</h2><p>ç†è®ºä¸Šæˆ‘ä»¬å¯ä»¥ç”¨å¤šé¡¹å¼å‡½æ•°å»è¿‘ä¼¼ä»»æ„å‡½æ•°ï¼ˆæ³°å‹’ææ•°ï¼ˆTaylor seriesï¼‰ï¼‰ï¼Œä»è€Œå¯å¾—åˆ°ä»»æ„é—®é¢˜çš„æ‹Ÿåˆæ›²çº¿ã€‚</p>
<p>åœ¨å®é™…å¤„ç†æ—¶ï¼Œç‰¹å¾é‡é€šå¸¸ä¼šå¾ˆå¤šï¼Œå¦‚æœå†æ„é€ é«˜é˜¶å¤šé¡¹å¼ç­‰ï¼Œç‰¹å¾æ•°é‡å°†ä¼šæ€¥å‰§å¢åŠ ï¼Œè¿™ä½¿å¾—å›å½’æ¨¡å‹çš„å¤æ‚åº¦å¤ªé«˜ï¼Œå¯è§å¹¶ä¸åˆé€‚ã€‚ç¥ç»ç½‘ç»œæ— éœ€æ„é€ é«˜é˜¶å¤šé¡¹å¼ï¼Œåœ¨ç‰¹å¾é‡å¾ˆå¤§æ—¶ä¹Ÿå¯ä»¥å¤„ç†çš„å¾ˆå¥½ã€‚</p>
<p>é‚£ç‰¹å¾èƒ½æœ‰å¤šå¤§å‘¢ï¼Ÿä¸‹é¢æ˜¯ä¸€ä¸ªè®¡ç®—æœºè§†è§‰ä¸­çš„ä¾‹å­ï¼š</p>
<img src="/2024/04/22/13-37-13/20180115_084326.png" class>
<p>å¦‚ä¸Šå›¾ï¼Œå¦‚æœé€‰å–ä¸€å°å— $50 * 50$ åƒç´ çš„ç°åº¦å›¾ç‰‡ï¼ˆä¸€ä¸ªåƒç´ åªæœ‰äº®åº¦ä¸€ä¸ªå€¼ï¼‰ï¼Œé€‰æ‹©æ¯ä¸ªåƒç´ ç‚¹ä½œä¸ºç‰¹å¾ï¼Œåˆ™ç‰¹å¾æ€»é‡ $n=2500$ï¼ˆæ¢æˆ RGBï¼ˆä¸€ä¸ªåƒç´ æœ‰ä¸‰ä¸ªå€¼ï¼‰ï¼Œåˆ™ $n = 7500$ï¼‰ï¼Œå¦‚æœå°†å…¶ä¸¤ä¸¤ç»„åˆä½œä¸ºæ–°ç‰¹å¾ï¼Œåˆ™ç‰¹å¾æ•°é‡å°†ä¸º $C_{2500}^{2} \approx 3\ million$ã€‚</p>
<h2 id="8-2-ç¥ç»ç½‘ç»œå’Œå¤§è„‘ï¼ˆNeurons-and-the-Brainï¼‰"><a href="#8-2-ç¥ç»ç½‘ç»œå’Œå¤§è„‘ï¼ˆNeurons-and-the-Brainï¼‰" class="headerlink" title="8.2 ç¥ç»ç½‘ç»œå’Œå¤§è„‘ï¼ˆNeurons and the Brainï¼‰"></a>8.2 ç¥ç»ç½‘ç»œå’Œå¤§è„‘ï¼ˆNeurons and the Brainï¼‰</h2><p>è„‘ç§‘å­¦å®¶é€šè¿‡å¯¹åŠ¨ç‰©å®éªŒï¼Œå‘ç°å¤§è„‘ä¸­ä¸“ç”¨äºå¤„ç†å¬è§‰ä¿¡å·çš„è„‘çš®å±‚ä¹Ÿèƒ½å¤„ç†å…¶ä»–è¯¸å¦‚è§†è§‰ç­‰ä¿¡å·ï¼Œå³å¦‚æœåˆ‡æ–­å…¶ä¸è€³æœµçš„è”ç³»ï¼Œå°†å…¶ä¸çœ¼ç›ç›¸è¿ï¼Œåˆ™è¿™å—è´Ÿè´£å¬è§‰çš„è„‘çš®å±‚åŒºåŸŸä¹Ÿèƒ½æ¥å—å¹¶å¤„ç†è§†è§‰ä¿¡å·ï¼Œä»è€Œå­¦ä¼šâ€œçœ‹â€ã€‚è„‘ç§‘å­¦å®¶é€šè¿‡è¿™ç±»æ¢æºå®éªŒï¼Œå°±æ¨è®ºå‡è®¾å¤§è„‘çš„å­¦ä¹ ç®—æ³•åªæœ‰ä¸€ç§ï¼ˆâ€œone learning algorithmâ€ hypothesisï¼‰ã€‚é‚£ä¹ˆå¦‚æœèƒ½æ‰¾å‡ºè¿™ç§å­¦ä¹ ç®—æ³•å¹¶åº”ç”¨äºè®¡ç®—æœºä¸­ï¼Œé‚£æ¢¦æƒ³ä¸­å’Œäººä¸€æ ·çš„äººå·¥æ™ºèƒ½å°±æˆçœŸäº†ã€‚</p>
<p>ç¥ç»ç½‘ç»œå°±æºäº<strong>æ¨¡æ‹Ÿäººç±»å¤§è„‘</strong>ï¼Œä½†å…¶éœ€è¦çš„è®¡ç®—é‡å¾ˆå¤§ã€‚éšç€è®¡ç®—æœºç¡¬ä»¶æ€§èƒ½çš„æé«˜ï¼Œç¥ç»ç½‘ç»œé€æ¸ä»è¡°è½å˜ä¸ºæµè¡Œï¼Œå¦‚ä»Šå·²å¹¿æ³›åœ°è¢«åº”ç”¨åœ¨å„è¡Œå„ä¸šä¸­ã€‚</p>
<p>ä¸‹å›¾æ˜¯æ ¹æ®ç ”ç©¶åšçš„ä¸€äº›åº”ç”¨ï¼ˆæœ‰å…´è¶£å¯å›é¡¾è§†é¢‘ï¼‰ï¼š</p>
<img src="/2024/04/22/13-37-13/20180115_101441.png" class>
<p>BrainPort  ç³»ç»Ÿï¼šå¸®åŠ©å¤±æ˜äººå£«é€šè¿‡æ‘„åƒå¤´ä»¥åŠèˆŒå°–æ„Ÿå®˜â€œçœ‹â€ä¸œè¥¿</p>
<img src="/2024/04/22/13-37-13/20180115_101442.png" class>
<p>è§¦è§‰çš®å¸¦ï¼šåœ¨æœåŒ—æ—¶èœ‚é¸£å™¨ä¼šå‘å‡ºå£°å“ï¼Œå¯ä½¿äººæ‹¥æœ‰æ–¹å‘æ„Ÿï¼ˆå£°éŸ³ä¿¡å·è½¬æ¢ä¸ºæ–¹å‘ä¿¡å·ï¼‰ã€‚</p>
<h2 id="8-3-æ¨¡å‹è¡¨ç¤º1ï¼ˆModel-Representation-Iï¼‰"><a href="#8-3-æ¨¡å‹è¡¨ç¤º1ï¼ˆModel-Representation-Iï¼‰" class="headerlink" title="8.3 æ¨¡å‹è¡¨ç¤º1ï¼ˆModel Representation Iï¼‰"></a>8.3 æ¨¡å‹è¡¨ç¤º1ï¼ˆModel Representation Iï¼‰</h2><p>å¤§è„‘ç¥ç»å…ƒ</p>
<img src="/2024/04/22/13-37-13/20141213201613758.jpg" class>
<p>æƒ³è±¡ä¸€ä¸‹å°åˆ·å‚ä¸­æµæ°´çº¿çš„å·¥äººï¼Œæ¯ä¸ªå·¥äººéƒ½æœ‰ç‰¹å®šçš„ä»»åŠ¡ï¼Œæ¯”å¦‚è£…è®¢ï¼Œå¡‘å°ï¼Œè´´é˜²ä¼ªæ ‡è¯†ç­‰ç­‰ï¼Œå·¥äººä»¬çœ‹åˆ°ä¹¦æœ¬å¹¶å¤„ç†å®Œè‡ªå·±çš„ä»»åŠ¡åï¼Œå°±å›æ”¾å›ä¼ é€å¸¦ï¼Œç´§æ¥ç€ä¼ é€å¸¦å°±ä¼ ç»™ä¸‹ä¸€ä¸ªç¯èŠ‚çš„å·¥äººï¼Œå¦‚æ­¤ä¸æ–­é‡å¤ä»è€Œå®Œæˆä¸€ä¸ªåˆä¸€ä¸ªç¯èŠ‚ï¼Œç›´åˆ°ä¸€æœ¬ä¹¦å°åˆ¶å®Œæˆã€‚</p>
<p>é‚£ä¹ˆç±»æ¯”ä¸€ä¸‹ï¼ŒæŠŠä¸Šå›¾ä¸­çš„<strong>ç»†èƒæ ¸ï¼ˆnucleusï¼‰</strong>ç±»æ¯”æˆå·¥äººï¼Œ<strong>è½´çªï¼ˆaxonï¼‰</strong>ç±»æ¯”ä¼ é€å¸¦ï¼Œ<strong>æ ‘çªï¼ˆdendriteï¼‰</strong>åˆ™æ¯”ç±»æ¯”æˆå·¥äººçš„åŒçœ¼ã€‚ä¸€ä¸ªåˆä¸€ä¸ªç»†èƒä½“ï¼Œä»æ ‘çªæ¥æ”¶éœ€è¦å¤„ç†çš„ä¿¡æ¯ï¼Œå¯¹å…¶è¿›è¡Œå¤„ç†åï¼Œå†ç»ç”±è½´çªé€šè¿‡ç”µä¿¡å·æŠŠå¤„ç†å®Œçš„ä¿¡æ¯ä¼ é€’å‡ºå»ï¼Œç›´åˆ°ç†è§£ä¿¡æ¯çš„å†…å®¹ã€‚</p>
<p>äººå·¥ç¥ç»ç½‘ç»œä¸­ï¼Œæ ‘çªå¯¹åº”<strong>è¾“å…¥ï¼ˆinputï¼‰</strong>ï¼Œç»†èƒæ ¸å¯¹åº”<strong>æ¿€æ´»å•å…ƒï¼ˆactivation unitï¼‰</strong>ï¼Œè½´çªå¯¹åº”<strong>è¾“å‡ºï¼ˆoutputï¼‰</strong>ã€‚</p>
<p>æˆ‘ä»¬ä¸€èˆ¬æŠŠç¥ç»ç½‘ç»œåˆ’åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯åªæœ‰ä¸‰å±‚ï¼ï¼‰ï¼Œå³è¾“å…¥å±‚ï¼ˆinput layerï¼‰ï¼Œéšè—å±‚ï¼ˆhidden layerï¼‰å’Œè¾“å‡ºå±‚ï¼ˆoutput layerï¼‰ã€‚</p>
<img src="/2024/04/22/13-37-13/20180116_001543.png" class>
<p>å›¾ä¸­çš„ä¸€ä¸ªåœˆè¡¨ç¤ºç¥ç»ç½‘ç»œä¸­çš„ä¸€ä¸ªæ¿€æ´»å•å…ƒï¼Œè¾“å…¥å±‚å¯¹åº”è¾“å…¥å•å…ƒï¼Œéšè—å±‚å¯¹åº”ä¸­é—´å•å…ƒï¼Œè¾“å‡ºå±‚åˆ™å¯¹åº”è¾“å‡ºå•å…ƒã€‚ä¸­é—´æ¿€æ´»å•å…ƒåº”ç”¨<strong>æ¿€æ´»å‡½æ•°</strong>å¤„ç†æ•°æ®ã€‚</p>
<p>ä¸‹é¢åˆ—å‡ºä¸€äº›å·²æœ‰æ¦‚å¿µåœ¨ç¥ç»ç½‘ç»œä¸­çš„åˆ«ç§°ï¼š</p>
<ul>
<li>$x_0$: åç½®å•å…ƒï¼ˆbias unitï¼‰ï¼Œ$x_0$=1</li>
<li>$\Theta$: æƒé‡ï¼ˆweightï¼‰ï¼Œå³å‚æ•°ã€‚</li>
<li>æ¿€æ´»å‡½æ•°: $g$ï¼Œå³é€»è¾‘å‡½æ•°ç­‰ã€‚</li>
<li>è¾“å…¥å±‚: å¯¹åº”äºè®­ç»ƒé›†ä¸­çš„ç‰¹å¾ $x$ã€‚</li>
<li>è¾“å‡ºå±‚: å¯¹åº”äºè®­ç»ƒé›†ä¸­çš„ç»“æœ $y$ã€‚</li>
</ul>
<blockquote>
<p>$a^{(j)}_i$: ç¬¬ $j$ å±‚çš„ç¬¬ $i$ ä¸ªæ¿€æ´»å•å…ƒ</p>
<p>$\Theta^{(j)}$: ä»ç¬¬ $j$ å±‚æ˜ å°„åˆ°ç¬¬ $j+1$ å±‚æ—¶çš„æƒé‡çŸ©é˜µã€‚</p>
<p>$\Theta^{(j)}_{v,u}$: ä»ç¬¬ $j$ å±‚çš„ç¬¬ $u$ ä¸ªå•å…ƒæ˜ å°„åˆ°ç¬¬ $j+1$ å±‚çš„ç¬¬ $v$ ä¸ªå•å…ƒçš„æƒé‡</p>
<p>$s_j$: ç¬¬ $j$ å±‚çš„æ¿€æ´»å•å…ƒæ•°ç›®ï¼ˆä¸åŒ…å«åç½®å•å…ƒï¼‰</p>
</blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li><strong>æ¯ä¸ªå•å…ƒä¼šä½œç”¨äºä¸‹ä¸€å±‚çš„æ‰€æœ‰å•å…ƒ</strong>ï¼ˆçŸ©é˜µä¹˜æ³•è¿ç®—ï¼‰ã€‚</li>
<li>å¦‚æœç¬¬ $j$ å±‚æœ‰ $s_j$ ä¸ªå•å…ƒï¼Œç¬¬ $j+1$ å±‚æœ‰ $s_{j+1}$ ä¸ªå•å…ƒï¼Œ$\Theta^{(j)}$ æ˜¯ä¸€ä¸ª $s_{j+1} \times (s_j+1)$ ç»´çš„æƒé‡çŸ©é˜µã€‚å³æ¯ä¸€å±‚çš„æƒé‡çŸ©é˜µå¤§å°éƒ½æ˜¯éå›ºå®šçš„ã€‚</li>
<li>å…¶ä¸­ï¼Œ$+1$ æ¥è‡ªäºåç½®å•å…ƒï¼Œè¿™æ ·æ„å‘³ç€è¾“å‡ºå±‚ä¸åŒ…å«åç½®å•å…ƒï¼Œè¾“å…¥å±‚å’Œéšè—å±‚éœ€è¦å¢åŠ åç½®å•å…ƒã€‚</li>
</ul>
<p>ä¾æ®æœ¬èŠ‚æ‰€ç»™æ¨¡å‹ï¼Œæœ‰ï¼š</p>
<p>$Size(\Theta^{(1)})=s_{j+1} \times (s_j + 1) =s_2 \times (s_1 + 1) = 3 \times 4$</p>
<p>$Size(\Theta^{(2)})=s_3 \times (s_2 + 1) = 1 \times 4$</p>
<h2 id="8-4-æ¨¡å‹è¡¨ç¤º2ï¼ˆModel-Representation-IIï¼‰"><a href="#8-4-æ¨¡å‹è¡¨ç¤º2ï¼ˆModel-Representation-IIï¼‰" class="headerlink" title="8.4 æ¨¡å‹è¡¨ç¤º2ï¼ˆModel Representation IIï¼‰"></a>8.4 æ¨¡å‹è¡¨ç¤º2ï¼ˆModel Representation IIï¼‰</h2><img src="/2024/04/22/13-37-13/20180116_001543.png" class>
<p>å¯¹è¾“å…¥å±‚ï¼ˆLayer 1ï¼‰çš„æ‰€æœ‰æ¿€æ´»å•å…ƒåº”ç”¨æ¿€æ´»å‡½æ•°ï¼Œä»è€Œå¾—åˆ°éšè—å±‚ï¼ˆLayer 2ï¼‰ä¸­æ¿€æ´»å•å…ƒçš„å€¼ï¼š</p>
<p>$$<br>\begin{split} a_1^{(2)} = g(\Theta_{10}^{(1)}x_0 + \Theta_{11}^{(1)}x_1 + \Theta_{12}^{(1)}x_2 + \Theta_{13}^{(1)}x_3)\\<br>a_2^{(2)} = g(\Theta_{20}^{(1)}x_0 + \Theta_{21}^{(1)}x_1 + \Theta_{22}^{(1)}x_2 + \Theta_{23}^{(1)}x_3)\\<br>a_3^{(2)} = g(\Theta_{30}^{(1)}x_0 + \Theta_{31}^{(1)}x_1 + \Theta_{32}^{(1)}x_2 + \Theta_{33}^{(1)}x_3)<br>\end{split}<br>$$<br>å¯¹ Layer 2 ä¸­çš„æ‰€æœ‰æ¿€æ´»å•å…ƒåº”ç”¨æ¿€æ´»å‡½æ•°ï¼Œä»è€Œå¾—åˆ°è¾“å‡ºï¼š</p>
<p>$h_\Theta(x) = a_1^{(3)} = g(\Theta_{10}^{(2)}a_0^{(2)} + \Theta_{11}^{(2)}a_1^{(2)} + \Theta_{12}^{(2)}a_2^{(2)} + \Theta_{13}^{(2)}a_3^{(2)})$</p>
<p>ä¸Šé¢çš„è®¡ç®—è¿‡ç¨‹è¢«ç§°ä¸º<strong>å‰å‘ä¼ æ’­ï¼ˆForward propagationï¼‰</strong>ï¼Œå³ä»è¾“å…¥å±‚å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚åœ°å‘ä¸‹è®¡ç®—å¹¶ä¼ é€’ç»“æœã€‚</p>
<p>å†å›é¡¾ä¸€ä¸‹é€»è¾‘å›å½’ï¼š</p>
<p>${h_\theta}\left( x \right)=g\left( {\theta_0}+{\theta_1}{x_1}+{\theta_{2} }{x_{2} }+{\theta_{3} }x_3 \right)$</p>
<p>æ˜¯ä¸æ˜¯é™¤äº†ç¬¦å·è¡¨ç¤ºï¼Œå…¶ä»–éƒ½å®Œå…¨ä¸€æ ·ï¼Ÿå…¶å®ç¥ç»ç½‘ç»œå°±å¥½ä¼¼å›å½’æ¨¡å‹ï¼Œåªä¸è¿‡è¾“å…¥å˜æˆäº†ä¸­é—´å•å…ƒ $a_1^{(j)}, a_2^{(j)}, \dots, a_n^{(j)}$ã€‚ä»è¾“å…¥ $x$ å¼€å§‹ï¼Œä¸‹ä¸€å±‚çš„æ¯ä¸ªæ¿€æ´»å•å…ƒéƒ½åŒ…å«äº†ä¸Šä¸€å±‚çš„æ‰€æœ‰ä¿¡æ¯ï¼ˆå•å…ƒå€¼ï¼‰ï¼Œé€šè¿‡æœ€ä¼˜åŒ–ç®—æ³•ä¸æ–­è¿­ä»£è®¡ç®—ï¼Œæ¿€æ´»å•å…ƒèƒ½å¾—å‡ºå…³äºè¾“å…¥ $x$ çš„æ›´å¤šä¿¡æ¯ï¼Œè¿™å°±å¥½åƒæ˜¯åœ¨ç»™å‡è®¾å‡½æ•°åŠ å¤šé¡¹å¼ã€‚éšè—å±‚çš„è¿™äº›å•å…ƒå¥½ä¼¼å‡çº§ç‰ˆçš„åˆå§‹ç‰¹å¾ï¼Œä»è€Œèƒ½ç»™å‡ºæ›´å¥½çš„é¢„æµ‹ã€‚</p>
<p><strong>å‘é‡åŒ–å®ç°</strong></p>
<p>å®šä¹‰ $a^{(1)}=x=\left[ \begin{matrix}x_0\\ x_1 \\ x_2 \\ x_3 \end{matrix} \right]$ï¼Œ$\Theta^{(1)}=\left[\begin{matrix}\Theta^{(1)}_{10}&amp; \Theta^{(1)}_{11}&amp; \Theta^{(1)}_{12}&amp; \Theta^{(1)}_{13}\\ \Theta^{(1)}_{20}&amp; \Theta^{(1)}_{21}&amp; \Theta^{(1)}_{22}&amp; \Theta^{(1)}_{23}\\ \Theta^{(1)}_{30}&amp; \Theta^{(1)}_{31}&amp; \Theta^{(1)}_{32} &amp; \Theta^{(1)}_{33}\end{matrix}\right]$ï¼Œ</p>
<p>$\begin{split}a_1^{(2)} = g(z_1^{(2)}) \\ a_2^{(2)} = g(z_2^{(2)}) \newline a_3^{(2)} = g(z_3^{(2)}) \newline \end{split}$ï¼Œ$z^{(2)}=\left[ \begin{matrix}z_1^{(2)}\\ z_1^{(2)} \\ z_1^{(2)}\end{matrix} \right]$</p>
<p>åˆ™æœ‰ $a^{(2)}= g(\Theta^{(1)}a^{(1)})=g(z^{(2)})$</p>
<p>é¢„æµ‹ç»“æœå³ $h_\Theta(x) = a^{(3)} = g(\Theta^{(2)}a^{(2)}) = g(z^{(3)})$</p>
<p>å³æœ‰ $z^{(j)}_i = \Theta^{(j-1)}_{i,0}a^{(j-1)}_{0}+ \Theta^{(j-1)}_{i,1}a^{(j-1)}_{1}+\dots+ \Theta^{(j-1)}_{i,n}a^{(j-1)}_{n}$ï¼Œ</p>
<p> $z^{(j)} = \Theta^{(j-1)}a^{(j-1)}$ï¼Œ$a^{(j)} = g(z^{(j)})$ï¼Œé€šè¿‡è¯¥å¼å³å¯è®¡ç®—ç¥ç»ç½‘ç»œä¸­æ¯ä¸€å±‚çš„å€¼ã€‚</p>
<p>æ‰©å±•åˆ°æ‰€æœ‰æ ·æœ¬å®ä¾‹ï¼š</p>
<p>${ {z}^{\left( 2 \right)} }={ {\Theta }^{\left( 1 \right)} } { {X}^{T} }$ï¼Œè¿™æ—¶ $z^{(2)}$ æ˜¯ä¸€ä¸ª $s_2 \times m$ ç»´çŸ©é˜µã€‚</p>
<blockquote>
<p>$m$: è®­ç»ƒé›†ä¸­çš„æ ·æœ¬å®ä¾‹æ•°é‡</p>
<p>$s_2$: ç¬¬äºŒå±‚ç¥ç»ç½‘ç»œä¸­æ¿€æ´»å•å…ƒçš„æ•°é‡</p>
</blockquote>
<p>å½“ç„¶ï¼Œç¥ç»ç½‘ç»œå¯æœ‰å¤šå±‚ï¼Œæ¯å±‚çš„æ¿€æ´»å•å…ƒæ•°é‡ä¹Ÿå¹¶ä¸å›ºå®šï¼š</p>
<img src="/2024/04/22/13-37-13/20180116_105545.png" class>
<blockquote>
<p>æˆ‘ä»¬ä¹ æƒ¯äºå°†è¾“å…¥å±‚ç§°ä¸ºç¥ç»ç½‘ç»œçš„ç¬¬ 0 å±‚ï¼Œå¦‚ä¸Šå›¾çš„ç¥ç»ç½‘ç»œè¢«ç§°ä¸ºä¸‰å±‚ç½‘ç»œã€‚</p>
</blockquote>
<h2 id="8-5-ä¾‹å­å’Œç›´è§‚ç†è§£1ï¼ˆExamples-and-Intuitions-Iï¼‰"><a href="#8-5-ä¾‹å­å’Œç›´è§‚ç†è§£1ï¼ˆExamples-and-Intuitions-Iï¼‰" class="headerlink" title="8.5 ä¾‹å­å’Œç›´è§‚ç†è§£1ï¼ˆExamples and Intuitions Iï¼‰"></a>8.5 ä¾‹å­å’Œç›´è§‚ç†è§£1ï¼ˆExamples and Intuitions Iï¼‰</h2><p>ä¸ºäº†æ›´å¥½çš„ç†è§£ç¥ç»ç½‘ç»œï¼Œä¸¾ä¾‹å•å±‚ç¥ç»ç½‘ç»œè¿›è¡Œé€»è¾‘è¿ç®—çš„ä¾‹å­ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ$x_1,x_2$ ä¸ºäºŒè¿›åˆ¶æ•°ã€‚</p>
<p>é€»è¾‘ä¸ï¼ˆANDï¼‰è¿ç®—ï¼ˆéƒ½ä¸ºçœŸå€¼åˆ™ç»“æœæ‰ä¸ºçœŸï¼‰ç¥ç»ç½‘ç»œï¼š</p>
<img src="/2024/04/22/13-37-13/20180117_000612.png" class>
<p>$\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20\end{bmatrix}$ï¼Œ$h_\Theta(x) = g(-30+20x_1+20x_2)$ã€‚</p>
<p>å›é¡¾ sigmoid å‡½æ•°å›¾åƒï¼Œæ ¹æ®è¾“å…¥åˆ™æœ‰ä¸Šå›¾ä¸­å³è¾¹çš„è¡¨æ ¼ï¼Œå³ $h_\theta(x)\approx x_1\ \text{AND}\ x_2$ã€‚è¿™æ ·å°±å®ç°äº†ä¸€ä¸ªèƒ½å¤Ÿè¿›è¡Œä¸è¿ç®—çš„ç¥ç»ç½‘ç»œã€‚ </p>
<img src="/2024/04/22/13-37-13/2413fbec8ff9fa1f19aaf78265b8a33b_Logistic_function.png" class>
<p>å†ä¸¾ä¸€ä¾‹ï¼Œé€»è¾‘æˆ–ï¼ˆORï¼‰è¿ç®—ï¼ˆæœ‰ä¸€ä¸ªçœŸå€¼åˆ™ç»“æœå°±ä¸ºçœŸï¼‰ç¥ç»ç½‘ç»œï¼š</p>
<img src="/2024/04/22/13-37-13/20180117_000349.png" class>
<h2 id="8-6-ä¾‹å­å’Œç›´è§‚ç†è§£2ï¼ˆExamples-and-Intuitions-IIï¼‰"><a href="#8-6-ä¾‹å­å’Œç›´è§‚ç†è§£2ï¼ˆExamples-and-Intuitions-IIï¼‰" class="headerlink" title="8.6 ä¾‹å­å’Œç›´è§‚ç†è§£2ï¼ˆExamples and Intuitions IIï¼‰"></a>8.6 ä¾‹å­å’Œç›´è§‚ç†è§£2ï¼ˆExamples and Intuitions IIï¼‰</h2><p>ä¸‹é¢é€æ­¥æ„å»ºå¤æ‚ä¸€ç‚¹çš„ç¥ç»ç½‘ç»œ</p>
<img src="/2024/04/22/13-37-13/20180117_004820.png" class>
<p>å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬åˆ†åˆ«æ„å»ºäº†ä¸‰ä¸ªå•å±‚ç¥ç»ç½‘ç»œï¼Œå°†è¿™ä¸‰ä¸ªç½‘ç»œç»„åˆèµ·æ¥ï¼Œå¯å¾—åˆ°ä¸€ä¸ªæ–°çš„ç¥ç»ç½‘ç»œï¼Œå…¶å¯å®Œæˆé€»è¾‘è¿ç®—ä¸­çš„å¼‚æˆ–ï¼ˆXNORï¼‰æ“ä½œï¼š</p>
<img src="/2024/04/22/13-37-13/20180116_235545.png" class>
<p>è¿™é‡Œçš„ç»„åˆå³ä¸º $\text{XNOR}=( \text{x}_1\, \text{AND}\, \text{x}_2 )\, \text{OR} \left( \left( \text{NOT}\, \text{x}_1 \right) \text{AND} \left( \text{NOT}\, \text{x}_2 \right) \right)$</p>
<p>$\Theta^{(1)} =\begin{bmatrix}-30 &amp; 20 &amp; 20 \newline 10 &amp; -20 &amp; -20\end{bmatrix}$ï¼Œ$\Theta^{(2)} =\begin{bmatrix}-10 &amp; 20 &amp; 20\end{bmatrix}$ï¼Œ$\begin{split}&amp; a^{(2)} = g(\Theta^{(1)} \cdot x) \newline&amp; a^{(3)} = g(\Theta^{(2)} \cdot a^{(2)}) \newline&amp; h_\Theta(x) = a^{(3)}\end{split}$</p>
<p>å¯è§ï¼Œç‰¹å¾å€¼èƒ½ä¸æ–­å‡çº§ï¼Œå¹¶æŠ½å–å‡ºæ›´å¤šä¿¡æ¯ï¼Œç›´åˆ°è®¡ç®—å‡ºç»“æœã€‚è€Œå¦‚æ­¤ä¸æ–­ç»„åˆï¼Œæˆ‘ä»¬å°±å¯ä»¥é€æ¸æ„é€ å‡ºè¶Šæ¥è¶Šå¤æ‚ã€å¼ºå¤§çš„ç¥ç»ç½‘ç»œï¼Œæ¯”å¦‚ç”¨äºæ‰‹å†™è¯†åˆ«çš„ç¥ç»ç½‘ç»œã€‚</p>
<h2 id="8-7-å¤šç±»åˆ«åˆ†ç±»ï¼ˆMulticlass-Classificationï¼‰"><a href="#8-7-å¤šç±»åˆ«åˆ†ç±»ï¼ˆMulticlass-Classificationï¼‰" class="headerlink" title="8.7 å¤šç±»åˆ«åˆ†ç±»ï¼ˆMulticlass Classificationï¼‰"></a>8.7 å¤šç±»åˆ«åˆ†ç±»ï¼ˆMulticlass Classificationï¼‰</h2><p>ä¹‹å‰è®¨è®ºçš„éƒ½æ˜¯é¢„æµ‹ç»“æœä¸ºå•å€¼æƒ…å†µä¸‹çš„ç¥ç»ç½‘ç»œï¼Œè¦å®ç°å¤šç±»åˆ«åˆ†ç±»ï¼Œå…¶å®åªè¦ä¿®æ”¹ä¸€ä¸‹è¾“å‡ºå±‚ï¼Œè®©è¾“å‡ºå±‚åŒ…å«å¤šä¸ªè¾“å‡ºå•å…ƒå³å¯ã€‚</p>
<p>ä¸¾ä¸€ä¸ª 4 åˆ†ç±»é—®é¢˜çš„å®ä¾‹ï¼š</p>
<img src="/2024/04/22/13-37-13/20180117_010904.png" class>
<p>æœ‰å››ç§åˆ†ç±»æƒ…å†µï¼Œé‚£ä¹ˆå°±è®©è¾“å‡ºå±‚åŒ…å« 4 ä¸ªè¾“å‡ºå•å…ƒå³å¯ï¼Œåˆ™ $h_\Theta$ ä¸º 4 ç»´å‘é‡ã€‚ </p>
<p>ç¥ç»ç½‘ç»œä¸­çš„å¤šåˆ†ç±»ç®—æ³•ç®—æ˜¯å¯¹ one-vs-all æ€æƒ³çš„æ‰©å±•ï¼Œå®šä¹‰é¢„æµ‹ç»“æœä¸€å…±æœ‰ 4 ç§æƒ…å†µï¼š</p>
<img src="/2024/04/22/13-37-13/20180117_011331.png" class>
<p>å¦‚æœé¢„æµ‹ç»“æœ $h_\Theta(x) =\begin{bmatrix}0 \newline 0 \newline 1 \newline 0 \newline\end{bmatrix}$ï¼Œé‚£ä¹ˆè¡¨ç¤º $h_\Theta(x)_3$ï¼Œå³åˆ†ä¸ºç¬¬ 3 ç±»ï¼Œå¯¹åº”äºå›¾ä¸­çš„æ‘©æ‰˜è½¦ï¼ˆMotorcycleï¼‰ã€‚</p>
<p><strong>æ€»ç»“ä¸€ä¸‹</strong></p>
<p>å¤šåˆ†ç±»é—®é¢˜ï¼Œè¦åˆ†ä¸º $K$ ç±»ï¼Œå°±åœ¨è¾“å‡ºå±‚æ”¾ç½® $K$ ä¸ªè¾“å‡ºå•å…ƒï¼Œå¯¹äºå•ä¸ªæ ·æœ¬å®ä¾‹ï¼Œé¢„æµ‹å‘é‡ $h_\Theta(x)$ ä¸º $K$ ç»´å‘é‡ï¼Œæˆ‘ä»¬åˆ™ä¾æ®è¿™ä¸ªé¢„æµ‹å‘é‡ï¼Œå¾—å‡ºè¯¥å®ä¾‹å±äºå“ªä¸ªç±» $y^{(i)}$ã€‚æ³¨æ„ï¼Œç¥ç»ç½‘ç»œä¸­çš„é¢„æµ‹å’Œç»“æœéƒ½æ˜¯ $K$ ç»´å‘é‡ï¼Œè€Œä¸å†åªæ˜¯ä¸€ä¸ªå®æ•°äº†ã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°ä¸‰ å¤šå˜é‡çº¿æ€§å›å½’</title>
    <url>/2024/04/22/13-37-10/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.22ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-40-33/" title="æœºå™¨ç¬”è®°æ±‡æ€»">å´æ©è¾¾æœºå™¨å­¦ä¹  - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="6-é€»è¾‘å›å½’ï¼ˆLogistic-Regressionï¼‰"><a href="#6-é€»è¾‘å›å½’ï¼ˆLogistic-Regressionï¼‰" class="headerlink" title="6 é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰"></a>6 é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰</h1><h2 id="6-1-åˆ†ç±»ï¼ˆClassificationï¼‰"><a href="#6-1-åˆ†ç±»ï¼ˆClassificationï¼‰" class="headerlink" title="6.1 åˆ†ç±»ï¼ˆClassificationï¼‰"></a>6.1 åˆ†ç±»ï¼ˆClassificationï¼‰</h2><p>åœ¨åˆ†ç±»é—®é¢˜ä¸­ï¼Œé¢„æµ‹çš„ç»“æœæ˜¯ç¦»æ•£å€¼ï¼ˆç»“æœæ˜¯å¦å±äºæŸä¸€ç±»ï¼‰ï¼Œé€»è¾‘å›å½’ç®—æ³•ï¼ˆLogistic Regressionï¼‰è¢«ç”¨äºè§£å†³è¿™ç±»åˆ†ç±»é—®é¢˜ã€‚</p>
<ul>
<li>åƒåœ¾é‚®ä»¶åˆ¤æ–­</li>
<li>é‡‘èæ¬ºè¯ˆåˆ¤æ–­</li>
<li>è‚¿ç˜¤è¯Šæ–­</li>
</ul>
<p>è®¨è®ºè‚¿ç˜¤è¯Šæ–­é—®é¢˜ï¼š</p>
<img src="/2024/04/22/13-37-10/20180109_144040.png" class>
<p>è‚¿ç˜¤è¯Šæ–­é—®é¢˜çš„ç›®çš„æ˜¯å‘Šè¯‰ç—…äºº<strong>æ˜¯å¦</strong>ä¸ºæ¶æ€§è‚¿ç˜¤ï¼Œæ˜¯ä¸€ä¸ª<strong>äºŒå…ƒåˆ†ç±»é—®é¢˜ï¼ˆbinary class problemsï¼‰</strong>ï¼Œåˆ™å®šä¹‰ $ y \in\lbrace 0, 1\rbrace$ï¼Œå…¶ä¸­ 0 è¡¨ç¤º<strong>è´Ÿå‘ç±»ï¼ˆnegative classï¼‰</strong>ï¼Œä»£è¡¨æ¶æ€§è‚¿ç˜¤ï¼ˆâ€-â€œï¼‰ï¼Œ1 ä¸º<strong>æ­£å‘ç±»ï¼ˆpositive classï¼‰</strong>ï¼Œä»£è¡¨è‰¯æ€§è‚¿ç˜¤ï¼ˆâ€+â€ï¼‰ã€‚å¦‚å›¾ï¼Œå®šä¹‰æœ€å³è¾¹çš„æ ·æœ¬ä¸º<strong>åå·®é¡¹</strong>ã€‚</p>
<p>åœ¨æœªåŠ å…¥åå·®é¡¹æ—¶ï¼Œçº¿æ€§å›å½’ç®—æ³•ç»™å‡ºäº†å“çº¢è‰²çš„æ‹Ÿåˆç›´çº¿ï¼Œè‹¥è§„å®š</p>
<p>$h_\theta(x) \geqslant 0.5$ ï¼Œé¢„æµ‹ä¸º $y = 1$ï¼Œå³æ­£å‘ç±»ï¼›</p>
<p>$h_\theta(x) \lt 0.5$ ï¼Œé¢„æµ‹ä¸º $y = 0$ï¼Œå³è´Ÿå‘ç±»ã€‚</p>
<p>å³ä»¥ 0.5 ä¸º<strong>é˜ˆå€¼ï¼ˆthresholdï¼‰</strong>ï¼Œåˆ™æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®çº¿æ€§å›å½’ç»“æœï¼Œå¾—åˆ°ç›¸å¯¹æ­£ç¡®çš„åˆ†ç±»ç»“æœ $y$ã€‚</p>
<p>æ¥ä¸‹æ¥åŠ å…¥åå·®é¡¹ï¼Œçº¿æ€§å›å½’ç®—æ³•ç»™å‡ºäº†é›é’è‰²çš„æ‹Ÿåˆç›´çº¿ï¼Œå¦‚æœé˜ˆå€¼ä»ç„¶ä¸º 0.5ï¼Œå¯ä»¥çœ‹åˆ°ç®—æ³•åœ¨æŸäº›æƒ…å†µä¸‹ä¼šç»™å‡ºå®Œå…¨é”™è¯¯çš„ç»“æœçš„ã€‚</p>
<p>ä¸ä»…å¦‚æ­¤ï¼Œçº¿æ€§å›å½’ç®—æ³•çš„å€¼åŸŸä¸ºå…¨ä½“å®æ•°é›†ï¼ˆ$h_\theta(x) \in R$ï¼‰</p>
<p>é€»è¾‘å›å½’ç®—æ³•æ˜¯ä¸€ä¸ªåˆ†ç±»ç®—æ³•ï¼Œ<strong>å…¶è¾“å‡ºå€¼æ°¸è¿œåœ¨ 0 åˆ° 1 ä¹‹é—´</strong>ï¼Œå³ $h_\theta(x) \in (0,1)$ã€‚</p>
<h2 id="6-2-å‡è®¾å‡½æ•°è¡¨ç¤ºï¼ˆHypothesis-Representation"><a href="#6-2-å‡è®¾å‡½æ•°è¡¨ç¤ºï¼ˆHypothesis-Representation" class="headerlink" title="6.2 å‡è®¾å‡½æ•°è¡¨ç¤ºï¼ˆHypothesis Representation"></a>6.2 å‡è®¾å‡½æ•°è¡¨ç¤ºï¼ˆHypothesis Representation</h2><p>ä¸ºäº†ä½¿ $h_\theta(x) \in \left(0, 1\right)$ï¼Œå¼•å…¥é€»è¾‘å›å½’æ¨¡å‹ï¼Œå®šä¹‰å‡è®¾å‡½æ•°<br>$$<br>h_\theta \left( x \right)=g(z)=g\left(\theta^{T}x \right)<br>$$<br>å¯¹æ¯”çº¿æ€§å›å½’å‡½æ•° $h_\theta \left( x \right)=\theta^{T}x$ï¼Œ$g$ è¡¨ç¤ºé€»è¾‘å‡½æ•°logistic functionï¼Œå¤åˆèµ·æ¥ï¼Œåˆ™ç§°ä¸ºé€»è¾‘å›å½’å‡½æ•°ã€‚</p>
<p>é€»è¾‘å‡½æ•°æ˜¯ S å½¢å‡½æ•°ï¼Œä¼šå°†æ‰€æœ‰å®æ•°æ˜ å°„åˆ° $(0, 1)$ èŒƒå›´ã€‚</p>
<p>sigmoid å‡½æ•°ï¼ˆå¦‚ä¸‹å›¾ï¼‰æ˜¯é€»è¾‘å‡½æ•°çš„ç‰¹æ®Šæƒ… å†µï¼Œå…¶å…¬å¼ä¸º $g\left( z \right)=\frac{1}{1+{ {e}^{-z} } }$ã€‚ </p>
<img src="/2024/04/22/13-37-10/2413fbec8ff9fa1f19aaf78265b8a33b_Logistic_function.png" class>
<p>åº”ç”¨ sigmoid å‡½æ•°ï¼Œåˆ™é€»è¾‘å›å½’æ¨¡å‹ï¼š$$h_{\theta}(x)=g(\theta^Tx) =\frac{1}{1+e^{-\theta^Tx} }$$</p>
<p>é€»è¾‘å›å½’æ¨¡å‹ä¸­ï¼Œ$h_\theta \left( x \right)$ çš„ä½œç”¨æ˜¯ï¼Œæ ¹æ®è¾“å…¥ $x$ ä»¥åŠå‚æ•° $\theta$ï¼Œè®¡ç®—å¾—å‡ºâ€è¾“å‡º $y=1$â€œçš„å¯èƒ½æ€§ï¼ˆestimated probabilityï¼‰ï¼Œæ¦‚ç‡å­¦ä¸­è¡¨ç¤ºä¸ºï¼š</p>
<p>$$<br>\begin{split}<br>&amp; h_\theta(x) = P(y=1 | x ; \theta) = 1 - P(y=0 | x ; \theta) \\<br>&amp; P(y = 0 | x;\theta) + P(y = 1 | x ; \theta) = 1<br>\end{split}<br>$$<br>ä»¥è‚¿ç˜¤è¯Šæ–­ä¸ºä¾‹ï¼Œ$h_\theta \left( x \right)=0.7$ è¡¨ç¤ºç—…äººæœ‰ $70\%$ çš„æ¦‚ç‡å¾—äº†æ¶æ€§è‚¿ç˜¤ã€‚</p>
<h2 id="6-3-å†³ç­–è¾¹ç•Œï¼ˆDecision-Boundaryï¼‰"><a href="#6-3-å†³ç­–è¾¹ç•Œï¼ˆDecision-Boundaryï¼‰" class="headerlink" title="6.3 å†³ç­–è¾¹ç•Œï¼ˆDecision Boundaryï¼‰"></a>6.3 å†³ç­–è¾¹ç•Œï¼ˆDecision Boundaryï¼‰</h2><p>å†³ç­–è¾¹ç•Œçš„æ¦‚å¿µï¼Œå¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£é€»è¾‘å›å½’æ¨¡å‹çš„æ‹ŸåˆåŸç†ã€‚</p>
<p>åœ¨é€»è¾‘å›å½’ä¸­ï¼Œæœ‰å‡è®¾å‡½æ•° $h_\theta \left( x \right)=g(z)=g\left(\theta^{T}x \right)$ã€‚</p>
<p>ä¸ºäº†å¾—å‡ºåˆ†ç±»çš„ç»“æœï¼Œè¿™é‡Œå’Œå‰é¢ä¸€æ ·ï¼Œè§„å®šä»¥ $0.5$ ä¸ºé˜ˆå€¼ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; h_\theta(x) \geq 0.5 \rightarrow y = 1 \\<br>&amp; h_\theta(x) &lt; 0.5 \rightarrow y = 0 \\<br>\end{split}<br>$$<br>å›å¿†ä¸€ä¸‹ sigmoid å‡½æ•°çš„å›¾åƒï¼š</p>
<img src="/2024/04/22/13-37-10/2413fbec8ff9fa1f19aaf78265b8a33b_Logistic_function.png" class>
<p>è§‚å¯Ÿå¯å¾—å½“ $g(z) \geq 0.5$ æ—¶ï¼Œæœ‰ $z \geq 0$ï¼Œå³ $\theta^Tx \geq 0$ã€‚</p>
<p>åŒçº¿æ€§å›å½’æ¨¡å‹çš„ä¸åŒç‚¹åœ¨äºï¼š<br>$$<br>\begin{split}<br>z \to +\infty, e^{-\infty} \to 0 \Rightarrow g(z)=1 \\<br>z \to -\infty, e^{\infty}\to \infty \Rightarrow g(z)=0<br>\end{split}<br>$$<br>ç›´è§‚ä¸€ç‚¹æ¥ä¸ªä¾‹å­ï¼Œ${h_\theta}\left( x \right)=g\left( {\theta_0}+{\theta_1}{x_1}+{\theta_{2} }{x_{2} }\right)$ æ˜¯ä¸‹å›¾æ¨¡å‹çš„å‡è®¾å‡½æ•°ï¼š</p>
<img src="/2024/04/22/13-37-10/20180111_000814.png" class>
<p>æ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œè¦è¿›è¡Œåˆ†ç±»ï¼Œé‚£ä¹ˆåªè¦ $ {\theta_0}+{\theta_1}{x_1}+{\theta_{2} }{x_{2} }\geq0$ æ—¶ï¼Œå°±é¢„æµ‹ $y = 1$ï¼Œå³é¢„æµ‹ä¸ºæ­£å‘ç±»ã€‚</p>
<p>å¦‚æœå– $\theta = \begin{bmatrix} -3\\1\\1\end{bmatrix}$ï¼Œåˆ™æœ‰ $z = -3+{x_1}+{x_2}$ï¼Œå½“ $z \geq 0$ å³ ${x_1}+{x_2} \geq 3$ æ—¶ï¼Œæ˜“ç»˜åˆ¶å›¾ä¸­çš„å“çº¢è‰²ç›´çº¿å³<strong>å†³ç­–è¾¹ç•Œ</strong>ï¼Œä¸ºæ­£å‘ç±»ï¼ˆä»¥çº¢å‰æ ‡æ³¨çš„æ•°æ®ï¼‰ç»™å‡º $y=1$ çš„åˆ†ç±»é¢„æµ‹ç»“æœã€‚</p>
<p>ä¸Šé¢è®¨è®ºäº†é€»è¾‘å›å½’æ¨¡å‹ä¸­çº¿æ€§æ‹Ÿåˆçš„ä¾‹å­ï¼Œä¸‹é¢åˆ™æ˜¯ä¸€ä¸ªå¤šé¡¹å¼æ‹Ÿåˆçš„ä¾‹å­ï¼Œå’Œçº¿æ€§å›å½’ä¸­çš„æƒ…å†µä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>
<p>ä¸ºäº†æ‹Ÿåˆä¸‹å›¾æ•°æ®ï¼Œå»ºæ¨¡å¤šé¡¹å¼å‡è®¾å‡½æ•°ï¼š</p>
<p>$$<br>{h_\theta}\left( x \right)=g\left( {\theta_0}+{\theta_1}{x_1}+{\theta_{2} }{x_{2} }+{\theta_{3} }x_{1}^{2}+{\theta_{4} }x_{2}^{2} \right)<br>$$<br>è¿™é‡Œå– $\theta = \begin{bmatrix} -1\\0\\0\\1\\1\end{bmatrix}$ï¼Œå†³ç­–è¾¹ç•Œå¯¹åº”äº†ä¸€ä¸ªåœ¨åŸç‚¹å¤„çš„å•ä½åœ†ï¼ˆ${x_1}^2+{x_2}^2 = 1$ï¼‰ï¼Œå¦‚æ­¤ä¾¿å¯ç»™å‡ºåˆ†ç±»ç»“æœï¼Œå¦‚å›¾ä¸­å“çº¢è‰²æ›²çº¿ï¼š</p>
<img src="/2024/04/22/13-37-10/20180111_000653.png" class>
<p>å½“ç„¶ï¼Œé€šè¿‡ä¸€äº›æ›´ä¸ºå¤æ‚çš„å¤šé¡¹å¼ï¼Œè¿˜èƒ½æ‹Ÿåˆé‚£äº›å›¾åƒæ˜¾å¾—éå¸¸æ€ªå¼‚çš„æ•°æ®ï¼Œä½¿å¾—å†³ç­–è¾¹ç•Œå½¢ä¼¼ç¢—çŠ¶ã€çˆ±å¿ƒçŠ¶ç­‰ç­‰ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå†³ç­–è¾¹ç•Œå°±æ˜¯<strong>åˆ†ç±»çš„åˆ†ç•Œçº¿</strong>ã€‚</p>
<h2 id="6-4-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰"><a href="#6-4-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰" class="headerlink" title="6.4 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰"></a>6.4 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰</h2><p>é‚£æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å†³ç­–è¾¹ç•Œæ˜¯å•¥æ ·ï¼Ÿ$\theta$ å¤šå°‘æ—¶èƒ½å¾ˆå¥½çš„æ‹Ÿåˆæ•°æ®ï¼Ÿå½“ç„¶ï¼Œè§æ‹›æ‹†æ‹›ï¼Œæ€»è¦æ¥ä¸ª $J(\theta)$ã€‚</p>
<p>å¦‚æœç›´æ¥å¥—ç”¨çº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°ï¼š $J\left( {\theta} \right)=\frac{1}{2m}\sum\limits_{i=1}^{m}{ { {\left( h_{\theta} \left({x}^{\left( i \right)} \right)-{y}^{\left( i \right)} \right)}^{2} } }$</p>
<p>å…¶ä¸­ $h_\theta(x) = g\left(\theta^{T}x \right)$ï¼Œå¯ç»˜åˆ¶å…³äº $J(\theta)$ çš„å›¾åƒï¼Œå¦‚ä¸‹å›¾</p>
<img src="/2024/04/22/13-37-10/20180111_080314.png" class>
<p><strong>åŒæµé«˜æ•°æ•™æå…³äºå‡¸å‡½æ•°çš„å®šä¹‰æ˜¯åçš„</strong><br>å›å¿†çº¿æ€§å›å½’ä¸­çš„å¹³æ–¹æŸå¤±å‡½æ•°ï¼Œå…¶æ˜¯ä¸€ä¸ªäºŒæ¬¡å‡¸å‡½æ•°ï¼ˆç¢—çŠ¶ï¼‰ï¼ŒäºŒæ¬¡å‡¸å‡½æ•°çš„é‡è¦æ€§è´¨æ˜¯åªæœ‰ä¸€ä¸ªå±€éƒ¨æœ€å°ç‚¹å³å…¨å±€æœ€å°ç‚¹ã€‚ä¸Šå›¾ä¸­æœ‰è®¸å¤šå±€éƒ¨æœ€å°ç‚¹ï¼Œè¿™æ ·å°†ä½¿å¾—æ¢¯åº¦ä¸‹é™ç®—æ³•æ— æ³•ç¡®å®šæ”¶æ•›ç‚¹æ˜¯å…¨å±€æœ€ä¼˜ã€‚</p>
<img src="/2024/04/22/13-37-10/20180111_080514.png" class>
<p>å¦‚æœæ­¤å¤„çš„æŸå¤±å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œæ˜¯å¦ä¹Ÿæœ‰åŒæ ·çš„æ€§è´¨ï¼Œä»è€Œæœ€ä¼˜åŒ–ï¼Ÿè¿™ç±»è®¨è®ºå‡¸å‡½æ•°æœ€ä¼˜å€¼çš„é—®é¢˜ï¼Œè¢«ç§°ä¸º<strong>å‡¸ä¼˜åŒ–é—®é¢˜ï¼ˆConvex optimizationï¼‰</strong>ã€‚</p>
<p>å½“ç„¶ï¼ŒæŸå¤±å‡½æ•°ä¸æ­¢å¹³æ–¹æŸå¤±å‡½æ•°ä¸€ç§ã€‚</p>
<p>å¯¹äºé€»è¾‘å›å½’ï¼Œæ›´æ¢å¹³æ–¹æŸå¤±å‡½æ•°ä¸º<strong>å¯¹æ•°æŸå¤±å‡½æ•°</strong>ï¼Œå¯ç”±ç»Ÿè®¡å­¦ä¸­çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ–¹æ³•æ¨å‡ºä»£ä»·å‡½æ•° $J(\theta)$ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; J(\theta) = \dfrac{1}{m} \sum_{i=1}^m \mathrm{Cost}(h_\theta(x^{(i)}),y^{(i)}) \\<br>&amp; \mathrm{Cost}(h_\theta(x),y) = -\log(h_\theta(x)) \; &amp; \text{if y = 1} \\<br>&amp; \mathrm{Cost}(h_\theta(x),y) = -\log(1-h_\theta(x)) \; &amp; \text{if y = 0}<br>\end{split}<br>$$<br>åˆ™æœ‰å…³äº $J(\theta)$ çš„å›¾åƒå¦‚ä¸‹ï¼š</p>
<img src="/2024/04/22/13-37-10/20180111_080614.png" class>
<p>å¦‚å·¦å›¾ï¼Œå½“è®­ç»ƒé›†çš„ç»“æœä¸º $y=1$ï¼ˆæ­£æ ·æœ¬ï¼‰æ—¶ï¼Œéšç€å‡è®¾å‡½æ•°è¶‹å‘äº $1$ï¼Œä»£ä»·å‡½æ•°çš„å€¼ä¼šè¶‹äº $0$ï¼Œå³æ„å‘³ç€æ‹Ÿåˆç¨‹åº¦å¾ˆå¥½ã€‚å¦‚æœå‡è®¾å‡½æ•°æ­¤æ—¶è¶‹äº $0$ï¼Œåˆ™ä¼šç»™å‡ºä¸€ä¸ª<strong>å¾ˆé«˜çš„ä»£ä»·</strong>ï¼Œæ‹Ÿåˆç¨‹åº¦<strong>å·®</strong>ï¼Œç®—æ³•ä¼šæ ¹æ®å…¶è¿…é€Ÿçº æ­£ $\theta$ å€¼ï¼Œå³å›¾ $y=0$ åŒç†ã€‚</p>
<p>åŒºåˆ«äºå¹³æ–¹æŸå¤±å‡½æ•°ï¼Œå¯¹æ•°æŸå¤±å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œä½†æ²¡æœ‰å±€éƒ¨æœ€ä¼˜å€¼ã€‚</p>
<h2 id="6-5-ç®€åŒ–çš„æˆæœ¬å‡½æ•°å’Œæ¢¯åº¦ä¸‹é™ï¼ˆSimplified-Cost-Function-and-Gradient-Descentï¼‰"><a href="#6-5-ç®€åŒ–çš„æˆæœ¬å‡½æ•°å’Œæ¢¯åº¦ä¸‹é™ï¼ˆSimplified-Cost-Function-and-Gradient-Descentï¼‰" class="headerlink" title="6.5 ç®€åŒ–çš„æˆæœ¬å‡½æ•°å’Œæ¢¯åº¦ä¸‹é™ï¼ˆSimplified Cost Function and Gradient Descentï¼‰"></a>6.5 ç®€åŒ–çš„æˆæœ¬å‡½æ•°å’Œæ¢¯åº¦ä¸‹é™ï¼ˆSimplified Cost Function and Gradient Descentï¼‰</h2><p>ä¸åˆ†ç±»è®¨è®ºï¼Œå¯¹äºäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬å¯æŠŠä»£ä»·å‡½æ•°<strong>ç®€åŒ–</strong>ä¸ºä¸€ä¸ªå‡½æ•°ï¼š<br>$Cost\left( {h_\theta}\left( x \right),y \right)=-y\times log\left( {h_\theta}\left( x \right) \right)-(1-y)\times log\left( 1-{h_\theta}\left( x \right) \right)$</p>
<p>æˆæœ¬å‡½æ•°ï¼š<br>$J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]$</p>
<p>å‘é‡åŒ–å®ç°ï¼š$J(\theta)$åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è§’çº¿çŸ©é˜µ</p>
<p>$h = g(X\theta)$ï¼Œ$J(\theta) = \frac{1}{m} \cdot \left(-y^{T}\log(h)-(1-y)^{T}\log(1-h)\right)$</p>
<p>ä¸ºäº†æœ€ä¼˜åŒ– $\theta$ï¼Œä»ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œç®—æ³•åŒçº¿æ€§å›å½’ä¸­ä¸€è‡´ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \text{Repeat until convergence:} \; \lbrace \\<br>&amp;{ {\theta }_{j} }:={ {\theta }_{j} }-\alpha \frac{\partial }{\partial { {\theta }_{j} } }J\left( {\theta}  \right) \\<br>\rbrace<br>\end{split}<br>$$</p>
<p>è§£å‡ºåå¯¼å¾—ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \text{Repeat until convergence:} \; \lbrace \\<br>&amp; \theta_j := \theta_j - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)} \; &amp; \text{for j := 0,1â€¦n}\\<br>\rbrace<br>\end{split}<br>$$</p>
<p>æ³¨æ„ï¼Œè™½ç„¶å½¢å¼ä¸Šæ¢¯åº¦ä¸‹é™ç®—æ³•åŒçº¿æ€§å›å½’ä¸€æ ·ï¼Œä½†å…¶ä¸­çš„å‡è®¾å‡½ä¸åŒï¼Œå³$h_\theta(x) = g\left(\theta^{T}x \right)$ï¼Œä¸è¿‡æ±‚å¯¼åçš„ç»“æœä¹Ÿç›¸åŒã€‚</p>
<p>å‘é‡åŒ–å®ç°ï¼š$\theta := \theta - \frac{\alpha}{m} X^{T} (g(X \theta ) - y)$</p>
<p><strong>é€»è¾‘å›å½’ä¸­ä»£ä»·å‡½æ•°æ±‚å¯¼çš„æ¨å¯¼è¿‡ç¨‹ï¼š</strong><br>$$<br>J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]<br>$$<br>ä»¤ $f(\theta) = { {y}^{(i)} }\log \left( {h_\theta}\left( { {x}^{(i)} } \right) \right)+\left( 1-{ {y}^{(i)} } \right)\log \left( 1-{h_\theta}\left( { {x}^{(i)} } \right) \right)$</p>
<p>ä»¥åŠ, $h_\theta(x) = g(z)$ï¼Œ$g(z) = \frac{1}{1+e^{(-z)} }$ï¼Œåˆ™</p>
<p>$$<br>\begin{split}<br>f(\theta) &amp;= { {y}^{(i)} }\log \left( \frac{1}{1+{ {e}^{-z} } } \right)+\left( 1-{ {y}^{(i)} } \right)\log \left( 1-\frac{1}{1+{ {e}^{-z} } } \right) \\<br>&amp;= -{ {y}^{(i)} }\log \left( 1+{ {e}^{-z} } \right)-\left( 1-{ {y}^{(i)} } \right)\log \left( 1+{ {e}^{z} } \right)<br>\end{split}<br>$$</p>
<p>ä»¥åŠï¼Œ$z=\theta^Tx^{(i)}$ï¼Œå¯¹ $\theta_j$ æ±‚åå¯¼ï¼Œåˆ™æ²¡æœ‰ $\theta_j$ çš„é¡¹æ±‚åå¯¼å³ä¸º $0$ï¼Œéƒ½æ¶ˆå»ï¼Œåˆ™å¾—ï¼š</p>
<p>$$<br>\frac{\partial z}{\partial {\theta_{j} } }=\frac{\partial }{\partial {\theta_{j} } }\left( \theta^Tx^{(i)}  \right)=x^{(i)}_j<br>$$<br>æ‰€ä»¥æœ‰ï¼š</p>
<p>$$<br>\begin{split}<br>\frac{\partial }{\partial {\theta_{j} } }f\left( \theta  \right)&amp;=\frac{\partial }{\partial {\theta_{j} } }[-{ {y}^{(i)} }\log \left( 1+{ {e}^{-z} } \right)-\left( 1-{ {y}^{(i)} } \right)\log \left( 1+{ {e}^{z} } \right)] \\<br>&amp;=-{ {y}^{(i)} }\frac{\frac{\partial }{\partial {\theta_{j} } }\left(-z \right) e^{-z} }{1+e^{-z} }-\left( 1-{ {y}^{(i)} } \right)\frac{\frac{\partial }{\partial {\theta_{j} } }\left(z \right){e^{z} } }{1+e^{z} } \\<br>&amp;=-{ {y}^{(i)} }\frac{-x^{(i)}_je^{-z} }{1+e^{-z} }-\left( 1-{ {y}^{(i)} } \right)\frac{x^{(i)}_j}{1+e^{-z} } \\<br>&amp;=\left({ {y}^{(i)} }\frac{e^{-z} }{1+e^{-z} }-\left( 1-{ {y}^{(i)} } \right)\frac{1}{1+e^{-z} }\right)x^{(i)}_j \\<br>&amp;=\left({ {y}^{(i)} }\frac{e^{-z} }{1+e^{-z} }-\left( 1-{ {y}^{(i)} } \right)\frac{1}{1+e^{-z} }\right)x^{(i)}_j \\<br>&amp;=\left(\frac{ { {y}^{(i)} }(e^{-z}+1)-1}{1+e^{-z} }\right)x^{(i)}_j \\<br>&amp;={({ {y}^{(i)} }-\frac{1}{1+{ {e}^{-z} } })x_j^{(i)} } \\<br>&amp;={\left({ {y}^{(i)} }-{h_\theta}\left( { {x}^{(i)} } \right)\right)x_j^{(i)} } \\<br>&amp;=-{\left({h_\theta}\left( { {x}^{(i)} } \right)-{ {y}^{(i)} }\right)x_j^{(i)} }<br>\end{split}<br>$$</p>
<p>åˆ™å¯å¾—ä»£ä»·å‡½æ•°çš„å¯¼æ•°ï¼š</p>
<p>$$<br>\frac{\partial }{\partial {\theta_{j} } }J(\theta) = -\frac{1}{m}\sum\limits_{i=1}^{m}{\frac{\partial }{\partial {\theta_{j} } }f(\theta)}=\frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)}<br>$$</p>
<h2 id="6-6-è¿›é˜¶ä¼˜åŒ–ï¼ˆAdvanced-Optimizationï¼‰"><a href="#6-6-è¿›é˜¶ä¼˜åŒ–ï¼ˆAdvanced-Optimizationï¼‰" class="headerlink" title="6.6 è¿›é˜¶ä¼˜åŒ–ï¼ˆAdvanced Optimizationï¼‰"></a>6.6 è¿›é˜¶ä¼˜åŒ–ï¼ˆAdvanced Optimizationï¼‰</h2><p>æˆ‘ä»¬ç¼–å†™ä»£ç ç»™å‡ºä»£ä»·å‡½æ•°åŠå…¶åå¯¼æ•°ç„¶åä¼ å…¥æ¢¯åº¦ä¸‹é™ç®—æ³•ä¸­ï¼Œæ¥ä¸‹æ¥ç®—æ³•åˆ™ä¼šä¸ºæˆ‘ä»¬æœ€å°åŒ–ä»£ä»·å‡½æ•°ç»™å‡ºå‚æ•°çš„æœ€ä¼˜è§£ã€‚è¿™ç±»ç®—æ³•è¢«ç§°ä¸º<strong>æœ€ä¼˜åŒ–ç®—æ³•ï¼ˆOptimization Algorithmsï¼‰</strong>ï¼Œæ¢¯åº¦ä¸‹é™ç®—æ³•ä¸æ˜¯å”¯ä¸€çš„æœ€å°åŒ–ç®—æ³•ã€‚</p>
<p>ä¸€äº›æœ€ä¼˜åŒ–ç®—æ³•ï¼š</p>
<ul>
<li>æ¢¯åº¦ä¸‹é™æ³•ï¼ˆGradient Descentï¼‰</li>
<li>å…±è½­æ¢¯åº¦ç®—æ³•ï¼ˆConjugate gradientï¼‰</li>
<li>ç‰›é¡¿æ³•å’Œæ‹Ÿç‰›é¡¿æ³•ï¼ˆNewtonâ€™s method &amp; Quasi-Newton Methodsï¼‰<ul>
<li>DFPç®—æ³•</li>
<li>å±€éƒ¨ä¼˜åŒ–æ³•ï¼ˆBFGSï¼‰</li>
<li>æœ‰é™å†…å­˜å±€éƒ¨ä¼˜åŒ–æ³•ï¼ˆL-BFGSï¼‰</li>
</ul>
</li>
<li>æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ï¼ˆLagrange multiplierï¼‰</li>
</ul>
<p>æ¯”è¾ƒæ¢¯åº¦ä¸‹é™ç®—æ³•ï¼šä¸€äº›æœ€ä¼˜åŒ–ç®—æ³•è™½ç„¶ä¼šæ›´ä¸ºå¤æ‚ï¼Œéš¾ä»¥è°ƒè¯•ï¼Œä¸è¿‡è¿™äº›ç®—æ³•é€šå¸¸æ•ˆç‡æ›´é«˜ï¼Œå¹¶æ— éœ€é€‰æ‹©å­¦ä¹ é€Ÿç‡ $\alpha$ã€‚</p>
<p>Octave/Matlab ä¸­å¯¹è¿™ç±»é«˜çº§ç®—æ³•åšäº†å°è£…ï¼Œæ˜“äºè°ƒç”¨ã€‚</p>
<p>å‡è®¾æœ‰ $J(\theta) = (\theta_1-5)^2 + (\theta_2-5)^2$ï¼Œè¦æ±‚å‚æ•° $\theta=\begin{bmatrix} \theta_1\\\theta_2\end{bmatrix}$çš„æœ€ä¼˜å€¼ã€‚</p>
<p>ä¸‹é¢ä¸º Octave/Matlab æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„ä»£ç å®ä¾‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªå‡½æ•°ä»¥è¿”å›ä»£ä»·å‡½æ•°åŠå…¶åå¯¼æ•°ï¼š</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[jVal, gradient]</span> = <span class="title">costFunction</span><span class="params">(theta)</span></span></span><br><span class="line">  <span class="comment">% code to compute J(theta)</span></span><br><span class="line">  jVal=(theta(<span class="number">1</span>)<span class="number">-5</span>)^<span class="number">2</span>+(theta(<span class="number">2</span>)<span class="number">-5</span>)^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">% code to compute derivative of J(theta)</span></span><br><span class="line">  gradient=<span class="built_in">zeros</span>(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">  gradient(<span class="number">1</span>)=<span class="number">2</span>*(theta(<span class="number">1</span>)<span class="number">-5</span>);</span><br><span class="line">  gradient(<span class="number">2</span>)=<span class="number">2</span>*(theta(<span class="number">2</span>)<span class="number">-5</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>å°† <code>costFunction</code> å‡½æ•°åŠæ‰€éœ€å‚æ•°ä¼ å…¥æœ€ä¼˜åŒ–å‡½æ•° <code>fminunc</code>ï¼Œä»¥æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ï¼š</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">options = optimset(<span class="string">&#x27;GradObj&#x27;</span>, <span class="string">&#x27;on&#x27;</span>, <span class="string">&#x27;MaxIter&#x27;</span>, <span class="number">100</span>);</span><br><span class="line">initialTheta = <span class="built_in">zeros</span>(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line">   [optTheta, functionVal, exitFlag] = fminunc(@costFunction, initialTheta, options);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>&#39;GradObj&#39;, &#39;on&#39;</code>: å¯ç”¨æ¢¯åº¦ç›®æ ‡å‚æ•°ï¼ˆåˆ™éœ€è¦å°†æ¢¯åº¦ä¼ å…¥ç®—æ³•ï¼‰</p>
<p><code>&#39;MaxIter&#39;, 100</code>: æœ€å¤§è¿­ä»£æ¬¡æ•°ä¸º 100 æ¬¡</p>
<p><code>@xxx</code>: Octave/Matlab ä¸­çš„å‡½æ•°æŒ‡é’ˆ</p>
<p><code>optTheta</code>: æœ€ä¼˜åŒ–å¾—åˆ°çš„å‚æ•°å‘é‡</p>
<p><code>functionVal</code>: å¼•ç”¨å‡½æ•°æœ€åä¸€æ¬¡çš„è¿”å›å€¼</p>
<p><code>exitFlag</code>: æ ‡è®°ä»£ä»·å‡½æ•°æ˜¯å¦æ”¶æ•›</p>
</blockquote>
<p>æ³¨ï¼šOctave/Matlab ä¸­å¯ä»¥ä½¿ç”¨ <code>help fminunc</code> å‘½ä»¤éšæ—¶æŸ¥çœ‹å‡½æ•°çš„å¸®åŠ©æ–‡æ¡£ã€‚</p>
<ol>
<li>è¿”å›ç»“æœ</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">optTheta =</span><br><span class="line"></span><br><span class="line">     5</span><br><span class="line">     5</span><br><span class="line"></span><br><span class="line">functionVal = 0</span><br><span class="line"></span><br><span class="line">exitFlag = 1</span><br></pre></td></tr></table></figure>
<h2 id="6-7-å¤šç±»åˆ«åˆ†ç±»-ä¸€å¯¹å¤šï¼ˆMulticlass-Classification-One-vs-allï¼‰"><a href="#6-7-å¤šç±»åˆ«åˆ†ç±»-ä¸€å¯¹å¤šï¼ˆMulticlass-Classification-One-vs-allï¼‰" class="headerlink" title="6.7 å¤šç±»åˆ«åˆ†ç±»: ä¸€å¯¹å¤šï¼ˆMulticlass Classification: One-vs-allï¼‰"></a>6.7 å¤šç±»åˆ«åˆ†ç±»: ä¸€å¯¹å¤šï¼ˆMulticlass Classification: One-vs-allï¼‰</h2><p>ä¸€ç›´åœ¨è®¨è®ºäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œè¿™é‡Œè°ˆè°ˆå¤šç±»åˆ«åˆ†ç±»é—®é¢˜ï¼ˆæ¯”å¦‚å¤©æ°”é¢„æŠ¥ï¼‰ã€‚</p>
<img src="/2024/04/22/13-37-10/20180112_001720.png" class>
<p>åŸç†æ˜¯ï¼Œè½¬åŒ–å¤šç±»åˆ«åˆ†ç±»é—®é¢˜ä¸º<strong>å¤šä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜</strong>ï¼Œè¿™ç§æ–¹æ³•è¢«ç§°ä¸º One-vs-allã€‚</p>
<p>æ­£å¼å®šä¹‰ï¼š$h_\theta^{\left( i \right)}\left( x \right)=p\left( y=i|x;\theta  \right), i=\left( 1,2,3â€¦.k \right)$</p>
<blockquote>
<p>$h_\theta^{\left( i \right)}\left( x \right)$: è¾“å‡º $y=i$ï¼ˆå±äºç¬¬ $i$ ä¸ªåˆ†ç±»ï¼‰çš„å¯èƒ½æ€§</p>
<p>$k$: ç±»åˆ«æ€»æ•°ï¼Œå¦‚ä¸Šå›¾ $k=3$ã€‚</p>
</blockquote>
<p>æ³¨æ„å¤šç±»åˆ«åˆ†ç±»é—®é¢˜ä¸­ $h_\theta(x)$ çš„ç»“æœä¸å†åªæ˜¯ä¸€ä¸ªå®æ•°è€Œæ˜¯ä¸€ä¸ªå‘é‡ï¼Œå¦‚æœç±»åˆ«æ€»æ•°ä¸º $k$ï¼Œç°åœ¨ $h_\theta(x)$ å°±æ˜¯ä¸€ä¸ª $k$ ç»´å‘é‡ã€‚</p>
<p>å¯¹äºæŸä¸ªæ ·æœ¬å®ä¾‹ï¼Œéœ€è®¡ç®—æ‰€æœ‰çš„ $k$ ç§åˆ†ç±»æƒ…å†µå¾—åˆ° $h_\theta(x)$ï¼Œç„¶åçœ‹åˆ†ä¸ºå“ªä¸ªç±»åˆ«æ—¶é¢„æµ‹è¾“å‡ºçš„å€¼æœ€å¤§ï¼Œå°±è¯´å®ƒè¾“å‡ºå±äºå“ªä¸ªç±»åˆ«ï¼Œå³ $y = \mathop{\max}\limits_i\,h_\theta^{\left( i \right)}\left( x \right)$ã€‚</p>
<h1 id="7-æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰"><a href="#7-æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰" class="headerlink" title="7 æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰"></a>7 æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰</h1><h2 id="7-1-è¿‡æ‹Ÿåˆé—®é¢˜ï¼ˆThe-Problem-of-Overfittingï¼‰"><a href="#7-1-è¿‡æ‹Ÿåˆé—®é¢˜ï¼ˆThe-Problem-of-Overfittingï¼‰" class="headerlink" title="7.1 è¿‡æ‹Ÿåˆé—®é¢˜ï¼ˆThe Problem of Overfittingï¼‰"></a>7.1 è¿‡æ‹Ÿåˆé—®é¢˜ï¼ˆThe Problem of Overfittingï¼‰</h2><p>å¯¹äºæ‹Ÿåˆçš„è¡¨ç°ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç±»æƒ…å†µï¼š</p>
<ul>
<li><p><strong>æ¬ æ‹Ÿåˆï¼ˆUnderfittingï¼‰</strong></p>
<p>æ— æ³•å¾ˆå¥½çš„æ‹Ÿåˆè®­ç»ƒé›†ä¸­çš„æ•°æ®ï¼Œé¢„æµ‹å€¼å’Œå®é™…å€¼çš„è¯¯å·®å¾ˆå¤§ï¼Œè¿™ç±»æƒ…å†µè¢«ç§°ä¸ºæ¬ æ‹Ÿåˆã€‚æ‹Ÿåˆæ¨¡å‹æ¯”è¾ƒç®€å•ï¼ˆç‰¹å¾é€‰å°‘äº†ï¼‰æ—¶æ˜“å‡ºç°è¿™ç±»æƒ…å†µã€‚</p>
</li>
<li><p><strong>ä¼˜è‰¯çš„æ‹Ÿåˆï¼ˆJust rightï¼‰</strong></p>
<p>ä¸è®ºæ˜¯è®­ç»ƒé›†æ•°æ®è¿˜æ˜¯ä¸åœ¨è®­ç»ƒé›†ä¸­çš„é¢„æµ‹æ•°æ®ï¼Œéƒ½èƒ½ç»™å‡ºè¾ƒä¸ºæ­£ç¡®çš„ç»“æœã€‚</p>
</li>
<li><p><strong>è¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰</strong></p>
<p>èƒ½å¾ˆå¥½ç”šè‡³å®Œç¾æ‹Ÿåˆè®­ç»ƒé›†ä¸­çš„æ•°æ®ï¼Œå³ $J(\theta) \to 0$ï¼Œä½†æ˜¯å¯¹äºä¸åœ¨è®­ç»ƒé›†ä¸­çš„<strong>æ–°æ•°æ®</strong>ï¼Œé¢„æµ‹å€¼å’Œå®é™…å€¼çš„è¯¯å·®ä¼šå¾ˆå¤§ï¼Œ<strong>æ³›åŒ–èƒ½åŠ›å¼±</strong>ï¼Œè¿™ç±»æƒ…å†µè¢«ç§°ä¸ºè¿‡æ‹Ÿåˆã€‚æ‹Ÿåˆæ¨¡å‹è¿‡äºå¤æ‚ï¼ˆç‰¹å¾é€‰å¤šäº†ï¼‰æ—¶æ˜“å‡ºç°è¿™ç±»æƒ…å†µã€‚</p>
</li>
</ul>
<p>çº¿æ€§æ¨¡å‹ä¸­çš„æ‹Ÿåˆæƒ…å†µï¼ˆå·¦å›¾æ¬ æ‹Ÿåˆï¼Œå³å›¾è¿‡æ‹Ÿåˆï¼‰ï¼š<br><img src="/2024/04/22/13-37-10/20180112_091654.png" class></p>
<p>é€»è¾‘åˆ†ç±»æ¨¡å‹ä¸­çš„æ‹Ÿåˆæƒ…å†µï¼š<br><img src="/2024/04/22/13-37-10/20180112_092027.png" class></p>
<p>ä¸ºäº†åº¦é‡æ‹Ÿåˆè¡¨ç°ï¼Œå¼•å…¥ï¼š</p>
<ul>
<li><p>åå·®ï¼ˆbiasï¼‰</p>
<p>æŒ‡æ¨¡å‹çš„é¢„æµ‹å€¼ä¸çœŸå®å€¼çš„<strong>åç¦»ç¨‹åº¦</strong>ã€‚åå·®è¶Šå¤§ï¼Œé¢„æµ‹å€¼åç¦»çœŸå®å€¼è¶Šå‰å®³ã€‚åå·®ä½æ„å‘³ç€èƒ½è¾ƒå¥½åœ°ååº”è®­ç»ƒé›†ä¸­çš„æ•°æ®æƒ…å†µã€‚</p>
</li>
<li><p>æ–¹å·®ï¼ˆVarianceï¼‰</p>
<p>æŒ‡æ¨¡å‹é¢„æµ‹å€¼çš„<strong>ç¦»æ•£ç¨‹åº¦æˆ–è€…å˜åŒ–èŒƒå›´</strong>ã€‚æ–¹å·®è¶Šå¤§ï¼Œæ•°æ®çš„åˆ†å¸ƒè¶Šåˆ†æ•£ï¼Œå‡½æ•°æ³¢åŠ¨è¶Šå¤§ï¼Œæ³›åŒ–èƒ½åŠ›è¶Šå·®ã€‚æ–¹å·®ä½æ„å‘³ç€æ‹Ÿåˆæ›²çº¿çš„ç¨³å®šæ€§é«˜ï¼Œæ³¢åŠ¨å°ã€‚</p>
</li>
</ul>
<p>æ®æ­¤ï¼Œæˆ‘ä»¬æœ‰å¯¹åŒä¸€æ•°æ®çš„å„ç±»æ‹Ÿåˆæƒ…å†µå¦‚ä¸‹å›¾ï¼š<br><img src="/2024/04/22/13-37-10/20180112_085630.png" class></p>
<p>æ®ä¸Šå›¾ï¼Œé«˜åå·®æ„å‘³ç€æ¬ æ‹Ÿåˆï¼Œé«˜æ–¹å·®æ„å‘³ç€è¿‡æ‹Ÿåˆã€‚</p>
<p>æˆ‘ä»¬åº”å°½é‡ä½¿å¾—æ‹Ÿåˆæ¨¡å‹å¤„äºä½æ–¹å·®ï¼ˆè¾ƒå¥½åœ°æ‹Ÿåˆæ•°æ®ï¼‰çŠ¶æ€ä¸”åŒæ—¶å¤„äºä½åå·®ï¼ˆè¾ƒå¥½åœ°é¢„æµ‹æ–°å€¼ï¼‰çš„çŠ¶æ€ã€‚</p>
<p>é¿å…è¿‡æ‹Ÿåˆçš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>å‡å°‘ç‰¹å¾çš„æ•°é‡<ul>
<li>æ‰‹åŠ¨é€‰å–éœ€ä¿ç•™çš„ç‰¹å¾</li>
<li>ä½¿ç”¨æ¨¡å‹é€‰æ‹©ç®—æ³•æ¥é€‰å–åˆé€‚çš„ç‰¹å¾ï¼ˆå¦‚ PCA ç®—æ³•ï¼‰</li>
<li>å‡å°‘ç‰¹å¾çš„æ–¹å¼æ˜“ä¸¢å¤±æœ‰ç”¨çš„ç‰¹å¾ä¿¡æ¯</li>
</ul>
</li>
<li>æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰<ul>
<li>å¯ä¿ç•™æ‰€æœ‰å‚æ•°ï¼ˆè®¸å¤šæœ‰ç”¨çš„ç‰¹å¾éƒ½èƒ½è½»å¾®å½±å“ç»“æœï¼‰</li>
<li>å‡å°‘/æƒ©ç½šå„å‚æ•°å¤§å°ï¼ˆmagnitudeï¼‰ï¼Œä»¥å‡è½»å„å‚æ•°å¯¹æ¨¡å‹çš„å½±å“ç¨‹åº¦</li>
<li>å½“æœ‰å¾ˆå¤šå‚æ•°å¯¹äºæ¨¡å‹åªæœ‰è½»å¾®å½±å“æ—¶ï¼Œæ­£åˆ™åŒ–æ–¹æ³•çš„è¡¨ç°å¾ˆå¥½</li>
</ul>
</li>
</ul>
<h2 id="7-2-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰"><a href="#7-2-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰" class="headerlink" title="7.2 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰"></a>7.2 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰</h2><p>å¾ˆå¤šæ—¶å€™ç”±äºç‰¹å¾æ•°é‡è¿‡å¤šï¼Œè¿‡æ‹Ÿåˆæ—¶æˆ‘ä»¬å¾ˆéš¾é€‰å‡ºè¦ä¿ç•™çš„ç‰¹å¾ï¼Œè¿™æ—¶å€™åº”ç”¨æ­£åˆ™åŒ–æ–¹æ³•åˆ™æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<p>ä¸Šæ–‡ä¸­ï¼Œ$\theta_0 + \theta_1x + \theta_2x^2 + \theta_3x^3 + \theta_4x^4$ è¿™æ ·ä¸€ä¸ªå¤æ‚çš„å¤šé¡¹å¼è¾ƒæ˜“è¿‡æ‹Ÿåˆï¼Œåœ¨ä¸å‡å°‘ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œ<strong>å¦‚æœèƒ½æ¶ˆé™¤ç±»ä¼¼äº $\theta_3x^3$ã€$\theta_4x^4$ ç­‰å¤æ‚éƒ¨åˆ†ï¼Œé‚£å¤æ‚å‡½æ•°å°±å˜å¾—ç®€å•äº†</strong>ã€‚</p>
<p>ä¸ºäº†ä¿ç•™å„ä¸ªå‚æ•°çš„ä¿¡æ¯ï¼Œä¸ä¿®æ”¹å‡è®¾å‡½æ•°ï¼Œæ”¹è€Œä¿®æ”¹ä»£ä»·å‡½æ•°ï¼š</p>
<ul>
<li>æ¶ˆé™¤æ–¹å¼ä¸ºå¦‚æœä½¿ä»£ä»·å‡½æ•°è¶³å¤Ÿå°ï¼Œ$\lambda$ç­‰äº1000æ—¶ï¼Œ$\theta_3$å°±éœ€è¦çº¦ç­‰äº0ï¼Œæ¶ˆé™¤äº†è¿™ä¸ªç‰¹å¾çš„å½±å“ã€‚</li>
</ul>
<p>$$<br>min_\theta\ \dfrac{1}{2m}\sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + 1000\cdot\theta_3^2 + 1000\cdot\theta_4^2<br>$$</p>
<p>ä¸Šå¼ä¸­ï¼Œæˆ‘ä»¬åœ¨ä»£ä»·å‡½æ•°ä¸­å¢åŠ äº† $\theta_3$ã€$\theta_4$ çš„æƒ©ç½šé¡¹ï¼ˆpenalty termï¼‰$1000\cdot\theta_3^2 + 1000\cdot\theta_4^2$ï¼Œå¦‚æœè¦æœ€å°åŒ–ä»£ä»·å‡½æ•°ï¼Œé‚£ä¹ˆåŠ¿å¿…éœ€è¦æå¤§åœ°<strong>å‡å° $\theta_3$ã€$\theta_4$</strong>ï¼Œä»è€Œä½¿å¾—å‡è®¾å‡½æ•°ä¸­çš„ $\theta_3x^3$ã€$\theta_4x^4$ è¿™ä¸¤é¡¹çš„å‚æ•°éå¸¸å°ï¼Œå°±ç›¸å½“äºæ²¡æœ‰äº†ï¼Œå‡è®¾å‡½æ•°ä¹Ÿå°±<strong>å˜å¾—ç®€å•</strong>äº†ï¼Œä»è€Œåœ¨ä¿ç•™å„å‚æ•°çš„æƒ…å†µä¸‹é¿å…äº†è¿‡æ‹Ÿåˆé—®é¢˜ã€‚</p>
<img src="/2024/04/22/13-37-10/20180114_090054.png" class>
<p>æ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œæœ‰æ—¶ä¹Ÿæ— æ³•å†³å®šè¦å‡å°‘å“ªä¸ªå‚æ•°ï¼Œæ•…ç»Ÿä¸€æƒ©ç½šé™¤äº† $\theta_0$ å¤–çš„æ‰€æœ‰å‚æ•°ã€‚</p>
<p>ä»£ä»·å‡½æ•°ï¼š</p>
<p>$$<br>J\left( \theta  \right)=\frac{1}{2m}[\sum\limits_{i=1}^{m}{ { {({h_\theta}({ {x}^{(i)} })-{ {y}^{(i)} })}^{2} }+\lambda \sum\limits_{j=1}^{n}{\theta_{j}^{2} }]}<br>$$</p>
<blockquote>
<p>$\lambda$: æ­£åˆ™åŒ–å‚æ•°ï¼ˆRegularization Parameterï¼‰ï¼Œ$\lambda &gt; 0$</p>
<p>$\sum\limits_{j=1}^{n}$: ä¸æƒ©ç½šåŸºç¡€å‚æ•° $\theta_0$</p>
<p>$\lambda \sum\limits_{j=1}^{n}{\theta_{j}^{2} }$: æ­£åˆ™åŒ–é¡¹</p>
</blockquote>
<p>$\lambda$ æ­£åˆ™åŒ–å‚æ•°ç±»ä¼¼äºå­¦ä¹ é€Ÿç‡ï¼Œä¹Ÿéœ€è¦æˆ‘ä»¬è‡ªè¡Œå¯¹å…¶é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å€¼ã€‚</p>
<ul>
<li>è¿‡å¤§<ul>
<li>å¯¼è‡´æ¨¡å‹æ¬ æ‹Ÿåˆï¼ˆå‡è®¾å¯èƒ½ä¼šå˜æˆè¿‘ä¹ $x = \theta_0$ çš„ç›´çº¿ï¼‰</li>
<li>æ— æ³•æ­£å¸¸å»è¿‡æ‹Ÿé—®é¢˜</li>
<li>æ¢¯åº¦ä¸‹é™å¯èƒ½æ— æ³•æ”¶æ•›</li>
</ul>
</li>
<li>è¿‡å°<ul>
<li>æ— æ³•é¿å…è¿‡æ‹Ÿåˆï¼ˆç­‰äºæ²¡æœ‰ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ­£åˆ™åŒ–ç¬¦åˆå¥¥å¡å§†å‰ƒåˆ€ï¼ˆOccamâ€™s razorï¼‰åŸç†ã€‚åœ¨æ‰€æœ‰å¯èƒ½é€‰æ‹©çš„æ¨¡å‹ä¸­ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°è§£é‡Šå·²çŸ¥æ•°æ®å¹¶ä¸”ååˆ†ç®€å•æ‰æ˜¯æœ€å¥½çš„æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯åº”è¯¥é€‰æ‹©çš„æ¨¡å‹ã€‚ä»è´å¶æ–¯ä¼°è®¡çš„è§’åº¦æ¥çœ‹ï¼Œæ­£åˆ™åŒ–é¡¹å¯¹åº”äºæ¨¡å‹çš„å…ˆéªŒæ¦‚ç‡ã€‚å¯ä»¥å‡è®¾å¤æ‚çš„æ¨¡å‹æœ‰è¾ƒå¤§çš„å…ˆéªŒæ¦‚ç‡ï¼Œç®€å•çš„æ¨¡å‹æœ‰è¾ƒå°çš„å…ˆéªŒæ¦‚ç‡ã€‚</p>
<p>æ­£åˆ™åŒ–æ˜¯ç»“æ„é£é™©æœ€å°åŒ–ç­–ç•¥çš„å®ç°ï¼Œæ˜¯å»è¿‡æ‹Ÿåˆé—®é¢˜çš„å…¸å‹æ–¹æ³•ï¼Œè™½ç„¶çœ‹èµ·æ¥å¤šäº†ä¸ªä¸€å‚æ•°å¤šäº†ä¸€é‡éº»çƒ¦ï¼Œåæ–‡ä¼šä»‹ç»è‡ªåŠ¨é€‰å–æ­£åˆ™åŒ–å‚æ•°çš„æ–¹æ³•ã€‚æ¨¡å‹è¶Šå¤æ‚ï¼Œæ­£åˆ™åŒ–å‚æ•°å€¼å°±è¶Šå¤§ã€‚æ¯”å¦‚ï¼Œæ­£åˆ™åŒ–é¡¹å¯ä»¥æ˜¯æ¨¡å‹å‚æ•°å‘é‡çš„èŒƒæ•°ã€‚</p>
</blockquote>
<h2 id="7-3-çº¿æ€§å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized-Linear-Regressionï¼‰"><a href="#7-3-çº¿æ€§å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized-Linear-Regressionï¼‰" class="headerlink" title="7.3 çº¿æ€§å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized Linear Regressionï¼‰"></a>7.3 çº¿æ€§å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized Linear Regressionï¼‰</h2><p>åº”ç”¨æ­£åˆ™åŒ–çš„çº¿æ€§å›å½’æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \text{Repeat}\ \lbrace \\<br>&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \\<br>&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right], \ \ \ j \in \lbrace 1,2â€¦n\rbrace\\<br>&amp; \rbrace<br>\end{split}<br>$$<br>ä¹Ÿå¯ä»¥ç§»é¡¹å¾—åˆ°æ›´æ–°è¡¨è¾¾å¼çš„å¦ä¸€ç§è¡¨ç¤ºå½¢å¼</p>
<p>$$<br>\theta_j := \theta_j(1 - \alpha\frac{\lambda}{m}) - \alpha\frac{1}{m}\sum_{i=1}^m(h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)}<br>$$</p>
<blockquote>
<p>$\frac{\lambda}{m}\theta_j$: æ­£åˆ™åŒ–é¡¹</p>
</blockquote>
<p>åº”ç”¨æ­£åˆ™åŒ–çš„æ­£è§„æ–¹ç¨‹æ³•ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \theta = \left( X^TX + \lambda \cdot L \right)^{-1} X^Ty \\<br>&amp; \text{where}\ \ L = \begin{bmatrix} 0 &amp; &amp; &amp; &amp; \\<br>&amp; 1 &amp; &amp; &amp; \\<br>&amp; &amp; 1 &amp; &amp; \\<br>&amp; &amp; &amp; \ddots &amp; \\<br>&amp; &amp; &amp; &amp; 1 \\ \end{bmatrix}<br>\end{split}<br>$$</p>
<blockquote>
<p>$\lambda\cdot L$: æ­£åˆ™åŒ–é¡¹</p>
<p>$L$: ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ä¸º $0$ çš„ $n+1$ ç»´å•ä½çŸ©é˜µ</p>
</blockquote>
<p>Octave ä»£ç ï¼š<br><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; L = <span class="built_in">eye</span>(<span class="number">5</span>)</span><br><span class="line">&gt;&gt; L(<span class="number">1</span>,<span class="number">1</span>) = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">L =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>å‰æ–‡æåˆ°æ­£åˆ™åŒ–å¯ä»¥è§£å†³æ­£è§„æ–¹ç¨‹æ³•ä¸­ä¸å¯é€†çš„é—®é¢˜ï¼Œå³å¢åŠ äº† $\lambda \cdot L$ æ­£åˆ™åŒ–é¡¹åï¼Œå¯ä»¥ä¿è¯ $X^TX + \lambda \cdot L$ å¯é€†ï¼ˆinvertibleï¼‰ï¼Œå³ä¾¿ $X^TX$ ä¸å¯é€†ï¼ˆnon-invertibleï¼‰ã€‚ </p>
<h2 id="7-4-é€»è¾‘å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized-Logistic-Regressionï¼‰"><a href="#7-4-é€»è¾‘å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized-Logistic-Regressionï¼‰" class="headerlink" title="7.4 é€»è¾‘å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized Logistic Regressionï¼‰"></a>7.4 é€»è¾‘å›å½’æ­£åˆ™åŒ–ï¼ˆRegularized Logistic Regressionï¼‰</h2><p>ä¸ºé€»è¾‘å›å½’çš„ä»£ä»·å‡½æ•°æ·»åŠ æ­£åˆ™åŒ–é¡¹ï¼š</p>
<p>$$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^m \large[ y^{(i)}\ \log (h_\theta (x^{(i)})) + (1 - y^{(i)})\ \log (1 - h_\theta(x^{(i)}))\large] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2<br>$$<br>å‰æ–‡å·²ç»è¯æ˜è¿‡é€»è¾‘å›å½’å’Œçº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°çš„æ±‚å¯¼ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ­¤å¤„é€šè¿‡ç»™æ­£åˆ™åŒ–é¡¹æ·»åŠ å¸¸æ•° $\frac{1}{2}$ï¼Œåˆ™å…¶æ±‚å¯¼ç»“æœä¹Ÿå°±ä¸€æ ·äº†ã€‚</p>
<p>ä»è€Œæœ‰åº”ç”¨æ­£åˆ™åŒ–çš„é€»è¾‘å›å½’æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \text{Repeat}\ \lbrace \\<br>&amp; \ \ \ \ \theta_0 := \theta_0 - \alpha\ \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \\<br>&amp; \ \ \ \ \theta_j := \theta_j - \alpha\ \left[ \left( \frac{1}{m}\ \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right], \ \ \ j \in \lbrace 1,2â€¦n\rbrace\\<br>&amp; \rbrace \end{split}<br>$$</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°äºŒ å¤šå˜é‡çº¿æ€§å›å½’</title>
    <url>/2024/04/21/07-10-14/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.21ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-40-33/" title="æœºå™¨ç¬”è®°æ±‡æ€»">å´æ©è¾¾æœºå™¨å­¦ä¹  - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="4-å¤šå˜é‡çº¿æ€§å›å½’ï¼ˆLinear-Regression-with-Multiple-Variablesï¼‰"><a href="#4-å¤šå˜é‡çº¿æ€§å›å½’ï¼ˆLinear-Regression-with-Multiple-Variablesï¼‰" class="headerlink" title="4 å¤šå˜é‡çº¿æ€§å›å½’ï¼ˆLinear Regression with Multiple Variablesï¼‰"></a>4 å¤šå˜é‡çº¿æ€§å›å½’ï¼ˆLinear Regression with Multiple Variablesï¼‰</h1><h2 id="4-1-å¤šç‰¹å¾ï¼ˆMultiple-Featuresï¼‰"><a href="#4-1-å¤šç‰¹å¾ï¼ˆMultiple-Featuresï¼‰" class="headerlink" title="4.1 å¤šç‰¹å¾ï¼ˆMultiple Featuresï¼‰"></a>4.1 å¤šç‰¹å¾ï¼ˆMultiple Featuresï¼‰</h2><p>ä¸åŒç»´åº¦çš„å¤šä¸ªç‰¹å¾ã€‚</p>
<img src="/2024/04/21/07-10-14/20180107_234509.png" class>
<p>è¿™é‡Œç”±äºç‰¹å¾ä¸å†åªæœ‰ä¸€ä¸ªï¼Œå¼•å…¥ä¸€äº›æ–°çš„è®°å·</p>
<blockquote>
<p>$n$: ç‰¹å¾çš„æ€»æ•°</p>
<p> ${x}^{\left( i \right)}$: ä»£è¡¨æ ·æœ¬çŸ©é˜µä¸­ç¬¬ $i$ è¡Œï¼Œä¹Ÿå°±æ˜¯ç¬¬ $i$ ä¸ªè®­ç»ƒå®ä¾‹ã€‚</p>
<p> ${x}_{j}^{\left( i \right)}$: ä»£è¡¨æ ·æœ¬çŸ©é˜µä¸­ç¬¬ $i$ è¡Œçš„ç¬¬ $j$ åˆ—ï¼Œä¹Ÿå°±æ˜¯ç¬¬ $i$ ä¸ªè®­ç»ƒå®ä¾‹çš„ç¬¬ $j$ ä¸ªç‰¹å¾ã€‚</p>
</blockquote>
<p>å‚ç…§ä¸Šå›¾ï¼Œåˆ™æœ‰ ${x}^{(2)}\text{=}\begin{bmatrix} 1416\\\ 3\\\ 2\\\ 40 \end{bmatrix}, {x}^{(2)}_{1} = 1416$</p>
<blockquote>
<p>å…¨éƒ¨å†™æˆä¸€ç»´å‘é‡</p>
</blockquote>
<p>å¤šå˜é‡å‡è®¾å‡½æ•° $h$ è¡¨ç¤ºä¸ºï¼š$h_{\theta}\left( x \right)={\theta_{0} }+{\theta_{1} }{x_{1} }+{\theta_{2} }{x_{2} }+â€¦+{\theta_{n} }{x_{n} }$</p>
<p>å¯¹äº $\theta_0$ï¼Œå’Œå•ç‰¹å¾ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬å°†å…¶çœ‹ä½œåŸºç¡€æ•°å€¼ã€‚</p>
<p>$$<br>h_\theta\left(x\right)=\begin{bmatrix}\theta_0\; \theta_1\; â€¦ \;\theta_n \end{bmatrix}\begin{bmatrix}x_0 \newline x_1 \newline \vdots \newline x_n\end{bmatrix}= \theta^T x<br>$$</p>
<blockquote>
<p>$\theta^T$: $\theta$ çŸ©é˜µçš„è½¬ç½®</p>
<p>$x$: æŸä¸ªæ ·æœ¬çš„ç‰¹å¾å‘é‡ï¼Œ$n+1$ ç»´ç‰¹å¾é‡å‘é‡</p>
<p>$x_0$: ä¸ºäº†è®¡ç®—æ–¹ä¾¿æˆ‘ä»¬ä¼šå‡è®¾ $x_0^{(i)} = 1$</p>
</blockquote>
<h2 id="4-2-å¤šå˜é‡æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descent-for-Multiple-Variablesï¼‰"><a href="#4-2-å¤šå˜é‡æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descent-for-Multiple-Variablesï¼‰" class="headerlink" title="4.2 å¤šå˜é‡æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descent for Multiple Variablesï¼‰"></a>4.2 å¤šå˜é‡æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descent for Multiple Variablesï¼‰</h2><p>å¤šå˜é‡ä»£ä»·å‡½æ•°ç±»ä¼¼äºå•å˜é‡ä»£ä»·å‡½æ•°ï¼Œ</p>
<p>å³ $J\left( {\theta_{0} },{\theta_{1} }â€¦{\theta_{n} } \right)=\frac{1}{2m}\sum\limits_{i=1}^{m}{ { {\left( h_{\theta} \left({x}^{\left( i \right)} \right)-{y}^{\left( i \right)} \right)}^{2} } }$ ï¼Œå…¶ä¸­ $h_\theta\left(x\right)= \theta^T x$ã€‚</p>
<p>å‰æ–‡æåˆ°æ¢¯åº¦ä¸‹é™å¯¹äºæœ€å°åŒ–ä»£ä»·å‡½æ•°çš„é€šç”¨æ€§ï¼Œåˆ™å¤šå˜é‡æ¢¯åº¦ä¸‹é™å…¬å¼å³</p>
<p>\begin{split}<br>&amp; \text{Repeat until convergence:} \; \lbrace \\<br>&amp;{ {\theta }_{j} }:={ {\theta }_{j} }-\alpha \frac{\partial }{\partial { {\theta }_{j} } }J\left( {\theta_{0} },{\theta_{1} }â€¦{\theta_{n} }  \right) \\<br>\rbrace<br>\end{split}</p>
<p>è§£å‡ºåå¯¼å¾—ï¼š</p>
<p>\begin{split}<br>&amp; \text{repeat until convergence:} \; \lbrace \\<br>&amp; \theta_j := \theta_j - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)} \; &amp; \text{for j := 0,1â€¦n}\\<br>\rbrace<br>\end{split}</p>
<p>å¯å±•å¼€ä¸ºï¼š</p>
<p>\begin{split}<br>&amp; \text{repeat until convergence:} \; \lbrace \\<br>&amp; \theta_0 := \theta_0 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_0^{(i)}\\<br>&amp; \theta_1 := \theta_1 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_1^{(i)} \\<br>&amp; \theta_2 := \theta_2 - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_2^{(i)} \\<br>&amp; \vdots \\<br>&amp; \theta_n := \theta_n - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_n^{(i)} &amp;\\<br>\rbrace<br>\end{split}</p>
<p>å½“ç„¶ï¼ŒåŒå•å˜é‡æ¢¯åº¦ä¸‹é™ä¸€æ ·ï¼Œè®¡ç®—æ—¶éœ€è¦<strong>åŒæ—¶æ›´æ–°</strong>æ‰€æœ‰å‚æ•°ã€‚</p>
<p>$h_\theta\left(x\right)= \theta^T x$ï¼Œåˆ™å¾—åˆ°åŒæ—¶æ›´æ–°å‚æ•°çš„å‘é‡åŒ–ï¼ˆVectorizationï¼‰å®ç°ï¼š<br>$$<br>\theta = \theta - \alpha \frac{1}{m}(X^T(X\theta-y))<br>$$</p>
<p><strong>å‘é‡åŒ–æ¨å¯¼è¿‡ç¨‹ï¼š</strong></p>
<p>\begin{split}<br>&amp;X = \begin{bmatrix}{ {x}^{(0)} } ^ T \newline { {x}^{(1)} } ^ T \newline \vdots \newline { {x}^{(m)} } ^ T\ \end{bmatrix}<br>&amp;X^T = \begin{bmatrix}{x}^{(0)}\; {x}^{(1)}\; â€¦ \;{x}^{(m)} \end{bmatrix}<br>\\<br>&amp;X\theta - y = \begin{bmatrix}{ {x}^{(0)} } ^ T \theta - y\newline { {x}^{(1)} } ^ T \theta -y \newline \vdots \newline { {x}^{(m)} } ^ T\theta -y\ \end{bmatrix} \\<br>&amp;h_\theta\left(x\right)= X\theta<br>\end{split}</p>
<blockquote>
<p>$X$: æ˜¯ä¸€ä¸ªç§©ä¸º1çš„çŸ©é˜µï¼Ÿ  ä¸€æ¬¡æ›´æ–°ä¸€ä¸ªç›¸åŒçš„ç‰¹å¾å‘é‡ï¼Ÿï¼Ÿ<br>$X$: è®­ç»ƒé›†æ•°æ®ï¼Œ$m\times(n+1)$ ç»´çŸ©é˜µï¼ˆåŒ…å«åŸºæœ¬ç‰¹å¾ $x_0=1$ï¼‰</p>
</blockquote>
<h2 id="4-3-æ¢¯åº¦ä¸‹é™å®è·µ1-ç‰¹å¾å€¼ç¼©æ”¾ï¼ˆGradient-Descent-in-Practice-I-Feature-Scalingï¼‰"><a href="#4-3-æ¢¯åº¦ä¸‹é™å®è·µ1-ç‰¹å¾å€¼ç¼©æ”¾ï¼ˆGradient-Descent-in-Practice-I-Feature-Scalingï¼‰" class="headerlink" title="4.3 æ¢¯åº¦ä¸‹é™å®è·µ1-ç‰¹å¾å€¼ç¼©æ”¾ï¼ˆGradient Descent in Practice I - Feature Scalingï¼‰"></a>4.3 æ¢¯åº¦ä¸‹é™å®è·µ1-ç‰¹å¾å€¼ç¼©æ”¾ï¼ˆGradient Descent in Practice I - Feature Scalingï¼‰</h2><p>åœ¨åº”ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•å®è·µæ—¶ï¼Œç”±äºå„ç‰¹å¾å€¼çš„èŒƒå›´ä¸ä¸€ï¼Œå¯èƒ½ä¼šå½±å“ä»£ä»·å‡½æ•°æ”¶æ•›é€Ÿåº¦ã€‚</p>
<p>æˆ¿å±‹é¢ç§¯å¤§å°å’Œæˆ¿é—´æ•°é‡è¿™ä¸¤ä¸ªç‰¹å¾ã€‚</p>
<img src="/2024/04/21/07-10-14/20180108_100751.png" class>
<p>ä¸ºäº†ä¼˜åŒ–æ¢¯åº¦ä¸‹é™çš„æ”¶æ•›é€Ÿåº¦ï¼Œé‡‡ç”¨ç‰¹å¾ç¼©æ”¾çš„æŠ€å·§ï¼Œä½¿å„ç‰¹å¾å€¼çš„<strong>èŒƒå›´å°½é‡ä¸€è‡´</strong>ã€‚</p>
<p>é™¤äº†ä»¥ä¸Šå›¾äººå·¥é€‰æ‹©å¹¶é™¤ä»¥ä¸€ä¸ªå‚æ•°çš„æ–¹å¼ï¼Œ<strong>å‡å€¼å½’ä¸€åŒ–ï¼ˆMean normalization</strong>æ–¹æ³•æ›´ä¸ºä¾¿æ·ï¼Œå¯é‡‡ç”¨å®ƒæ¥å¯¹æ‰€æœ‰ç‰¹å¾å€¼ç»Ÿä¸€ç¼©æ”¾ï¼š</p>
<p> $x_i:=\frac{x_i-average(x)}{maximum(x)-minimum(x)}$, ä½¿å¾—  $x_i \in (-1,1)$</p>
<p>å¯¹äºç‰¹å¾çš„èŒƒå›´ï¼Œå¹¶ä¸ä¸€å®šéœ€è¦ä½¿å¾— $-1 \leqslant x \leqslant 1$ï¼Œç±»ä¼¼äº $1\leqslant x \leqslant 3$ ç­‰ä¹Ÿæ˜¯å¯å–çš„ï¼Œè€Œè¯¸å¦‚ $-100 \leqslant x \leqslant 100 $ï¼Œ$-0.00001 \leqslant x \leqslant 0.00001$ï¼Œå°±æ˜¾å¾—è¿‡å¤§/è¿‡å°äº†ã€‚</p>
<p>å¦å¤–æ³¨æ„ï¼Œä¸€æ—¦é‡‡ç”¨ç‰¹å¾ç¼©æ”¾ï¼Œæˆ‘ä»¬å°±éœ€å¯¹æ‰€æœ‰çš„è¾“å…¥é‡‡ç”¨ç‰¹å¾ç¼©æ”¾ï¼ŒåŒ…æ‹¬è®­ç»ƒé›†ã€æµ‹è¯•é›†ã€é¢„æµ‹è¾“å…¥ç­‰ã€‚</p>
<h2 id="4-4-æ¢¯åº¦ä¸‹é™å®è·µ2-å­¦ä¹ é€Ÿç‡ï¼ˆGradient-Descent-in-Practice-II-Learning-Rateï¼‰"><a href="#4-4-æ¢¯åº¦ä¸‹é™å®è·µ2-å­¦ä¹ é€Ÿç‡ï¼ˆGradient-Descent-in-Practice-II-Learning-Rateï¼‰" class="headerlink" title="4.4 æ¢¯åº¦ä¸‹é™å®è·µ2-å­¦ä¹ é€Ÿç‡ï¼ˆGradient Descent in Practice II - Learning Rateï¼‰"></a>4.4 æ¢¯åº¦ä¸‹é™å®è·µ2-å­¦ä¹ é€Ÿç‡ï¼ˆGradient Descent in Practice II - Learning Rateï¼‰</h2><p>é€šå¸¸ï¼Œæœ‰ä¸¤ç§æ–¹æ³•æ¥ç¡®å®šå‡½æ•°æ˜¯å¦æ”¶æ•›</p>
<ul>
<li>å¤šæ¬¡è¿­ä»£æ”¶æ•›æ³•<ul>
<li>æ— æ³•ç¡®å®šéœ€è¦å¤šå°‘æ¬¡è¿­ä»£</li>
<li>è¾ƒæ˜“ç»˜åˆ¶å…³äºè¿­ä»£æ¬¡æ•°çš„å›¾åƒ</li>
<li>æ ¹æ®å›¾åƒæ˜“é¢„æµ‹æ‰€éœ€çš„è¿­ä»£æ¬¡æ•°</li>
</ul>
</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•æ”¶æ•›æ³•ï¼ˆæ¯”è¾ƒé˜ˆå€¼ï¼‰<ul>
<li>ä¸æ˜“é€‰å–é˜ˆå€¼</li>
<li>ä»£ä»·å‡½æ•°è¿‘ä¹ç›´çº¿æ—¶æ— æ³•ç¡®å®šæ”¶æ•›æƒ…å†µ</li>
</ul>
</li>
</ul>
<p>å¯¹äºæ¢¯åº¦ä¸‹é™ï¼Œä¸€èˆ¬é‡‡ç”¨å¤šæ¬¡è¿­ä»£æ”¶æ•›æ³•æ¥å¾—å‡ºæœ€å°åŒ–ä»£ä»·å‡½æ•°çš„å‚æ•°å€¼ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•æ”¶æ•›æ³•ï¼ˆå¦‚è®¾å®š $J\left(\theta\right) &lt; {10}^{-3}$ æ—¶åˆ¤å®šæ”¶æ•›ï¼‰åˆ™å‡ ä¹ä¸ä¼šè¢«ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»˜åˆ¶<strong>ä»£ä»·å‡½æ•°å…³äºè¿­ä»£æ¬¡æ•°çš„å›¾åƒ</strong>ï¼Œå¯è§†åŒ–æ¢¯åº¦ä¸‹é™çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå€ŸåŠ©ç›´è§‚çš„å›¾å½¢æ¥å‘ç°ä»£ä»·å‡½æ•°è¶‹å‘äºå¤šå°‘æ—¶èƒ½è¶‹äºæ”¶æ•›ï¼Œä¾æ®å›¾åƒå˜åŒ–æƒ…å†µï¼Œç¡®å®šè¯¸å¦‚å­¦ä¹ é€Ÿç‡çš„å–å€¼ï¼Œè¿­ä»£æ¬¡æ•°çš„å¤§å°ç­‰é—®é¢˜ã€‚</p>
<img src="/2024/04/21/07-10-14/20180108_103357.png" class>
<p>å¯¹äºå­¦ä¹ é€Ÿç‡ $\alpha$ï¼Œä¸€èˆ¬ä¸Šå›¾å±•ç°çš„ä¸ºé€‚ä¸­æƒ…å†µï¼Œä¸‹å›¾ä¸­ï¼Œå·¦å›¾å¯èƒ½è¡¨æ˜ <strong>$\alpha$ è¿‡å¤§</strong>ï¼Œä»£ä»·å‡½æ•°<strong>æ— æ³•æ”¶æ•›</strong>ï¼Œå³å›¾å¯èƒ½è¡¨æ˜ <strong>$\alpha$ è¿‡å°</strong>ï¼Œä»£ä»·å‡½æ•°<strong>æ”¶æ•›çš„å¤ªæ…¢</strong>ã€‚å½“ç„¶ï¼Œ$\alpha$ è¶³å¤Ÿå°æ—¶ï¼Œä»£ä»·å‡½æ•°åœ¨æ¯è½®è¿­ä»£åä¸€å®šä¼šå‡å°‘ã€‚</p>
<img src="/2024/04/21/07-10-14/20180108_104701.png" class>
<p>é€šè¿‡ä¸æ–­æ”¹å˜ $\alpha$ å€¼ï¼Œç»˜åˆ¶å¹¶è§‚å¯Ÿå›¾åƒï¼Œå¹¶ä»¥æ­¤æ¥ç¡®å®šåˆé€‚çš„å­¦ä¹ é€Ÿç‡ã€‚ å°è¯•æ—¶å¯å– $\alpha$ å¦‚ $\dots\;0,001,\;0.003,\;0.01,\;0.03,\;0.1,\;\dots$</p>
<h2 id="4-5-ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’ï¼ˆFeatures-and-Polynomial-Regressionï¼‰"><a href="#4-5-ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’ï¼ˆFeatures-and-Polynomial-Regressionï¼‰" class="headerlink" title="4.5 ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’ï¼ˆFeatures and Polynomial Regressionï¼‰"></a>4.5 ç‰¹å¾å’Œå¤šé¡¹å¼å›å½’ï¼ˆFeatures and Polynomial Regressionï¼‰</h2><p>åœ¨ç‰¹å¾é€‰å–æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å½’çº³æ€»ç»“ï¼Œå®šä¹‰ä¸€ä¸ªæ–°çš„ç‰¹å¾ï¼Œç”¨æ¥<strong>å–ä»£æˆ–æ‹†åˆ†</strong>æ—§çš„ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å¾ã€‚æ¯”å¦‚ï¼Œå¯¹äºæˆ¿å±‹é¢ç§¯ç‰¹å¾æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ‹†åˆ†ä¸ºé•¿åº¦å’Œå®½åº¦ä¸¤ä¸ªç‰¹å¾ï¼Œåä¹‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆå¹¶é•¿åº¦å’Œå®½åº¦è¿™ä¸¤ä¸ªç‰¹å¾ä¸ºé¢ç§¯è¿™ä¸€ä¸ªç‰¹å¾ã€‚</p>
<p>çº¿æ€§å›å½’åªèƒ½ä»¥ç›´çº¿æ¥å¯¹æ•°æ®è¿›è¡Œæ‹Ÿåˆï¼Œæœ‰æ—¶å€™éœ€è¦ä½¿ç”¨<strong>æ›²çº¿</strong>æ¥å¯¹æ•°æ®è¿›è¡Œæ‹Ÿåˆï¼Œå³<strong>å¤šé¡¹å¼å›å½’ï¼ˆPolynomial Regressionï¼‰</strong>ã€‚</p>
<p>æ¯”å¦‚ä¸€ä¸ªäºŒæ¬¡æ–¹æ¨¡å‹ï¼š$h_{\theta}\left( x \right)={\theta_{0} }+{\theta_{1} }{x_{1} }+{\theta_{2} }{x_{2}^2}$</p>
<p>æˆ–è€…ä¸‰æ¬¡æ–¹æ¨¡å‹ï¼š$h_{\theta}\left( x \right)={\theta_{0} }+{\theta_{1} }{x_{1} }+{\theta_{2} }{x_{2}^2}+{\theta_{3} }{x_{3}^3}$ </p>
<p>æˆ–è€…å¹³æ–¹æ ¹æ¨¡å‹ï¼š $h_{\theta}\left( x \right)={\theta_{0} }+{\theta_{1} }{x_{1} }+{\theta_{2} }{x_{2}^2}+{\theta_{3} }{\sqrt{x_3} }$</p>
<img src="/2024/04/21/07-10-14/20180108_113132.png" class>
<p>åœ¨ä½¿ç”¨å¤šé¡¹å¼å›å½’æ—¶ï¼Œè¦è®°ä½éå¸¸æœ‰å¿…è¦è¿›è¡Œç‰¹å¾ç¼©æ”¾ï¼Œæ¯”å¦‚ $x_1$ çš„èŒƒå›´ä¸º 1-1000ï¼Œé‚£ä¹ˆ $x_1^2$ çš„èŒƒå›´åˆ™ä¸º 1- 1000000ï¼Œä¸ä½¿ç”¨ç‰¹å¾ç¼©æ”¾çš„è¯ï¼ŒèŒƒå›´ä¸ä¸€è‡´ï¼Œä¹Ÿæ›´æ˜“å½±å“æ•ˆç‡ã€‚</p>
<blockquote>
<p>å¤šç‰¹å¾ä¸‹çš„ç‰¹å¾å€¼ç¼©æ”¾æŒ‰ç…§$x$è¿˜æ˜¯$x^3$ ï¼Ÿ</p>
</blockquote>
<h2 id="4-6-æ­£è§„æ–¹ç¨‹ï¼ˆNormal-Equationï¼‰"><a href="#4-6-æ­£è§„æ–¹ç¨‹ï¼ˆNormal-Equationï¼‰" class="headerlink" title="4.6 æ­£è§„æ–¹ç¨‹ï¼ˆNormal Equationï¼‰"></a>4.6 æ­£è§„æ–¹ç¨‹ï¼ˆNormal Equationï¼‰</h2><p>å¯¹äºä¸€äº›çº¿æ€§å›å½’é—®é¢˜æ¥è¯´ï¼Œæ­£è§„æ–¹ç¨‹æ³•ç»™å‡ºäº†ä¸€ä¸ªæ›´å¥½çš„è§£å†³é—®é¢˜çš„æ–¹å¼ã€‚</p>
<p>æ­£è§„æ–¹ç¨‹æ³•ï¼Œå³ä»¤ $\frac{\partial}{\partial{\theta_{j} } }J\left( {\theta_{j} } \right)=0$ ï¼Œé€šè¿‡è§£æå‡½æ•°çš„æ–¹å¼ç›´æ¥è®¡ç®—å¾—å‡ºå‚æ•°å‘é‡çš„å€¼  $\theta ={ {\left( {X^T}X \right)}^{-1} }{X^{T} }y$ ï¼ŒOctave/Matlab ä»£ç ï¼š <code>theta = inv(X&#39;*X)*X&#39;*y</code>ã€‚</p>
<blockquote>
<p>${X}^{-1}$: çŸ©é˜µ $X$ çš„é€†ï¼Œåœ¨ Octave ä¸­ï¼Œ<code>inv</code> å‡½æ•°ç”¨äºè®¡ç®—çŸ©é˜µçš„é€†ï¼Œç±»ä¼¼çš„è¿˜æœ‰ <code>pinv</code> å‡½æ•°ã€‚</p>
<p><code>X&#39;</code>: åœ¨ Octave ä¸­è¡¨ç¤ºçŸ©é˜µ X çš„è½¬ç½®ï¼Œå³ $X^T$</p>
</blockquote>
<p>ä¸‹è¡¨åˆ—å‡ºäº†æ­£è§„æ–¹ç¨‹æ³•ä¸æ¢¯åº¦ä¸‹é™ç®—æ³•çš„å¯¹æ¯”</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ¡ä»¶</th>
<th>æ¢¯åº¦ä¸‹é™</th>
<th>æ­£è§„æ–¹ç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯å¦éœ€è¦é€‰å– $\alpha$</td>
<td>éœ€è¦</td>
<td>ä¸éœ€è¦</td>
</tr>
<tr>
<td>æ˜¯å¦éœ€è¦è¿­ä»£è¿ç®—</td>
<td>éœ€è¦</td>
<td>ä¸éœ€è¦</td>
</tr>
<tr>
<td>ç‰¹å¾é‡å¤§æ—¶</td>
<td>é€‚ç”¨ï¼Œ$O\left(kn^2\right)$</td>
<td>ä¸é€‚ç”¨ï¼Œ$(X^TX)^{-1}$ å¤æ‚åº¦ $O\left( { {n}^{3} } \right)$</td>
</tr>
<tr>
<td>é€‚ç”¨èŒƒå›´</td>
<td>å„ç±»æ¨¡å‹</td>
<td>åªé€‚ç”¨çº¿æ€§æ¨¡å‹ï¼Œä¸”çŸ©é˜µéœ€å¯é€†</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œå½“ $n$ è¶…è¿‡ 10000 æ—¶ï¼Œå¯¹äºæ­£è§„æ–¹ç¨‹è€Œè¨€ï¼Œç‰¹å¾é‡è¾ƒå¤§ã€‚</li>
<li>æ¢¯åº¦ä¸‹é™ç®—æ³•çš„æ™®é€‚æ€§å¥½ï¼Œè€Œå¯¹äºç‰¹å®šçš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œæ­£è§„æ–¹ç¨‹æ˜¯å¾ˆå¥½çš„æ›¿ä»£å“ã€‚</li>
</ul>
<p><strong>æ­£è§„æ–¹ç¨‹æ³•çš„æ¨å¯¼è¿‡ç¨‹</strong>ï¼š(åŒ4.2)</p>
<p>\begin{split}<br>J\left( \theta  \right)&amp; =\frac{1}{2m}\sum\limits_{i=1}^{m}{ { {\left( {h_{\theta} }\left( {x^{(i)} } \right)-{y^{(i)} } \right)}^{2} } }\\<br>&amp; =\frac{1}{2m}||X\theta-y||^2 \\<br>&amp; =\frac{1}{2m}(X\theta-y)^T(X\theta-y) \hspace{15cm}<br>\end{split}</p>
<p>å±•å¼€ä¸Šå¼å¯å¾—</p>
<p>$<br>(X\theta-y)^T = \theta^T X^T - y^T<br>$</p>
<p>$J(\theta )= \frac{1}{2m}\left( { {\theta }^{T} }{ {X}^{T} }X\theta -{ {\theta}^{T} }{ {X}^{T} }y-{ {y}^{T} }X\theta + { {y}^{T} }y \right)$</p>
<p>æ³¨æ„åˆ° ${ {\theta}^{T} }{ {X}^{T} }y$ ä¸ ${ {y}^{T} }X\theta$ éƒ½ä¸ºæ ‡é‡ï¼Œå®é™…ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œåˆ™ï¼š</p>
<p>$J(\theta) = \frac{1}{2m}[{\theta }^{T}X^TX\theta-2\theta^TX^Ty+y^Ty]$</p>
<p>æ¥ä¸‹æ¥å¯¹$J(\theta )$ æ±‚åå¯¼ï¼Œæ ¹æ®çŸ©é˜µçš„æ±‚å¯¼æ³•åˆ™:</p>
<p>$\frac{d X^TAX}{d X}=2AX$</p>
<p>$\frac{d X^T}{d X}={E}$</p>
<p>$\frac{d AB}{d B}={A^T}$</p>
<p>æ‰€ä»¥æœ‰:</p>
<p>$\frac{\partial J\left( \theta  \right)}{\partial \theta }=\frac{1}{2m}\left(2{ {X}^{T} }X\theta -2{ {X}^{T} }y \right)={ {X}^{T} }X\theta -{ {X}^{T} }y$</p>
<p>ä»¤$\frac{\partial J\left( \theta  \right)}{\partial \theta }=0$, åˆ™æœ‰<br>$$<br>\theta ={ {\left( {X^{T} }X \right)}^{-1} }{X^{T} }y<br>$$</p>
<blockquote>
<p>æ±‚æœ€å°å€¼, æå€¼ä¸€å®šæ˜¯æœ€å°å€¼, å…·æœ‰å®é™…æ„ä¹‰</p>
</blockquote>
<h2 id="4-7-ä¸å¯é€†æ€§æ­£è§„æ–¹ç¨‹ï¼ˆNormal-Equation-Noninvertibilityï¼‰"><a href="#4-7-ä¸å¯é€†æ€§æ­£è§„æ–¹ç¨‹ï¼ˆNormal-Equation-Noninvertibilityï¼‰" class="headerlink" title="4.7 ä¸å¯é€†æ€§æ­£è§„æ–¹ç¨‹ï¼ˆNormal Equation Noninvertibilityï¼‰"></a>4.7 ä¸å¯é€†æ€§æ­£è§„æ–¹ç¨‹ï¼ˆNormal Equation Noninvertibilityï¼‰</h2><p>ï¼ˆæœ¬éƒ¨åˆ†å†…å®¹ä¸ºé€‰è®²ï¼‰</p>
<p>æ­£è§„æ–¹ç¨‹æ— æ³•åº”ç”¨äºä¸å¯é€†çš„çŸ©é˜µï¼Œå‘ç”Ÿè¿™ç§é—®é¢˜çš„æ¦‚ç‡å¾ˆå°ï¼Œé€šå¸¸ç”±äº</p>
<ul>
<li><p>ç‰¹å¾ä¹‹é—´çº¿æ€§ç›¸å…³</p>
<p>æ¯”å¦‚åŒæ—¶åŒ…å«è‹±å¯¸çš„å°ºå¯¸å’Œç±³ä¸ºå•ä½çš„å°ºå¯¸ä¸¤ä¸ªç‰¹å¾ï¼Œå®ƒä»¬æ˜¯çº¿æ€§ç›¸å…³çš„</p>
<p>å³ ${x_{1} }={x_{2} }*{ {\left( 3.28 \right)}^{2} }$ã€‚</p>
</li>
<li><p>ç‰¹å¾æ•°é‡å¤§äºè®­ç»ƒé›†çš„æ•°é‡ $\left(m \leqslant n \right)$ã€‚</p>
</li>
</ul>
<p>å¦‚æœå‘ç° $X^TX$ çš„ç»“æœä¸å¯é€†ï¼Œå¯å°è¯•ï¼š</p>
<ul>
<li>å‡å°‘å¤šä½™/é‡å¤ç‰¹å¾</li>
<li>å¢åŠ è®­ç»ƒé›†æ•°é‡</li>
<li>ä½¿ç”¨æ­£è§„åŒ–ï¼ˆåæ–‡ï¼‰</li>
</ul>
<p>å¯¹äºè¿™ç±»ä¸å¯é€†çš„çŸ©é˜µï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>å¥‡å¼‚çŸ©é˜µ</strong>æˆ–<strong>é€€åŒ–çŸ©é˜µ</strong>ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¿˜æƒ³ä½¿ç”¨æ­£è§„æ–¹ç¨‹æ³•ï¼Œåœ¨Octaveä¸­ï¼Œå¯ä»¥é€‰ç”¨ <code>pinv</code> å‡½æ•°ï¼Œ<code>pinv</code> åŒºåˆ«äº <code>inv</code>ï¼Œ<code>pinv</code> å‡½æ•°è¢«ç§°ä¸ºä¼ªé€†å‡½æ•°ï¼Œåœ¨çŸ©é˜µä¸å¯é€†çš„æ—¶å€™ï¼Œä½¿ç”¨è¿™ä¸ªå‡½æ•°ä»å¯æ­£ç¡®åœ°è®¡ç®—å‡º $\theta$ çš„å€¼ã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>markdownè¯­æ³•</title>
    <url>/2024/04/19/22-19-04/</url>
    <content><![CDATA[<h1 id="hexoå¼•æ“æ›´æ¢"><a href="#hexoå¼•æ“æ›´æ¢" class="headerlink" title="hexoå¼•æ“æ›´æ¢"></a>hexoå¼•æ“æ›´æ¢</h1><h2 id="latexç‰¹æ®Šè½¬ä¹‰"><a href="#latexç‰¹æ®Šè½¬ä¹‰" class="headerlink" title="latexç‰¹æ®Šè½¬ä¹‰"></a>latexç‰¹æ®Šè½¬ä¹‰</h2><p>é€‰ç”¨hexo-renderer-kramedæ¸²æŸ“å™¨</p>
<blockquote>
<p>ä½œä¸ºè¡Œå†…ä»£ç ï¼š$ a+b $<br>è¡Œå†…å…¬å¼ï¼š<code>\$\$ a+b \$\$</code><br>å¤§éƒ¨åˆ†å…¬å¼ä¸­ï¼Œç¬¦å·ä¹‹å‰è¦æœ‰ç©ºæ ¼ï¼Œä¸ç„¶æ— æ³•é€šè¿‡hexoæ¸²æŸ“ã€‚</p>
</blockquote>
<h3 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h3><ul>
<li><code>\begin&#123;aligned&#125;</code> å¯ä»¥ä½¿ç”¨</li>
<li><code>\begin&#123;equation&#125;</code> è‡ªåŠ¨ç»™å…¬å¼ç¼–å·</li>
<li>æ¢è¡Œï¼š<code>\begin&#123;align\*&#125;  //  \end&#123;align\*&#125;</code>  è½¬ä¸º <code>\begin&#123;split&#125;</code></li>
<li>æ¢è¡Œä¸­é—´ä¸èƒ½æœ‰ç©ºè¡Œ</li>
<li>å¤šè¡Œå…¬å¼å¯¹é½ï¼Œä½¿ç”¨<code>&amp;</code>ï¼Œæ‰€æœ‰çš„ç¬¦å·éƒ½ä¼šåœ¨æ¯ä¸€è¡Œå¯¹é½</li>
</ul>
<h3 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•*"></a>ä¹˜æ³•*</h3><ul>
<li>ä¹˜æ³•éœ€è¦åŠ <code>a\\*b</code>è½¬ä¹‰ $a*b$</li>
</ul>
<h3 id="æ±‚å¯¼åå¯¼"><a href="#æ±‚å¯¼åå¯¼" class="headerlink" title="æ±‚å¯¼åå¯¼"></a>æ±‚å¯¼åå¯¼</h3><ul>
<li>æ±‚å¯¼ <code>d</code>  ç›´æ¥å†™ $d$</li>
<li>åå¯¼ <code>\partial</code>  $\partial$</li>
</ul>
<h3 id="å¤§å†™bold"><a href="#å¤§å†™bold" class="headerlink" title="å¤§å†™bold"></a>å¤§å†™bold</h3><ul>
<li>æ”¹ä¸º<code>\boldsymbol&#123;x&#125;</code> $\boldsymbol{x}$</li>
</ul>
<h3 id="limæé™-æ±‚å’Œ"><a href="#limæé™-æ±‚å’Œ" class="headerlink" title="limæé™ æ±‚å’Œ"></a>limæé™ æ±‚å’Œ</h3><ul>
<li><code>\displaystyle\lim_x</code>  æ˜¾ç¤º $\displaystyle\lim_x$</li>
<li><code>\lim_x</code>  æ˜¾ç¤º $\lim_x$<h3 id="ç©ºå¿ƒå­—"><a href="#ç©ºå¿ƒå­—" class="headerlink" title="ç©ºå¿ƒå­—"></a>ç©ºå¿ƒå­—</h3></li>
<li><code>\mathbb&#123;1&#125;</code>, $\mathbb{1}$</li>
</ul>
<h1 id="hexo-åˆ›å»ºæ–‡ä»¶å¤¹å†…æ–‡ç« "><a href="#hexo-åˆ›å»ºæ–‡ä»¶å¤¹å†…æ–‡ç« " class="headerlink" title="hexo åˆ›å»ºæ–‡ä»¶å¤¹å†…æ–‡ç« "></a>hexo åˆ›å»ºæ–‡ä»¶å¤¹å†…æ–‡ç« </h1><ul>
<li><code>hexo new post -p /n/m</code></li>
</ul>
<h2 id="markdown"><a href="#markdown" class="headerlink" title="markdown"></a>markdown</h2><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><p>ä¸æ­£æ–‡ç©ºä¸€è¡Œï¼Œæ‰èƒ½æ­£å¸¸è½¬ä¹‰</p>
<h3 id="è·³è½¬1"><a href="#è·³è½¬1" class="headerlink" title="è·³è½¬1"></a>è·³è½¬<sup><a href="#fn_1" id="reffn_1">1</a></sup></h3><ul>
<li><blockquote id="fn_1">
<sup>1</sup>. <code>[^1]</code>è®¾ç½®æ ‡ç­¾ï¼Œ åœ¨éœ€è¦è·³è½¬çš„åœ°æ–¹å†™å…¥<code>[^1]:</code>ç”Ÿæˆè·³è½¬ç®­å¤´<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#8617;</a>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>markdown, hexo, Latex</tag>
      </tags>
  </entry>
  <entry>
    <title>vimå®ç”¨æŠ€å·§</title>
    <url>/2024/04/19/11-47-11/</url>
    <content><![CDATA[<h1 id="æŒ‰é”®è¯´æ˜"><a href="#æŒ‰é”®è¯´æ˜" class="headerlink" title="æŒ‰é”®è¯´æ˜"></a>æŒ‰é”®è¯´æ˜</h1><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><h3 id="åŠ¨è¯"><a href="#åŠ¨è¯" class="headerlink" title="åŠ¨è¯"></a>åŠ¨è¯</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">d åˆ é™¤ delete</span><br><span class="line">r æ›¿æ¢ replace</span><br><span class="line">c ä¿®æ”¹ change</span><br><span class="line">y å¤åˆ¶ yank</span><br><span class="line">v é€‰å– visual select</span><br></pre></td></tr></table></figure>
<h3 id="åè¯-text-object"><a href="#åè¯-text-object" class="headerlink" title="åè¯ text object"></a>åè¯ text object</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">w å•è¯word</span><br><span class="line">s å¥å­ sentence</span><br><span class="line">p æ®µè½paragraph</span><br><span class="line">t HTMLæ ‡ç­¾tag</span><br><span class="line">u æ’¤é”€(undo)</span><br><span class="line">. é‡å¤æœ€åä¸€ä¸ªå‘½ä»¤</span><br><span class="line">å¼•å·æˆ–è€…å„ç§æ‹¬å·æ‰€åŒ…å«çš„æ–‡æœ¬ç§°ä½œä¸€ä¸ªæ–‡æœ¬å—ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="ä»‹è¯"><a href="#ä»‹è¯" class="headerlink" title="ä»‹è¯"></a>ä»‹è¯</h3><p>ä»‹è¯ç•Œå®šäº†å¾…ç¼–è¾‘æ–‡æœ¬çš„èŒƒå›´æˆ–è€…ä½ç½®ã€‚ä¾‹å¦‚ï¼š<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i â€œåœ¨â€¦ä¹‹å†…â€inside</span><br><span class="line">a â€œç¯ç»•â€¦â€around</span><br><span class="line">t â€œåˆ°â€¦ä½ç½®å‰â€to</span><br><span class="line">f â€œåˆ°â€¦ä½ç½®ä¸Šâ€forward</span><br></pre></td></tr></table></figure></p>
<h3 id="ç»„è¯ä¸ºå¥"><a href="#ç»„è¯ä¸ºå¥" class="headerlink" title="ç»„è¯ä¸ºå¥"></a>ç»„è¯ä¸ºå¥</h3><p>åŠ¨è¯+ä»‹è¯+åè¯<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">åˆ é™¤ä¸€ä¸ªæ®µè½ delete inside paragraph: dip</span><br><span class="line">é€‰å–ä¸€ä¸ªå¥å­ visual select inside sentence: vis</span><br><span class="line">ä¿®æ”¹ä¸€ä¸ªå•è¯ change inside word: ciw</span><br><span class="line">ä¿®æ”¹ä¸€ä¸ªå•è¯ change around word: caw</span><br><span class="line">åˆ é™¤æ–‡æœ¬ç›´åˆ°å­—ç¬¦â€œxâ€ï¼ˆä¸åŒ…æ‹¬å­—ç¬¦â€œxâ€ï¼‰delete to x: dtx</span><br><span class="line">åˆ é™¤æ–‡æœ¬ç›´åˆ°å­—ç¬¦â€œxâ€ï¼ˆåŒ…æ‹¬å­—ç¬¦â€œxâ€ï¼‰delete forward x:dfx</span><br></pre></td></tr></table></figure></p>
<h3 id="æ•°è¯"><a href="#æ•°è¯" class="headerlink" title="æ•°è¯"></a>æ•°è¯</h3><p>åŠ¨è¯+ä»‹è¯/æ•°è¯+åè¯<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">ä¿®æ”¹ä¸‰ä¸ªå•è¯ change three words: c3w</span><br><span class="line">åˆ é™¤ä¸¤ä¸ªå•è¯ delete two words: d2w</span><br></pre></td></tr></table></figure></p>
<p>æ•°è¯ä¹Ÿå¯ä»¥ä¿®é¥°åŠ¨è¯ï¼Œè¡¨ç¤ºå°†æ“ä½œæ‰§è¡Œ n æ¬¡<br>æ•°è¯+åŠ¨è¯+åè¯<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">ä¸¤æ¬¡åˆ é™¤å•è¯ï¼ˆç­‰ä»·äºåˆ é™¤ä¸¤ä¸ªå•è¯ï¼‰ twice delete word: <span class="number">2</span>dw</span><br><span class="line">ä¸‰æ¬¡åˆ é™¤å­—ç¬¦ï¼ˆç­‰ä»·äºåˆ é™¤ä¸‰ä¸ªå­—ç¬¦ï¼‰three times delete character: <span class="number">3</span>x</span><br></pre></td></tr></table></figure></p>
<h2 id="ç§»åŠ¨å…‰æ ‡"><a href="#ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç§»åŠ¨å…‰æ ‡"></a>ç§»åŠ¨å…‰æ ‡</h2><h3 id="è¡Œ"><a href="#è¡Œ" class="headerlink" title="è¡Œ"></a>è¡Œ</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> è·³è½¬åˆ°å½“å‰è¡Œé¦–</span><br><span class="line">^ è·³è½¬åˆ°å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦(ç©ºæ ¼/TAB)</span><br><span class="line">$ è·³è½¬åˆ°å½“å‰è¡Œçš„æœ«å°¾</span><br><span class="line">gg è·³è½¬åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œ(<span class="keyword">goto</span>)</span><br><span class="line">G è·³è½¬åˆ°æ–‡ä»¶æœ€åä¸€è¡Œ</span><br><span class="line"><span class="number">47</span>G è·³è½¬åˆ°æ–‡ä»¶ç¬¬<span class="number">47</span>è¡Œ</span><br><span class="line">:<span class="number">47</span> è·³è½¬åˆ°æ–‡ä»¶ç¬¬<span class="number">47</span>è¡Œ(åŒ<span class="string">&quot;47G&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a>å­—ç¬¦</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">f[<span class="type">char</span>] è·³è½¬åˆ°ç¬¬ä¸€ä¸ª[<span class="type">char</span>]å­—ç¬¦(find)</span><br><span class="line"><span class="number">3f</span>[<span class="type">char</span>] è·³è½¬åˆ°ç¬¬ä¸‰ä¸ª[<span class="type">char</span>]å­—ç¬¦</span><br><span class="line">F[<span class="type">char</span>] å‘å·¦è·³è½¬åˆ°ç¬¬ä¸€ä¸ª[<span class="type">char</span>]å­—ç¬¦</span><br><span class="line">t[<span class="type">char</span>] è·³è½¬åˆ°ç¬¬ä¸€ä¸ª[<span class="type">char</span>]å­—ç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦(till before - right)</span><br><span class="line">T[<span class="type">char</span>] å‘å·¦è·³è½¬åˆ°ç¬¬ä¸€ä¸ª[<span class="type">char</span>]å­—ç¬¦çš„åä¸€ä¸ªå­—ç¬¦(till after - left)</span><br><span class="line">; é‡å¤æœ€åä¸€æ¬¡çš„ f/F/t/T ç§»åŠ¨å‘½ä»¤</span><br><span class="line"> </span><br><span class="line">è¿™é‡ŒåŠ  shift å¤§å†™ï¼Œæ„ä¸ºåå‘ï¼šå‘å·¦</span><br></pre></td></tr></table></figure>
<h3 id="å•è¯å’Œæ–‡æœ¬å—"><a href="#å•è¯å’Œæ–‡æœ¬å—" class="headerlink" title="å•è¯å’Œæ–‡æœ¬å—"></a>å•è¯å’Œæ–‡æœ¬å—</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">w è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´(word)</span><br><span class="line"><span class="number">3</span>w è·³è½¬åˆ°ç¬¬ä¸‰ä¸ªå•è¯çš„å¼€å¤´</span><br><span class="line">e è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„ç»“å°¾(end of word)</span><br><span class="line">b è·³è½¬åˆ°ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´(backward beginning)</span><br><span class="line">( è·³è½¬åˆ°ä¸Šä¸€ä¸ªå¥å­çš„å¼€å¤´</span><br><span class="line">) è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå¥å­çš„å¼€å¤´</span><br><span class="line">&#123; è·³è½¬åˆ°ä¸Šä¸€ä¸ªæ®µè½çš„å¼€å¤´</span><br><span class="line">&#125; è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ®µè½çš„å¼€å¤´</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">% åœ¨å½“å‰å¤§æ‹¬å·/ä¸­æ‹¬å·/å°æ‹¬å·çš„å¼€å§‹ä½ç½®<span class="string">&quot;&#123;/[/(&quot;</span>å’Œç»“æŸä½ç½®<span class="string">&quot;&#125;/]/)&quot;</span>ä¹‹é—´è·³è½¬</span><br><span class="line">[[ è·³è½¬åˆ°ä¸Šä¸€ä¸ªå‡½æ•°çš„å¼€å¤´(å¦‚æœå…‰æ ‡åœ¨å‡½æ•°ä½“å†…åˆ™è·³è½¬åˆ°å½“å‰å‡½æ•°çš„å¼€å¤´)</span><br><span class="line">]] è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°çš„å¼€å¤´</span><br><span class="line">[&#123; è·³è½¬åˆ°å½“å‰ç¨‹åºå—çš„å¼€å¤´(å½“å‰ç¨‹åºå—ä¸ºå½“å‰ç¨‹åºçš„ä¸Šä¸€å±‚ï¼Œä¸æ˜¯å›ºå®šçš„)</span><br><span class="line">]&#125; è·³è½¬åˆ°å½“å‰ç¨‹åºå—çš„ç»“å°¾</span><br></pre></td></tr></table></figure>
<h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">/[word] æœç´¢[word]å­—ç¬¦ä¸²</span><br><span class="line">?[word] å‘ä¸Šæœç´¢[word]å­—ç¬¦ä¸²</span><br><span class="line">n è·³è½¬åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²(ä¿æŒæœ€åä¸€ä¸ªæœç´¢å‘½ä»¤çš„æ–¹å‘)(next match)</span><br><span class="line">N è·³è½¬åˆ°ä¸Šä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²(ä¿æŒæœ€åä¸€ä¸ªæœç´¢å‘½ä»¤çš„æ–¹å‘)</span><br><span class="line">* æœç´¢å½“å‰å…‰æ ‡ä¸‹çš„å•è¯</span><br><span class="line"># å‘ä¸Šæœç´¢å½“å‰å…‰æ ‡ä¸‹çš„å•è¯</span><br></pre></td></tr></table></figure>
<h2 id="æ’å…¥æ¨¡å¼"><a href="#æ’å…¥æ¨¡å¼" class="headerlink" title="æ’å…¥æ¨¡å¼"></a>æ’å…¥æ¨¡å¼</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">s åˆ é™¤å…‰æ ‡ä½ç½®ä¸‹çš„å­—ç¬¦å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br><span class="line">S åˆ é™¤å½“å‰è¡Œå†…å®¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x åˆ é™¤å…‰æ ‡ä½ç½®ä¸‹çš„å­—ç¬¦</span><br><span class="line">dw åˆ é™¤å…‰æ ‡ä¹‹åçš„å•è¯å‰©ä½™éƒ¨åˆ†(delete word)</span><br><span class="line">diw åˆ é™¤ä¸€ä¸ªå•è¯</span><br><span class="line">dd åˆ é™¤å½“å‰è¡Œ</span><br><span class="line">D åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°å½“å‰è¡Œçš„æœ«å°¾(åŒ<span class="string">&quot;d$&quot;</span>)</span><br><span class="line">df[<span class="type">char</span>] åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°[<span class="type">char</span>]å­—ç¬¦(delete find [<span class="type">char</span>])</span><br><span class="line">d) åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°ä¸‹ä¸€ä¸ªå¥å­çš„å¼€å§‹</span><br><span class="line">d&#125; åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°è¯¥æ®µè½çš„æœ«å°¾</span><br><span class="line">di&#123; åˆ é™¤èŠ±æ‹¬å·ä¹‹é—´çš„å†…å®¹(delete inner &#123;&#125;)(åŒ<span class="string">&quot;diB&quot;</span>)</span><br><span class="line">di( åˆ é™¤å°æ‹¬å·ä¹‹é—´çš„å†…å®¹(delete inner ())(åŒ<span class="string">&quot;dib&quot;</span>)</span><br><span class="line">dit åˆ é™¤é—­åˆæ ‡ç­¾ä¹‹é—´çš„å†…å®¹(html/xmlç­‰æ ‡ç­¾ï¼Œdelete inner tag)</span><br><span class="line">dat åˆ é™¤å·¦å³å°–æ‹¬å·åŠä¹‹é—´çš„å†…å®¹(delete a tag)</span><br><span class="line">da&lt; åˆ é™¤å·¦å³å°–æ‹¬å·åŠä¹‹é—´çš„å†…å®¹(delete a &lt;&gt;)</span><br><span class="line">di<span class="string">&quot; åˆ é™¤å¼•å·ä¹‹é—´çš„å†…å®¹(delete inner &quot;</span><span class="string">&quot;)</span></span><br><span class="line"><span class="string">da&quot;</span> åˆ é™¤å·¦å³å¼•å·åŠä¹‹é—´çš„å†…å®¹(delete a <span class="string">&quot;&quot;</span>)</span><br><span class="line">:<span class="number">5</span>,<span class="number">10</span>d åˆ é™¤<span class="number">5</span><span class="number">-10</span>è¡Œ</span><br><span class="line"><span class="number">3</span>dd åˆ é™¤ä»å½“å‰è¡Œå¼€å§‹çš„<span class="number">3</span>è¡Œ</span><br><span class="line">&lt;C-w&gt; åˆ é™¤å…‰æ ‡å‰çš„ä¸€ä¸ªå•è¯(æ’å…¥æ¨¡å¼)</span><br><span class="line">&lt;C-u&gt; ä»å…‰æ ‡ä½ç½®åˆ é™¤åˆ°è¡Œé¦–(æ’å…¥æ¨¡å¼)</span><br><span class="line"> </span><br><span class="line">è¿™é‡ŒåŠ  shift å¤§å†™ï¼Œæ„ä¸ºè¡Œå°¾</span><br><span class="line">æ³¨ï¼š<span class="string">&quot;d&quot;</span>/<span class="string">&quot;c&quot;</span>å¼€å¤´çš„å‘½ä»¤ä¼šå°†åˆ é™¤çš„æ–‡æœ¬æ”¾åˆ°å¯„å­˜å™¨(é€šè¿‡<span class="string">&quot;:reg&quot;</span>æŸ¥çœ‹)ï¼Œå¯ä»¥ç†è§£ä¸ºå‰ªåˆ‡ã€‚</span><br><span class="line">å…³äº<span class="string">&quot;a&quot;</span>nå’Œ<span class="string">&quot;i&quot;</span>nnerå¯ä»¥å‚è€ƒ<span class="string">&quot;:help object-select&quot;</span>æ–‡æœ¬å¯¹è±¡é€‰æ‹©éƒ¨åˆ†</span><br><span class="line">å¦ï¼šä¸€èˆ¬å‘å³çš„æ“ä½œåŒ…å«å…‰æ ‡ä¸‹çš„å­—ç¬¦ï¼Œå‘å·¦çš„æ“ä½œä¸åŒ…å«å…‰æ ‡ä¸‹çš„å­—ç¬¦</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ”¹æ–‡æœ¬"><a href="#æ›´æ”¹æ–‡æœ¬" class="headerlink" title="æ›´æ”¹æ–‡æœ¬"></a>æ›´æ”¹æ–‡æœ¬</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">J å°†ä¸‹ä¸€è¡Œåˆå¹¶çš„å½“å‰è¡Œçš„æœ«å°¾(Join line)</span><br><span class="line"><span class="number">3</span>,<span class="number">9</span>j åˆå¹¶<span class="number">3</span><span class="number">-9</span>è¡Œ</span><br><span class="line">~ åˆ‡æ¢å…‰æ ‡ä¸‹å­—ç¬¦çš„å¤§å°å†™</span><br><span class="line">u æ›´æ”¹é€‰å®šçš„æ–‡æœ¬ä¸ºå°å†™(å¯è§†æ¨¡å¼)</span><br><span class="line">U æ›´æ”¹é€‰å®šçš„æ–‡æœ¬ä¸ºå¤§å†™(å¯è§†æ¨¡å¼)</span><br><span class="line">&lt;C-a&gt; æŠŠå½“å‰å…‰æ ‡ä¸‹æˆ–ä¹‹åçš„æ•°å€¼åŠ <span class="number">1</span></span><br><span class="line">&lt;C-x&gt; æŠŠå½“å‰å…‰æ ‡ä¸‹æˆ–ä¹‹åçš„æ•°å€¼å‡<span class="number">1</span></span><br><span class="line">r[<span class="type">char</span>] æ›¿æ¢å…‰æ ‡ä¸‹çš„å­—ç¬¦ä¸º[<span class="type">char</span>]. (replace)</span><br><span class="line">R è¿›å…¥æ›¿æ¢æ¨¡å¼</span><br><span class="line">cw åˆ é™¤å…‰æ ‡ä¹‹åçš„å•è¯å‰©ä½™éƒ¨åˆ†å¹¶è¿›å…¥æ’å…¥æ¨¡å¼(change word)</span><br><span class="line">cc åˆ é™¤å½“å‰è¡Œå†…å®¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼(åŒ<span class="string">&quot;S&quot;</span>)</span><br><span class="line">C åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°å½“å‰è¡Œçš„æœ«å°¾å¹¶è¿›å…¥æ’å…¥æ¨¡å¼(åŒ<span class="string">&quot;c$&quot;</span>)</span><br><span class="line">cf[<span class="type">char</span>] åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°[<span class="type">char</span>]å­—ç¬¦å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br><span class="line"> </span><br><span class="line">è¿™é‡Œ<span class="string">&quot;c&quot;</span>å¼€å¤´åŠ  shift å¤§å†™ï¼Œæ„ä¸ºè¡Œå°¾</span><br><span class="line"><span class="string">&quot;c&quot;</span>å¼€å¤´<span class="string">&quot;change&quot;</span>æ›´æ”¹(åˆ é™¤å¹¶æ’å…¥)ï¼Œ<span class="string">&quot;d&quot;</span>å¼€å¤´<span class="string">&quot;delete&quot;</span>åˆ é™¤ï¼Œå’Œ<span class="string">&quot;y&quot;</span>å¼€å¤´<span class="string">&quot;yank/copy&quot;</span>ï¼Œæ ¼å¼ç›¸åŒï¼Œå¯ç›¸äº’å‚è€ƒä½¿ç”¨</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ç¼©è¿›"><a href="#ç¼©è¿›" class="headerlink" title="ç¼©è¿›"></a>ç¼©è¿›</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&gt;&gt; ç¼©è¿›å½“å‰è¡Œ</span><br><span class="line">&lt;&lt; å‘å·¦ç¼©è¿›å½“å‰è¡Œ</span><br><span class="line">&lt;C-d&gt; ç¼©è¿›å½“å‰è¡Œ(æ’å…¥æ¨¡å¼)</span><br><span class="line">&lt;C-t&gt; å‘å·¦ç¼©è¿›å½“å‰è¡Œ(æ’å…¥æ¨¡å¼)</span><br><span class="line">:<span class="number">3</span>,<span class="number">9</span>&gt;&gt;&gt;&gt;&gt; å°†<span class="number">3</span><span class="number">-9</span>è¡Œç¼©è¿›<span class="number">5</span>ä¸ªTAB</span><br><span class="line">&gt; ç¼©è¿›é€‰å®šçš„è¡Œ(å¯è§†æ¨¡å¼)</span><br><span class="line">&lt; å‘å·¦ç¼©è¿›é€‰å®šçš„è¡Œ(å¯è§†æ¨¡å¼)</span><br><span class="line">&gt;i&#123; ç¼©è¿›èŠ±æ‹¬å·ä¹‹é—´çš„å†…å®¹(indent inner &#123;&#125;)(åŒ<span class="string">&quot;&gt;iB&quot;</span>)</span><br><span class="line">&gt;a&#123; ç¼©è¿›èŠ±æ‹¬å·åŠä¹‹é—´çš„å†…å®¹(indent a &#123;&#125;)(åŒ<span class="string">&quot;&gt;aB&quot;</span>)</span><br><span class="line">=&#125; ç¼©è¿›å½“å‰æ®µè½</span><br><span class="line">gg=G å…¨æ–‡ç¼©è¿›/æ ¼å¼åŒ–</span><br></pre></td></tr></table></figure>
<h2 id="å¤åˆ¶ç²˜è´´"><a href="#å¤åˆ¶ç²˜è´´" class="headerlink" title="å¤åˆ¶ç²˜è´´"></a>å¤åˆ¶ç²˜è´´</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">v è¿›å…¥å¯è§†æ¨¡å¼ï¼Œä»¥å­—ç¬¦ä¸ºå•ä½é€‰æ‹©</span><br><span class="line">V è¿›å…¥å¯è§†æ¨¡å¼ï¼Œä»¥è¡Œä¸ºå•ä½é€‰æ‹©</span><br><span class="line">&lt;C-v&gt; è¿›å…¥åˆ—å—å¯è§†æ¨¡å¼(å¦‚æœæ˜ å°„<span class="string">&quot;&lt;C-v&gt;&quot;</span>ä¸º<span class="string">&quot;ç²˜è´´&quot;</span>æ—¶è¯·æ³¨æ„)</span><br><span class="line">gv é‡æ–°é€‰æ‹©æœ€åé€‰å®šçš„åŒºåŸŸ</span><br><span class="line">y æŠ½å‡ºé€‰æ‹©çš„æ–‡æœ¬åˆ°å¯„å­˜å™¨(å¯è§†æ¨¡å¼)(yank/copy)</span><br><span class="line"><span class="string">&quot;+y æŠ½å‡ºé€‰æ‹©çš„æ–‡æœ¬åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿(å¯è§†æ¨¡å¼)(å¥½åƒä¸å¤ªå¥½ä½¿)</span></span><br><span class="line"><span class="string">:co 10 å¤åˆ¶å½“å‰è¡Œåˆ°ç¬¬11è¡Œ(copy)</span></span><br><span class="line"><span class="string">:co . å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œ(åŒ&quot;</span>yyp<span class="string">&quot;)</span></span><br><span class="line"><span class="string">:5,10co 20 å¤åˆ¶5-10è¡Œåˆ°ç¬¬21è¡Œ</span></span><br><span class="line"><span class="string">yy å¤åˆ¶å½“å‰è¡Œ</span></span><br><span class="line"><span class="string">y$ å¤åˆ¶åˆ°è¡Œå°¾</span></span><br><span class="line"><span class="string">yw å¤åˆ¶å…‰æ ‡ä¹‹åçš„å•è¯å‰©ä½™éƒ¨åˆ†(yank word)</span></span><br><span class="line"><span class="string">yb å¤åˆ¶å…‰æ ‡ä¹‹å‰çš„å•è¯å‰©ä½™éƒ¨åˆ†</span></span><br><span class="line"><span class="string">yiw å¤åˆ¶ä¸€ä¸ªå•è¯</span></span><br><span class="line"><span class="string">yip å¤åˆ¶å½“å‰æ®µè½(yank inner paragraph)</span></span><br><span class="line"><span class="string">yas å¤åˆ¶ä¸€ä¸ªå¥å­(yank a sentence)</span></span><br><span class="line"><span class="string">yi&lt; å¤åˆ¶å°–æ‹¬å·ä¹‹é—´çš„å†…å®¹(Yank inner &lt;&gt;)</span></span><br><span class="line"><span class="string">11y å¤åˆ¶11è¡Œ</span></span><br><span class="line"><span class="string">p ç²˜è´´(paste)</span></span><br><span class="line"><span class="string">P ç²˜è´´åˆ°å…‰æ ‡å‰</span></span><br><span class="line"><span class="string">&lt;C-r&gt;&quot;</span> ç²˜è´´(æ’å…¥æ¨¡å¼)</span><br><span class="line"><span class="string">&quot;ayy å¤åˆ¶å½“å‰è¡Œåˆ°å¯„å­˜å™¨&quot;</span>a<span class="string">&quot;(å¯ä½¿ç”¨èŒƒå›´&quot;</span>a-z<span class="string">&quot;)</span></span><br><span class="line"><span class="string">&quot;</span>ap ç²˜è´´ä»å¯„å­˜å™¨<span class="string">&quot;a&quot;</span></span><br><span class="line"> </span><br><span class="line">è¿™é‡Œçš„<span class="string">&quot;å¯„å­˜å™¨&quot;</span>å³VIMå‰ªåˆ‡æ¿</span><br></pre></td></tr></table></figure>
<h2 id="æ»šåŠ¨å±å¹•"><a href="#æ»šåŠ¨å±å¹•" class="headerlink" title="æ»šåŠ¨å±å¹•"></a>æ»šåŠ¨å±å¹•</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">H è·³è½¬åˆ°å±å¹•çš„é¡¶éƒ¨(home)</span><br><span class="line">M è·³è½¬åˆ°å±å¹•çš„ä¸­é—´(middle)</span><br><span class="line">L è·³è½¬åˆ°å±å¹•çš„åº•éƒ¨(low)</span><br><span class="line">zt å°†å½“å‰è¡Œæ»šåŠ¨è‡³å±å¹•é¡¶éƒ¨(top)</span><br><span class="line">zz å°†å½“å‰è¡Œæ»šåŠ¨è‡³å±å¹•ä¸­é—´(åŒ<span class="string">&quot;z.&quot;</span>)</span><br><span class="line">zb å°†å½“å‰è¡Œæ»šåŠ¨è‡³å±å¹•ä¸­é—´(bottom)(åŒ<span class="string">&quot;z-&quot;</span>)</span><br><span class="line">&lt;C-f&gt; æ»šåŠ¨è‡³ä¸‹ä¸€é¡µ(forwards)</span><br><span class="line">&lt;C-b&gt; æ»šåŠ¨è‡³ä¸Šä¸€é¡µ(backwards)</span><br><span class="line">&lt;C-d&gt; å‘ä¸‹æ»šåŠ¨åŠå±(downwards)</span><br><span class="line">&lt;C-u&gt; å‘ä¸‹æ»šåŠ¨åŠå±(upwards)</span><br></pre></td></tr></table></figure>
<h2 id="é”®æ˜ å°„"><a href="#é”®æ˜ å°„" class="headerlink" title="é”®æ˜ å°„"></a>é”®æ˜ å°„</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">:<span class="built_in">map</span> æŸ¥çœ‹å·²æ˜ å°„çš„é”®åˆ—è¡¨</span><br><span class="line">:imap æŸ¥çœ‹æ’å…¥æ¨¡å¼ä¸‹å·²æ˜ å°„çš„é”®åˆ—è¡¨</span><br><span class="line">:nmap æŸ¥çœ‹æ™®é€šæ¨¡å¼ä¸‹å·²æ˜ å°„çš„é”®åˆ—è¡¨</span><br><span class="line">:imap jj &lt;Esc&gt; æ’å…¥æ¨¡å¼ä¸‹é”®å…¥<span class="string">&quot;jj&quot;</span>æ˜ å°„åˆ°<span class="string">&quot;&lt;ESC&gt;&quot;</span>(è¿”å›æ™®é€šæ¨¡å¼)</span><br><span class="line">:nmap &lt;C-h&gt; &lt;C-w&gt;h æ™®é€šæ¨¡å¼ä¸‹æ˜ å°„<span class="string">&quot;&lt;C-h&gt;&quot;</span>åˆ°<span class="string">&quot;&lt;C-w&gt;h&quot;</span>(å…‰æ ‡ç§»åŠ¨åˆ°å·¦è¾¹ä¸€ä¸ªçª—å£)</span><br></pre></td></tr></table></figure>
<h1 id="é”®ä½å›¾"><a href="#é”®ä½å›¾" class="headerlink" title="é”®ä½å›¾"></a>é”®ä½å›¾</h1><ul>
<li>ç»¿è‰²é”®ï¼šmotionï¼Œç§»åŠ¨å…‰æ ‡ï¼Œæˆ–å®šä¹‰æ“ä½œçš„èŒƒå›´</li>
<li>é»„è‰²é”®ï¼šcommandï¼Œç›´æ¥æ‰§è¡Œçš„å‘½ä»¤ï¼Œçº¢è‰²å‘½ä»¤è¿›å…¥ç¼–è¾‘æ¨¡å¼</li>
<li>æ©™è‰²é”®ï¼šoperatorï¼Œåé¢è·Ÿéšè¡¨ç¤ºæ“ä½œèŒƒå›´çš„æŒ‡ä»¤</li>
<li>ç°è‰²é”®ï¼šextraï¼Œç‰¹æ®ŠåŠŸèƒ½ï¼Œéœ€è¦é¢å¤–çš„è¾“å…¥</li>
</ul>
<img src="/2024/04/19/11-47-11/592892-20180328123208117-408079142.gif" class>
<img src="/2024/04/19/11-47-11/57cbaf4d4db0e734254abe2717da0360.jpeg" class>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·, vim</tag>
      </tags>
  </entry>
  <entry>
    <title>27-GooLeNet</title>
    <url>/2024/04/18/15-40-53/</url>
    <content><![CDATA[<h2 id="GooLeNet"><a href="#GooLeNet" class="headerlink" title="GooLeNet"></a>GooLeNet</h2><h4 id="å«å¹¶è¡Œè¿ç»“çš„ç½‘ç»œ"><a href="#å«å¹¶è¡Œè¿ç»“çš„ç½‘ç»œ" class="headerlink" title="å«å¹¶è¡Œè¿ç»“çš„ç½‘ç»œ"></a>å«å¹¶è¡Œè¿ç»“çš„ç½‘ç»œ</h4><ul>
<li>GoogLeNetå¸æ”¶äº†NiNä¸­ä¸²è”ç½‘ç»œçš„æ€æƒ³ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šåšäº†æ”¹è¿›ã€‚æˆ‘ä»¬å¾€å¾€ä¸ç¡®å®šåˆ°åº•é€‰å–ä»€ä¹ˆæ ·çš„å±‚æ•ˆæœæ›´å¥½ï¼Œåˆ°åº•æ˜¯3X3å·ç§¯å±‚è¿˜æ˜¯5X5çš„å·ç§¯å±‚ï¼Œè¯¸å¦‚æ­¤ç±»çš„é—®é¢˜æ˜¯GooLeNeté€‰æ‹©äº†å¦ä¸€ç§æ€è·¯â€œå°å­¦ç”Ÿæ‰åšé€‰æ‹©ï¼Œæˆ‘å…¨éƒ½è¦â€ï¼Œè¿™ä¹Ÿä½¿å¾—GooLeNetæˆä¸ºäº†ç¬¬ä¸€ä¸ªæ¨¡å‹ä¸­è¶…è¿‡1000ä¸ªå±‚çš„æ¨¡å‹ã€‚</li>
</ul>
<h4 id="Inceptionå—"><a href="#Inceptionå—" class="headerlink" title="Inceptionå—"></a>Inceptionå—</h4><ul>
<li><p>åœ¨GoogLeNetä¸­ï¼ŒåŸºæœ¬çš„å·ç§¯å—è¢«ç§°ä¸º<em>Inceptionå—</em>ï¼ˆInception blockï¼‰</p>
<p><img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/27/27-1.png" alt="æˆªå±2022-01-23 ä¸Šåˆ10.11.18"></p>
</li>
<li><p>Inceptionå—ç”±å››æ¡å¹¶è¡Œè·¯å¾„ç»„æˆã€‚ å‰ä¸‰æ¡è·¯å¾„ä½¿ç”¨çª—å£å¤§å°ä¸º1Ã—11Ã—1ã€3Ã—33Ã—3å’Œ5Ã—55Ã—5çš„å·ç§¯å±‚ï¼Œä»ä¸åŒç©ºé—´å¤§å°ä¸­æå–ä¿¡æ¯ã€‚ ä¸­é—´çš„ä¸¤æ¡è·¯å¾„åœ¨è¾“å…¥ä¸Šæ‰§è¡Œ1Ã—11Ã—1å·ç§¯ï¼Œä»¥å‡å°‘é€šé“æ•°ï¼Œä»è€Œé™ä½æ¨¡å‹çš„å¤æ‚æ€§ã€‚ ç¬¬å››æ¡è·¯å¾„ä½¿ç”¨3Ã—33Ã—3æœ€å¤§æ±‡èšå±‚ï¼Œç„¶åä½¿ç”¨1Ã—11Ã—1å·ç§¯å±‚æ¥æ”¹å˜é€šé“æ•°ã€‚ è¿™å››æ¡è·¯å¾„éƒ½ä½¿ç”¨åˆé€‚çš„å¡«å……æ¥ä½¿è¾“å…¥ä¸è¾“å‡ºçš„é«˜å’Œå®½ä¸€è‡´ï¼Œæœ€åæˆ‘ä»¬å°†æ¯æ¡çº¿è·¯çš„è¾“å‡ºåœ¨é€šé“ç»´åº¦ä¸Šè¿ç»“ï¼Œå¹¶æ„æˆInceptionå—çš„è¾“å‡ºã€‚åœ¨Inceptionå—ä¸­ï¼Œé€šå¸¸è°ƒæ•´çš„è¶…å‚æ•°æ˜¯æ¯å±‚è¾“å‡ºé€šé“æ•°ã€‚</p>
</li>
</ul>
<h4 id="GooLeNetæ¨¡å‹"><a href="#GooLeNetæ¨¡å‹" class="headerlink" title="GooLeNetæ¨¡å‹"></a>GooLeNetæ¨¡å‹</h4><ul>
<li>GoogLeNetä¸€å…±ä½¿ç”¨9ä¸ªInceptionå—å’Œå…¨å±€å¹³å‡æ±‡èšå±‚çš„å †å æ¥ç”Ÿæˆå…¶ä¼°è®¡å€¼ã€‚Inceptionå—ä¹‹é—´çš„æœ€å¤§æ±‡èšå±‚å¯é™ä½ç»´åº¦ã€‚ ç¬¬ä¸€ä¸ªæ¨¡å—ç±»ä¼¼äºAlexNetå’ŒLeNetï¼ŒInceptionå—çš„ç»„åˆä»VGGç»§æ‰¿ï¼Œå…¨å±€å¹³å‡æ±‡èšå±‚é¿å…äº†åœ¨æœ€åä½¿ç”¨å…¨è¿æ¥å±‚ã€‚<img src="https://github.com/kinza99/DeepLearning-MuLi-Notes/blob/main/imgs/27/27-2.png" alt="æˆªå±2022-01-23 ä¸Šåˆ10.17.11"></li>
<li>ç¬¬ä¸€ä¸ªæ¨¡å—æ˜¯7Ã—7å·ç§¯å±‚ã€‚</li>
<li>ç¬¬äºŒä¸ªæ¨¡å—ä½¿ç”¨ä¸¤ä¸ªå·ç§¯å±‚ï¼šç¬¬ä¸€ä¸ªå·ç§¯å±‚æ˜¯1Ã—1å·ç§¯å±‚ï¼›ç¬¬äºŒä¸ªå·ç§¯å±‚ä½¿ç”¨å°†é€šé“æ•°é‡å¢åŠ ä¸‰å€çš„3Ã—3å·ç§¯å±‚ã€‚ è¿™å¯¹åº”äºInceptionå—ä¸­çš„ç¬¬äºŒæ¡è·¯å¾„ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªæ¨¡å—ä¸²è”ä¸¤ä¸ªå®Œæ•´çš„Inceptionå—ã€‚ ç¬¬ä¸€ä¸ªInceptionå—çš„è¾“å‡ºé€šé“æ•°ä¸º64+128+32+32=25664+128+32+32=256ï¼Œå››ä¸ªè·¯å¾„ä¹‹é—´çš„è¾“å‡ºé€šé“æ•°é‡æ¯”ä¸º64:128:32:32=2:4:1:164:128:32:32=2:4:1:1ã€‚ ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªè·¯å¾„é¦–å…ˆå°†è¾“å…¥é€šé“çš„æ•°é‡åˆ†åˆ«å‡å°‘åˆ°96/192=1/296/192=1/2å’Œ16/192=1/1216/192=1/12ï¼Œç„¶åè¿æ¥ç¬¬äºŒä¸ªå·ç§¯å±‚ã€‚ç¬¬äºŒä¸ªInceptionå—çš„è¾“å‡ºé€šé“æ•°å¢åŠ åˆ°128+192+96+64=480128+192+96+64=480ï¼Œå››ä¸ªè·¯å¾„ä¹‹é—´çš„è¾“å‡ºé€šé“æ•°é‡æ¯”ä¸º128:192:96:64=4:6:3:2128:192:96:64=4:6:3:2ã€‚ ç¬¬äºŒæ¡å’Œç¬¬ä¸‰æ¡è·¯å¾„é¦–å…ˆå°†è¾“å…¥é€šé“çš„æ•°é‡åˆ†åˆ«å‡å°‘åˆ°128/256=1/2128/256=1/2å’Œ32/256=1/832/256=1/8ã€‚</li>
<li>ç¬¬å››æ¨¡å—æ›´åŠ å¤æ‚ï¼Œ å®ƒä¸²è”äº†5ä¸ªInceptionå—ï¼Œå…¶è¾“å‡ºé€šé“æ•°åˆ†åˆ«æ˜¯192+208+48+64=512192+208+48+64=512ã€160+224+64+64=512160+224+64+64=512ã€128+256+64+64=512128+256+64+64=512ã€112+288+64+64=528112+288+64+64=528å’Œ256+320+128+128=832256+320+128+128=832ã€‚ è¿™äº›è·¯å¾„çš„é€šé“æ•°åˆ†é…å’Œç¬¬ä¸‰æ¨¡å—ä¸­çš„ç±»ä¼¼ï¼Œé¦–å…ˆæ˜¯å«3Ã—3å·ç§¯å±‚çš„ç¬¬äºŒæ¡è·¯å¾„è¾“å‡ºæœ€å¤šé€šé“ï¼Œå…¶æ¬¡æ˜¯ä»…å«1Ã—1å·ç§¯å±‚çš„ç¬¬ä¸€æ¡è·¯å¾„ï¼Œä¹‹åæ˜¯å«5Ã—5å·ç§¯å±‚çš„ç¬¬ä¸‰æ¡è·¯å¾„å’Œå«3Ã—3æœ€å¤§æ±‡èšå±‚çš„ç¬¬å››æ¡è·¯å¾„ã€‚ å…¶ä¸­ç¬¬äºŒã€ç¬¬ä¸‰æ¡è·¯å¾„éƒ½ä¼šå…ˆæŒ‰æ¯”ä¾‹å‡å°é€šé“æ•°ã€‚ è¿™äº›æ¯”ä¾‹åœ¨å„ä¸ªInceptionå—ä¸­éƒ½ç•¥æœ‰ä¸åŒã€‚</li>
</ul>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li><p>Inceptionå—ç›¸å½“äºä¸€ä¸ªæœ‰4æ¡è·¯å¾„çš„å­ç½‘ç»œã€‚å®ƒé€šè¿‡ä¸åŒçª—å£å½¢çŠ¶çš„å·ç§¯å±‚å’Œæœ€å¤§æ±‡èšå±‚æ¥å¹¶è¡ŒæŠ½å–ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨1Ã—1å·ç§¯å±‚å‡å°‘æ¯åƒç´ çº§åˆ«ä¸Šçš„é€šé“ç»´æ•°ä»è€Œé™ä½æ¨¡å‹å¤æ‚åº¦ã€‚</p>
</li>
<li><p>GoogLeNetå°†å¤šä¸ªè®¾è®¡ç²¾ç»†çš„Inceptionå—ä¸å…¶ä»–å±‚ï¼ˆå·ç§¯å±‚ã€å…¨è¿æ¥å±‚ï¼‰ä¸²è”èµ·æ¥ã€‚å…¶ä¸­Inceptionå—çš„é€šé“æ•°åˆ†é…ä¹‹æ¯”æ˜¯åœ¨ImageNetæ•°æ®é›†ä¸Šé€šè¿‡å¤§é‡çš„å®éªŒå¾—æ¥çš„ã€‚</p>
</li>
<li><p>GoogLeNetå’Œå®ƒçš„åç»§è€…ä»¬ä¸€åº¦æ˜¯ImageNetä¸Šæœ€æœ‰æ•ˆçš„æ¨¡å‹ä¹‹ä¸€ï¼šå®ƒä»¥è¾ƒä½çš„è®¡ç®—å¤æ‚åº¦æä¾›äº†ç±»ä¼¼çš„æµ‹è¯•ç²¾åº¦ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ , æ·±åº¦å­¦ä¹ , ææ²</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨ç¬”è®°æ±‡æ€»</title>
    <url>/2024/04/18/15-40-33/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.18ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-34-48/" title="æœºå™¨å­¦ä¹ ç¬”è®°ä¸€ å•å˜é‡çº¿æ€§å›å½’">æœºå™¨å­¦ä¹ ç¬”è®°ä¸€ å•å˜é‡çº¿æ€§å›å½’</a></li>
<li><a href="/2024/04/21/07-10-14/" title="æœºå™¨å­¦ä¹ ç¬”è®°äºŒ å¤šå˜é‡çº¿æ€§å›å½’">æœºå™¨å­¦ä¹ ç¬”è®°äºŒ å¤šå˜é‡çº¿æ€§å›å½’</a></li>
<li><a href="/2024/04/22/13-37-10/" title="æœºå™¨å­¦ä¹ ç¬”è®°ä¸‰ å¤šå˜é‡çº¿æ€§å›å½’">æœºå™¨å­¦ä¹ ç¬”è®°ä¸‰ å¤šå˜é‡çº¿æ€§å›å½’</a></li>
<li><a href="/2024/04/22/13-37-13/" title="æœºå™¨å­¦ä¹ ç¬”è®°å›› ç¥ç»ç½‘ç»œçš„è¡¨è¾¾">æœºå™¨å­¦ä¹ ç¬”è®°å›› ç¥ç»ç½‘ç»œçš„è¡¨è¾¾</a></li>
<li><a href="/2024/04/23/12-43-40/" title="æœºå™¨å­¦ä¹ ç¬”è®°äº” ç¥ç»ç½‘ç»œçš„å­¦ä¹ ">æœºå™¨å­¦ä¹ ç¬”è®°äº” ç¥ç»ç½‘ç»œçš„å­¦ä¹ </a>
</li>
</ul>
<blockquote>
<p>å…ˆå­¦ä¹ ä¸€éƒ¨åˆ†ï¼Œä¹‹åé‡åˆ°äº†å†å…·ä½“å­¦ä¹ ï¼Œæš‚åœä¹‹åå­¦ä¹ åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°ä¸€ å•å˜é‡çº¿æ€§å›å½’</title>
    <url>/2024/04/18/15-34-48/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.04.18ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2024/04/18/15-40-33/" title="æœºå™¨ç¬”è®°æ±‡æ€»">å´æ©è¾¾æœºå™¨å­¦ä¹  - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="1-å¼•è¨€ï¼ˆIntroductionï¼‰"><a href="#1-å¼•è¨€ï¼ˆIntroductionï¼‰" class="headerlink" title="1 å¼•è¨€ï¼ˆIntroductionï¼‰"></a>1 å¼•è¨€ï¼ˆIntroductionï¼‰</h1><h2 id="1-1-Welcome"><a href="#1-1-Welcome" class="headerlink" title="1.1 Welcome"></a>1.1 Welcome</h2><p>éšç€äº’è”ç½‘æ•°æ®ä¸æ–­ç´¯ç§¯ï¼Œç¡¬ä»¶ä¸æ–­å‡çº§è¿­ä»£ï¼Œåœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæœºå™¨å­¦ä¹ å·²è¢«åº”ç”¨åœ¨å„è¡Œå„ä¸šä¸­ï¼Œå¯è°“æ— å¤„ä¸åœ¨ã€‚</p>
<h2 id="1-2-ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼ˆWhat-is-Machine-Learningï¼‰"><a href="#1-2-ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼ˆWhat-is-Machine-Learningï¼‰" class="headerlink" title="1.2 ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼ˆWhat is Machine Learningï¼‰"></a>1.2 ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼ˆWhat is Machine Learningï¼‰</h2><ol>
<li><p>æœºå™¨å­¦ä¹ å®šä¹‰<br> è¿™é‡Œä¸»è¦æœ‰ä¸¤ç§å®šä¹‰ï¼š</p>
<ul>
<li><p>Arthur Samuel (1959). Machine Learning:<br>Field of study that gives computers the ability to learn without being explicitly programmed.<br>è¿™ä¸ªå®šä¹‰æœ‰ç‚¹ä¸æ­£å¼ä½†æå‡ºçš„æ—¶é—´æœ€æ—©ï¼Œæ¥è‡ªäºä¸€ä¸ªæ‡‚å¾—è®¡ç®—æœºç¼–ç¨‹çš„ä¸‹æ£‹èœé¸Ÿã€‚ä»–ç¼–å†™äº†ä¸€ä¸ªç¨‹åºï¼Œä½†æ²¡æœ‰æ˜¾å¼åœ°ç¼–ç¨‹æ¯ä¸€æ­¥è¯¥æ€ä¹ˆèµ°ï¼Œè€Œæ˜¯è®©è®¡ç®—æœºè‡ªå·±å’Œè‡ªå·±å¯¹å¼ˆï¼Œå¹¶ä¸æ–­åœ°è®¡ç®—å¸ƒå±€çš„å¥½åï¼Œæ¥åˆ¤æ–­ä»€ä¹ˆæƒ…å†µä¸‹è·èƒœçš„æ¦‚ç‡é«˜ï¼Œä»è€Œç§¯ç´¯ç»éªŒï¼Œå¥½ä¼¼å­¦ä¹ ï¼Œæœ€åï¼Œè¿™ä¸ªè®¡ç®—æœºç¨‹åºæˆä¸ºäº†ä¸€ä¸ªæ¯”ä»–è‡ªå·±è¿˜å‰å®³çš„æ£‹æ‰‹ã€‚</p>
</li>
<li><p>Tom Mitchell (1998) Well-posed Learning Problem:<br>A computer program is said to learn from experience E with respect to some <strong>task T</strong> and some <strong>performance measure P</strong>, if its performance on T, as measured by P, improves with <strong>experience E</strong>.<br>Tom Mitchell çš„å®šä¹‰æ›´ä¸ºç°ä»£å’Œæ­£å¼ã€‚åœ¨è¿‡æ»¤åƒåœ¾é‚®ä»¶è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”µå­é‚®ä»¶ç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·å¯¹ç”µå­é‚®ä»¶çš„æ ‡è®°ï¼ˆæ˜¯/ä¸æ˜¯åƒåœ¾é‚®ä»¶ï¼‰ä¸æ–­å­¦ä¹ ï¼Œä»è€Œæå‡è¿‡æ»¤åƒåœ¾é‚®ä»¶çš„å‡†ç¡®ç‡ï¼Œå®šä¹‰ä¸­çš„ä¸‰ä¸ªå­—æ¯åˆ†åˆ«ä»£è¡¨ï¼š</p>
<ul>
<li>T(Task): è¿‡æ»¤åƒåœ¾é‚®ä»¶ä»»åŠ¡ã€‚</li>
<li>P(Performance): ç”µå­é‚®ä»¶ç³»ç»Ÿè¿‡æ»¤åƒåœ¾é‚®ä»¶çš„å‡†ç¡®ç‡ã€‚</li>
<li>E(Experience): ç”¨æˆ·å¯¹ç”µå­é‚®ä»¶çš„æ ‡è®°ã€‚<blockquote>
<p>ç±»ä¼¼ç›‘ç£å­¦ä¹ </p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li>æœºå™¨å­¦ä¹ ç®—æ³•<br>ä¸»è¦æœ‰ä¸¤ç§æœºå™¨å­¦ä¹ çš„ç®—æ³•åˆ†ç±»<ol>
<li>ç›‘ç£å­¦ä¹ </li>
<li>æ— ç›‘ç£å­¦ä¹ <br>è¿˜æœ‰ä¸€äº›ç®—æ³•ä¹Ÿå±äºæœºå™¨å­¦ä¹ é¢†åŸŸï¼Œè¯¸å¦‚ï¼š</li>
</ol>
<ul>
<li>åŠç›‘ç£å­¦ä¹ : ä»‹äºç›‘ç£å­¦ä¹ äºæ— ç›‘ç£å­¦ä¹ ä¹‹é—´</li>
<li>æ¨èç®—æ³•: </li>
<li>å¼ºåŒ–å­¦ä¹ : é€šè¿‡è§‚å¯Ÿæ¥å­¦ä¹ å¦‚ä½•åšå‡ºåŠ¨ä½œï¼Œæ¯ä¸ªåŠ¨ä½œéƒ½ä¼šå¯¹ç¯å¢ƒæœ‰æ‰€å½±å“ï¼Œè€Œç¯å¢ƒçš„åé¦ˆåˆå¯ä»¥å¼•å¯¼è¯¥å­¦ä¹ ç®—æ³•ã€‚</li>
<li>è¿ç§»å­¦ä¹ : æŸä¸ªé¢†åŸŸåº”ç”¨åˆ°å¦ä¸ªé¢†åŸŸ</li>
</ul>
</li>
</ol>
<h2 id="1-3-ç›‘ç£å­¦ä¹ ï¼ˆSupervised-Learningï¼‰"><a href="#1-3-ç›‘ç£å­¦ä¹ ï¼ˆSupervised-Learningï¼‰" class="headerlink" title="1.3 ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰"></a>1.3 ç›‘ç£å­¦ä¹ ï¼ˆSupervised Learningï¼‰</h2><p>ç›‘ç£å­¦ä¹ ï¼Œå³ä¸ºæ•™è®¡ç®—æœºå¦‚ä½•å»å®Œæˆé¢„æµ‹ä»»åŠ¡ï¼ˆæœ‰åé¦ˆï¼‰ï¼Œé¢„å…ˆç»™ä¸€å®šæ•°æ®é‡çš„è¾“å…¥<strong>å’Œå¯¹åº”çš„ç»“æœ</strong>å³è®­ç»ƒé›†ï¼Œå»ºæ¨¡æ‹Ÿåˆï¼Œæœ€åè®©è®¡ç®—æœºé¢„æµ‹æœªçŸ¥æ•°æ®çš„ç»“æœã€‚<br>ç›‘ç£å­¦ä¹ ä¸€èˆ¬æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li><p>å›å½’é—®é¢˜ï¼ˆRegressionï¼‰<br>å›å½’é—®é¢˜å³ä¸ºé¢„æµ‹ä¸€ç³»åˆ—çš„<strong>è¿ç»­å€¼</strong>ã€‚<br>åœ¨æˆ¿å±‹ä»·æ ¼é¢„æµ‹çš„ä¾‹å­ä¸­ï¼Œç»™å‡ºäº†ä¸€ç³»åˆ—çš„æˆ¿å±‹é¢ç§¯æ•°æ®ï¼Œæ ¹æ®è¿™äº›æ•°æ®æ¥é¢„æµ‹ä»»æ„é¢ç§¯çš„æˆ¿å±‹ä»·æ ¼ã€‚ç»™å‡ºç…§ç‰‡-å¹´é¾„æ•°æ®é›†ï¼Œé¢„æµ‹ç»™å®šç…§ç‰‡çš„å¹´é¾„ã€‚</p>

</li>
<li><p>åˆ†ç±»é—®é¢˜ï¼ˆClassificationï¼‰<br>åˆ†ç±»é—®é¢˜å³ä¸ºé¢„æµ‹ä¸€ç³»åˆ—çš„<strong>ç¦»æ•£å€¼</strong>ã€‚<br>å³æ ¹æ®æ•°æ®é¢„æµ‹è¢«é¢„æµ‹å¯¹è±¡å±äºå“ªä¸ªåˆ†ç±»ã€‚<br>è§†é¢‘ä¸­ä¸¾äº†ç™Œç—‡è‚¿ç˜¤è¿™ä¸ªä¾‹å­ï¼Œé’ˆå¯¹è¯Šæ–­ç»“æœï¼Œåˆ†åˆ«åˆ†ç±»ä¸ºè‰¯æ€§æˆ–æ¶æ€§ã€‚è¿˜ä¾‹å¦‚åƒåœ¾é‚®ä»¶åˆ†ç±»é—®é¢˜ï¼Œä¹ŸåŒæ ·å±äºç›‘ç£å­¦ä¹ ä¸­çš„åˆ†ç±»é—®é¢˜ã€‚</p>
<img src="/2024/04/18/15-34-48/20180105_194839.png" class>
</li>
</ol>
<p>è§†é¢‘ä¸­æåˆ°<strong>æ”¯æŒå‘é‡æœº</strong>è¿™ä¸ªç®—æ³•ï¼Œæ—¨åœ¨è§£å†³å½“ç‰¹å¾é‡å¾ˆå¤§çš„æ—¶å€™ï¼ˆç‰¹å¾å³å¦‚ç™Œç—‡ä¾‹å­ä¸­çš„è‚¿å—å¤§å°ï¼Œé¢œè‰²ï¼Œæ°”å‘³ç­‰å„ç§ç‰¹å¾ï¼‰ï¼Œè®¡ç®—æœºå†…å­˜ä¸€å®šä¼šä¸å¤Ÿç”¨çš„æƒ…å†µã€‚<strong>æ”¯æŒå‘é‡æœºèƒ½è®©è®¡ç®—æœºå¤„ç†æ— é™å¤šä¸ªç‰¹å¾ã€‚</strong></p>
<h2 id="1-4-æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised-Learningï¼‰"><a href="#1-4-æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised-Learningï¼‰" class="headerlink" title="1.4 æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰"></a>1.4 æ— ç›‘ç£å­¦ä¹ ï¼ˆUnsupervised Learningï¼‰</h2><p>ç›¸å¯¹äºç›‘ç£å­¦ä¹ ï¼Œè®­ç»ƒé›†ä¸ä¼šæœ‰äººä¸ºæ ‡æ³¨çš„ç»“æœï¼ˆæ— åé¦ˆï¼‰ï¼Œæˆ‘ä»¬<strong>ä¸ä¼šç»™å‡º</strong>ç»“æœæˆ–<strong>æ— æ³•å¾—çŸ¥</strong>è®­ç»ƒé›†çš„ç»“æœæ˜¯ä»€ä¹ˆæ ·ï¼Œè€Œæ˜¯å•çº¯ç”±è®¡ç®—æœºé€šè¿‡æ— ç›‘ç£å­¦ä¹ ç®—æ³•è‡ªè¡Œåˆ†æï¼Œä»è€Œâ€œå¾—å‡ºç»“æœâ€ã€‚è®¡ç®—æœºå¯èƒ½ä¼šæŠŠç‰¹å®šçš„æ•°æ®é›†å½’ä¸ºå‡ ä¸ªä¸åŒçš„ç°‡ï¼Œæ•…å«åšèšç±»ç®—æ³•ã€‚</p>
<p>æ— ç›‘ç£å­¦ä¹ ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li>èšç±»ï¼ˆClusteringï¼‰<ul>
<li>æ–°é—»èšåˆ</li>
<li>DNA ä¸ªä½“èšç±»</li>
<li>å¤©æ–‡æ•°æ®åˆ†æ</li>
<li>å¸‚åœºç»†åˆ†</li>
<li>ç¤¾äº¤ç½‘ç»œåˆ†æ</li>
</ul>
</li>
<li>éèšç±»ï¼ˆNon-clusteringï¼‰<ul>
<li>é¸¡å°¾é…’é—®é¢˜</li>
</ul>
</li>
</ol>
<p><strong>æ–°é—»èšåˆ</strong></p>
<p>åœ¨ä¾‹å¦‚è°·æ­Œæ–°é—»è¿™æ ·çš„ç½‘ç«™ä¸­ï¼Œæ¯å¤©åå°éƒ½ä¼šæ”¶é›†æˆåƒä¸Šä¸‡çš„æ–°é—»ï¼Œç„¶åå°†è¿™äº›æ–°é—»åˆ†ç»„æˆä¸€ä¸ªä¸ªçš„æ–°é—»ä¸“é¢˜ï¼Œè¿™æ ·ä¸€ä¸ªåˆä¸€ä¸ªèšç±»ï¼Œå°±æ˜¯åº”ç”¨äº†æ— ç›‘ç£å­¦ä¹ çš„ç»“æœã€‚</p>
<p><strong>é¸¡å°¾é…’é—®é¢˜</strong></p>
 <img src="/2024/04/18/15-34-48/20180105_201639.png" class>
<p>åœ¨é¸¡å°¾é…’ä¼šä¸Šï¼Œå¤§å®¶è¯´è¯å£°éŸ³å½¼æ­¤é‡å ï¼Œå‡ ä¹å¾ˆéš¾åˆ†è¾¨å‡ºé¢å‰çš„äººè¯´äº†ä»€ä¹ˆã€‚æˆ‘ä»¬å¾ˆéš¾å¯¹äºè¿™ä¸ªé—®é¢˜è¿›è¡Œæ•°æ®æ ‡æ³¨ï¼Œè€Œè¿™é‡Œçš„é€šè¿‡æœºå™¨å­¦ä¹ çš„æ— ç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œå°±å¯ä»¥å°†è¯´è¯è€…çš„å£°éŸ³åŒèƒŒæ™¯éŸ³ä¹åˆ†ç¦»å‡ºæ¥ã€‚</p>
<h1 id="2-å•å˜é‡çº¿æ€§å›å½’ï¼ˆLinear-Regression-with-One-Variableï¼‰"><a href="#2-å•å˜é‡çº¿æ€§å›å½’ï¼ˆLinear-Regression-with-One-Variableï¼‰" class="headerlink" title="2 å•å˜é‡çº¿æ€§å›å½’ï¼ˆLinear Regression with One Variableï¼‰"></a>2 å•å˜é‡çº¿æ€§å›å½’ï¼ˆLinear Regression with One Variableï¼‰</h1><h2 id="2-1-æ¨¡å‹è¡¨ç¤ºï¼ˆModel-Representationï¼‰"><a href="#2-1-æ¨¡å‹è¡¨ç¤ºï¼ˆModel-Representationï¼‰" class="headerlink" title="2.1 æ¨¡å‹è¡¨ç¤ºï¼ˆModel Representationï¼‰"></a>2.1 æ¨¡å‹è¡¨ç¤ºï¼ˆModel Representationï¼‰</h2><ol>
<li>æˆ¿ä»·é¢„æµ‹è®­ç»ƒé›†</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>Size in $feet^2$ ($x$)</th>
<th>Price ($) in 1000â€™s($y$)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2104</td>
<td>460</td>
</tr>
<tr>
<td>1416</td>
<td>232</td>
</tr>
<tr>
<td>1534</td>
<td>315</td>
</tr>
<tr>
<td>852</td>
<td>178</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
</div>
<p>æˆ¿ä»·é¢„æµ‹è®­ç»ƒé›†ä¸­ï¼ŒåŒæ—¶ç»™å‡ºäº†è¾“å…¥ $x$ å’Œè¾“å‡ºç»“æœ $y$ï¼Œå³ç»™å‡ºäº†äººä¸ºæ ‡æ³¨çš„<strong>â€œæ­£ç¡®ç»“æœâ€</strong>ï¼Œä¸”é¢„æµ‹çš„é‡æ˜¯è¿ç»­çš„ï¼Œå±äºç›‘ç£å­¦ä¹ ä¸­çš„å›å½’é—®é¢˜ã€‚</p>
<ol>
<li><p><strong>é—®é¢˜è§£å†³æ¨¡å‹</strong></p>
<img src="/2024/04/18/15-34-48/20180105_212048.png" class>
</li>
</ol>
<p>å…¶ä¸­ $h$ ä»£è¡¨ç»“æœå‡½æ•°ï¼Œä¹Ÿç§°ä¸º<strong>å‡è®¾ï¼ˆhypothesisï¼‰</strong> ã€‚å‡è®¾å‡½æ•°æ ¹æ®è¾“å…¥ï¼ˆæˆ¿å±‹çš„é¢ç§¯ï¼‰ï¼Œç»™å‡ºé¢„æµ‹ç»“æœè¾“å‡ºï¼ˆæˆ¿å±‹çš„ä»·æ ¼ï¼‰ï¼Œå³æ˜¯ä¸€ä¸ª $X\to Y$ çš„æ˜ å°„ã€‚</p>
<p>$h_\theta(x)=\theta_0+\theta_1x$ï¼Œä¸ºè§£å†³æˆ¿ä»·é—®é¢˜çš„ä¸€ç§å¯è¡Œè¡¨è¾¾å¼ã€‚</p>
<blockquote>
<p>$x$: ç‰¹å¾/è¾“å…¥å˜é‡ã€‚</p>
</blockquote>
<p>ä¸Šå¼ä¸­ï¼Œ$\theta$ ä¸ºå‚æ•°ï¼Œ$\theta$ çš„å˜åŒ–æ‰å†³å®šäº†è¾“å‡ºç»“æœï¼Œä¸åŒä»¥å¾€ï¼Œè¿™é‡Œçš„ $x$ è¢«æˆ‘ä»¬<strong>è§†ä½œå·²çŸ¥</strong>ï¼ˆä¸è®ºæ˜¯æ•°æ®é›†è¿˜æ˜¯é¢„æµ‹æ—¶çš„è¾“å…¥ï¼‰ï¼Œæ‰€ä»¥æ€æ ·è§£å¾— $\theta$ ä»¥æ›´å¥½åœ°æ‹Ÿåˆæ•°æ®ï¼Œæˆäº†æ±‚è§£è¯¥é—®é¢˜çš„æœ€ç»ˆé—®é¢˜ã€‚</p>
<p>å•å˜é‡ï¼Œå³åªæœ‰ä¸€ä¸ªç‰¹å¾ï¼ˆå¦‚ä¾‹å­ä¸­æˆ¿å±‹çš„é¢ç§¯è¿™ä¸ªç‰¹å¾ï¼‰ã€‚</p>
<h2 id="2-2-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰"><a href="#2-2-ä»£ä»·å‡½æ•°ï¼ˆCost-Functionï¼‰" class="headerlink" title="2.2 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰"></a>2.2 ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰</h2><blockquote>
<p>æèˆªã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä¸€ä¹¦ä¸­ï¼ŒæŸå¤±å‡½æ•°ä¸ä»£ä»·å‡½æ•°ä¸¤è€…ä¸º<strong>åŒä¸€æ¦‚å¿µ</strong>ï¼Œæœªä½œç»†åˆ†åŒºåˆ«ï¼Œå…¨ä¹¦æ²¡æœ‰å’Œã€Šæ·±åº¦å­¦ä¹ ã€‹ä¸€ä¹¦ä¸€æ ·æ··ç”¨ï¼Œè€Œæ˜¯ç»Ÿä¸€ä½¿ç”¨<strong>æŸå¤±å‡½æ•°</strong>æ¥æŒ‡ä»£è¿™ç±»ç±»ä¼¼æ¦‚å¿µã€‚</p>
<p>å´æ©è¾¾ï¼ˆAndrew Ngï¼‰è€å¸ˆåœ¨å…¶å…¬å¼€è¯¾ä¸­å¯¹ä¸¤è€…åšäº†ç»†åˆ†ã€‚</p>
<p><strong>æŸå¤±å‡½æ•°</strong>ï¼ˆLoss/Error Functionï¼‰: è®¡ç®—<strong>å•ä¸ª</strong>æ ·æœ¬çš„è¯¯å·®ã€‚</p>
<p><strong>ä»£ä»·å‡½æ•°</strong>ï¼ˆCost Functionï¼‰: è®¡ç®—æ•´ä¸ªè®­ç»ƒé›†<strong>æ‰€æœ‰æŸå¤±å‡½æ•°ä¹‹å’Œçš„å¹³å‡å€¼</strong></p>
</blockquote>
<p>æˆ‘ä»¬çš„ç›®çš„åœ¨äºæ±‚è§£é¢„æµ‹ç»“æœ $h$ æœ€æ¥è¿‘äºå®é™…ç»“æœ $y$ æ—¶ $\theta$ çš„å–å€¼ï¼Œåˆ™é—®é¢˜å¯è¡¨è¾¾ä¸º<strong>æ±‚è§£ $\sum\limits_{i=1}^{m}(h_\theta(x^{(i)})-y^{(i)})$ çš„æœ€å°å€¼</strong>ã€‚</p>
<blockquote>
<p>$m$: è®­ç»ƒé›†ä¸­çš„æ ·æœ¬æ€»æ•°</p>
<p>$y$: ç›®æ ‡å˜é‡/è¾“å‡ºå˜é‡</p>
<p>$\left(x, y\right)$: è®­ç»ƒé›†ä¸­çš„å®ä¾‹</p>
<p>$\left(x^{\left(i\right)},y^{\left(i\right)}\right)$: è®­ç»ƒé›†ä¸­çš„ç¬¬ $i$ ä¸ªæ ·æœ¬å®ä¾‹</p>
</blockquote>
<img src="/2024/04/18/15-34-48/20180105_224648.png" class>
<p>ä¸Šå›¾å±•ç¤ºäº†å½“ $\theta$ å–ä¸åŒå€¼æ—¶ï¼Œ$h_\theta\left(x\right)$ å¯¹æ•°æ®é›†çš„æ‹Ÿåˆæƒ…å†µï¼Œè“è‰²è™šçº¿éƒ¨åˆ†ä»£è¡¨<strong>å»ºæ¨¡è¯¯å·®</strong>ã€‚</p>
<p>ä¸ºäº†æ±‚è§£æœ€å°å€¼ï¼Œå¼•å…¥ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰æ¦‚å¿µï¼Œç”¨äºåº¦é‡å»ºæ¨¡è¯¯å·®ã€‚è€ƒè™‘åˆ°è¦è®¡ç®—æœ€å°å€¼ï¼Œåº”ç”¨äºŒæ¬¡å‡½æ•°å¯¹æ±‚å’Œå¼å»ºæ¨¡ï¼Œå³åº”ç”¨ç»Ÿè®¡å­¦ä¸­çš„å¹³æ–¹æŸå¤±å‡½æ•°ï¼ˆæœ€å°äºŒä¹˜æ³•ï¼‰ï¼š</p>
<p>$$<br>J(\theta_0, \theta_1)= \dfrac{ 1 }{ 2m } \displaystyle \sum_ {i=1}^m\left(\hat{y}_{i}-y_{i} \right)^2=\dfrac{1}{2m}\displaystyle\sum_{i=1}^m\left(h_\theta(x_{i})-y_{i}\right)^2<br>$$</p>
<blockquote>
<p>$\hat{y}$: $y$ çš„é¢„æµ‹å€¼</p>
<p>ç³»æ•° $\frac{1}{2}$ å­˜åœ¨ä¸å¦éƒ½ä¸ä¼šå½±å“ç»“æœï¼Œè¿™é‡Œæ˜¯ä¸ºäº†åœ¨åº”ç”¨æ¢¯åº¦ä¸‹é™æ—¶ä¾¿äºæ±‚è§£ï¼Œå¹³æ–¹çš„å¯¼æ•°ä¼šæŠµæ¶ˆæ‰ $\frac{1}{2}$ ã€‚</p>
</blockquote>
<p>è®¨è®ºåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„é—®é¢˜å°±è½¬åŒ–æˆäº†<strong>æ±‚è§£ $J\left( \theta_0, \theta_1  \right)$ çš„æœ€å°å€¼</strong>ã€‚</p>
<h2 id="2-3-ä»£ä»·å‡½æ•°-ç›´è§‚ç†è§£1ï¼ˆCost-Function-Intuition-Iï¼‰"><a href="#2-3-ä»£ä»·å‡½æ•°-ç›´è§‚ç†è§£1ï¼ˆCost-Function-Intuition-Iï¼‰" class="headerlink" title="2.3 ä»£ä»·å‡½æ•° - ç›´è§‚ç†è§£1ï¼ˆCost Function - Intuition Iï¼‰"></a>2.3 ä»£ä»·å‡½æ•° - ç›´è§‚ç†è§£1ï¼ˆCost Function - Intuition Iï¼‰</h2><p>æ ¹æ®ä¸ŠèŠ‚è§†é¢‘ï¼Œåˆ—å‡ºå¦‚ä¸‹å®šä¹‰ï¼š</p>
<ul>
<li>å‡è®¾å‡½æ•°ï¼ˆHypothesisï¼‰: $h_\theta(x)=\theta_0+\theta_1x$</li>
<li>å‚æ•°ï¼ˆParametersï¼‰: $\theta_0, \theta_1$</li>
<li>ä»£ä»·å‡½æ•°ï¼ˆCost Functionï¼‰: $J\left( \theta_0, \theta_1  \right)=\frac{1}{2m}\sum\limits_{i=1}^{m}{ { {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)}^{2} } }$</li>
<li>ç›®æ ‡ï¼ˆGoalï¼‰: $\underset{\theta_0, \theta_1}{\text{minimize} } J \left(\theta_0, \theta_1 \right)$</li>
</ul>
<p>ä¸ºäº†ç›´è§‚ç†è§£ä»£ä»·å‡½æ•°åˆ°åº•æ˜¯åœ¨åšä»€ä¹ˆï¼Œå…ˆå‡è®¾ $\theta_0 = 0$ï¼Œå¹¶å‡è®¾è®­ç»ƒé›†æœ‰ä¸‰ä¸ªæ•°æ®ï¼Œåˆ†åˆ«ä¸º$\left(1, 1\right), \left(2, 2\right), \left(3, 3\right)$ï¼Œè¿™æ ·åœ¨å¹³é¢åæ ‡ç³»ä¸­ç»˜åˆ¶å‡º $h_\theta\left(x\right)$ ï¼Œå¹¶åˆ†æ $J\left(\theta_0, \theta_1\right)$ çš„å˜åŒ–ã€‚</p>
<img src="/2024/04/18/15-34-48/20180106_085915.png" class>
<p>å³å›¾ $J\left(\theta_0, \theta_1\right)$ éšç€ $\theta_1$ çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå¯è§<strong>å½“ $\theta_1 = 1$ æ—¶ï¼Œ$J\left(\theta_0, \theta_1 \right) = 0$ï¼Œå–å¾—æœ€å°å€¼ï¼Œ</strong>å¯¹åº”äºå·¦å›¾é’è‰²ç›´çº¿ï¼Œå³å‡½æ•° $h$ æ‹Ÿåˆç¨‹åº¦æœ€å¥½çš„æƒ…å†µã€‚</p>
<h2 id="2-4-ä»£ä»·å‡½æ•°-ç›´è§‚ç†è§£2ï¼ˆCost-Function-Intuition-IIï¼‰"><a href="#2-4-ä»£ä»·å‡½æ•°-ç›´è§‚ç†è§£2ï¼ˆCost-Function-Intuition-IIï¼‰" class="headerlink" title="2.4 ä»£ä»·å‡½æ•° - ç›´è§‚ç†è§£2ï¼ˆCost Function - Intuition IIï¼‰"></a>2.4 ä»£ä»·å‡½æ•° - ç›´è§‚ç†è§£2ï¼ˆCost Function - Intuition IIï¼‰</h2><p>ç»™å®šæ•°æ®é›†ï¼š<br><img src="/2024/04/18/15-34-48/20180106_091307.png" class></p>
<p>å‚æ•°åœ¨ $\theta_0$ ä¸æ’ä¸º $0$ æ—¶ä»£ä»·å‡½æ•° $J\left(\theta\right)$ å…³äº $\theta_0, \theta_1$ çš„3-Då›¾åƒï¼Œå›¾åƒä¸­çš„é«˜åº¦ä¸ºä»£ä»·å‡½æ•°çš„å€¼ã€‚</p>
<img src="/2024/04/18/15-34-48/20180106_090904.png" class>
<p>ç”±äº3-Då›¾å½¢ä¸ä¾¿äºæ ‡æ³¨ï¼Œæ‰€ä»¥å°†3-Då›¾å½¢è½¬æ¢ä¸º<strong>è½®å»“å›¾ï¼ˆcontour plotï¼‰</strong>ï¼Œä¸‹é¢ç”¨è½®å»“å›¾ï¼ˆä¸‹å›¾ä¸­çš„å³å›¾ï¼‰æ¥ä½œç›´è§‚ç†è§£ï¼Œå…¶ä¸­ç›¸åŒé¢œè‰²çš„ä¸€ä¸ªåœˆä»£è¡¨ç€åŒä¸€é«˜åº¦ï¼ˆåŒä¸€ $J\left(\theta\right)$ å€¼ï¼‰ã€‚</p>
<p>$\theta_0 = 360, \theta_1 =0$ æ—¶ï¼š</p>
<img src="/2024/04/18/15-34-48/0f38a99c8ceb8aa5b90a5f12136fdf43.png" class>
<p>å¤§æ¦‚åœ¨ $\theta_0 = 0.12, \theta_1 =250$ æ—¶ï¼š</p>
<img src="/2024/04/18/15-34-48/20180106_092119.png" class>
<p>ä¸Šå›¾ä¸­æœ€ä¸­å¿ƒçš„ç‚¹ï¼ˆçº¢ç‚¹ï¼‰ï¼Œè¿‘ä¹ä¸ºå›¾åƒä¸­çš„æœ€ä½ç‚¹ï¼Œä¹Ÿå³ä»£ä»·å‡½æ•°çš„æœ€å°å€¼ï¼Œæ­¤æ—¶å¯¹åº” $h_\theta\left(x\right)$ å¯¹æ•°æ®çš„æ‹Ÿåˆæƒ…å†µå¦‚å·¦å›¾æ‰€ç¤ºã€‚</p>
<h2 id="2-5-æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descentï¼‰"><a href="#2-5-æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descentï¼‰" class="headerlink" title="2.5 æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰"></a>2.5 æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰</h2><p>åœ¨ç‰¹å¾é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå³ä¾¿æ˜¯å€Ÿç”¨è®¡ç®—æœºæ¥ç”Ÿæˆå›¾åƒï¼Œäººå·¥çš„æ–¹æ³•ä¹Ÿå¾ˆéš¾è¯»å‡º $J\left(\theta\right)$ çš„æœ€å°å€¼ï¼Œå¹¶ä¸”å¤§å¤šæ•°æƒ…å†µæ— æ³•è¿›è¡Œå¯è§†åŒ–ï¼Œæ•…å¼•å…¥<strong>æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰æ–¹æ³•ï¼Œè®©è®¡ç®—æœºè‡ªåŠ¨æ‰¾å‡ºæœ€å°åŒ–ä»£ä»·å‡½æ•°æ—¶å¯¹åº”çš„ $\theta$ å€¼ã€‚</strong></p>
<p>æ¢¯åº¦ä¸‹é™èƒŒåçš„æ€æƒ³æ˜¯ï¼šå¼€å§‹æ—¶ï¼Œæˆ‘ä»¬éšæœºé€‰æ‹©ä¸€ä¸ªå‚æ•°ç»„åˆ$\left( {\theta_{0} },{\theta_{1} },â€¦â€¦,{\theta_{n} } \right)$å³èµ·å§‹ç‚¹ï¼Œè®¡ç®—ä»£ä»·å‡½æ•°ï¼Œç„¶åå¯»æ‰¾ä¸‹ä¸€ä¸ªèƒ½ä½¿å¾—ä»£ä»·å‡½æ•°ä¸‹é™æœ€å¤šçš„å‚æ•°ç»„åˆã€‚ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ª<strong>å±€éƒ¨æœ€å°å€¼ï¼ˆlocal minimumï¼‰</strong>ï¼Œç”±äºä¸‹é™çš„æƒ…å†µåªè€ƒè™‘å½“å‰å‚æ•°ç»„åˆå‘¨å›´çš„æƒ…å†µï¼Œæ‰€ä»¥æ— æ³•ç¡®å®šå½“å‰çš„å±€éƒ¨æœ€å°å€¼æ˜¯å¦å°±æ˜¯<strong>å…¨å±€æœ€å°å€¼ï¼ˆglobal minimumï¼‰</strong>ï¼Œä¸åŒçš„åˆå§‹å‚æ•°ç»„åˆï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„å±€éƒ¨æœ€å°å€¼ã€‚</p>
<p>ä¸‹å›¾æ ¹æ®ä¸åŒçš„èµ·å§‹ç‚¹ï¼Œäº§ç”Ÿäº†ä¸¤ä¸ªä¸åŒçš„å±€éƒ¨æœ€å°å€¼ã€‚</p>
<img src="/2024/04/18/15-34-48/db48c81304317847870d486ba5bb2015.jpg" class>
<p>è§†é¢‘ä¸­ä¸¾äº†ä¸‹å±±çš„ä¾‹å­ï¼Œå³æˆ‘ä»¬åœ¨å±±é¡¶ä¸Šçš„æŸä¸ªä½ç½®ï¼Œä¸ºäº†ä¸‹å±±ï¼Œå°±ä¸æ–­åœ°çœ‹ä¸€ä¸‹å‘¨å›´<strong>ä¸‹ä¸€æ­¥å¾€å“ªèµ°</strong>ä¸‹å±±æ¯”è¾ƒå¿«ï¼Œç„¶åå°±<strong>è¿ˆå‡ºé‚£ä¸€æ­¥</strong>ï¼Œä¸€ç›´é‡å¤ï¼Œç›´åˆ°æˆ‘ä»¬åˆ°è¾¾å±±ä¸‹çš„æŸä¸€å¤„<strong>é™†åœ°</strong>ã€‚</p>
<p>æ¢¯åº¦ä¸‹é™å…¬å¼ï¼š</p>
<p>$$<br>\begin{split}<br>&amp; \text{Repeat until convergence:} \; \lbrace \\<br>&amp;{ {\theta }_{j} }:={ {\theta }_{j} }-\alpha \frac{\partial }{\partial { {\theta }_{j} } }J\left( {\theta_{0} },{\theta_{1} }  \right) \\<br>\rbrace<br>\end{split}<br>$$</p>
<blockquote>
<p>â€œ-â€æ¥æºäºï¼š<strong>æ­£å€¼å‘å·¦ç§»åŠ¨å‡å°‘ï¼Œè´Ÿå€¼å‘å³ç§»åŠ¨å¢åŠ </strong><br>${\theta }_{j}$: ç¬¬ $j$ ä¸ªç‰¹å¾å‚æ•°</p>
<p>â€:=â€œ: èµ‹å€¼æ“ä½œç¬¦</p>
<p>$\alpha$: å­¦ä¹ é€Ÿç‡ï¼ˆlearning rateï¼‰, $\alpha &gt; 0$</p>
<p>$\frac{\partial }{\partial { {\theta }_{j} } }J\left( \theta_0, \theta_j  \right)$: $J\left( \theta_0, \theta_j \right)$ çš„åå¯¼</p>
</blockquote>
<p>å…¬å¼ä¸­ï¼Œå­¦ä¹ é€Ÿç‡å†³å®šäº†å‚æ•°å€¼å˜åŒ–çš„é€Ÿç‡å³â€<strong>èµ°å¤šå°‘è·ç¦»</strong>â€œï¼Œè€Œåå¯¼è¿™éƒ¨åˆ†å†³å®šäº†ä¸‹é™çš„æ–¹å‘å³â€<strong>ä¸‹ä¸€æ­¥å¾€å“ªé‡Œ</strong>â€œèµ°ï¼ˆå½“ç„¶å®é™…ä¸Šçš„èµ°å¤šå°‘è·ç¦»æ˜¯ç”±åå¯¼å€¼ç»™å‡ºçš„ï¼Œå­¦ä¹ é€Ÿç‡èµ·åˆ°è°ƒæ•´åå†³å®šçš„ä½œç”¨ï¼‰ï¼Œæ”¶æ•›å¤„çš„å±€éƒ¨æœ€å°å€¼åˆå«åšæå°å€¼ï¼Œå³â€<strong>é™†åœ°</strong>â€œã€‚</p>
<img src="/2024/04/18/15-34-48/20180106_101659.png" class>
<p>æ³¨æ„ï¼Œåœ¨è®¡ç®—æ—¶è¦<strong>æ‰¹é‡æ›´æ–° $\theta$ å€¼</strong>ï¼Œå³å¦‚ä¸Šå›¾ä¸­çš„å·¦å›¾æ‰€ç¤ºï¼Œå¦åˆ™ç»“æœä¸Šä¼šæœ‰æ‰€å‡ºå…¥ï¼ŒåŸå› ä¸åšç»†ç©¶ã€‚</p>
<h2 id="2-6-æ¢¯åº¦ä¸‹é™ç›´è§‚ç†è§£ï¼ˆGradient-Descent-Intuitionï¼‰"><a href="#2-6-æ¢¯åº¦ä¸‹é™ç›´è§‚ç†è§£ï¼ˆGradient-Descent-Intuitionï¼‰" class="headerlink" title="2.6 æ¢¯åº¦ä¸‹é™ç›´è§‚ç†è§£ï¼ˆGradient Descent Intuitionï¼‰"></a>2.6 æ¢¯åº¦ä¸‹é™ç›´è§‚ç†è§£ï¼ˆGradient Descent Intuitionï¼‰</h2><p>è¯¥èŠ‚æ¢è®¨ $\theta_1$ çš„æ¢¯åº¦ä¸‹é™æ›´æ–°è¿‡ç¨‹ï¼Œå³ $\theta_1 := \theta_1 - \alpha\frac{d}{d\theta_1}J\left(\theta_1\right)$ã€‚</p>
<img src="/2024/04/18/15-34-48/20180106_184926.png" class>
<p>ç›´çº¿çš„æ–œç‡ï¼Œè¡¨ç¤ºäº†å‡½æ•° $J\left(\theta\right)$ åœ¨åˆå§‹ç‚¹å¤„æœ‰<strong>æ­£æ–œç‡</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæœ‰<strong>æ­£å¯¼æ•°</strong>ï¼Œä¼š<strong>å‘å·¦è¾¹ç§»åŠ¨</strong>ã€‚ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ”¶æ•›ã€‚</p>
<p>åˆå§‹ $\theta$ å€¼ï¼ˆåˆå§‹ç‚¹ï¼‰æ˜¯ä»»æ„çš„ã€‚</p>
<p>å¯¹äºå­¦ä¹ é€Ÿç‡ $\alpha$ï¼Œéœ€è¦é€‰å–ä¸€ä¸ªåˆé€‚çš„å€¼æ‰èƒ½ä½¿å¾—æ¢¯åº¦ä¸‹é™ç®—æ³•è¿è¡Œè‰¯å¥½ã€‚</p>
<ul>
<li><p>å­¦ä¹ é€Ÿç‡è¿‡å°å›¾ç¤ºï¼š</p>
<img src="/2024/04/18/15-34-48/20180106_190944.png" class>
<p>æ”¶æ•›çš„å¤ªæ…¢ï¼Œéœ€è¦æ›´å¤šæ¬¡çš„è¿­ä»£ã€‚</p>
</li>
<li><p>å­¦ä¹ é€Ÿç‡è¿‡å¤§å›¾ç¤ºï¼š</p>
<img src="/2024/04/18/15-34-48/20180106_191023.png" class>
<p>å¯èƒ½è¶Šè¿‡æœ€ä½ç‚¹ï¼Œç”šè‡³å¯¼è‡´æ— æ³•æ”¶æ•›ã€‚</p>
</li>
</ul>
<p><strong>å­¦ä¹ é€Ÿç‡åªéœ€é€‰å®šå³å¯</strong>ï¼Œä¸éœ€è¦åŠ¨æ€æ”¹å˜ï¼Œéšç€æ–œç‡è¶Šæ¥è¶Šæ¥è¿‘äº0ï¼Œä»£ä»·å‡½æ•°çš„å˜åŒ–å¹…åº¦ä¼šè¶Šæ¥è¶Šå°ï¼Œç›´åˆ°æ”¶æ•›åˆ°å±€éƒ¨æå°å€¼ã€‚</p>
<p>ä»£ä»·å‡½æ•°éšç€è¿­ä»£çš„è¿›è¡Œï¼Œå˜åŒ–çš„å¹…åº¦è¶Šæ¥è¶Šå°ã€‚</p>
<img src="/2024/04/18/15-34-48/20180106_191956.png" class>
<h2 id="2-7-çº¿æ€§å›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descent-For-Linear-Regressionï¼‰"><a href="#2-7-çº¿æ€§å›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ï¼ˆGradient-Descent-For-Linear-Regressionï¼‰" class="headerlink" title="2.7 çº¿æ€§å›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descent For Linear Regressionï¼‰"></a>2.7 çº¿æ€§å›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descent For Linear Regressionï¼‰</h2><p>çº¿æ€§å›å½’æ¨¡å‹</p>
<ul>
<li>$h_\theta(x)=\theta_0+\theta_1x$</li>
<li>$J\left( \theta_0, \theta_1  \right)=\frac{1}{2m}\sum\limits_{i=1}^{m}{ { {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)}^{2} } }$</li>
</ul>
<p>æ¢¯åº¦ä¸‹é™ç®—æ³•<br>$$<br>\begin{split}<br>  &amp; \text{Repeat until convergence:} \; \lbrace \\<br>  &amp;{ {\theta }_{j} }:={ {\theta }_{j} }-\alpha \frac{\partial }{\partial { {\theta }_{j} } }J\left( {\theta_{0} },{\theta_{1} }  \right) \\<br>  \rbrace<br>  \end{split}<br>$$</p>
<p>ç›´æ¥å°†çº¿æ€§å›å½’æ¨¡å‹å…¬å¼ä»£å…¥æ¢¯åº¦ä¸‹é™å…¬å¼å¯å¾—å‡ºå…¬å¼</p>
<img src="/2024/04/18/15-34-48/20180106_203726.png" class>
<p>å½“ $j = 0, j = 1$ æ—¶ï¼Œ<strong>çº¿æ€§å›å½’ä¸­ä»£ä»·å‡½æ•°æ±‚å¯¼çš„æ¨å¯¼è¿‡ç¨‹ï¼ˆï¼š</strong></p>
<p>$$<br>\begin{split}<br>\frac{\partial}{\partial\theta_j} J(\theta_1, \theta_1)&amp;=\frac{\partial}{\partial\theta_j} \left(\frac{1}{2m}\sum\limits_{i=1}^{m}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)}^{2} } \right)\\<br>&amp;=\left(\frac{1}{2m}*2\sum\limits_{i=1}^{m}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)} } \right)*\frac{\partial}{\partial\theta_j}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)} } \\<br>&amp;=\left(\frac{1}{m}\sum\limits_{i=1}^{m}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)} } \right)*\frac{\partial}{\partial\theta_j} {\left( \theta_0 + \theta_1{x_1^{(i)} }-{ {y}^{(i)} } \right)}<br>\end{split}<br>$$</p>
<p>æ‰€ä»¥å½“ $j = 0$ æ—¶ï¼š</p>
<p>$$<br>\frac{\partial}{\partial\theta_0} J(\theta)=\frac{1}{m}\sum\limits_{i=1}^{m}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)} }<br>$$</p>
<p>æ‰€ä»¥å½“ $j = 1$ æ—¶ï¼š</p>
<p>$$<br>\frac{\partial}{\partial\theta_1} J(\theta)=\frac{1}{m}\sum\limits_{i=1}^{m}{ {\left( { {h}_{\theta } }\left( { {x}^{(i)} } \right)-{ {y}^{(i)} } \right)} } *x_1^{(i)}<br>$$</p>
<p>ä¸Šæ–‡ä¸­æ‰€æåˆ°çš„æ¢¯åº¦ä¸‹é™ï¼Œéƒ½ä¸ºæ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆBatch Gradient Descentï¼‰ï¼Œå³æ¯æ¬¡è®¡ç®—éƒ½ä½¿ç”¨<strong>æ‰€æœ‰</strong>çš„æ•°æ®é›† $\left(\sum\limits_{i=1}^{m}\right)$ æ›´æ–°ã€‚</p>
<p>ç”±äºçº¿æ€§å›å½’å‡½æ•°å‘ˆç°<strong>ç¢—çŠ¶</strong>ï¼Œä¸”<strong>åªæœ‰ä¸€ä¸ª</strong>å…¨å±€çš„æœ€ä¼˜å€¼ï¼Œæ‰€ä»¥å‡½æ•°<strong>ä¸€å®šæ€»ä¼š</strong>æ”¶æ•›åˆ°å…¨å±€æœ€å°å€¼ï¼ˆå­¦ä¹ é€Ÿç‡ä¸å¯è¿‡å¤§ï¼‰ã€‚åŒæ—¶ï¼Œå‡½æ•° $J$ è¢«ç§°ä¸º<strong>å‡¸äºŒæ¬¡å‡½æ•°</strong>ï¼Œè€Œçº¿æ€§å›å½’å‡½æ•°æ±‚è§£æœ€å°å€¼é—®é¢˜å±äº<strong>å‡¸å‡½æ•°ä¼˜åŒ–é—®é¢˜</strong>ã€‚</p>
<img src="/2024/04/18/15-34-48/24e9420f16fdd758ccb7097788f879e7.png" class>
<p>å¦å¤–ï¼Œä½¿ç”¨å¾ªç¯æ±‚è§£ï¼Œä»£ç è¾ƒä¸ºå†—ä½™ï¼Œåé¢ä¼šè®²åˆ°å¦‚ä½•ä½¿ç”¨<strong>å‘é‡åŒ–ï¼ˆVectorizationï¼‰</strong>æ¥ç®€åŒ–ä»£ç å¹¶ä¼˜åŒ–è®¡ç®—ï¼Œä½¿æ¢¯åº¦ä¸‹é™è¿è¡Œçš„æ›´å¿«æ›´å¥½ã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ , æ·±åº¦å­¦ä¹ , å´æ©è¾¾</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤©æ¢¯èµ›åˆ·é¢˜è®°å½•</title>
    <url>/2024/04/04/12-45-10/</url>
    <content><![CDATA[<h1 id="L1-039-å¤é£æ’ç‰ˆ"><a href="#L1-039-å¤é£æ’ç‰ˆ" class="headerlink" title="L1-039. å¤é£æ’ç‰ˆ"></a>L1-039. å¤é£æ’ç‰ˆ</h1><p>ä¸­å›½çš„å¤äººå†™æ–‡å­—ï¼Œæ˜¯ä»å³å‘å·¦ç«–å‘æ’ç‰ˆçš„ã€‚æœ¬é¢˜å°±è¯·ä½ ç¼–å†™ç¨‹åºï¼ŒæŠŠä¸€æ®µæ–‡å­—æŒ‰å¤é£æ’ç‰ˆã€‚</p>
<p>è¾“å…¥æ ¼å¼ï¼š</p>
<p>è¾“å…¥åœ¨ç¬¬ä¸€è¡Œç»™å‡ºä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆ&lt;100ï¼‰ï¼Œæ˜¯æ¯ä¸€åˆ—çš„å­—ç¬¦æ•°ã€‚ç¬¬äºŒè¡Œç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡1000çš„éç©ºå­—ç¬¦ä¸²ï¼Œä»¥å›è½¦ç»“æŸã€‚</p>
<p>è¾“å‡ºæ ¼å¼ï¼š</p>
<p>æŒ‰å¤é£æ ¼å¼æ’ç‰ˆç»™å®šçš„å­—ç¬¦ä¸²ï¼Œæ¯åˆ—Nä¸ªå­—ç¬¦ï¼ˆé™¤äº†æœ€åä¸€åˆ—å¯èƒ½ä¸è¶³Nä¸ªï¼‰</p>
<p>è¾“å…¥æ ·ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4</span><br><span class="line">This is a test case</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">asa T</span><br><span class="line">st ih</span><br><span class="line">e tsi</span><br><span class="line"> ce s</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•æ¯”èµ›</tag>
        <tag>c++</tag>
        <tag>ç®—æ³•æ¨¡æ¿</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒV ShellLab</title>
    <url>/2024/03/14/12-34-42/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.03.14ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a></li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a></li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a></li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a></li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>ShellLabå®éªŒï¼Œç†è§£ç¨‹åºæ§åˆ¶å’Œä¿¡å·ï¼Œå®Œæˆä¸€ä¸ªç®€å•Shellã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ul>
<li><p><code>tsh&gt; /bin/ls -l -d</code>ï¼Œ<code>&amp;</code>åå°è¿è¡Œ</p>
</li>
<li><p><code>int main(int argc, char *argv[])</code></p>
<ul>
<li><p><code>argc</code>ï¼šå‚æ•°ä¸ªæ•°  <code>argv[]</code>ï¼šä»å·¦å¾€å³çš„å‚æ•°</p>
</li>
<li><p><code>ctrl-c</code> SIGINTç»ˆæ­¢ä¿¡å·ï¼Œ<code>ctrl-z</code>SIGTSTPåœæ­¢ä¿¡å·ï¼ŒSIGCONTç»§ç»­ä¿¡å·</p>
</li>
<li><p><code>jobs</code>ï¼šåˆ—å‡ºæ‰€æœ‰ä½œä¸š</p>
</li>
<li><p><code>bg &lt;job&gt;</code>ï¼šåå°æš‚åœçš„ä½œä¸šå¼€å§‹è¿è¡Œ</p>
</li>
<li><p><code>fg &lt;job&gt;</code>ï¼šå‰å°æš‚åœçš„ä½œä¸šå¼€å§‹è¿è¡Œ</p>
</li>
<li><p><code>kill &lt;job&gt;</code>ï¼šæ€æ­»ä½œä¸š</p>
</li>
</ul>
</li>
<li><p><strong>tsh</strong>çš„è§„æ ¼</p>
<ul>
<li><p>æç¤ºç¬¦ä¸º<code>tsh&gt;</code></p>
</li>
<li><p>è¾“å…¥å‘½ä»¤ä¸º<code>name arguments</code>ï¼šå¦‚æœnameæ˜¯å†…ç½®å‘½ä»¤ï¼Œç›´æ¥æ‰§è¡Œï¼Œå¦åˆ™è§†ä¸ºå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œå¹¶è°ƒç”¨åˆå§‹å­è¿›ç¨‹è¿è¡Œ</p>
</li>
<li><p>ä¸éœ€è¦æ”¯æŒ<code>|</code>å’Œ<code>&lt;</code>ï¼Œ<code>&gt;</code></p>
</li>
<li><p>ä¿¡å·éœ€è¦ä¼ é€’åˆ°æ‰€æœ‰å­è¿›ç¨‹</p>
</li>
<li><p>å‘½ä»¤æœ«å°¾å¸¦<code>&amp;</code>ï¼Œåå°è¿è¡Œ</p>
</li>
<li><p>è¿›ç¨‹PID<code>%5</code>ï¼Œä½œä¸šJID<code>5</code></p>
</li>
<li><p>éœ€è¦æ”¯æŒå†…ç½®å‘½ä»¤<code>quit</code>ï¼Œ<code>jobs</code>ï¼Œ<code>bg &lt;job&gt;</code>ï¼Œ<code>fg &lt;job&gt;</code></p>
</li>
<li><p>å¦‚æœåƒµå°¸è¿›ç¨‹æ²¡æœ‰æ”¶åˆ°ä¿¡å·å°±ç»ˆæ­¢äº†ï¼Œéœ€è¦æ‰“å°å‡ºå¼‚å¸¸ä¿¡æ¯</p>
</li>
</ul>
</li>
<li><p>æ£€æŸ¥ä½œä¸š</p>
<ul>
<li><p><code>tshref</code>ï¼šæ ·ä¾‹tshï¼Œå¯ä»¥å¯¹æ¯”è‡ªå·±çš„shell</p>
</li>
<li><p><code>sdriver.pl</code>ï¼šæ‰“å°è¾“å…¥çš„shellå‘½ä»¤å’Œè¾“å‡ºä¿¡æ¯<br> <code>./sdriver.pl -t trace01.txt -s ./tsh -a &quot;-p&quot;</code>ï¼š<code>-t</code>è¿½è¸ªæ–‡ä»¶ï¼Œ<code>-s</code>æŒ‡å®šshellï¼Œ<code>-a &quot;-p&quot;</code>ä¸è¾“å‡ºæç¤ºç¬¦</p>
</li>
<li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>make test01</code>æµ‹è¯•è‡ªå·±çš„shellï¼Œ<code>make rtest01</code>æµ‹è¯•æ ·ä¾‹shell</p>
</li>
<li><p><code>trace01.txt</code>åºå·ä»01-16ï¼Œè¶Šå°æµ‹è¯•è¶Šç®€å•</p>
</li>
<li><p><code>tshref.out</code>æ‰€æœ‰çš„è¾“å‡ºä¿¡æ¯ä»¥ä¾›å‚è€ƒ</p>
</li>
</ul>
</li>
<li><p>æç¤º</p>
<ul>
<li><p>æ ¹æ®è¿½è¸ªæ–‡ä»¶æ¥è®¾è®¡shellï¼Œä¾æ¬¡ä»ç®€å•å¼€å§‹ï¼ŒæŒ‰ç…§è¾“å‡ºå®Œæˆè®¾è®¡</p>
</li>
<li><p>è¦æ£€æµ‹å‡º<code>kill -pid</code>çš„é”™è¯¯</p>
</li>
<li><p>å¤šä½¿ç”¨ä¸‹åˆ—å‡½æ•°</p>
<ul>
<li><p><code>pid_t waitpid (pid_t pid, int* statusp, int options)</code>ï¼š</p>
<blockquote>
<p>æˆåŠŸæ—¶è¿”å›å­è¿›ç¨‹çš„PIDï¼Œ  </p>
<p>options = WNOHANGæ—¶ç«‹å³è¿”å›0     è¡¨ç¤ºæ²¡æœ‰ä»»ä½•å­è¿›ç¨‹ç»ˆæ­¢</p>
<p>options = WUNTRACEDæ—¶ï¼Œæ¥æ”¶åˆ°SIGSTOPä¿¡å·ï¼Œç»ˆæ­¢æˆ–æš‚åœã€‚</p>
<p>å¦‚æœå‘ç”Ÿå…¶ä»–é”™è¯¯è¿”å›-1ã€‚</p>
</blockquote>
</li>
<li><p><code>kill</code>:<code>kill -s &lt;ä¿¡å·&gt;</code></p>
<blockquote>
<p>ç”¨æŒ‡å®šä¿¡å·å½¢å¼ç»ˆæ­¢è¿›ç¨‹ï¼Œå¯ä»¥æ€æ­»å¯ä»¥æš‚åœ</p>
<p>-sï¼Œä¼šå°†sçš„è¿›ç¨‹ç»„å…¨éƒ¨æ‰§è¡Œ</p>
</blockquote>
</li>
<li><p><code>int fork(void)</code>:</p>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹è¿”å›0ï¼Œçˆ¶è¿›ç¨‹è¿”å›å­è¿›ç¨‹çš„IDï¼Œè°ƒç”¨ä¸€æ¬¡è¿”å›ä¸¤æ¬¡ï¼Œå…ˆè¿”å›å­è¿›ç¨‹ï¼Œå†è¿”å›çˆ¶è¿›ç¨‹</p>
</blockquote>
</li>
<li><p><code>int execve(const char *filename, char *const argv[], char *const envp[]);</code>: </p>
<blockquote>
<p>å‚æ•°ä¸ºæ–°ç¨‹åºçš„è·¯å¾„åç§°ï¼Œå‘½ä»¤è¡Œå‚æ•°æ•°ç»„ï¼Œç¯å¢ƒå˜é‡å‚æ•°æ•°ç»„</p>
<p>æ›¿æ¢è¿›ç¨‹çš„çŠ¶æ€å’Œä¸Šä¸‹æ–‡ï¼Œåˆ‡æ¢å¦ä¸€ä¸ªè¿›ç¨‹</p>
<p>æ‰§è¡ŒæˆåŠŸä¸ä¼šè¿”å›åˆ°è°ƒç”¨ï¼Œé”™è¯¯è¿”å›-1</p>
</blockquote>
</li>
<li><p><code>int setpgid(pid_t pid, pid_t pgid)</code>:</p>
<blockquote>
<p>ç»™pidè¿›ç¨‹è®¾ç½®ä¸ºpgidè¿›ç¨‹ç»„è¯†åˆ«ç ï¼Œå¦‚æœpidä¸º0è®¾ç½®å½“å‰è¿›ç¨‹ï¼Œpgidä¸º0ï¼Œç”¨å½“å‰ç»„è¯†åˆ«ç å–ä»£ï¼Œè¿”å›ä¸ºç»„è¯†åˆ«ç ï¼Œ-1é”™è¯¯</p>
</blockquote>
</li>
<li><p><code>sigprocmash</code>:</p>
<blockquote>
<p>int sigprocmask(int how, const sigset_t <em>set, sigset_t </em>oldset);<br>å‚æ•°ï¼š<br>howï¼šç”¨äºæŒ‡å®šä¿¡å·ä¿®æ”¹çš„æ–¹å¼ï¼Œå¯èƒ½é€‰æ‹©æœ‰ä¸‰ç§ï¼š<br>SIG_BLOCK //åŠ å…¥ä¿¡å·åˆ°è¿›ç¨‹å±è”½ã€‚<br>SIG_UNBLOCK //ä»è¿›ç¨‹å±è”½é‡Œå°†ä¿¡å·åˆ é™¤ã€‚<br>SIG_SETMASK //å°†setçš„å€¼è®¾å®šä¸ºæ–°çš„è¿›ç¨‹å±è”½ã€‚</p>
<p>setï¼šä¸ºæŒ‡å‘ä¿¡å·é›†çš„æŒ‡é’ˆï¼Œåœ¨æ­¤ä¸“æŒ‡æ–°è®¾çš„ä¿¡å·é›†ï¼Œå¦‚æœä»…æƒ³è¯»å–ç°åœ¨çš„å±è”½å€¼ï¼Œå¯å°†å…¶ç½®ä¸ºNULLã€‚<br>oldsetï¼šä¹Ÿæ˜¯æŒ‡å‘ä¿¡å·é›†çš„æŒ‡é’ˆï¼Œåœ¨æ­¤å­˜æ”¾åŸæ¥çš„ä¿¡å·é›†ã€‚<br>è¿”å›è¯´æ˜ï¼š<br>æˆåŠŸæ‰§è¡Œæ—¶ï¼Œè¿”å›0ã€‚å¤±è´¥è¿”å›-1ï¼Œerrnoè¢«è®¾ä¸ºEINVALã€‚</p>
</blockquote>
</li>
<li><p><code>exit(int status)</code>ï¼š</p>
<blockquote>
<p>ç»ˆæ­¢è¿›ç¨‹ï¼Œæ­£å¸¸è¿”å›çŠ¶æ€0</p>
</blockquote>
</li>
<li><p>å°½é‡ä¸è¦åœ¨è‡ªå·±çš„shellä¸­ä½¿ç”¨more, less, vi, emacsï¼Œå¤šä½¿ç”¨/bin/ls,/bin/ps, /bin/echo</p>
</li>
<li><p>å¦‚æœåœ¨Unix shellä¸­åƒè‡ªå·±çš„shellè¾“å…¥ ctrl-cï¼šforkä¹‹åæ‰§è¡Œä¹‹å‰ï¼Œå­è¿›ç¨‹å…ˆè°ƒç”¨<code>setpgid(0, 0)</code>ï¼Œæ”¾å…¥ä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„ï¼Œä¿è¯Unix shellçš„è¿›ç¨‹ç»„ä¸­åªæœ‰shellã€‚ä¸ä¼šæŠŠå‘½ä»¤ä¼ é€’ç»™æ‰€æœ‰Unix shellçš„è¿›ç¨‹ç»„ï¼Œåªä¼ é€’ç»™shellã€‚</p>
</li>
<li><p>å»ºè®®åœ¨<code>waitfg</code>çš„å¾ªç¯ä¸­ç”¨<code>sleep</code>å‡½æ•°ï¼Œåœ¨<code>sigchld_handler</code>ä¸­è°ƒç”¨<code>waitpid</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å¸¸ç”¨ä¿¡å·é‡</p>
<img src="/2024/03/14/12-34-42/QQ20240314-160705@2x.png" class>
<img src="/2024/03/14/12-34-42/QQ20240314-154949@2x.png" class>
</li>
</ul>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><h2 id="ç¬¬ä¸€éƒ¨åˆ†"><a href="#ç¬¬ä¸€éƒ¨åˆ†" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†"></a>ç¬¬ä¸€éƒ¨åˆ†</h2><p>trace01-03æ¯”è¾ƒç®€å•ï¼Œç”¨è¯¾æœ¬ä¸­ä»£ç å†™å…¥å°±å¯ä»¥ï¼Œä¿®æ”¹ä¸€ä¸‹forkå’Œexecveå°è£…ã€‚</p>
<h2 id="ç¬¬äºŒéƒ¨åˆ†"><a href="#ç¬¬äºŒéƒ¨åˆ†" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†"></a>ç¬¬äºŒéƒ¨åˆ†</h2><h3 id="trace04"><a href="#trace04" class="headerlink" title="trace04"></a>trace04</h3><p>æ ¹æ®æ ‡å‡†è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./sdriver.pl -t trace04.txt -s ./tsh -a &quot;-p&quot;</span><br><span class="line">#</span><br><span class="line"># trace04.txt - Run a background job.</span><br><span class="line">#</span><br><span class="line">tsh&gt; ./myspin 1 &amp;</span><br><span class="line">[1] (26252) ./myspin 1 &amp;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸»å‡½æ•°æ‰§è¡Œä¸­å¢åŠ æ·»åŠ ä½œä¸šå‡½æ•°<code>addjob</code>ï¼Œä¿®æ”¹ä¸€ä¸‹åŸæ¥çš„è¾“å‡ºæ ¼å¼ï¼Œ<code>printf(&quot;[%d] (%d)  %s&quot;, pid2jid(pid), pid, cmdline);</code>ã€‚</p>
<p>é—®é¢˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tsh&gt; ./myspin 1 &amp;</span><br><span class="line">[2] (920)  ./myspin 1 &amp;</span><br></pre></td></tr></table></figure>
<p>ä½œä¸šä»[2]æ ‡å·å¼€å§‹ï¼Œå¯èƒ½æ˜¯é‡å¤æ·»åŠ ä½œä¸šäº†ã€‚æŸ¥çœ‹è¾“å‡ºåï¼Œå‘ç°echoå‡½æ•°æ·»åŠ ä½œä¸šåï¼Œè¿è¡Œç»“æŸæ—¶æ²¡æœ‰åˆ é™¤ä½œä¸šï¼Œå¯¼è‡´ä½œä¸šå·å¤šä¸€ä¸ªã€‚</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<p>åœ¨waitpidä¹‹åï¼Œå¢åŠ ä¸€ä¸ªåˆ é™¤ä½œä¸šå‡½æ•°<code>deletejob</code></p>
<h2 id="trace05"><a href="#trace05" class="headerlink" title="trace05"></a>trace05</h2><p>å¢åŠ æ‰“å°jobsåˆ—è¡¨</p>
<h3 id="trace06"><a href="#trace06" class="headerlink" title="trace06"></a>trace06</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#</span><br><span class="line"># trace06.txt - Forward SIGINT to foreground job.</span><br><span class="line">#</span><br><span class="line">/bin/echo -e tsh&gt; ./myspin 4</span><br><span class="line">./myspin 4 </span><br><span class="line"></span><br><span class="line">SLEEP 2</span><br><span class="line">INT</span><br></pre></td></tr></table></figure>
<blockquote>
<p>SLEEPå‘½ä»¤ä¸æ˜¯è¾“å…¥è¿›å»çš„å­—ç¬¦ä¸²ï¼Œä¸»è¦æ˜¯è·å–ä½œä¸šçš„ç»ˆæ­¢çŠ¶æ€</p>
</blockquote>
<p>ç›¸å…³å†…å®¹</p>
<ul>
<li><p>waitpidè¿”å›çŠ¶æ€status</p>
<ul>
<li><p>WIFEXITED(status)ï¼šé0æ­£å¸¸ç»“æŸï¼Œé€€å‡ºçŠ¶æ€WEXITSTATUS(status)</p>
</li>
<li><p>WIFSIGNALED(status)ï¼šé0å¼‚å¸¸ç»ˆæ­¢ï¼Œé€€å‡ºçš„ä¿¡å·ç¼–å·WTERMSIG(status)</p>
</li>
<li><p>WIFSTOPPED(status)ï¼šé0æš‚åœçŠ¶æ€ï¼Œæš‚åœçš„ä¿¡å·ç¼–å·WSTOPSIG(status)</p>
</li>
<li><p>WIFCONTINUED(status)ï¼šé0 æš‚åœåä»¥ç»§ç»­è¿è¡Œ</p>
</li>
</ul>
</li>
<li><p>optionså˜é‡</p>
<ul>
<li><p><code>WNOHANG</code>ï¼šæ²¡æœ‰å­è¿›ç¨‹ç»ˆæ­¢æ—¶ç«‹å³è¿”å›ï¼Œè€Œä¸ä¼šé˜»å¡ã€‚</p>
</li>
<li><p><code>WUNTRACED</code>ï¼šæŒ‚èµ·ï¼Œè¿”å›ç»ˆæ­¢æˆ–æš‚åœçš„è¿›ç¨‹pid</p>
</li>
<li><p><code>WCONTINUED</code>ï¼šæŒ‚èµ·ï¼Œè¿”å›ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ç»ˆæ­¢ï¼Œæˆ–ä¸€ä¸ªæš‚åœçš„æ”¶åˆ°SIGCONTä¿¡å·ç»§ç»­æ‰§è¡Œã€‚</p>
</li>
</ul>
</li>
<li><p>ä¿¡å·é‡ç›¸å…³</p>
<ul>
<li><p><code>sigfillset(&amp;mask_all);</code>è¿”å›å½“å‰è¿›ç¨‹çš„ä¿¡å·é˜»å¡é›†åˆ</p>
</li>
<li><p><code>sigemptyset(&amp;mask_one);</code>åˆè¯•ç©ºå€¼</p>
</li>
<li><p><code>sigaddset(&amp;mask_one, SIGCHLD);</code>ï¼Œæ·»åŠ ä¸€ä½é˜»å¡ä½</p>
</li>
<li><p><code>sigprocmask(int how, sigset_t *set, sigset_t *oldset)</code></p>
<blockquote>
<p>how: <code>SIG_SETMASK</code>èµ‹å€¼  </p>
<pre><code>      `SIG_BLOCK`é˜»å¡ åšæˆ–è¿ç®—   ä¸åŸæ¥çš„é›†åˆ

      `SIG_UNBLOCK` è§£é™¤  åšä¸è¿ç®—
</code></pre><p>setï¼Œæ“ä½œé›†åˆ</p>
<p>oldsetï¼Œä¿å­˜åŸé›†åˆï¼Œå¯ä»¥ä¸ºNULL</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>å¯¹addå‡½æ•°å’Œdelå‡½æ•°é˜»å¡ä¿¡å·ã€‚</p>
<p>æ£€æµ‹INTé”®ï¼Œç»‘å®šå“åº”å‡½æ•°ï¼Œç”¨killæ€æ­»è¿›ç¨‹ï¼Œç³»ç»Ÿå‘å‡º<code>SIGCHLD</code>ä¿¡å·ï¼Œåœ¨<code>SIGCHLD</code>å“åº”å‡½æ•°ä¸­åˆ é™¤ä½œä¸šã€‚</p>
<h3 id="trace07"><a href="#trace07" class="headerlink" title="trace07"></a>trace07</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#</span><br><span class="line"># trace07.txt - Forward SIGINT only to foreground job.</span><br><span class="line">#</span><br><span class="line">/bin/echo -e tsh&gt; ./myspin 4 \046</span><br><span class="line">./myspin 4 &amp;</span><br><span class="line"></span><br><span class="line">/bin/echo -e tsh&gt; ./myspin 5</span><br><span class="line">./myspin 5 </span><br><span class="line"></span><br><span class="line">SLEEP 2</span><br><span class="line">INT</span><br><span class="line"></span><br><span class="line">/bin/echo tsh&gt; jobs</span><br><span class="line">jobs</span><br></pre></td></tr></table></figure>
<p>06å·²ç»åšå®Œäº†ï¼Œè¾“å‡ºå®Œæ•´ã€‚</p>
<h3 id="trace08"><a href="#trace08" class="headerlink" title="trace08"></a>trace08</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/bin/echo -e tsh&gt; ./myspin 4 \046</span><br><span class="line">./myspin 4 &amp;</span><br><span class="line"></span><br><span class="line">/bin/echo -e tsh&gt; ./myspin 5</span><br><span class="line">./myspin 5 </span><br><span class="line"></span><br><span class="line">SLEEP 2</span><br><span class="line">TSTP</span><br><span class="line"></span><br><span class="line">/bin/echo tsh&gt; jobs</span><br><span class="line">jobs</span><br></pre></td></tr></table></figure>
<p>å®Œæˆå‰å°è¿›ç¨‹æš‚åœä¿¡å·å“åº”ã€‚killå‡½æ•°å¯ä»¥æš‚åœè¿›ç¨‹ã€‚</p>
<p>ä»£ç å¯ä»¥æ­£å¸¸æš‚åœï¼Œä½†æ˜¯æš‚åœä¹‹åä¸ä¼šç»ˆæ­¢ï¼Œæ— æ³•é€€å‡ºã€‚</p>
<p>è§£å†³ï¼š</p>
<p>ç”¨kill(-pid,sig);å‡½æ•°å¯¹è¿›ç¨‹ç»„æ•´ä½“æ“ä½œã€‚</p>
<h3 id="trace09"><a href="#trace09" class="headerlink" title="trace09"></a>trace09</h3><p>é—®é¢˜ï¼š</p>
<p>éœ€è¦å®Œæˆbgå†…ç½®å‘½ä»¤ï¼Œæš‚åœç¨‹åºåå°è¿è¡Œã€‚</p>
<blockquote>
<p>ä¸å¤ªæ¸…æ¥šä¸­é—´ä¸€æ¬¡è¾“å‡ºä¿¡æ¯ï¼Œä¸ºä»€ä¹ˆä¸éœ€è¦æ¢è¡Œã€‚</p>
</blockquote>
<h3 id="trace10"><a href="#trace10" class="headerlink" title="trace10"></a>trace10</h3><p>å®Œæˆfgå†…ç½®å‘½ä»¤</p>
<h3 id="trace11-13"><a href="#trace11-13" class="headerlink" title="trace11-13"></a>trace11-13</h3><img src="/2024/03/14/12-34-42/QQ20240316-185955@2x.png" class>
<p>è¾“å‡ºä¿¡æ¯ä¸æ ·ä¾‹shellç›¸åŒï¼Œä½†å’Œç­”æ¡ˆä¸åŒã€‚</p>
<h3 id="trace14"><a href="#trace14" class="headerlink" title="trace14"></a>trace14</h3><p>é—®é¢˜ï¼š</p>
<p>ç®€å•çš„é”™è¯¯å¤„ç†ï¼Œå¤„ç†è¾“å…¥è¾“å‡ºæ ¼å¼é”™è¯¯ã€‚</p>
<h3 id="trace15-16"><a href="#trace15-16" class="headerlink" title="trace15-16"></a>trace15-16</h3><p>è¿è¡Œç»“æœéƒ½å¯¹</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ä¸å¤„ç†è¡Œæ•°é—®é¢˜äº†ï¼Œæ²¡æœ‰è¯„åˆ†ç¨‹åºã€‚åªæœ‰æ‰€æœ‰ä¾‹å­éƒ½è¾“å‡ºç›¸åŒï¼Œä¸å¤ªç¡®å®šæ˜¯ä¸æ˜¯éƒ½æ˜¯æ­£ç¡®çš„ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * tsh - A tiny shell program with job control</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;Put your name and login ID here&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;signal.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Misc manifest constants */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXLINE 1024   <span class="comment">/* max line size */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXARGS 128    <span class="comment">/* max args on a command line */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXJOBS 16     <span class="comment">/* max jobs at any point in time */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXJID 1 &lt;&lt; 16 <span class="comment">/* max job ID */</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Job states */</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNDEF 0 <span class="comment">/* undefined */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> FG 1    <span class="comment">/* running in foreground */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BG 2    <span class="comment">/* running in background */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ST 3    <span class="comment">/* stopped */</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Jobs states: FG (foreground), BG (background), ST (stopped)</span></span><br><span class="line"><span class="comment"> * Job state transitions and enabling actions:</span></span><br><span class="line"><span class="comment"> *     FG -&gt; ST  : ctrl-z</span></span><br><span class="line"><span class="comment"> *     ST -&gt; FG  : fg command</span></span><br><span class="line"><span class="comment"> *     ST -&gt; BG  : bg command</span></span><br><span class="line"><span class="comment"> *     BG -&gt; FG  : fg command</span></span><br><span class="line"><span class="comment"> * At most 1 job can be in the FG state.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global variables */</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">char</span> **environ;   <span class="comment">/* defined in libc */</span></span><br><span class="line"><span class="type">char</span> prompt[] = <span class="string">&quot;tsh&gt; &quot;</span>; <span class="comment">/* command line prompt (DO NOT CHANGE) */</span></span><br><span class="line"><span class="type">int</span> verbose = <span class="number">0</span>;         <span class="comment">/* if true, print additional output */</span></span><br><span class="line"><span class="type">int</span> nextjid = <span class="number">1</span>;         <span class="comment">/* next job ID to allocate */</span></span><br><span class="line"><span class="type">char</span> sbuf[MAXLINE];      <span class="comment">/* for composing sprintf messages */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">job_t</span> &#123;</span>           <span class="comment">/* The job struct */</span></span><br><span class="line">  <span class="type">pid_t</span> pid;             <span class="comment">/* job PID */</span></span><br><span class="line">  <span class="type">int</span> jid;               <span class="comment">/* job ID [1, 2, ...] */</span></span><br><span class="line">  <span class="type">int</span> state;             <span class="comment">/* UNDEF, BG, FG, or ST */</span></span><br><span class="line">  <span class="type">char</span> cmdline[MAXLINE]; <span class="comment">/* command line */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">job_t</span> <span class="title">jobs</span>[<span class="title">MAXJOBS</span>];</span> <span class="comment">/* The job list */</span></span><br><span class="line"><span class="comment">/* End global variables */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Function prototypes */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¥å……å‡½æ•°</span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">Fork</span><span class="params">(<span class="type">void</span>)</span>;                                                              <span class="comment">//å°è£…fork</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Execve</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename, <span class="type">char</span> *<span class="type">const</span> argv[], <span class="type">char</span> *<span class="type">const</span> environ[])</span>;  <span class="comment">//å°è£…execvå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Here are the functions that you will implement */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">eval</span><span class="params">(<span class="type">char</span> *cmdline)</span>;  <span class="comment">//åˆ†æå‘½ä»¤</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">builtin_cmd</span><span class="params">(<span class="type">char</span> **argv)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">do_bgfg</span><span class="params">(<span class="type">char</span> **argv)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">waitfg</span><span class="params">(<span class="type">pid_t</span> pid)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigchld_handler</span><span class="params">(<span class="type">int</span> sig)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">sigtstp_handler</span><span class="params">(<span class="type">int</span> sig)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">sigint_handler</span><span class="params">(<span class="type">int</span> sig)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Here are helper routines that we&#x27;ve provided for you */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">parseline</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *cmdline, <span class="type">char</span> **argv)</span>;  <span class="comment">//è¿”å›bgæ ‡å¿—  1 åå°</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigquit_handler</span><span class="params">(<span class="type">int</span> sig)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">clearjob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *job)</span>;                                     <span class="comment">//æ¸…é™¤é˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªä½œä¸š</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initjobs</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span>;                                    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxjid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span>;                                       <span class="comment">//è¿”å›ä»¥åˆ†é…çš„æœ€å¤§ä½œä¸šå·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">addjob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid, <span class="type">int</span> state, <span class="type">char</span> *cmdline)</span>;  <span class="comment">//æ·»åŠ ä¸€ä¸ªä½œä¸š  è¿”å›1  æ»¡äº†è¿”å›0</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deletejob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid)</span>;                         <span class="comment">//åˆ é™¤é˜Ÿåˆ—ä¸­ä¸€ä¸ªä½œä¸š   æˆåŠŸè¿”å›1</span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">fgpid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span>;                                      <span class="comment">//è¿”å›ä¸€ä¸ªå‰å°è¿è¡Œçš„ä½œä¸šå·    æ²¡æœ‰è¿”å›0</span></span><br><span class="line"><span class="keyword">struct</span> <span class="type">job_t</span> *<span class="title function_">getjobpid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid)</span>;               <span class="comment">//ä½¿ç”¨pidæŸ¥æ‰¾ä¸€ä¸ªä½œä¸š  æ²¡æ‰¾åˆ° è¿”å›ç©º</span></span><br><span class="line"><span class="keyword">struct</span> <span class="type">job_t</span> *<span class="title function_">getjobjid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">int</span> jid)</span>;                 <span class="comment">//ç”¨jidæŸ¥æ‰¾ä¸€ä¸ªä½œä¸š</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">pid2jid</span><span class="params">(<span class="type">pid_t</span> pid)</span>;                                               <span class="comment">// ç”¨pid è¿”å› jid,  æ²¡æ‰¾åˆ°è¿”å›0</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">listjobs</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span>;                                    <span class="comment">//æ‰“å°ä½œä¸šé˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">usage</span><span class="params">(<span class="type">void</span>)</span>;                                   <span class="comment">//æ‰“å°å¸®åŠ©èœå•</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">unix_error</span><span class="params">(<span class="type">char</span> *msg)</span>;                         <span class="comment">// unixé£æ ¼æ‰“å°é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">app_error</span><span class="params">(<span class="type">char</span> *msg)</span>;                          <span class="comment">// appé£æ ¼çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">void</span> <span class="title function_">handler_t</span><span class="params">(<span class="type">int</span>)</span>;                        <span class="comment">//ä¸€ä¸ªintå‚æ•°,æ— è¿”å›</span></span><br><span class="line"><span class="type">handler_t</span> *<span class="title function_">Signal</span><span class="params">(<span class="type">int</span> signum, <span class="type">handler_t</span> *handler)</span>;  <span class="comment">//ä¿¡å·åŒ…è£…å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * main - The shell&#x27;s main routine</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">  <span class="type">char</span> c;</span><br><span class="line">  <span class="type">char</span> cmdline[MAXLINE];</span><br><span class="line">  <span class="type">int</span> emit_prompt = <span class="number">1</span>; <span class="comment">/* emit prompt (default) */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//ä¸ç”¨ç®¡    é‡å®šå‘è¾“å‡º</span></span><br><span class="line">  <span class="comment">/* Redirect stderr to stdout (so that driver will get all output</span></span><br><span class="line"><span class="comment">   * on the pipe connected to stdout) */</span></span><br><span class="line">  dup2(<span class="number">1</span>, <span class="number">2</span>);  <span class="comment">//æŠŠ1çš„æ–‡ä»¶æè¿°ç¬¦ å¤åˆ¶ç»™2</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Parse the command line */</span></span><br><span class="line">  <span class="keyword">while</span> ((c = getopt(argc, argv, <span class="string">&quot;hvp&quot;</span>)) != EOF) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (c) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;h&#x27;</span>: <span class="comment">/* print help message */</span></span><br><span class="line">        usage();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;v&#x27;</span>: <span class="comment">/* emit additional diagnostic info */</span></span><br><span class="line">        verbose = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;p&#x27;</span>:          <span class="comment">/* don&#x27;t print a prompt */</span></span><br><span class="line">        emit_prompt = <span class="number">0</span>; <span class="comment">/* handy for automatic testing */</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        usage();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Install the signal handlers */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* These are the ones you will need to implement */</span></span><br><span class="line">  Signal(SIGINT, sigint_handler);   <span class="comment">/* ctrl-c */</span></span><br><span class="line">  Signal(SIGTSTP, sigtstp_handler); <span class="comment">/* ctrl-z */</span></span><br><span class="line">  Signal(SIGCHLD, sigchld_handler); <span class="comment">/* Terminated or stopped child */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* This one provides a clean way to kill the shell */</span></span><br><span class="line">  Signal(SIGQUIT, sigquit_handler);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Initialize the job list */</span></span><br><span class="line">  initjobs(jobs);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Execute the shell&#x27;s read/eval loop */</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">/* Read command line */</span></span><br><span class="line">    <span class="keyword">if</span> (emit_prompt) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, prompt);</span><br><span class="line">      fflush(<span class="built_in">stdout</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ((fgets(cmdline, MAXLINE, <span class="built_in">stdin</span>) == <span class="literal">NULL</span>) &amp;&amp; ferror(<span class="built_in">stdin</span>))</span><br><span class="line">      app_error(<span class="string">&quot;fgets error&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (feof(<span class="built_in">stdin</span>)) &#123; <span class="comment">/* End of file (ctrl-d) */</span></span><br><span class="line">      fflush(<span class="built_in">stdout</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Evaluate the command line */</span></span><br><span class="line">    eval(cmdline);</span><br><span class="line">    fflush(<span class="built_in">stdout</span>);</span><br><span class="line">    fflush(<span class="built_in">stdout</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">0</span>); <span class="comment">/* control never reaches here */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * eval - Evaluate the command line that the user has just typed in</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * If the user has requested a built-in command (quit, jobs, bg or fg)</span></span><br><span class="line"><span class="comment"> * then execute it immediately. Otherwise, fork a child process and</span></span><br><span class="line"><span class="comment"> * run the job in the context of the child. If the job is running in</span></span><br><span class="line"><span class="comment"> * the foreground, wait for it to terminate and then return.  Note:</span></span><br><span class="line"><span class="comment"> * each child process must have a unique process group ID so that our</span></span><br><span class="line"><span class="comment"> * background children don&#x27;t receive SIGINT (SIGTSTP) from the kernel</span></span><br><span class="line"><span class="comment"> * when we type ctrl-c (ctrl-z) at the keyboard.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">eval</span><span class="params">(<span class="type">char</span> *cmdline)</span> &#123;</span><br><span class="line">  <span class="type">char</span> *argv[MAXARGS]; <span class="comment">/*Argument list execve() */</span></span><br><span class="line">  <span class="type">char</span> buf[MAXLINE];   <span class="comment">/*Holds modified command line */</span></span><br><span class="line">  <span class="type">int</span> bg;              <span class="comment">/*Should the job run in bg or fg? */</span></span><br><span class="line">  <span class="type">pid_t</span> pid;           <span class="comment">/*Process id */</span></span><br><span class="line"></span><br><span class="line">  <span class="type">sigset_t</span> mask_all, mask_one, prev_one;</span><br><span class="line">  sigfillset(&amp;mask_all);</span><br><span class="line">  sigemptyset(&amp;mask_one);</span><br><span class="line">  sigaddset(&amp;mask_one, SIGCHLD);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">strcpy</span>(buf, cmdline);</span><br><span class="line">  bg = parseline(buf, argv);</span><br><span class="line">  <span class="keyword">if</span> (argv[<span class="number">0</span>] == <span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>; <span class="comment">/* Ignore empty lines */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!builtin_cmd(argv)) &#123;</span><br><span class="line">    sigprocmask(SIG_BLOCK, &amp;mask_one, &amp;prev_one);   <span class="comment">//é˜»å¡SIGCHLD</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((pid = Fork()) == <span class="number">0</span>) &#123;         <span class="comment">/* Child runs user job */</span></span><br><span class="line">      setpgid(<span class="number">0</span>, <span class="number">0</span>);          <span class="comment">//å•ç‹¬åŠ å…¥ä¸€ä¸ªç»„</span></span><br><span class="line">      sigprocmask(SIG_SETMASK, &amp;prev_one, <span class="literal">NULL</span>);  <span class="comment">//è§£é™¤SIGCHLDé˜»å¡ èµ‹å€¼æ–°çš„mask</span></span><br><span class="line">      Execve(argv[<span class="number">0</span>], argv, environ);  <span class="comment">//æ‰§è¡Œå‡½æ•°ä¸ä¼šè¿”å›   ä¼šç»“æŸè¿è¡Œ</span></span><br><span class="line">    &#125;                                  <span class="comment">/* Parent waits for foreground job to terminate */</span></span><br><span class="line">    <span class="comment">//æ·»åŠ ä½œä¸š     FG = 0 + 1 = 1    BG = 1 + 1 = 2</span></span><br><span class="line">    sigprocmask(SIG_BLOCK, &amp;mask_all, <span class="literal">NULL</span>);   <span class="comment">//åº”è¯¥æ˜¯é‡ç½®ä½œç”¨</span></span><br><span class="line">    addjob(jobs, pid, bg + <span class="number">1</span>, cmdline);</span><br><span class="line">    sigprocmask(SIG_SETMASK, &amp;prev_one, <span class="literal">NULL</span>); </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!bg) &#123;</span><br><span class="line">      waitfg(pid);   <span class="comment">//ç­‰å¾…å‰å°è¿è¡Œç»“æŸ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;[%d] (%d)  %s&quot;</span>, pid2jid(pid), pid, cmdline);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * parseline - Parse the command line and build the argv array.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Characters enclosed in single quotes are treated as a single</span></span><br><span class="line"><span class="comment"> * argument.  Return true if the user has requested a BG job, false if</span></span><br><span class="line"><span class="comment"> * the user has requested a FG job.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">parseline</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *cmdline, <span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">char</span> <span class="built_in">array</span>[MAXLINE]; <span class="comment">/* holds local copy of command line */</span></span><br><span class="line">  <span class="type">char</span> *buf = <span class="built_in">array</span>;          <span class="comment">/* ptr that traverses command line */</span></span><br><span class="line">  <span class="type">char</span> *delim;                <span class="comment">/* points to first space delimiter */</span></span><br><span class="line">  <span class="type">int</span> argc;                   <span class="comment">/* number of args */</span></span><br><span class="line">  <span class="type">int</span> bg;                     <span class="comment">/* background job? */</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">strcpy</span>(buf, cmdline);</span><br><span class="line">  buf[<span class="built_in">strlen</span>(buf) - <span class="number">1</span>] = <span class="string">&#x27; &#x27;</span>;   <span class="comment">/* replace trailing &#x27;\n&#x27; with space */</span></span><br><span class="line">  <span class="keyword">while</span> (*buf &amp;&amp; (*buf == <span class="string">&#x27; &#x27;</span>)) <span class="comment">/* ignore leading spaces */</span></span><br><span class="line">    buf++;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Build the argv list */</span></span><br><span class="line">  argc = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (*buf == <span class="string">&#x27;\&#x27;&#x27;</span>) &#123;</span><br><span class="line">    buf++;</span><br><span class="line">    delim = <span class="built_in">strchr</span>(buf, <span class="string">&#x27;\&#x27;&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    delim = <span class="built_in">strchr</span>(buf, <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (delim) &#123;</span><br><span class="line">    argv[argc++] = buf;</span><br><span class="line">    *delim = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    buf = delim + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (*buf &amp;&amp; (*buf == <span class="string">&#x27; &#x27;</span>)) <span class="comment">/* ignore spaces */</span></span><br><span class="line">      buf++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (*buf == <span class="string">&#x27;\&#x27;&#x27;</span>) &#123;</span><br><span class="line">      buf++;</span><br><span class="line">      delim = <span class="built_in">strchr</span>(buf, <span class="string">&#x27;\&#x27;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      delim = <span class="built_in">strchr</span>(buf, <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  argv[argc] = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (argc == <span class="number">0</span>) <span class="comment">/* ignore blank line */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* should the job run in the background? */</span></span><br><span class="line">  <span class="keyword">if</span> ((bg = (*argv[argc - <span class="number">1</span>] == <span class="string">&#x27;&amp;&#x27;</span>)) != <span class="number">0</span>) &#123;</span><br><span class="line">    argv[--argc] = <span class="literal">NULL</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * builtin_cmd - If the user has typed a built-in command then execute</span></span><br><span class="line"><span class="comment"> *    it immediately.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">builtin_cmd</span><span class="params">(<span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;quit&quot;</span>))</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;jobs&quot;</span>)) &#123;</span><br><span class="line">    listjobs(jobs);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;bg&quot;</span>) || !<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;fg&quot;</span>)) &#123;</span><br><span class="line">    do_bgfg(argv);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;&amp;&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">/* not a builtin command */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * do_bgfg - Execute the builtin bg and fg commands</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">do_bgfg</span><span class="params">(<span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">  <span class="type">int</span> doid;</span><br><span class="line">  <span class="type">pid_t</span> pid;</span><br><span class="line">  <span class="type">pid_t</span> t_pid;</span><br><span class="line">  <span class="keyword">if</span>(argv[<span class="number">1</span>] == <span class="literal">NULL</span>)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s command requires PID or %%jobid argument\n&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> jflag = <span class="number">0</span>;  <span class="comment">//ç»„æ ‡è®°</span></span><br><span class="line">  <span class="keyword">if</span>(argv[<span class="number">1</span>][<span class="number">0</span>] == <span class="string">&#x27;%&#x27;</span>)&#123;</span><br><span class="line">    jflag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isdigit</span>(argv[<span class="number">1</span>][<span class="number">1</span>]) == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s: argument must be a PID or %%jobid\n&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    doid = atoi(&amp;argv[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isdigit</span>(argv[<span class="number">1</span>][<span class="number">0</span>]) == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s: argument must be a PID or %%jobid\n&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    doid = atoi(&amp;argv[<span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">job_t</span> * <span class="title">job</span>;</span></span><br><span class="line">  <span class="keyword">if</span>(jflag)&#123;</span><br><span class="line">    job = getjobjid(jobs, doid);  <span class="comment">//jid</span></span><br><span class="line">    <span class="keyword">if</span>(job == <span class="literal">NULL</span>)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%d: No such job\n&quot;</span>, doid);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    job = getjobpid(jobs, doid);  <span class="comment">//pid</span></span><br><span class="line">    <span class="keyword">if</span>(job == <span class="literal">NULL</span>)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;(%d): No such process\n&quot;</span>, doid);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(argv[<span class="number">0</span>], <span class="string">&quot;bg&quot;</span>)) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    kill(-job-&gt;pid, SIGCONT); <span class="comment">//å‘é€ç»§ç»­å‘½ä»¤</span></span><br><span class="line">    job-&gt;state = BG;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[%d] (%d) %s&quot;</span>,job-&gt;jid,job-&gt;pid,job-&gt;cmdline);  <span class="comment">//ä¸æ¸…æ¥šä¸ºä»€ä¹ˆä¸æ¢è¡Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">    t_pid = fgpid(jobs);   <span class="comment">//æ‰¾å½“å‰çš„å‰å°ä½œä¸š</span></span><br><span class="line">    <span class="keyword">if</span>(job-&gt;state == ST)&#123;</span><br><span class="line">      kill(-job-&gt;pid, SIGCONT); <span class="comment">//å‘é€ç»§ç»­å‘½ä»¤</span></span><br><span class="line">    &#125;</span><br><span class="line">    job-&gt;state = FG;</span><br><span class="line">    pid = job-&gt;pid;</span><br><span class="line">    <span class="keyword">if</span>(t_pid != <span class="number">0</span>)&#123;  <span class="comment">//æœ‰å‰å°ä½œä¸š è½¬ä¸ºåå°</span></span><br><span class="line">      job = getjobpid(jobs, doid);</span><br><span class="line">      job-&gt;state = BG;</span><br><span class="line">    &#125;</span><br><span class="line">    waitfg(pid);  <span class="comment">//ç­‰å¾…å‰å°è¿è¡Œ</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * waitfg - Block until process pid is no longer the foreground process</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªfgä½œä¸š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">waitfg</span><span class="params">(<span class="type">pid_t</span> pid)</span> &#123;</span><br><span class="line">  <span class="keyword">while</span>(pid == fgpid(jobs))</span><br><span class="line">    sleep(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*****************</span></span><br><span class="line"><span class="comment"> * Signal handlers</span></span><br><span class="line"><span class="comment"> *****************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * sigchld_handler - The kernel sends a SIGCHLD to the shell whenever</span></span><br><span class="line"><span class="comment"> *     a child job terminates (becomes a zombie), or stops because it</span></span><br><span class="line"><span class="comment"> *     received a SIGSTOP or SIGTSTP signal. The handler reaps all</span></span><br><span class="line"><span class="comment"> *     available zombie children, but doesn&#x27;t wait for any other</span></span><br><span class="line"><span class="comment"> *     currently running children to terminate.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  å“åº” åœæ­¢ä¿¡å· å¤„ç†å‡½æ•°  </span></span><br><span class="line"><span class="comment">  å›æ”¶æ‰€æœ‰åƒµå°¸è¿›ç¨‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigchld_handler</span><span class="params">(<span class="type">int</span> sig)</span> &#123;</span><br><span class="line">  <span class="type">int</span> olderrno = errno;</span><br><span class="line">  <span class="type">sigset_t</span> mask_all,prev_all;</span><br><span class="line">  <span class="type">pid_t</span> pid;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> status; <span class="comment">//è·å–è¿”å›çŠ¶æ€</span></span><br><span class="line">  sigfillset(&amp;mask_all);</span><br><span class="line">  <span class="comment">//å›æ”¶æ‰€æœ‰çš„åƒµå°¸è¿›ç¨‹</span></span><br><span class="line">  <span class="keyword">while</span>((pid = waitpid(<span class="number">-1</span>,&amp;status,WNOHANG | WUNTRACED))&gt;<span class="number">0</span>)&#123;  <span class="comment">//å¦‚æœéƒ½æ²¡ç»ˆæ­¢è¿”å›0 æœ‰ä¸€ä¸ªè¢«ç»ˆæ­¢ è¿”å›ç»ˆæ­¢pid</span></span><br><span class="line">    <span class="keyword">if</span> (WIFEXITED(status))  &#123;  <span class="comment">//æ­£å¸¸ç»ˆæ­¢</span></span><br><span class="line">      sigprocmask(SIG_BLOCK, &amp;mask_all, &amp;prev_all);</span><br><span class="line">      deletejob(jobs, pid);</span><br><span class="line">      sigprocmask(SIG_SETMASK, &amp;prev_all, <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(WIFSIGNALED(status))  &#123;  <span class="comment">//æ­£å¸¸ç»ˆæ­¢</span></span><br><span class="line">      sigprocmask(SIG_BLOCK, &amp;mask_all, &amp;prev_all);</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;Job [%d] (%d) terminated by signal %d\n&quot;</span>, pid2jid(pid), pid, WTERMSIG(status));</span><br><span class="line">      deletejob(jobs, pid);</span><br><span class="line">      sigprocmask(SIG_SETMASK, &amp;prev_all, <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(WIFSTOPPED(status))  &#123;  <span class="comment">//æ­£å¸¸æš‚åœ</span></span><br><span class="line">      sigprocmask(SIG_BLOCK, &amp;mask_all, &amp;prev_all);</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;Job [%d] (%d) stopped by signal %d\n&quot;</span>, pid2jid(pid), pid, WSTOPSIG(status));</span><br><span class="line">      <span class="class"><span class="keyword">struct</span> <span class="title">job_t</span> * <span class="title">fgjob</span> =</span> getjobpid(jobs, pid);  <span class="comment">//æŸ¥æ‰¾å‰å°è¿›ç¨‹æŒ‡é’ˆ</span></span><br><span class="line">      fgjob-&gt;state = ST;</span><br><span class="line">      sigprocmask(SIG_SETMASK, &amp;prev_all, <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  errno = olderrno;  </span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * sigint_handler - The kernel sends a SIGINT to the shell whenver the</span></span><br><span class="line"><span class="comment"> *    user types ctrl-c at the keyboard.  Catch it and send it along</span></span><br><span class="line"><span class="comment"> *    to the foreground job.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SIGINT ä¿¡å·åªä¼šä¼ é€’ç»™å‰å°è¿›ç¨‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigint_handler</span><span class="params">(<span class="type">int</span> sig)</span> &#123;</span><br><span class="line">  <span class="type">int</span> olderrno = errno;</span><br><span class="line">  <span class="type">pid_t</span> pid;</span><br><span class="line">  pid = fgpid(jobs);</span><br><span class="line">  kill(-pid, sig);  <span class="comment">//å‘é€ç»™å‰å°ä½œä¸š</span></span><br><span class="line">  errno = olderrno;  </span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * sigtstp_handler - The kernel sends a SIGTSTP to the shell whenever</span></span><br><span class="line"><span class="comment"> *     the user types ctrl-z at the keyboard. Catch it and suspend the</span></span><br><span class="line"><span class="comment"> *     foreground job by sending it a SIGTSTP.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigtstp_handler</span><span class="params">(<span class="type">int</span> sig)</span> &#123;</span><br><span class="line">  <span class="type">int</span> olderrno = errno;</span><br><span class="line">  <span class="type">pid_t</span> pid;</span><br><span class="line">  pid = fgpid(jobs);</span><br><span class="line">  kill(-pid, sig);  <span class="comment">//å‘é€ç»™å‰å°ä½œä¸š</span></span><br><span class="line">  errno = olderrno;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********************</span></span><br><span class="line"><span class="comment"> * End signal handlers</span></span><br><span class="line"><span class="comment"> *********************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¥å……å‡½æ•°</span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">Fork</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">pid_t</span> pid;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>)</span><br><span class="line">    unix_error(<span class="string">&quot;Fork error&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> pid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Execve</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *filename, <span class="type">char</span> *<span class="type">const</span> argv[], <span class="type">char</span> *<span class="type">const</span> environ[])</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (execve(filename, argv, environ) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s: Command not found.\n&quot;</span>, filename);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***********************************************</span></span><br><span class="line"><span class="comment"> * Helper routines that manipulate the job list</span></span><br><span class="line"><span class="comment"> **********************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* clearjob - Clear the entries in a job struct */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">clearjob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *job)</span> &#123;</span><br><span class="line">  job-&gt;pid = <span class="number">0</span>;</span><br><span class="line">  job-&gt;jid = <span class="number">0</span>;</span><br><span class="line">  job-&gt;state = UNDEF;</span><br><span class="line">  job-&gt;cmdline[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* initjobs - Initialize the job list */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">initjobs</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    clearjob(&amp;jobs[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* maxjid - Returns largest allocated job ID */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxjid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i, max = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].jid &gt; max)</span><br><span class="line">      max = jobs[i].jid;</span><br><span class="line">  <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* addjob - Add a job to the job list */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">addjob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid, <span class="type">int</span> state, <span class="type">char</span> *cmdline)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (pid &lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].pid == <span class="number">0</span>) &#123;</span><br><span class="line">      jobs[i].pid = pid;</span><br><span class="line">      jobs[i].state = state;</span><br><span class="line">      jobs[i].jid = nextjid++;</span><br><span class="line">      <span class="keyword">if</span> (nextjid &gt; MAXJOBS)</span><br><span class="line">        nextjid = <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">strcpy</span>(jobs[i].cmdline, cmdline);</span><br><span class="line">      <span class="keyword">if</span> (verbose) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Added job [%d] %d %s\n&quot;</span>, jobs[i].jid, jobs[i].pid, jobs[i].cmdline);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Tried to create too many jobs\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* deletejob - Delete a job whose PID=pid from the job list */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deletejob</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (pid &lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].pid == pid) &#123;</span><br><span class="line">      clearjob(&amp;jobs[i]);</span><br><span class="line">      nextjid = maxjid(jobs) + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* fgpid - Return PID of current foreground job, 0 if no such job */</span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">fgpid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].state == FG)</span><br><span class="line">      <span class="keyword">return</span> jobs[i].pid;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* getjobpid  - Find a job (by PID) on the job list */</span></span><br><span class="line"><span class="keyword">struct</span> <span class="type">job_t</span> *<span class="title function_">getjobpid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">pid_t</span> pid)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (pid &lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].pid == pid)</span><br><span class="line">      <span class="keyword">return</span> &amp;jobs[i];</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* getjobjid  - Find a job (by JID) on the job list */</span></span><br><span class="line"><span class="keyword">struct</span> <span class="type">job_t</span> *<span class="title function_">getjobjid</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs, <span class="type">int</span> jid)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (jid &lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].jid == jid)</span><br><span class="line">      <span class="keyword">return</span> &amp;jobs[i];</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* pid2jid - Map process ID to job ID */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">pid2jid</span><span class="params">(<span class="type">pid_t</span> pid)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (pid &lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++)</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].pid == pid) &#123;</span><br><span class="line">      <span class="keyword">return</span> jobs[i].jid;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* listjobs - Print the job list */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">listjobs</span><span class="params">(<span class="keyword">struct</span> <span class="type">job_t</span> *jobs)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXJOBS; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (jobs[i].pid != <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;[%d] (%d) &quot;</span>, jobs[i].jid, jobs[i].pid);</span><br><span class="line">      <span class="keyword">switch</span> (jobs[i].state) &#123;</span><br><span class="line">        <span class="keyword">case</span> BG:</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;Running &quot;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> FG:</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;Foreground &quot;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> ST:</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;Stopped &quot;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;listjobs: Internal error: job[%d].state=%d &quot;</span>,</span><br><span class="line">                 i, jobs[i].state);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, jobs[i].cmdline);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/******************************</span></span><br><span class="line"><span class="comment"> * end job list helper routines</span></span><br><span class="line"><span class="comment"> ******************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***********************</span></span><br><span class="line"><span class="comment"> * Other helper routines</span></span><br><span class="line"><span class="comment"> ***********************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * usage - print a help message</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">usage</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Usage: shell [-hvp]\n&quot;</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;   -h   print this message\n&quot;</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;   -v   print additional diagnostic information\n&quot;</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;   -p   do not emit a command prompt\n&quot;</span>);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * unix_error - unix-style error routine</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">unix_error</span><span class="params">(<span class="type">char</span> *msg)</span> &#123;</span><br><span class="line">  <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">&quot;%s: %s\n&quot;</span>, msg, strerror(errno));</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * app_error - application-style error routine</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">app_error</span><span class="params">(<span class="type">char</span> *msg)</span> &#123;</span><br><span class="line">  <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">&quot;%s\n&quot;</span>, msg);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Signal - wrapper for the sigaction function</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">handler_t</span> *<span class="title function_">Signal</span><span class="params">(<span class="type">int</span> signum, <span class="type">handler_t</span> *handler)</span> &#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">action</span>, <span class="title">old_action</span>;</span></span><br><span class="line"></span><br><span class="line">  action.sa_handler = handler;</span><br><span class="line">  sigemptyset(&amp;action.sa_mask); <span class="comment">/* block sigs of type being handled */</span></span><br><span class="line">  action.sa_flags = SA_RESTART; <span class="comment">/* restart syscalls if possible */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (sigaction(signum, &amp;action, &amp;old_action) &lt; <span class="number">0</span>)</span><br><span class="line">    unix_error(<span class="string">&quot;Signal error&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> (old_action.sa_handler);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * sigquit_handler - The driver program can gracefully terminate the</span></span><br><span class="line"><span class="comment"> *    child shell by sending it a SIGQUIT signal.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sigquit_handler</span><span class="params">(<span class="type">int</span> sig)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Terminating after receipt of SIGQUIT signal\n&quot;</span>);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒIV CacheLab</title>
    <url>/2024/03/09/16-34-34/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>24.03.09ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a></li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a></li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a></li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a></li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>CacheLabå®éªŒï¼Œç¬¬ä¸€éƒ¨åˆ†éœ€è¦æ¨¡æ‹ŸCacheè®¡ç®—å‘½ä¸­ï¼Œæœªå‘½ä¸­æ¬¡æ•°ï¼Œç¬¬äºŒéƒ¨åˆ†å®ç°ä»£ç ä¼˜åŒ–ï¼Œå‡å°‘æœªå‘½ä¸­æ¬¡æ•°ã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ol>
<li><p>Cache</p>
<blockquote>
<img src="/2024/03/09/16-34-34/QQ20240309-165258@2x.png" class>
<p>ä¸éœ€è¦å…³æ³¨ <code>b</code> bitsï¼Œä½¿ç”¨LRUæ›¿æ¢ç­–ç•¥ã€‚</p>
<p>Cacheæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„cache[S][E]ï¼ŒS=2^sï¼Œç»„æ•°ã€‚</p>
<p>æ¯ä¸€ä¸ªcacheè¡ŒåŒ…å«ï¼šValid bitï¼Œ Tagï¼Œ LRU counterã€‚</p>
<p>ç”¨Tagå¯¹æ¯”EåŒ¹é…lineã€‚</p>
</blockquote>
</li>
<li><p>ç”Ÿæˆå†…å­˜è°ƒè¯•å·¥å…·å‘½ä»¤: <code>linux&gt; valgrind --log-fd=1 --tool=lackey -v --trace-mem=yes ls -l</code></p>
<blockquote>
<p>å‚æ•°<code>ls -l</code>ï¼šæ‰“å°è¾“å‡ºåœ¨æ–‡ä»¶stdout</p>
<p>æ ¼å¼ä¸º<code>[space]operation address,size</code>ï¼Œé™¤äº†Iæ“ä½œå¤–ï¼Œå‰éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼</p>
<p>æ“ä½œï¼šI-instruction loadï¼ŒL-data loadï¼ŒS-data storeï¼Œ M-data modifyã€‚MåŒ…å«Lï¼ŒSã€‚</p>
<p>addressï¼š64-bit 16è¿›åˆ¶</p>
<p>sizeï¼šå­—èŠ‚æ•°</p>
</blockquote>
</li>
</ol>
<h1 id="é¢˜ç›®åŠè§£æ³•"><a href="#é¢˜ç›®åŠè§£æ³•" class="headerlink" title="é¢˜ç›®åŠè§£æ³•"></a>é¢˜ç›®åŠè§£æ³•</h1><h2 id="Part-A-Writing-a-Cache-Simulator"><a href="#Part-A-Writing-a-Cache-Simulator" class="headerlink" title="Part A Writing a Cache Simulator"></a>Part A Writing a Cache Simulator</h2><p>å®Œæˆ<code>csim.c</code>æ–‡ä»¶ï¼Œä½¿ç”¨<code>valgrind</code>ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºå‘½ä¸­ï¼Œæœªå‘½ä¸­å’Œæ›¿æ¢æ¬¡æ•°ï¼Œè¾“å‡ºæ ¼å¼ä¸º<code>hits:4 misses:5 evictions:3</code>ã€‚</p>
<h3 id="ç›¸å…³å†…å®¹-1"><a href="#ç›¸å…³å†…å®¹-1" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h3><ul>
<li><p>ä¿®æ”¹<code>csim.c</code>æ–‡ä»¶</p>
</li>
<li><p>å¯å‚è€ƒçš„äºŒè¿›åˆ¶æ–‡ä»¶<code>csim-ref</code>ï¼Œä½¿ç”¨å‘½ä»¤<code>./csim-ref [-hv] -s &lt;s&gt; -E &lt;E&gt; -b &lt;b&gt; -t &lt;tracefile&gt;</code></p>
<blockquote>
<p>å‚æ•°ï¼šv-æ‰“å°å†…å­˜è¿½è¸ªè®°å½•</p>
</blockquote>
</li>
<li><p>è‡ªåŠ¨è¯„åˆ†å·¥å…·<code>test-csim</code></p>
</li>
<li><p>å»ºè®®ä»£ç åƒå‚è€ƒæ¨¡æ‹Ÿå™¨æ˜¾ç¤ºè¾“å‡ºï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚</p>
</li>
<li><p>ä½¿ç”¨<code>getopt</code>åˆ†æå‘½ä»¤è¡Œå‚æ•°ã€‚éœ€åŒ…å«å¤´æ–‡ä»¶<getopt.h>ï¼Œ<unistd.h>ï¼Œ<stdlib.h>ã€‚å¯ä»¥è·å–å‡½æ•°å‚æ•°ã€‚</stdlib.h></unistd.h></getopt.h></p>
</li>
<li><p>ä½¿ç”¨<code>fscanf</code>æŒ‰è¡Œè¯»å–æ–‡ä»¶</p>
</li>
<li><p>ä½¿ç”¨<code>malloc</code>ï¼Œ<code>free</code>ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</p>
</li>
<li><p>ä½¿ç”¨<code>printSummary(hit_count, miss_count, eviction_count);</code>ï¼Œæ‰“å°è¾“å‡º</p>
</li>
<li><p>æ•°æ®æ˜¯å¯¹é½ï¼Œä¸”ä¸ä¼šå‡ºç°è·¨å—è®¿é—®ã€‚</p>
</li>
</ul>
<h3 id="ç­”æ¡ˆ"><a href="#ç­”æ¡ˆ" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSetbits 5</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxLine 4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxBytebits 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Myline</span>&#123;</span></span><br><span class="line">  <span class="type">int</span> valid; <span class="comment">//æœ‰æ•ˆä½</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> tag;   <span class="comment">//tagæ ‡è®°  åè¿›åˆ¶</span></span><br><span class="line">  <span class="type">int</span> lru_num;   <span class="comment">// æœ€è¿‘ä½¿ç”¨æ ‡è®° 0 - (E - 1)</span></span><br><span class="line">&#125;Myline;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Mycache</span>&#123;</span></span><br><span class="line">  <span class="type">int</span> S;            <span class="comment">// set å¤§å°</span></span><br><span class="line">  <span class="type">int</span> E;            <span class="comment">// line å¤§å°</span></span><br><span class="line">  <span class="type">int</span> B;            <span class="comment">//åç§»å¤§å°</span></span><br><span class="line">  <span class="type">int</span> size_Tag;     <span class="comment">// tag bits = 64 - s- b</span></span><br><span class="line">  Myline **<span class="built_in">set</span>;    <span class="comment">//setæ•°ç»„</span></span><br><span class="line">&#125;Mycache;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//get command line arguments</span></span><br><span class="line"><span class="comment">//p_s sçš„æŒ‡é’ˆ   p_E Eçš„æŒ‡é’ˆ   p_b bçš„æŒ‡é’ˆ    fn æ–‡ä»¶å</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Mygetopt</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[], <span class="type">int</span> *p_s, <span class="type">int</span> *p_E, <span class="type">int</span> *p_b, <span class="type">char</span> *fn, <span class="type">int</span> *flag_v)</span>;   </span><br><span class="line"><span class="comment">//16è¿›åˆ¶è½¬æ¢åè¿›åˆ¶</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> <span class="title function_">Hex2dec</span><span class="params">(<span class="type">char</span> *hex)</span>;</span><br><span class="line"><span class="comment">//è¿”å›tag</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> <span class="title function_">GetDecTag</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b)</span>;</span><br><span class="line"><span class="comment">//è¿”å›ç»„å·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetDecSetNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b)</span>;</span><br><span class="line"><span class="comment">//è¿”å›è¿™ä¸ªdecåœ°å€ä¸‹å½“å‰åç§»é‡å¼€å§‹å‰©ä½™çš„å­—èŠ‚æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetDecRestByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b, <span class="type">int</span> B)</span>;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–set</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Initset</span><span class="params">(Mycache *mc)</span>;</span><br><span class="line"><span class="comment">//å¤„ç†æœ€è¿‘æœªä½¿ç”¨</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetminLRU</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E)</span>;</span><br><span class="line"><span class="comment">//æ˜¯å¦setæ»¡äº†</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">IsFullSet</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E)</span>;</span><br><span class="line"><span class="comment">//å‘½ä¸­å¤„ç†  </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">HitDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> Eindex)</span>;</span><br><span class="line"><span class="comment">//æœªå‘½ä¸­ åŠ è½½cache</span></span><br><span class="line"><span class="comment">// æœ‰ç©ºä½™lineåŠ è½½</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">MissLoadDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> Eindex, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec_tag)</span>;</span><br><span class="line"><span class="comment">//lineæ›¿æ¢</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">MissEvictionDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> delindex, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec_tag)</span>;</span><br><span class="line"><span class="comment">//è®¿é—®å¤„ç†   è¿”å›1 hit   2  miss  3 miss eviction</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LoadDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StoreDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">ModifyDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> &#123;</span><br><span class="line">  FILE *fp;</span><br><span class="line">  <span class="type">int</span> hit_count, miss_count, eviction_count;</span><br><span class="line">  <span class="type">int</span> s, E, b;</span><br><span class="line">  <span class="type">int</span> flag_v = <span class="number">0</span>;     <span class="comment">//opt v çš„æ ‡è®°</span></span><br><span class="line">  <span class="type">char</span> *file_name;</span><br><span class="line">  <span class="type">char</span> optcache = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  <span class="type">char</span> ignorechar = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  <span class="type">char</span> hex[<span class="number">65</span>] = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">int</span> size = <span class="number">0</span>;        <span class="comment">//ä¸ªæ•°</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec;</span><br><span class="line"></span><br><span class="line">  hit_count = <span class="number">0</span>;</span><br><span class="line">  miss_count = <span class="number">0</span>;</span><br><span class="line">  eviction_count = <span class="number">0</span>;</span><br><span class="line">  Mycache cache;</span><br><span class="line">  file_name = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">char</span>) * <span class="number">30</span>);</span><br><span class="line">  Mygetopt(argc, argv, &amp;s, &amp;E, &amp;b, file_name, &amp;flag_v);</span><br><span class="line">  cache.S = <span class="built_in">pow</span>(<span class="number">2</span>, s);</span><br><span class="line">  cache.E = E;</span><br><span class="line">  cache.B = <span class="built_in">pow</span>(<span class="number">2</span>, b);</span><br><span class="line">  cache.size_Tag = <span class="number">64</span> - s - b;</span><br><span class="line">  Initset(&amp;cache);</span><br><span class="line"></span><br><span class="line">  fp = fopen(file_name, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">  <span class="keyword">while</span>(<span class="built_in">fscanf</span>(fp, <span class="string">&quot; %c %[^,]%c%d&quot;</span>, &amp;optcache, hex, &amp;ignorechar, &amp;size) != <span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(optcache == <span class="string">&#x27;I&#x27;</span>)&#123;</span><br><span class="line">      <span class="built_in">fscanf</span>(fp, <span class="string">&quot;%c&quot;</span>, &amp;ignorechar);</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;%c %s,%d&quot;</span>, optcache, hex, size);</span><br><span class="line">    &#125;</span><br><span class="line">    dec = Hex2dec(hex);</span><br><span class="line">    <span class="comment">//========å¤„ç†å†…å­˜è®¿é—®</span></span><br><span class="line">    <span class="type">int</span> setnum = <span class="number">0</span>;  <span class="comment">//ç»„å·</span></span><br><span class="line">    <span class="type">int</span> flag_kind = <span class="number">0</span>;   <span class="comment">//cache ç±»å‹   hit miss  </span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dectag = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//int restbyte = 0;  // å½“å‰åç§»é‡ä¸‹å‰©ä½™çš„å­—èŠ‚æ•°</span></span><br><span class="line">    <span class="comment">//int loadbyte = 0;  //å·²åŠ è½½çš„å­—èŠ‚æ•°</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> loaddec = dec;   <span class="comment">//å½“å‰åŠ è½½çš„åœ°å€</span></span><br><span class="line">    setnum = GetDecSetNum(loaddec, s, b);</span><br><span class="line">    dectag = GetDecTag(loaddec, s, b);</span><br><span class="line">    <span class="comment">//restbyte = GetDecRestByte(loaddec, s, b, cache.B);   //å‰©ä½™åŠ è½½çš„å­—èŠ‚æ•°</span></span><br><span class="line">    flag_kind = LoadDeal(cache.<span class="built_in">set</span>[setnum], E, dectag, flag_v);</span><br><span class="line">    <span class="comment">/*loadbyte += restbyte;</span></span><br><span class="line"><span class="comment">    loaddec += restbyte;   //å½“å‰åœ°å€åŠ ä¸Šå‰©ä½™å­—èŠ‚æ•°  å¦‚æœåŠ è½½å­—èŠ‚æ•°ä¸å¤Ÿ  è¿™å°±æ˜¯ä¸‹ä¸€ä¸ªåŠ è½½åœ°å€</span></span><br><span class="line"><span class="comment">    while(loadbyte &lt; size)&#123;</span></span><br><span class="line"><span class="comment">      setnum = GetDecSetNum(loaddec, s, b);</span></span><br><span class="line"><span class="comment">      dectag = GetDecTag(loaddec, s, b);</span></span><br><span class="line"><span class="comment">      LoadDeal(cache.set[setnum], E, dectag, flag_v);</span></span><br><span class="line"><span class="comment">      loadbyte += cache.B;</span></span><br><span class="line"><span class="comment">      loaddec += cache.B;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">if</span>(flag_kind == <span class="number">1</span>)&#123;</span><br><span class="line">      hit_count++;</span><br><span class="line">      <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; hit&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(flag_kind == <span class="number">2</span>)&#123;</span><br><span class="line">        miss_count++;</span><br><span class="line">        <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot; miss&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span>&#123;</span><br><span class="line">        miss_count++;</span><br><span class="line">        eviction_count++;</span><br><span class="line">        <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot; miss eviction&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(optcache == <span class="string">&#x27;M&#x27;</span>)&#123;</span><br><span class="line">      hit_count++;   <span class="comment">//ä¿®æ”¹  storeä¸€å®šhit</span></span><br><span class="line">      <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; hit\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(flag_v == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//=====================</span></span><br><span class="line">    <span class="built_in">fscanf</span>(fp, <span class="string">&quot;%c&quot;</span>, &amp;ignorechar);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  printSummary(hit_count, miss_count, eviction_count);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Mygetopt</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[], <span class="type">int</span> *p_s, <span class="type">int</span> *p_E, <span class="type">int</span> *p_b, <span class="type">char</span> *fn, <span class="type">int</span> *flag_v)</span>&#123;</span><br><span class="line">  <span class="type">int</span> opt;</span><br><span class="line">  <span class="keyword">while</span> ((opt = getopt(argc, argv, <span class="string">&quot;vh:s:E:b:t:&quot;</span>)) != <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (opt) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">        *p_s = atoi(optarg);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;E&#x27;</span>:</span><br><span class="line">        *p_E = atoi(optarg);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;b&#x27;</span>:</span><br><span class="line">        *p_b = atoi(optarg);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;t&#x27;</span>:</span><br><span class="line">        <span class="built_in">strcpy</span>(fn, optarg);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;v&#x27;</span>:</span><br><span class="line">        *flag_v = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> <span class="title function_">Hex2dec</span><span class="params">(<span class="type">char</span> *hex)</span>&#123;</span><br><span class="line">  <span class="type">int</span> len = <span class="built_in">strlen</span>(hex);</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> pow16 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isdigit</span>(hex[i]))&#123;</span><br><span class="line">      dec += (hex[i] - <span class="string">&#x27;0&#x27;</span>) * pow16;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      dec += (hex[i] - <span class="number">87</span>) * pow16;</span><br><span class="line">    &#125;</span><br><span class="line">    pow16 *= <span class="number">16</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dec;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> <span class="title function_">GetDecTag</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> dec &gt;&gt; (s + b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">GetDecSetNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">  <span class="type">int</span> setbits = (<span class="number">1</span> &lt;&lt; s);</span><br><span class="line">  setbits = ~(~setbits + <span class="number">1</span>);</span><br><span class="line">  dec = dec &gt;&gt; (b);</span><br><span class="line">  <span class="keyword">return</span> dec &amp; setbits;   <span class="comment">//è¿”å›setç»„å·</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">GetDecRestByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec, <span class="type">int</span> s, <span class="type">int</span> b, <span class="type">int</span> B)</span>&#123;</span><br><span class="line">  <span class="type">int</span> Bytebits = <span class="number">1</span> &lt;&lt; b;</span><br><span class="line">  Bytebits = ~(~Bytebits + <span class="number">1</span>);</span><br><span class="line">  dec = dec &amp; Bytebits;   <span class="comment">//å‰©ä½™åç§»é‡</span></span><br><span class="line">  <span class="keyword">return</span> B - dec;  <span class="comment">//è¿”å›å‰©ä½™çš„å­—èŠ‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Initset</span><span class="params">(Mycache *mc)</span>&#123;</span><br><span class="line">  <span class="type">int</span> S = (*mc).S;</span><br><span class="line">  <span class="type">int</span> E = (*mc).E;</span><br><span class="line">  (*mc).<span class="built_in">set</span> = (Myline **)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Myline *) * S);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; S; i++)&#123;</span><br><span class="line">    (*mc).<span class="built_in">set</span>[i] = (Myline *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Myline) * E);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; (*mc).S; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; (*mc).E; j++)&#123;</span><br><span class="line">      (*mc).<span class="built_in">set</span>[i][j].valid = <span class="number">0</span>;  <span class="comment">//æœ‰æ•ˆä½ä¸º0</span></span><br><span class="line">      (*mc).<span class="built_in">set</span>[i][j].lru_num = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">GetminLRU</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E)</span>&#123;</span><br><span class="line">  <span class="type">int</span> min = <span class="number">1000</span>;</span><br><span class="line">  <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; E; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].valid == <span class="number">0</span>)&#123;   <span class="comment">// å¦‚æœå­˜åœ¨ä¸€ä¸ªæ— æ•ˆä½ç½® ç›´æ¥è¿”å›</span></span><br><span class="line">      k = i;</span><br><span class="line">      <span class="keyword">break</span>;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].lru_num &lt; min)&#123;  </span><br><span class="line">      min = <span class="built_in">set</span>[i].lru_num;</span><br><span class="line">      k = i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">IsFullSet</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E)</span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; E; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].valid == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">HitDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> Eindex)</span>&#123;</span><br><span class="line">  <span class="type">int</span> nowLRU = <span class="built_in">set</span>[Eindex].lru_num;</span><br><span class="line">  <span class="comment">//æŠŠæ¯”ç°åœ¨è¦è®¿é—®çš„cache setä¸­lrunumå¤§çš„å…¨éƒ¨å‡ä¸€  </span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; E; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].lru_num &gt; nowLRU)&#123;</span><br><span class="line">      <span class="built_in">set</span>[i].lru_num--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">set</span>[Eindex].lru_num = E - <span class="number">1</span>;  <span class="comment">//æœ€æ–°è®¿é—®çš„cache LRUè®¾ç½®ä¸ºæœ€å¤§</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">MissLoadDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> Eindex, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec_tag)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æŠŠæ¯”ç°åœ¨è¦è®¿é—®çš„cache setä¸­lrunumå¤§çš„å…¨éƒ¨å‡ä¸€  </span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; E; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].lru_num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="built_in">set</span>[i].lru_num--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">set</span>[Eindex].tag = dec_tag;</span><br><span class="line">  <span class="built_in">set</span>[Eindex].valid = <span class="number">1</span>;  </span><br><span class="line">  <span class="built_in">set</span>[Eindex].lru_num = E - <span class="number">1</span>;  <span class="comment">//æœ€æ–°è®¿é—®çš„cache LRUè®¾ç½®ä¸ºæœ€å¤§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">MissEvictionDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">int</span> delindex, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> dec_tag)</span>&#123;</span><br><span class="line">  <span class="comment">//å°†è¦æ›¿æ¢çš„lineå‘½ä¸­  æ”¹ä¸ºæœ€è¿‘è®¿é—®è¿‡,ç„¶åå†æ›¿æ¢æ‰tagå€¼</span></span><br><span class="line">  HitDeal(<span class="built_in">set</span>, E, delindex);</span><br><span class="line">  <span class="built_in">set</span>[delindex].tag = dec_tag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">LoadDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>&#123;</span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; E; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[i].tag == now_tag &amp;&amp; <span class="built_in">set</span>[i].valid == <span class="number">1</span>)&#123;</span><br><span class="line">      HitDeal(<span class="built_in">set</span>, E, i);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(i == E)&#123;</span><br><span class="line">    <span class="type">int</span> Lindex = GetminLRU(<span class="built_in">set</span>, E);</span><br><span class="line">    <span class="keyword">if</span>(IsFullSet(<span class="built_in">set</span>, E) == <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="comment">//æ»¡çš„  æ›¿æ¢</span></span><br><span class="line">      MissEvictionDeal(<span class="built_in">set</span>, E, Lindex, now_tag);</span><br><span class="line">      <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      MissLoadDeal(<span class="built_in">set</span>, E, Lindex, now_tag);</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StoreDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>&#123;</span><br><span class="line">  <span class="comment">//Store ç›¸å½“äº Load</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">ModifyDeal</span><span class="params">(Myline *<span class="built_in">set</span>, <span class="type">int</span> E, <span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> now_tag, <span class="type">int</span> flag_v)</span>&#123;</span><br><span class="line">  <span class="comment">//int kind = LoadDeal(set, E, now_tag,flag_v);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Part-B-Optimizing-Matrix-Transpose"><a href="#Part-B-Optimizing-Matrix-Transpose" class="headerlink" title="Part B Optimizing Matrix Transpose"></a>Part B Optimizing Matrix Transpose</h2><p>å®Œæˆ<code>trans.c</code>æ–‡ä»¶ï¼Œå®ç°ä¸€ä¸ªè½¬ç½®çŸ©é˜µä»£ç <code>transpose_submit</code>ï¼Œå°½å¯èƒ½å°‘çš„äº§ç”Ÿcacheæœªå‘½ä¸­ã€‚</p>
<h3 id="ç›¸å…³å†…å®¹-2"><a href="#ç›¸å…³å†…å®¹-2" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h3><ul>
<li><p>åªå…è®¸ä½¿ç”¨æœ€å¤š12ä¸ªæœ¬åœ°intå˜é‡ï¼Œè°ƒç”¨å‡½æ•°ä¸­ä¸€èµ·è®¡ç®—</p>
</li>
<li><p>ä¸å…è®¸ä½¿ç”¨longæˆ–è€…å…¶ä»–å­˜å‚¨æ•°å€¼çš„æ–¹æ³•ï¼Œä¸å…è®¸ä½¿ç”¨æ•°ç»„</p>
</li>
<li><p>ä¸èƒ½é€’å½’</p>
</li>
<li><p>ä½¿ç”¨å‚è€ƒæ¨¡æ‹Ÿå™¨æ¥æµ‹è¯•ä»£ç ï¼Œcacheå‚æ•°ä¸º<code>s = 5ï¼Œ E = 1ï¼Œ b = 5</code></p>
</li>
<li><p>intä¸º4ä¸ªå­—èŠ‚ã€‚</p>
</li>
<li><p>åªæœ‰ä¸‰ç§å½¢å¼çš„çŸ©é˜µï¼Œ32*32ï¼Œ64*64ï¼Œ61*67ã€‚</p>
</li>
<li><img src="/2024/03/09/16-34-34/QQ20240310-152729@2x.png" class> 
<p>çŸ©é˜µä¹˜æ³•çš„åˆ†å—æŠ€æœ¯</p>
</li>
<li><p>ä¸¤ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°æ®ï¼Œåœ¨cacheä¸­å­˜å‚¨åˆ°ç›¸åŒä½ç½®ï¼Œæ•°ç»„æŒ‰ç…§è¡Œä¼˜å…ˆå­˜å‚¨ï¼Œæ•°æ®æ˜¯å¯¹é½çš„</p>
</li>
<li><p><code>./test-trans -M 32 -N 32</code> æµ‹è¯•å‡½æ•° </p>
</li>
<li><p><code>./tracegen -M 64 -N 64 -F 0</code> è¾“å‡ºé”™è¯¯ä¿¡æ¯ </p>
</li>
</ul>
<h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æ•°æ®æ˜¯å¯¹é½çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªcacheè¡ŒåŒ…å«32ä¸ªå­—èŠ‚ï¼Œå­˜å‚¨8ä¸ªintæ•°æ®ï¼Œcacheèƒ½å­˜å‚¨256ä¸ªintæ•°æ®ï¼Œæ ¹æ®<del><code>3B^2 &lt;&lt; C</code>ï¼Œå—é•¿ä¸ºB=8</del>ã€‚æ ¹æ®<code>2B^2 &lt;&lt; C</code>ï¼Œå—é•¿&lt;=11ï¼Œç”±äºcacheè¡Œå¯ä»¥å­˜8ä¸ªæ•°æ®ï¼Œæ‰€ä»¥é€‰æ‹©å—é•¿8ã€‚</p>
<img src="/2024/03/09/16-34-34/QQ20240310-191918@2x.png" class>
<p>ä»¥32*32çš„çŸ©é˜µä¸ºä¾‹ï¼Œé™¤äº†å¤„äºå¯¹è§’çº¿ä¸Šçš„å—ä¼šäº§ç”Ÿå†²çªä¸å‘½ä¸­ï¼Œå…¶ä»–å—éƒ½å¯ä»¥ä¼˜åŒ–ä¸å‘½ä¸­æƒ…å†µ</p>
<p>ä»¥ä¸Šè¿™ç§æƒ…å†µå¯¹32*32æ˜¯æˆç«‹çš„ï¼Œ64*64å’Œ61*67ä¸æˆç«‹ï¼Œæ‰€ä»¥é‡æ–°æ€è€ƒäº†è¿™é“é¢˜çš„è§£æ³•ï¼Œæ ¹æ®data labä¸­æ•°æ®çš„æ“ä½œéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ã€‚</p>
<p><strong>æ•°ç»„çš„é¦–åœ°å€ç»™å‡ºåï¼Œè¡Œä¼˜å…ˆæ•°æ®ä¸ºä¸€ç»´è¿ç»­å­˜å‚¨å½¢å¼</strong></p>
<p>è¿™é“é¢˜å¯ä»¥è½¬æ¢ä¸ºæ•°ç»„A[N][M]åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾ï¼Œæ¯ä¸€ä¸ªä½ç½®xçš„æ•°æ ¹æ®ç›¸åŒçš„è½¬æ¢æ–¹å¼ä¿å­˜åˆ°æ•°ç»„B[M][N]çš„ä½ç½®yï¼Œè½¬æ¢å…¬å¼ä¸º<code>i_a = x / M</code>ï¼Œ<code>j_a = x % M</code>ï¼Œ<code>y = j_a * N + i_a * M</code>ã€‚äºæ˜¯å­˜å‚¨å…¬å¼ä¸º<code>B(y) = A(x)</code>ã€‚</p>
<img src="/2024/03/09/16-34-34/QQ20240312-145802@2x.png" class>
<blockquote>
<p>ç¤ºæ„å›¾å¦‚ä¸Šï¼Œcacheè¡Œå­˜2ä¸ªæ•°æ®ï¼Œ3*3çš„æ•°ç»„ä¸­ï¼Œæ— æ³•ç›´è§‚çœ‹å‡ºå†…å­˜åŒºåˆ«ï¼Œè€Œcacheçš„åˆ†å—ç›®çš„æ˜¯ä¸ºäº†åœ¨å†…å­˜ä¸­è¯»å–åˆ°cacheæ—¶å‡å°‘missæ¬¡æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®å†…å­˜è¿›è¡Œé‡æ’æ•°ç»„ï¼Œæ”¹ä¸º5*2çš„æ•°ç»„ã€‚</p>
</blockquote>
<p>æ‰€ä»¥è¿™é“é¢˜å¯ä»¥æŠŠæ•°ç»„è½¬æ¢ä¸º32åˆ—çš„ä»»æ„æ•°ç»„ï¼Œç”±äºä¸€è¡Œåªæœ‰32åˆ—ï¼Œè¿œè¿œå°äºcacheçš„å®¹é‡256ä¸ªæ•°æ®ï¼Œæ‰€ä»¥ç›¸é‚»è¡Œçš„ä¸Šä¸‹ä¸¤ä¸ªæ•°æ®ä¸ä¼šæ˜ å°„çš„åŒä¸€ä¸ªcacheè¡Œã€‚</p>
<p>éœ€è¦æŠŠæ–‡ä»¶æ”¾å…¥linuxçš„æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚æœåœ¨å…±äº«æ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°è¿è¡Œè¶…æ—¶ã€‚</p>
<h3 id="32-x-32"><a href="#32-x-32" class="headerlink" title="32 x 32"></a>32 x 32</h3><p>åŸºæœ¬æ­¥éª¤ï¼š</p>
<ul>
<li><p>é‡æ’æ•°ç»„</p>
</li>
<li><p>å¤„ç†ABæ•°ç»„ä¸­xï¼Œyæ˜ å°„ç›¸åŒçš„ä½ç½®ï¼Œå…ˆç”¨å±€éƒ¨å˜é‡ä¿å­˜ï¼Œç„¶åå¤„ç†è¿™ä¸€è¡Œçš„å…¶ä»–æ•°æ®ï¼Œæœ€åä¿å­˜åœ¨Bæ•°ç»„çš„ä¸­ï¼Œcacheè¡Œè‡ªåŠ¨æ¢å‡ºã€‚</p>
</li>
</ul>
<p><strong>åˆ†æåŸå› </strong></p>
<blockquote>
<p>å½“<code>A[i][j]</code>ä¸<code>B[j][i]</code>çš„cacheæ˜ å°„ç›¸åŒsetå†…æ—¶ï¼Œå–å‡º<code>A[i][j]</code>ä¸­çš„å€¼ï¼Œå†™å…¥Bæ•°ç»„æ—¶ä¼šæ¢å‡ºAçš„cacheè¡Œï¼Œå¯¼è‡´ä¸‹æ¬¡è®¿é—®Açš„åŒä¸€è¡Œcacheæ•°æ®æ—¶éœ€è¦ç»§ç»­æ¢å‡ºä¸€æ¬¡ã€‚</p>
</blockquote>
<p><strong>è§£å†³åŠæ³•</strong></p>
<blockquote>
<p>ç”¨å±€éƒ¨å˜é‡ä¿å­˜è®¿é—®å†²çªçš„å€¼ï¼Œç­‰å¾ªç¯ç»“æŸåï¼Œåœ¨å†™å…¥Bä¸­ã€‚</p>
<p>è®¡ç®—æ‰€åœ¨è¡Œï¼Œxè¡¨ç¤ºæ•°ç»„ä¸€ç»´è¿ç»­å†…å­˜çš„ä½ç½®(0å¼€å§‹)ï¼Œcache ç»„å·<code>s=ï¼ˆx%256 ) / 8;</code></p>
</blockquote>
<p><strong>ç»“æœ</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> M, <span class="type">int</span> N, <span class="type">int</span> A[N][M], <span class="type">int</span> B[M][N])</span> &#123;</span><br><span class="line">  <span class="comment">//int t_1, t_2, t_3;</span></span><br><span class="line">  <span class="type">int</span> t_4, t_5;</span><br><span class="line">  <span class="type">int</span> i, j, ii, jj;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i += <span class="number">8</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; M; j += <span class="number">8</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (ii = i; ii &lt; ((i + <span class="number">8</span>) &lt; N ? i + <span class="number">8</span> : N); ii++) &#123;</span><br><span class="line">        <span class="comment">//æ ‡è®°æ²¡æœ‰è®¿é—®å†²çª</span></span><br><span class="line">        t_4 = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (jj = j; jj &lt; ((j + <span class="number">8</span>) &lt; M ? j + <span class="number">8</span> : M); jj++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (ii * M + jj == jj * N + ii) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t_4 == <span class="number">-1</span>) &#123;</span><br><span class="line">              t_4 = ii;</span><br><span class="line">              t_5 = jj;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// printf(&quot;**  2-- %d  3--  %d\n&quot;, t_2, t_3);</span></span><br><span class="line">          B[jj][ii] = A[ii][jj];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (t_4 != <span class="number">-1</span>) &#123;</span><br><span class="line">          B[t_5][t_4] = A[t_4][t_5];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2024/03/09/16-34-34/QQ20240312-183951@2x.png" class>
<p>missæ•°é‡287ï¼Œæ»¡åˆ†</p>
<h3 id="64-x-64"><a href="#64-x-64" class="headerlink" title="64 x 64"></a>64 x 64</h3><p>å‡ºç°ä¸€ä¸ªcacheè¡Œä¸­ä¸¤æ¬¡ç›¸åŒæ˜ å°„çš„é—®é¢˜</p>
<p><strong>åˆ†æåŸå› </strong></p>
<blockquote>
<p>åœ¨32 x 32çš„æ•°ç»„ä¸­ï¼Œä¸€ä¸ªcacheè¡Œä¸º8ï¼Œå—ä¸º8x8ï¼Œä¸€ä¸ªcacheè¡Œæœ€å¤šåªæœ‰å¯¹è§’çº¿çš„çš„ä¸€ä¸ªå…ƒç´ å†²çªmissï¼Œä½†æ˜¯64x64çš„æ•°ç»„ä¸­ï¼Œ8x8çš„å—ä¸­ï¼Œå‰å››è¡Œä¸åå››è¡Œå†²çªmissï¼Œæ‰€ä»¥ä¸€ä¸ªcacheè¡Œçš„8ä¸ªæ•°æ®ä¸­ï¼Œæœ€å¤šæœ‰ä¸¤ä¸ªå…ƒç´ å†²çªmiss</p>
</blockquote>
<p><strong>è§£å†³åŠæ³•</strong></p>
<blockquote>
<p>ç»§ç»­æ·»åŠ ä¸€ä¸ªå±€éƒ¨å˜é‡è®°å½•å†²çªä½ç½®ï¼Œä¸€è¡Œéå†å®Œåå†å¤„ç†ã€‚</p>
<p>ç»§ç»­å‡ºç°äº†åªéå†åˆ°äº†32ï¼Œåœ¨64 X 64çš„æ•°ç»„è½¬æ¢ä¸º32åˆ—æ—¶ï¼Œè¡Œæ•°ä¸º128ã€‚</p>
</blockquote>
<img src="/2024/03/09/16-34-34/QQ20240312-225626@2x.png" class>
<p>missæ•°é‡ä¸º4611ï¼Œè¿˜éœ€è¦ç»§ç»­è°ƒä½ã€‚</p>
<p><strong>åˆ†æåŸå› </strong></p>

<p><del>é”™è¯¯ç­”æ¡ˆ</del></p>
<p>64X64ä¸­ï¼Œæ”¹äº†å†…å­˜æ’åˆ—åï¼Œç¬¬äºŒè¡Œä¸ç¬¬ä¸€è¡Œçš„è½¬ç½®ä¸åœ¨åŒä¸€cacheè¡Œå†…ã€‚</p>
<p>æŒ‰ç…§å·¦ä¸Šå³ä¸Šï¼Œå·¦ä¸‹ï¼Œå³ä¸‹é¡ºåºã€‚</p>
<p><strong>ç»“æœ</strong></p>
<img src="/2024/03/09/16-34-34/QQ20240313-183244@2x.png" class>
<p><strong>åˆ†æåŸå› </strong></p>
<blockquote>
<p>æ²¡æœ‰æ‹¿åˆ°æ»¡åˆ†ï¼ŒæŒ‰ç…§ä¸Šä¸‹åˆ’åˆ†ä¸ºä¸¤ä¸ª4X8çš„æ•°ç»„</p>
<p>ä¸‹è¾¹çš„4X8æ•°ç»„ï¼Œä¸€è¡Œä¸­çš„åå››åˆ—åœ¨Bæ•°ç»„ä¸­ä¼šcacheå†²çªè¡Œï¼Œå¦‚å›¾<img src="/2024/03/09/16-34-34/QQ20240313-191649@2x.png" class></p>
<p>æ³¨æ„ï¼š</p>
<p>ä¸Šå››è¡Œè½¬ç½®ä¹‹åï¼ŒBæ•°ç»„çš„ä¸‹å››è¡Œæ­£åœ¨cacheä¸­ï¼Œä¸ºäº†ä¸æ¢å‡ºï¼Œå…ˆè½¬ç½®Aæ•°ç»„çš„å³ä¸‹ï¼Œå†å·¦ä¸‹ã€‚</p>
</blockquote>
<p><strong>ç»“æœ</strong></p>
<img src="/2024/03/09/16-34-34/QQ20240313-193617@2x.png" class>
<p>å‡å°‘åˆ°1547ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æ»¡åˆ†ã€‚</p>
<p>ç»§ç»­ä¿®æ”¹</p>
<blockquote>
<p>é¢˜ç›®è¦æ±‚å‡å°‘missæ•°é‡ï¼Œå¯ä»¥åˆ©ç”¨cacheä¸­ç©ºé—²çš„åœ°æ–¹ä¿å­˜æ•°æ®  æœ€ååœ¨æ›¿æ¢å‡ºå»</p>
<img src="/2024/03/09/16-34-34/QQ20240313-202434@2x.png" class>
<p>å¦‚å›¾ï¼ŒAçš„ä¸ŠåŠéƒ¨åˆ†çš„åå››åˆ—å­˜åˆ°Bçš„åå››åˆ—ä¸­</p>
<img src="/2024/03/09/16-34-34/QQ20240313-202818@2x.png" class>
<p>ä¸‹åŠéƒ¨åˆ†çš„ç¬¬ä¸€åˆ—ï¼Œå…ˆæŠŠBæ•°ç»„çš„ç¬¬ä¸€è¡Œåå››åˆ—ä¿å­˜åˆ°ä¸‹éƒ¨åˆ†çš„ç¬¬ä¸€è¡Œï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªcacheå°±æ›¿æ¢å®Œæˆï¼Œä¾æ¬¡å®Œæˆå…¶ä»–è¡Œï¼Œæœ€åæŠŠå³ä¸‹è§’è½¬ç½®è¿‡å»ã€‚</p>
</blockquote>
<p><strong>ç»“æœ</strong></p>
<img src="/2024/03/09/16-34-34/QQ20240313-210554@2x.png" class>
<p>missæ•°1339ï¼Œå·®39æ¬¡æ»¡åˆ†ï¼Œæ²¡æœ‰æ‰¾åˆ°ä¼˜åŒ–ä½ç½®ã€‚</p>
<h3 id="61-X-67"><a href="#61-X-67" class="headerlink" title="61 X 67"></a>61 X 67</h3><p><strong>ç»“æœ</strong></p>
<img src="/2024/03/09/16-34-34/QQ20240313-210917@2x.png" class>
<p><strong>æœ€ç»ˆå¾—åˆ†</strong></p>
<img src="/2024/03/09/16-34-34/QQ20240314-144148@2x.png" class>
<p>æ‹¿åˆ°äº†51.5åˆ†ï¼Œä¹‹åæœ‰æ—¶é—´å†æ¥æŸ¥ä»£ç ä¼˜åŒ–çš„åœ°æ–¹ã€‚</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP ç¬”è®°å…­ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</title>
    <url>/2023/07/23/09-27-18/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>23.07.23ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/05/24/13-04-09/" title="CSAPP ç¬”è®°ä¸‰ ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º">ç¬¬ä¸‰ç«  - ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></li>
<li><a href="/2023/07/06/14-25-42/" title="CSAPP ç¬”è®°äº” ä¼˜åŒ–ç¨‹åºæ€§èƒ½">ç¬¬äº”ç«  - ä¼˜åŒ–ç¨‹åºæ€§èƒ½</a></li>
<li><a href="/2023/07/23/09-27-18/" title="CSAPP ç¬”è®°å…­ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„">ç¬¬å…­ç«  - å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</a>
</li>
</ul>
<h1 id="The-Memory-Hierarchy"><a href="#The-Memory-Hierarchy" class="headerlink" title="The Memory Hierarchy"></a>The Memory Hierarchy</h1><h2 id="Storage-technologies-and-trends"><a href="#Storage-technologies-and-trends" class="headerlink" title="Storage technologies and trends"></a>Storage technologies and trends</h2><p><strong>Random-Access Memory(RAM)</strong></p>
<p>æ ¹æ®å­˜å‚¨å•å…ƒå®ç°æ–¹å¼åŒºåˆ†ä¸ºï¼š</p>
<p><strong>SRAM(Static)</strong></p>
<ul>
<li><p>4æˆ–6ä¸ªæ™¶ä½“å­˜å‚¨ 1 bitï¼Œ æˆæœ¬å¾ˆé«˜</p>
</li>
<li><p>è®¿é—®é€Ÿåº¦æ¯”DRAMå¿«</p>
</li>
<li><p>ä¸å¤ªéœ€è¦EDC(error detection and correction)é”™è¯¯æ£€æµ‹å’Œçº æ­£</p>
</li>
<li><p>ç»„æˆcache</p>
</li>
</ul>
<p><strong>DRAM(Dynamic)</strong></p>
<ul>
<li><p>ä¸€ä¸ªæ™¶ä½“å­˜å‚¨ 1 bit</p>
</li>
<li><p>éœ€è¦åˆ·æ–° </p>
</li>
<li><p>éœ€è¦EDC</p>
</li>
<li><p>ç»„æˆä¸»å­˜å‚¨å™¨ï¼Œå›¾å½¢æ˜¾å¡çš„å¸§ç¼“å­˜(frame buffers)</p>
</li>
</ul>
<p><strong>Nonvolatile Memories</strong></p>
<p>Read-only memory(ROM):ç”Ÿäº§æœŸé—´ç¡¬ç¼–ç¨‹ä¸€æ¬¡</p>
<p>Programmable ROM(PROM): å¯ç¼–ç¨‹ROM</p>
<p>Eraseable PROM(EPROM): å¯æ“¦æ‹­å¯ç¼–ç¨‹ROM</p>
<p>Electrically eraseable PROM(EEPROM): ç”µå­å¯æ“¦æ‹­å¯ç¼–ç¨‹ROM</p>
<p>Flash memory: é—ªå­˜ï¼Œæä¾›äº†æ“¦æ‹­æ¨¡å—ï¼Œä½†æ˜¯ä¼šæœ‰æŸè€—ã€‚</p>
<p><strong>Disk Drive</strong></p>
<p>å› ä¸ºæœºæ¢°ç‰¹æ€§ï¼Œç¡¬ç›˜ä¼šæ¯”SRAMï¼ŒDRAMæ…¢å¾ˆå¤šã€‚</p>
<img src="/2023/07/23/09-27-18/QQ20230723-095730@2x.jpg" class>
<p>Sectorsï¼šæ‰‡åŒº</p>
<img src="/2023/07/23/09-27-18/QQ20230723-143055@2x.jpg" class>
<p>Cylinder: æŸ±é¢</p>
<p>Logical Disk Blocksï¼šé€»è¾‘å—</p>
<p>å®ç°ç‰©ç†å—ä¸é€»è¾‘å—ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</p>
<p><strong>Solid State Disks(SSDs)</strong></p>
<img src="/2023/07/23/09-27-18/QQ20230723-143913@2x.jpg" class>
<ul>
<li><p>æ²¡æœ‰æœºæ¢°éƒ¨ä»¶ï¼Œç”±é—ªå­˜ç¿»è¯‘å±‚å›ºä»¶æ§åˆ¶</p>
</li>
<li><p>ä»¥é¡µä¸ºå•ä½è¯»å†™ï¼Œå†™å…¥æ—¶å¿…é¡»æ“¦æ‹­æ•´ä¸ªå—</p>
</li>
</ul>
<h2 id="Locality-of-reference"><a href="#Locality-of-reference" class="headerlink" title="Locality of reference"></a>Locality of reference</h2><p>ç¨‹åºçš„å±€éƒ¨æ€§</p>
<p>ç¨‹åºéœ€è¦è‰¯å¥½çš„å±€éƒ¨æ€§ï¼Œæœ‰åˆ©ç”¨äºè¯»å†™å†…å­˜ã€‚</p>
<h2 id="Caching-in-the-Memory-Hierarchy"><a href="#Caching-in-the-Memory-Hierarchy" class="headerlink" title="Caching in the Memory Hierarchy"></a>Caching in the Memory Hierarchy</h2><p>åˆ©ç”¨ç¼“å­˜å’Œå±€éƒ¨æ€§åŸç†æ„å»ºäº†å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ã€‚</p>
<img src="/2023/07/23/09-27-18/QQ20230723-144603@2x.jpg" class>
<blockquote>
<p>é«˜å±‚ä¿å­˜ç€ä»ä½å±‚æ£€ç´¢åˆ°çš„æ•°æ®</p>
</blockquote>
<p><strong>Caches</strong></p>
<img src="/2023/07/23/09-27-18/QQ20230723-144821@2x.jpg" class>
<p>Cold (compulsory) miss: å†·å‘½ä¸­ï¼Œåˆå§‹æ—¶cacheä¸ºç©º</p>
<p>Conflict miss: å†²çªä¸å‘½ä¸­ï¼Œä½ç½®è¢«å ç”¨äº†</p>
<p>Capacity miss: å®¹é‡ä¸å‘½ä¸­ï¼Œä¸å¯ä»¥å®¹çº³è¶…è¿‡ç¼“å­˜å¤§å°çš„å·¥ä½œé›†</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒV Performance Lab</title>
    <url>/2023/07/07/16-27-21/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²ï¼š</p>
<ul>
<li>23.07.07ï¼šåˆç¨¿</li>
<li>23.07.22ï¼šæ²¡å­¦è¿‡æ±‡ç¼–ï¼Œå¤æ‚ä»£ç çœ‹ä¸æ‡‚ï¼Œæ˜å¹´æœ‰æ—¶é—´å†å›å¤´åšè¿™ä¸ªå®éªŒ</li>
<li>24.03.09ï¼šå®éªŒä½œåºŸï¼Œç”¨cache lab æ›¿ä»£ã€‚</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>é‡‡ç”¨ä»£ç ç§»åŠ¨ï¼Œå¾ªç¯å±•å¼€ä»¥åŠæŒ‡ä»¤å¹¶è¡Œå¯¹å›¾åƒçš„æ—‹è½¬å’Œå¹³æ»‘å‡½æ•°è¿›è¡Œä¼˜åŒ–ã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ol>
<li><p><code>make driver</code>ï¼šç”Ÿæˆè¿è¡Œæ–‡ä»¶ï¼Œ è¿è¡Œ<code>./driver</code>å‚æ•°</p>
<blockquote>
<p><code>-g</code>ï¼šå°½è¿è¡Œ<code>rotate</code>å’Œ<code>smooth</code>å‡½æ•°</p>
<p><code>-f</code>ï¼šæŒ‡å®šæ–‡ä»¶è¾“å…¥è¿è¡Œ</p>
<p><code>-d</code>ï¼š è¿è¡Œå†™å…¥æŒ‡å®šæ–‡ä»¶</p>
<p><code>-q</code>ï¼šå†™å…¥æ–‡ä»¶åç»“æŸè¿è¡Œ</p>
</blockquote>
</li>
<li><p><code>æŒ‡å¯¼æ–‡ä»¶å»ºè®®</code>ï¼šè§‚çœ‹æ±‡ç¼–ä»£ç ï¼Œå¹³æ»‘å‡½æ•°è®¡ç®—å¯†é›†ï¼Œç¿»è½¬å‡½æ•°å­˜å‚¨å¯†é›†ã€‚</p>
</li>
<li><p>å…è®¸æ·»åŠ å®ï¼Œå…¨å±€å˜é‡å’Œå…¶ä»–å‡½æ•°(è¿‡ç¨‹)ã€‚</p>
</li>
<li><p>å‡å®šå›¾åƒçŸ©é˜µçš„å¤§å°ä¸º32çš„å€æ•°</p>
</li>
</ol>
<h1 id="é¢˜ç›®åŠè§£æ³•"><a href="#é¢˜ç›®åŠè§£æ³•" class="headerlink" title="é¢˜ç›®åŠè§£æ³•"></a>é¢˜ç›®åŠè§£æ³•</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¯¾ç¨‹ä¸­è®²è¿‡çš„å¸¸è§ä¼˜åŒ–æ–¹å¼ï¼šä»£ç ç§»åŠ¨ï¼Œå‡å°‘é‡å¤è¿‡ç¨‹è°ƒç”¨ï¼Œæ¶ˆé™¤ä¸å¿…è¦çš„å†…å­˜å¼•ç”¨ï¼Œå¾ªç¯å±•å¼€ä»¥åŠæé«˜å¹¶è¡Œæ€§ã€‚å…ˆæŸ¥çœ‹æ±‡ç¼–ä»£ç ï¼Œæ ¹æ®æ±‡ç¼–ä»£ç é€‰æ‹©åˆé€‚çš„æ–¹æ³•å¯¹å‡½æ•°è¿›è¡Œä¼˜åŒ–ã€‚</p>
<h2 id="Phase-Rotate"><a href="#Phase-Rotate" class="headerlink" title="Phase Rotate"></a>Phase Rotate</h2><p>åŸå‡½æ•°ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">naive_rotate</span><span class="params">(<span class="type">int</span> dim, pixel *src, pixel *dst)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i, j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dim; i++)</span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; dim; j++)</span><br><span class="line">        dst[RIDX(dim<span class="number">-1</span>-j, i, dim)] = src[RIDX(i, j, dim)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ±‡ç¼–ï¼š</p>
<img src="/2023/07/07/16-27-21/QQ20230719-190626@2x.jpg" class>
<img src="/2023/07/07/16-27-21/QQ20230719-190641@2x.jpg" class>
<blockquote>
<p><del>ä¹‹å‰çš„labé‡Œè®²è¿‡å®éªŒç¯å¢ƒåœ¨32ä½sharkæœºå™¨ä¸‹ï¼Œè¿™é‡Œæ±‡ç¼–ä»£ç åœ¨pushå ç”¨äº†8ä¸ªå­—èŠ‚ï¼Œä¸å¤ªæ˜ç™½æ˜¯ä¸æ˜¯æˆ‘çš„ç¯å¢ƒä¸å¯¹</del></p>
<p><code>å·²è§£å†³</code>ï¼šç¡®å®ç¯å¢ƒä¸å¯¹ï¼Œæ²¡æœ‰32ä½ä¾èµ–ï¼Œæ›´æ–°ä¹‹åpushå ç”¨4ä¸ªå­—èŠ‚</p>
<p><code>imul multiï¼Œ srcï¼Œ des</code>ä¸‰ç›®è¿ç®—</p>
</blockquote>
<p><strong>1.æ•°æ®å­˜æ”¾æ–¹å¼</strong></p>
<p>æ•°æ®åœ¨æ ˆç©ºé—´ä¸­å°ç«¯å­˜æ”¾ï¼Œ<code>rdi</code>å­˜æ”¾åœ¨<code>rsp + 0x18</code>ï¼Œ<code>edi</code>å­˜æ”¾åœ¨åŠ 4ä¸ªå­—èŠ‚çš„ä½ç½®ã€‚æ‰€ä»¥ 0x1c(%esp) çš„å€¼å°±æ˜¯dimã€‚</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
        <tag>shell</tag>
        <tag>gdb</tag>
        <tag>objdump</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP ç¬”è®°äº” ä¼˜åŒ–ç¨‹åºæ€§èƒ½</title>
    <url>/2023/07/06/14-25-42/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>23.07.06ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/05/24/13-04-09/" title="CSAPP ç¬”è®°ä¸‰ ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º">ç¬¬ä¸‰ç«  - ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></li>
<li><a href="/2023/07/06/14-25-42/" title="CSAPP ç¬”è®°äº” ä¼˜åŒ–ç¨‹åºæ€§èƒ½">ç¬¬äº”ç«  - ä¼˜åŒ–ç¨‹åºæ€§èƒ½</a></li>
<li><a href="/2023/07/23/09-27-18/" title="CSAPP ç¬”è®°å…­ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„">ç¬¬å…­ç«  - å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</a>
</li>
</ul>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>é€šè¿‡æŸ¥çœ‹æ±‡ç¼–ä»£ç ï¼Œå¯¹æ²¡æœ‰ä¼˜åŒ–çš„ä»£ç è¿›è¡Œè°ƒæ•´ã€‚</p>
<h1 id="Generally-Useful-Optimizations"><a href="#Generally-Useful-Optimizations" class="headerlink" title="Generally Useful Optimizations"></a>Generally Useful Optimizations</h1><ul>
<li><p>Code Motionï¼šä»£ç ç§»åŠ¨ï¼ŒæŠŠå¸¸ç”¨çš„ç»“æœå­˜åˆ°å¾ªç¯å¤–ã€‚ä¼˜åŒ–ç­‰çº§1ä»¥ä¸Šï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å®Œæˆè¿™ä¸ªå·¥ä½œã€‚</p>
</li>
<li><p>Reduction in Strengthï¼šå‡å°‘è®¡ç®—é‡ï¼Œä¹˜æ³•æ¢å·¦ç§»æˆ–åŠ æ³•ã€‚</p>
</li>
<li><p>Share Common Subexpressionsï¼šå¯»æ‰¾å…¬å…±è¡¨è¾¾å¼ï¼Œå‡å°‘è®¡ç®—é‡ã€‚</p>
</li>
</ul>
<h1 id="Optimization-Blockers"><a href="#Optimization-Blockers" class="headerlink" title="Optimization Blockers"></a>Optimization Blockers</h1><ul>
<li><p>Procedure Callsï¼šå¾ªç¯ä¸­è¿›è¡Œç›¸åŒç»“æœçš„é‡å¤è°ƒç”¨ã€‚</p>
<blockquote>
<p>ç¼–è¯‘å™¨æ— æ³•ä¼˜åŒ–çš„åŸå› ï¼š</p>
<p>1.ä¸çŸ¥é“æ˜¯å¦åœ¨å¾ªç¯ä¸­ä¿®æ”¹äº†å­—ç¬¦ä¸²ï¼›2. æ–‡ä»¶å•ç‹¬ç¼–è¯‘ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“å‡½æ•°ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ–‡ä»¶ä¸­çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨äº‹å…ˆå‡è®¾å‡½æ•°æ˜¯ä¸€ä¸ªé»‘ç›’ã€‚</p>
</blockquote>
</li>
<li><p>Memory Matters: å¾ªç¯ä¸­é‡å¤è¯»å–å†…å­˜ã€‚</p>
<blockquote>
<p>æ— æ³•ä¼˜åŒ–çš„åŸå› ï¼š</p>
<p>ç¼–è¯‘å™¨ä¸ç¡®å®šCè¯­è¨€æ˜¯å¦å­˜åœ¨å†…å­˜åˆ«åï¼Œä¹‹å‰çš„ç»“æœä¼šä¸ä¼šå½±å“ä¸‹ä¸€æ¬¡è¯»å–çš„å†…å­˜å€¼ã€‚æ‰€ä»¥æ¯æ¬¡éƒ½è¿›è¡Œè¯»å–å†™å…¥æ“ä½œã€‚</p>
</blockquote>
</li>
<li><p>Memory Aliasingï¼šå¼•å…¥å±€éƒ¨å˜é‡é˜²æ­¢å†…å­˜é‡å ã€‚</p>
</li>
</ul>
<h1 id="Exploiting-Instruction-Level-Parallelism"><a href="#Exploiting-Instruction-Level-Parallelism" class="headerlink" title="Exploiting Instruction-Level Parallelism"></a>Exploiting Instruction-Level Parallelism</h1><p>é‡‡ç”¨æŒ‡ä»¤çº§å¹¶è¡Œï¼Œé€‚ç”¨äºå„ç§æœºå™¨çš„é€šç”¨ä¼˜åŒ–æ–¹æ³•</p>
<h2 id="Benchmark-Example"><a href="#Benchmark-Example" class="headerlink" title="Benchmark Example"></a>Benchmark Example</h2><p>åŸºå‡†ä¾‹å­ï¼Œä½¿ç”¨ä¸€ä¸ªæŠ½è±¡çš„æ•°æ®ç»“æ„ã€‚</p>
<img src="/2023/07/06/14-25-42/WX20230706-153904@2x.png" class>
<p><strong>Basic Optimizations</strong></p>
<ul>
<li><p>è®¡ç®—æ•°ç»„é•¿åº¦ç§»å‡ºå¾ªç¯</p>
</li>
<li><p>ç§»é™¤è¾¹ç•Œæ£€æŸ¥ï¼Œç”¨æ–°å‡½æ•°è·å–æ•°ç»„</p>
</li>
<li><p>å¼•å…¥å±€éƒ¨å˜é‡</p>
</li>
</ul>
<img src="/2023/07/06/14-25-42/WX20230706-154041@2x.png" class>
<p>ä¼˜åŒ–åæ€§èƒ½ï¼š</p>
<img src="/2023/07/06/14-25-42/WX20230706-154316@2x.png" class>
<p><code>ä¼˜åŒ–çš„åŸºæœ¬é™åˆ¶</code>: ç¨‹åºé™åˆ¶äº†æ•´æ•°å’Œæµ®ç‚¹æ•°çš„ä¹˜æ³•å¿…é¡»é¡ºåºæ‰§è¡Œï¼Œæ‰€éœ€è¦çš„å‘¨æœŸä¸º3å’Œ5ã€‚</p>
<p><strong>Modern CPU Design</strong></p>
<img src="/2023/07/06/14-25-42/WX20230706-163939@2x.png" class>
<p> 1995å¹´çš„CPUï¼Œäº†è§£æµç¨‹ã€‚</p>
<p> è¶…æ ‡é‡ä¹±åºæ‰§è¡Œï¼šé¡ºåºæŒ‡ä»¤åˆ†è§£é‡ç»„ï¼Œå®ç°æŒ‡ä»¤çº§å¹¶è¡Œã€‚</p>
<p>Superscalar Processorï¼šè¶…æ ‡é‡å¤„ç†å™¨</p>
<p><strong>Pipelined Functional Units</strong></p>
<img src="/2023/07/06/14-25-42/WX20230706-170033@2x.png" class>
<p>æŒ‡ä»¤æµæ°´çº¿ï¼š<code>è¿™é‡Œå‡è®¾æŒ‡ä»¤éœ€è¦ä¸‰ä¸ªé˜¶æ®µå®Œæˆ</code></p>
<h2 id="Loop-Unrolling"><a href="#Loop-Unrolling" class="headerlink" title="Loop Unrolling"></a>Loop Unrolling</h2><p><code>å¾ªç¯å±•å¼€</code>: å¾ªç¯ä¸­è®¡ç®—å¤šä¸ªå€¼ï¼Œè€Œä¸æ˜¯è®¡ç®—ä¸€æ¬¡ã€‚</p>
<img src="/2023/07/06/14-25-42/WX20230707-094102@2x.png" class>
<blockquote>
<p>æ¯æ¬¡å¾ªç¯è®¡ç®—ä¸¤ä¸ªæ“ä½œæ•°</p>
<p><code>limit</code>: n-1, å¾ªç¯iè·³å‡ºæ—¶æ»¡è¶³ i + 1 &lt; (n - 1) + 1 = n; </p>
</blockquote>
<img src="/2023/07/06/14-25-42/WX20230707-094654@2x.png" class>
<blockquote>
<p>åªæœ‰åŠ æ³•çš„CPEæœ‰äº†æå‡ï¼Œé™ä½äº†å¾ªç¯è®¡æ•°çš„æ¶ˆè€—ã€‚å…¶ä»–æ²¡ç”¨æå‡æ˜¯å› ä¸ºæ¥è¿‘äº†å»¶è¿Ÿç•Œé™ã€‚</p>
</blockquote>
<p>è°ƒæ•´å¾ªç¯å±•å¼€çš„è®¡ç®—é¡ºåºï¼š</p>
<p><code>x = x OP (d[i] OP d[i+1])</code></p>
<img src="/2023/07/06/14-25-42/WX20230707-105030@2x.png" class>
<p>ååé‡çªç ´äº†å»¶è¿Ÿç•Œé™ï¼Œæµ®ç‚¹æ•°ä¸¤ä¸ªä¹˜æ³•å™¨ï¼Œä¸€ä¸ªåŠ æ³•å™¨ã€‚</p>
<img src="/2023/07/06/14-25-42/WX20230707-105355@2x.png" class>
<p>å‡å°‘äº†è®¡ç®—çš„ä¾èµ–ï¼Œä¸¤ä¸ªå…ƒç´ çš„è®¡ç®—ä¸éœ€è¦ç­‰ä¸Šä¸€ä¸ªxçš„ç»“æœã€‚æµ®ç‚¹æ•°ä¸æ»¡è¶³ç»“åˆå¾‹ï¼Œæ”¹å˜æ‹¬å·å¯èƒ½ä¼šå‘ç”Ÿèˆå…¥æº¢å‡ºï¼Œç»“æœå‘ç”Ÿå˜åŒ–ã€‚</p>
<p><code>Latency Bound</code>ï¼šä¸¥æ ¼é¡ºåºæ‰§è¡Œæ—¶ï¼Œä¸€æ¡æŒ‡ä»¤éœ€è¦èŠ±è´¹çš„å…¨éƒ¨æ—¶é—´ã€‚</p>
<p><code>Throughput Bound</code>ï¼šåŸºäºç¡¬ä»¶æ•°é‡å’Œæ€§èƒ½é™åˆ¶ï¼Œ<code>åªæœ‰ä¸¤ä¸ªloadå•å…ƒï¼Œååé‡ä¸º0.5</code></p>
<p><strong>Separate Accumulators</strong></p>
<p>å¤šç´¯åŠ å™¨ï¼Œæ”¹å˜å…ƒç´ ç»„åˆçš„é¡ºåºï¼Œå¦‚å¥‡å¶åˆ†å¼€ã€‚</p>
<img src="/2023/07/06/14-25-42/WX20230707-112901@2x.png" class>
<p><strong>Unrolling &amp; Accumulating</strong></p>
<p>ä»¥Kä¸ºå› å­å±•å¼€ä¸€ä¸ªLé•¿åº¦çš„æ•°ç»„ï¼ŒCPEå¯ä»¥æ¥è¿‘ååç•Œé™</p>
<h2 id="Programming-with-AVX2"><a href="#Programming-with-AVX2" class="headerlink" title="Programming with AVX2"></a>Programming with AVX2</h2><p><strong>YMM Registers</strong></p>
<p>æ€»å…±æœ‰16ä¸ª32å­—èŠ‚çš„å¯„å­˜å™¨ ï¼Œæ˜¯%XMMçš„äºŒå€ã€‚</p>
<h2 id="SIMD-Operations"><a href="#SIMD-Operations" class="headerlink" title="SIMD Operations"></a>SIMD Operations</h2><img src="/2023/07/06/14-25-42/WX20230707-114005@2x.png" class>
<p><code>Vector Instructions</code>çŸ¢é‡æŒ‡ä»¤ï¼šå¹¶è¡Œæ‰§è¡Œå…«æ¬¡å•ç²¾åº¦æˆ–å››æ¬¡åŒç²¾åº¦æµ®ç‚¹æ“ä½œ</p>
<p>çŸ¢é‡æŒ‡ä»¤æ˜¯ä¸ºå¤„ç†è§†é¢‘ï¼Œå£°éŸ³ï¼Œå›¾å½¢å¼•å…¥çš„</p>
<p>gccå¯¹çŸ¢é‡æŒ‡ä»¤çš„ä¼˜åŒ–æ˜¯æœ‰é™çš„</p>
<h1 id="Dealing-with-Conditionals"><a href="#Dealing-with-Conditionals" class="headerlink" title="Dealing with Conditionals"></a>Dealing with Conditionals</h1><h2 id="What-About-Branchesï¼Ÿ"><a href="#What-About-Branchesï¼Ÿ" class="headerlink" title="What About Branchesï¼Ÿ"></a>What About Branchesï¼Ÿ</h2><p><strong>Branch Prediction</strong></p>
<p>åˆ†æ”¯é¢„æµ‹æŠ€æœ¯ï¼šå…ˆæ‰§è¡ŒçŒœæµ‹çš„åˆ†æ”¯ï¼Œç„¶åå†åˆ¤æ–­åˆ†æ”¯æ˜¯å¦æ­£ç¡®</p>
<blockquote>
<p>æ‰€æœ‰çš„åˆ†æ”¯é¢„æµ‹ç»“æœéƒ½å†™åœ¨å¯„å­˜å™¨å‰¯æœ¬ä¸­ï¼Œé”™è¯¯æ—¶ä¼šå›é€€æ­£ç¡®çš„å¯„å­˜å™¨ç»“æœ</p>
</blockquote>
<p><strong>Performance Cost</strong></p>
<p>æ‰§è¡Œä»£ä»·å°±æ˜¯ç”¨äº†å¾ˆå¤šæ—¶é’Ÿå‘¨æœŸå¤„ç†æ‰€æœ‰çš„åˆ†æ”¯æŒ‡ä»¤ï¼Œå¯èƒ½ä¼šæ‰§è¡Œå¤§é‡æ— æ•ˆæ“ä½œ</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP ç¬”è®°ä¸‰ ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</title>
    <url>/2023/05/24/13-04-09/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>23.05.24ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/05/24/13-04-09/" title="CSAPP ç¬”è®°ä¸‰ ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º">ç¬¬ä¸‰ç«  - ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></li>
<li><a href="/2023/07/06/14-25-42/" title="CSAPP ç¬”è®°äº” ä¼˜åŒ–ç¨‹åºæ€§èƒ½">ç¬¬äº”ç«  - ä¼˜åŒ–ç¨‹åºæ€§èƒ½</a></li>
<li><a href="/2023/07/23/09-27-18/" title="CSAPP ç¬”è®°å…­ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„">ç¬¬å…­ç«  - å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</a>
</li>
</ul>
<h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><h2 id="Intel-x86-Processors"><a href="#Intel-x86-Processors" class="headerlink" title="Intel x86 Processors"></a>Intel x86 Processors</h2><ul>
<li><p>CISC - Complex å¤æ‚æŒ‡ä»¤é›†ï¼ŒRISC - Reduced ç²¾ç®€æŒ‡ä»¤é›†ã€‚</p>
</li>
<li><p>x86-64ï¼ŒLinuxçš„å‘½å</p>
</li>
<li><p>ARMæ¶æ„- Acorn RISC Machine</p>
</li>
<li><p>ä¸¤ç§æ±‡ç¼–è¯­æ³•ï¼šAT&amp;Tå’ŒIntelã€‚Linuxå’Œè¯¾ç¨‹ä½¿ç”¨çš„æ˜¯AT&amp;Tã€‚</p>
</li>
</ul>
<h2 id="C-assembly-machine-code"><a href="#C-assembly-machine-code" class="headerlink" title="C,assembly, machine code"></a>C,assembly, machine code</h2><ul>
<li>Micro architectureï¼šå¾®æŒ‡ä»¤æ¶æ„ï¼ŒCSAPPä¸­å¾ˆå°‘æ¶‰åŠ</li>
</ul>
<p><strong>Turning C into Object Code</strong></p>
<ul>
<li>ç¼–è¯‘å‘½ä»¤<br><code>gcc -Og p1.c p2.c -o p</code><br><code>gcc -Og -S sum.c</code>ï¼š<br><code>-S</code>:ç¼–è¯‘é˜¶æ®µç»ˆæ­¢ï¼Œç”Ÿæˆæ±‡ç¼–è¯­è¨€<br><code>-Og</code>:Optimizeç¼–è¯‘ä¼˜åŒ–ï¼Œ<code>O1</code>æ˜¯è¿‡å»çš„ä¼˜åŒ–çº§åˆ«ï¼Œ<code>g</code>çº§å¯ä»¥ä½¿ä»£ç æ›´å¯è¯»</li>
</ul>
<p><strong>Assembly Characteristics</strong></p>
<p>Data Types</p>
<ul>
<li><p>integer: ä»¥1ï¼Œ2ï¼Œ4ï¼Œ8å­—èŠ‚å­˜å‚¨<br>æ•°æ®å’Œåœ°å€éƒ½ç”¨æ•´å‹ä¿å­˜ï¼Œä¸åŒºåˆ†æ— ç¬¦å·å’Œæœ‰ç¬¦å·ã€‚</p>
</li>
<li><p>floating point: 4ï¼Œ8ï¼Œ10å­—èŠ‚</p>
</li>
<li><p>æ²¡æœ‰æ•°ç»„ä»¥åŠç»“æ„ä½“ï¼Œè¿™äº›æ˜¯ç”±ç¼–è¯‘å™¨æ„é€ çš„ã€‚</p>
</li>
</ul>
<p><strong>Operations</strong></p>
<ul>
<li><p>æ‰§è¡Œç®—æœ¯æ“ä½œ</p>
</li>
<li><p>åœ¨å†…å­˜å’Œå¯„å­˜å™¨ä¹‹é—´ä¼ é€æ•°æ®</p>
</li>
<li><p>è½¬ç§»æ§åˆ¶</p>
</li>
</ul>
<p>Disassembling Object Code</p>
<blockquote>
<p>æŒ‡ä»¤é•¿åº¦åœ¨1-15ä¸ªå­—èŠ‚</p>
</blockquote>
<p>åæ±‡ç¼–ï¼šå°†ç›®æ ‡ä»£ç æ–‡ä»¶åæ±‡ç¼–ä¸ºç±»æ±‡ç¼–è¯­è¨€ã€‚</p>
<ul>
<li><code>objdump -d sum</code>: åæ±‡ç¼–</li>
</ul>
<h2 id="Assembly-Basics-Registers-operands-move"><a href="#Assembly-Basics-Registers-operands-move" class="headerlink" title="Assembly Basics: Registers, operands, move"></a>Assembly Basics: Registers, operands, move</h2><p><strong>Integer Registers</strong></p>
<img src="/2023/05/24/13-04-09/WX20230603-145124@2x.png" class>
<ul>
<li><p>å‚æ•°ï¼š1<code>rdi</code>, 2<code>rsi</code>, 3<code>rdx</code>, 4<code>rcx</code>, 5<code>r8</code>, 6<code>r9</code>ï¼Œåªèƒ½ä¼ é€’æ•´å‹æˆ–è€…æŒ‡é’ˆï¼Œæµ®ç‚¹æ•°ç”±å¦å¤–ä¸€ç»„å•ç‹¬çš„å¯„å­˜å™¨ä¼ é€’ã€‚è¶…å‡ºçš„å‚æ•°å­˜åœ¨æ ˆé‡Œã€‚</p>
</li>
<li><p>è¿”å›å€¼ï¼š<code>rax</code></p>
</li>
</ul>
<p><strong>Moving Data</strong></p>
<blockquote>
<p><code>mov Source, Dest</code></p>
</blockquote>
<ul>
<li><p>ä¸å…è®¸ä»å†…å­˜å–å‡ºï¼Œå­˜å…¥å†…å­˜ã€‚ä»å†…å­˜å–å‡ºï¼Œåªèƒ½å­˜å…¥å¯„å­˜å™¨ã€‚</p>
</li>
<li><p><code>mov $0x4, %rax</code>ï¼šç›®çš„åœ°å€æ˜¯å¯„å­˜å™¨<br><code>mov $0x4, (%rax)</code>: ç›®çš„åœ°å€æ˜¯å†…å­˜</p>
</li>
<li><p><code>D(R)</code>: Mem[Reg[R] + D]</p>
</li>
<li><p><code>D(Rb, Ri, S)</code>: Mem[Reg[Rb] + S * Reg[Ri] + D]</p>
</li>
</ul>
<h2 id="Arithmetic-amp-logical-operations"><a href="#Arithmetic-amp-logical-operations" class="headerlink" title="Arithmetic &amp; logical operations"></a>Arithmetic &amp; logical operations</h2><p><strong>lea Src, Dst</strong></p>
<blockquote>
<p>Cè¯­è¨€ä¸­çš„&amp;ï¼Œå–åœ°å€</p>
</blockquote>
<p>å®é™…ä½¿ç”¨ä¸­Cè¯­è¨€ç¼–è¯‘å™¨å–œæ¬¢ç”¨è¿™æ¡æŒ‡ä»¤åšç®—æœ¯è¿ç®—ï¼Œ<code>lea (%rdi, %rdi, 2), %rax</code>, movæ˜¯å°†åœ°å€æŒ‡å‘çš„å†…å­˜å€¼å–å‡ºï¼ŒleaæŒ‡ä»¤å°†å†…å­˜å€¼æ‰€åœ¨åœ°å€å–å‡ºï¼Œç›¸å½“äºå­˜å…¥çš„æ˜¯<code>%rdi + %rdi * 2</code>ã€‚</p>
<p>Some ArTwo Operand Instructions</p>
<img src="/2023/05/24/13-04-09/WX20230603-152227@2x.png" class>
<ul>
<li><p>ç›®çš„æ“ä½œæ•°ä½œä¸ºç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼Œç±»ä¼¼<code>x+=y</code></p>
</li>
<li><p>ç®—æœ¯å·¦ç§»å’Œé€»è¾‘å·¦ç§»ç›¸åŒ</p>
</li>
</ul>
<p>One Operand Instructions</p>
<img src="/2023/05/24/13-04-09/WX20230603-152823@2x.png" class>
<h1 id="Control"><a href="#Control" class="headerlink" title="Control"></a>Control</h1><h2 id="Condition-Codes"><a href="#Condition-Codes" class="headerlink" title="Condition Codes"></a>Condition Codes</h2><p><strong>Single bit registers</strong></p>
<ul>
<li><p><code>CF</code>: Carry Flag (for unsigned)ï¼ŒåŒæ ·è¡¨ç¤ºæ— ç¬¦å·æ•°æº¢å‡º</p>
</li>
<li><p><code>SF</code>: Sign Flag (for signed)ï¼Œè´Ÿæ•°ä¸º1</p>
</li>
<li><p><code>ZF</code>: Zero Flag</p>
</li>
<li><p><code>OF</code>: Overflow Flag (for signed)</p>
</li>
</ul>
<p><strong>Explicit Setting</strong></p>
<p>Compare</p>
<blockquote>
<p>cmpq Src2, Src1</p>
</blockquote>
<p>ç±»ä¼¼å‡æ³•ï¼ŒSrc1 - Src2ï¼Œä½†æ˜¯ä¸ä¿å­˜å€¼ï¼Œåªæ”¹å˜å››ä¸ªæ¡ä»¶ç </p>
<ul>
<li><p>æº¢å‡ºï¼š<code>cmp bï¼Œ a</code>ï¼Œæœ‰ç¬¦å·è¡¥ç <br>åŒå·ä¸ä¼šæº¢å‡ºï¼Œå¼‚å·æ‰ä¼šæº¢å‡º</p>
<ul>
<li><p>è´Ÿæº¢å‡ºï¼ša-ï¼Œb+ï¼Œ a-b&gt;0</p>
</li>
<li><p>æ­£æº¢å‡ºï¼ša+ï¼Œb-ï¼Œa-b&lt;0</p>
</li>
</ul>
</li>
</ul>
<p>Test</p>
<blockquote>
<p>testq Src2, Src1</p>
</blockquote>
<p>ä¸è¿ç®—ï¼Œæ”¹å˜SFå’ŒZFã€‚</p>
<p>SetX Instructions</p>
<img src="/2023/05/24/13-04-09/WX20230605-113101@2x.png" class>
<blockquote>
<p>x86-64ä¸­4å­—èŠ‚è®¡ç®—ç»“æœä¼šå°†é«˜4å­—èŠ‚é›¶å¡«å……ï¼Œè€Œ2å­—èŠ‚æ“ä½œåªä¼šæ”¹å˜2å­—èŠ‚ã€‚</p>
</blockquote>
<h2 id="Conditional-branches"><a href="#Conditional-branches" class="headerlink" title="Conditional branches"></a>Conditional branches</h2><p><strong>Jumping</strong></p>
<p>JX Instructions</p>
<img src="/2023/05/24/13-04-09/WX20230605-113806@2x.png" class>
<p><strong>Using Conditional Moves</strong></p>
<p>åˆ†æ”¯é¢„æµ‹æŠ€æœ¯ï¼Œæ›´å¤šæ—¶å€™åˆ†æ”¯é¢„æµ‹æ­£ç¡®ç‡å¾ˆä½ï¼Œé€‰æ‹©æ‰§è¡Œåˆ†æ”¯çš„ä¸¤éƒ¨åˆ†æŒ‡ä»¤ï¼Œè®¡ç®—å‡ºä¸¤ä¸ªç»“æœï¼Œåœ¨æœ€åä¸€åˆ†é’Ÿé€‰æ‹©éœ€è¦çš„ç»“æœã€‚åªé€‚ç”¨åœ¨ä¸¤ä¸ªåˆ†æ”¯éƒ½æ˜¯ç®€å•è®¡ç®—ã€‚</p>
<blockquote>
<p><code>cmovle</code>: å°äºç­‰äºçš„æ—¶å€™ç§»åŠ¨</p>
</blockquote>
<h2 id="Loops"><a href="#Loops" class="headerlink" title="Loops"></a>Loops</h2><p>Cä»£ç ä¸­æœ€åº•å±‚çš„æ§åˆ¶å°±æ˜¯è·³è½¬å’Œæµ‹è¯•ã€‚</p>
<h2 id="Switch-Statements"><a href="#Switch-Statements" class="headerlink" title="Switch Statements"></a>Switch Statements</h2><ul>
<li><p>ç”¨è·³è½¬è¡¨ä¿å­˜ä»£ç å—çš„åœ°å€ï¼Œå¯ä»¥å¿«é€Ÿè·³è½¬åˆ°è¯¥åœ°å€ã€‚</p>
</li>
<li><p>æ— è®ºæœ€å°å€¼æ˜¯å¤šå°‘ï¼Œé€šè¿‡å¢åŠ åç½®å˜ä¸º0</p>
</li>
<li><p>è·³è½¬è¡¨ç”±ç¼–è¯‘å™¨ç”Ÿæˆï¼Œæ±‡ç¼–ç¨‹åºå¡«å†™ã€‚</p>
</li>
<li><p>å€¼èŒƒå›´å¾ˆå¤§ï¼Œç›¸å¯¹ç¨€ç–ï¼Œä¼šè½¬å˜ä¸ºæ¡ä»¶æ ‘ã€‚</p>
</li>
</ul>
<h1 id="Procedures"><a href="#Procedures" class="headerlink" title="Procedures"></a>Procedures</h1><h2 id="Stack-Structure"><a href="#Stack-Structure" class="headerlink" title="Stack Structure"></a>Stack Structure</h2><ul>
<li><p>å†…å­˜åœ°å€ä»ä¸‹å¾€ä¸Šé€’å¢</p>
</li>
<li><p>æ ˆåº•åœ¨ä¸Šï¼Œpushæ—¶rspå‡å°</p>
</li>
</ul>
<p><strong>Push &amp; Pop</strong></p>
<ul>
<li><p>Pushï¼šå…ˆå‡å°ï¼Œåœ¨å†™å…¥</p>
</li>
<li><p>Popï¼šrspå¢åŠ </p>
</li>
</ul>
<h2 id="Calling-Conventions"><a href="#Calling-Conventions" class="headerlink" title="Calling Conventions"></a>Calling Conventions</h2><p><strong>Passing Control</strong></p>
<ul>
<li><p><code>call label</code>: è¿”å›åœ°å€å…¥æ ˆï¼Œè·³è½¬åˆ°label</p>
</li>
<li><p><code>ret</code>: å‡ºæ ˆï¼Œè¿”å›</p>
</li>
<li><p><code>pc</code>å¯„å­˜å™¨å°±å­˜åœ¨<code>rip</code>ã€‚</p>
</li>
</ul>
<p><strong>Passing data</strong></p>
<p>æ•°æ®åœ¨å¯„å­˜å™¨å’Œå†…å­˜ä¸­ä¼ é€’ï¼Œé‡‡ç”¨é»˜è®¤çš„è§„åˆ™ï¼Œåœ¨ä¸åŒçš„ç¼–è¯‘å™¨ä¸‹éƒ½å¯ä»¥ä¼ é€’å‚æ•°ã€‚</p>
<p><strong>Managing local data</strong></p>
<p>Stack Frame</p>
<p>æ¯ä¸ªå‡½æ•°ä½¿ç”¨çš„å†…å­˜å—ç§°ä¸ºæ ˆå¸§ã€‚</p>
<ul>
<li><p><code>rbp</code>: è¡¨ç¤ºåŸºæŒ‡é’ˆï¼Œæ ˆåº•ã€‚è°ƒç”¨è€…çš„<code>rbp</code>ä¿å­˜åœ¨è¢«è°ƒç”¨è€…çš„æ ˆåº•ã€‚</p>
</li>
<li><p><code>rsp</code>: æ ˆé¡¶ï¼Œå½“å®ƒè¢«åˆ†é…äº†å¤šå°‘å­—èŠ‚ï¼Œå°±çŸ¥é“éœ€è¦é‡Šæ”¾å¤šå°‘å­—èŠ‚</p>
</li>
</ul>
<h2 id="Illustration-of-Recursion"><a href="#Illustration-of-Recursion" class="headerlink" title="Illustration of Recursion"></a>Illustration of Recursion</h2><p>æ ˆå¸§æ˜¯é€’å½’è°ƒç”¨çš„å‰æã€‚</p>
<h1 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h1><h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p><strong>One-dimensional</strong></p>
<ul>
<li>æŒ‡é’ˆåŠ å¸¸é‡ï¼Œ å¸¸é‡ä¼šè¢«é€‚å½“æ”¾ç¼©ã€‚</li>
</ul>
<p><strong>Multi-dimensional(nested)</strong></p>
<ul>
<li>å¤šç»´åµŒå¥—æ•°ç»„ï¼ŒæŒ‰è¡Œæˆ–åˆ—è¿ç»­å­˜å‚¨ã€‚</li>
</ul>
<p><strong>Multi-level</strong></p>
<ul>
<li>ä¸‰ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªä»¥ä¸ºæŒ‡é’ˆæ•°ç»„ä¿å­˜ä¸‰ä¸ªæ•°ç»„çš„èµ·å§‹åœ°å€ã€‚</li>
</ul>
<h2 id="Structures"><a href="#Structures" class="headerlink" title="Structures"></a>Structures</h2><p><strong>Access</strong></p>
<ul>
<li>é€šè¿‡å­—èŠ‚åç§»è®¿é—®å¯¹åº”çš„ç»“æ„ä½“æˆå‘˜ã€‚</li>
</ul>
<p><strong>Alignment</strong></p>
<ul>
<li><p>å­—èŠ‚å¯¹é½ï¼Œè®¿é—®æ›´æ–¹ä¾¿ï¼Œæ•°æ®ä¸ä¼šè·¨è¶Šå¤šä¸ªå—</p>
</li>
<li><p>å må­—èŠ‚çš„å˜é‡ï¼Œå°±å­˜æ”¾åœ¨mçš„å€æ•°åœ°å€å¤„</p>
</li>
<li><p>è°ƒæ•´å£°æ˜é¡ºåºï¼Œå¯ä»¥ä¼˜åŒ–å¯¹é½</p>
</li>
</ul>
<h2 id="Floating-Point"><a href="#Floating-Point" class="headerlink" title="Floating Point"></a>Floating Point</h2><img src="/2023/05/24/13-04-09/WX20230605-164923@2x.png" class>
<h1 id="Advanced-Topics"><a href="#Advanced-Topics" class="headerlink" title="Advanced Topics"></a>Advanced Topics</h1><h2 id="Memory-Layout"><a href="#Memory-Layout" class="headerlink" title="Memory Layout"></a>Memory Layout</h2><p>ç›®å‰64ä½çš„å†…å­˜åªå…è®¸ä½¿ç”¨47ä½ã€‚Linuxæ ˆçš„å¤§å°ä¸º8MBã€‚</p>
<ul>
<li><p>Stack: å±€éƒ¨å˜é‡</p>
</li>
<li><p>Textï¼šæ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤ï¼Œåªå¯è¯»</p>
</li>
<li><p>Dataï¼šå­˜æ”¾å…¨å±€å˜é‡ï¼Œé™æ€å˜é‡ï¼Œå­—ç¬¦ä¸²å¸¸é‡</p>
</li>
<li><p>Heapï¼šåŠ¨æ€ç”³è¯·ï¼Œmallocï¼Œcallocï¼Œnew</p>
</li>
<li><p>Shared Librariesï¼šå­˜æ”¾åº“å‡½æ•°ï¼ŒåŠ¨æ€åŠ è½½</p>
</li>
</ul>
<p>å †åˆ†é…çš„å†…å­˜æ˜¯ä»é«˜ä½ä½ä½å‘ä¸­é—´åˆ†é…ï¼Œä¸­é—´çš„ä¸€éƒ¨åˆ†æ²¡æœ‰åˆ†é…çš„å†…å­˜è®¿é—®æ®µé”™è¯¯ã€‚<code>è¿™æ˜¯ç”±æ“ä½œç³»ç»Ÿçš„ç®¡ç†ç­–ç•¥å†³å®š</code></p>
<h2 id="Buffer-Overflow"><a href="#Buffer-Overflow" class="headerlink" title="Buffer Overflow"></a>Buffer Overflow</h2><p><strong>Vulnerability</strong></p>
<ul>
<li><p><code>gets()</code>: å‡½æ•°ä¸æ£€æŸ¥ç¼“å†²åŒºå¤§å°ï¼Œå®¹æ˜“è¶Šç•Œã€‚ </p>
</li>
<li><p><code>strcpy</code>, <code>strcat</code>,<code>scanf</code>, <code>fscanf</code>, <code>sscanf</code>, éƒ½æœ‰æº¢å‡ºé£é™©ã€‚</p>
</li>
<li><p>æœºå™¨æŒ‡ä»¤æ˜¯å°ç«¯å­˜æ”¾çš„ï¼Œä½ä½åœ¨å‰ã€‚ </p>
</li>
</ul>
<p><strong>Code Injection Attacks</strong></p>
<p>ä»£ç æ³¨å…¥æ”»å‡»ï¼ŒæŠŠå­—ç¬¦å¡«å……åˆ°ç¼“å†²åŒºä¸­ï¼Œå½¢æˆå¯æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œä¿®æ”¹è¿”å›æŒ‡é’ˆã€‚</p>
<blockquote>
<p>Wormä¸Virusï¼šè •è™«å¯ä»¥è‡ªå·±ç”Ÿå­˜ï¼Œç—…æ¯’ä¸èƒ½ç‹¬è‡ªè¿è¡Œã€‚</p>
</blockquote>
<p><strong>Protection</strong></p>
<p><strong>Randomized stack offsets</strong>æ ˆéšæœºåŒ–</p>
<p>æ ˆéšæœºåŒ–ä¼šè®©ç¼“å†²åŒºéšæœºå˜åŒ–ï¼Œæ— æ³•é¢„æµ‹ä¸‹ä¸€ä¸ªåœ°å€ã€‚</p>
<p><strong>Nonexecutable code segments</strong></p>
<p>æ ‡è®°æ ˆæ˜¯ä¸å¯æ‰§è¡Œçš„ä»£ç ã€‚</p>
<p><strong>Stack Canaries</strong></p>
<p><code>gcc -fstack-protector</code> é»˜è®¤å¯åŠ¨æ ˆä¿æŠ¤</p>
<p><code>%fs</code>: ç‰¹æ®Šå¯„å­˜å™¨ï¼ŒæŸå—å†…å­˜çš„å€¼ï¼Œå¦‚æœCanayå€¼æ”¹å˜äº†è¯´æ˜æœ‰æº¢å‡ºã€‚Canayå€¼æ˜¯<code>å°ç«¯å­˜æ”¾</code>ã€‚</p>
<blockquote>
<p>Canayçš„å€¼æœ€ä½ä½å­—èŠ‚ä¸º0ï¼Œè¿™æ˜¯å­—ç¬¦ä¸²çš„off-by-one bugï¼Œè™½ç„¶å­—ç¬¦ä¸²çš„ç©ºå­—ç¬¦å ç”¨äº†Canayå€¼ï¼Œäº§ç”Ÿäº†æº¢å‡ºï¼Œä½†æ˜¯æ£€æµ‹ä¸åˆ°æº¢å‡ºã€‚</p>
</blockquote>
<p><strong>Return-Oriented Programming Attacks</strong></p>
<p>Canayæ— æ³•ç ´è§£ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ä»£ç åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œå…¨å±€å˜é‡å’Œä»£ç çš„ä½ç½®æ²¡æœ‰æ”¹å˜ï¼Œé€šè¿‡æ‰¾åˆ°æŸæ®µä»£ç ç»„åˆåœ¨ä¸€èµ·ï¼Œé¢å‘è¿”å›ç¼–ç¨‹ã€‚</p>
<blockquote>
<p>gadget: é€šè¿‡æˆªæ–­ä¸€äº›æŒ‡ä»¤ï¼Œå½¢æˆæ–°çš„æŒ‡ä»¤ï¼Œæ›¿æ¢äº†ç¨‹åºè®¡æ•°å™¨</p>
</blockquote>
<img src="/2023/05/24/13-04-09/WX20230608-112255@2x.png" class>
<p>attack Labä¸­å…³é—­äº†canaryï¼Œå¯ä»¥é€šè¿‡ç¼“å†²åŒºæº¢å‡ºè®¾ç½®éœ€è¦çš„è¿”å›åœ°å€ã€‚</p>
<h2 id="Unions"><a href="#Unions" class="headerlink" title="Unions"></a>Unions</h2><ul>
<li><p>è”åˆä½“åªä¼šä¸ºæœ€å¤§çš„åŸŸåˆ†é…åœ°å€ã€‚</p>
</li>
<li><p>è”åˆä½“å¯ä»¥ç”¨æ¥åšç±»å‹è½¬æ¢ï¼Œä¸æ”¹å˜ä½ã€‚</p>
</li>
</ul>
<h2 id="å¤§ç«¯å°ç«¯"><a href="#å¤§ç«¯å°ç«¯" class="headerlink" title="å¤§ç«¯å°ç«¯"></a>å¤§ç«¯å°ç«¯</h2><ul>
<li><p>IA32ï¼šå­—èŠ‚å°ç«¯å­˜æ”¾</p>
</li>
<li><p>x86-64ï¼šå­—èŠ‚å°ç«¯å­˜æ”¾</p>
</li>
</ul>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒIII Attack Lab</title>
    <url>/2023/03/18/15-54-47/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²ï¼š</p>
<ul>
<li>23.03.18ï¼šåˆç¨¿</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a>
</li>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a>
</li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a>
</li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a>
</li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a>
</li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>Attack Labå®éªŒï¼Œé‡‡ç”¨ code-injection å’Œ return-oriented ä¸¤ç§æ–¹æ³•æ”»å‡»ç¨‹åºã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ol>
<li><code>./ctarget -q</code>ï¼šè¿è¡Œç›®æ ‡æ–‡ä»¶ç”¨å‚æ•°<code>-q</code>ï¼Œä¸ä½¿ç”¨æœåŠ¡å™¨</li>
<li><code>-i FILE</code>: æ–‡ä»¶è¾“å…¥</li>
<li><code>./hex2raw &lt; 1.txt | ./ctarget -q</code>: ç­”æ¡ˆä¸æ¢è¡Œï¼Œç”¨<code>hex2raw</code>è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œæ³¨æ„éœ€è¦ç”¨å°ç«¯å­˜å‚¨ã€‚</li>
<li><code>call</code>æŒ‡ä»¤ä¼šå°†8ä¸ªå­—èŠ‚çš„<code>rip</code>å€¼å…¥æ ˆï¼Œä½œä¸º<code>ret</code>è¿”å›åœ°å€ã€‚</li>
<li>code-injectionï¼šå…³é—­äº†æ ˆéšæœºåŒ–ï¼Œæ ˆä¸å¯æ‰§è¡Œå’Œcanaryã€‚</li>
<li>return-orientedï¼šæ‰“å¼€æ ˆéšæœºåŒ–å’Œä¸å¯æ‰§è¡Œï¼Œå…³é—­canaryã€‚</li>
</ol>
<h1 id="é¢˜ç›®åŠè§£æ³•"><a href="#é¢˜ç›®åŠè§£æ³•" class="headerlink" title="é¢˜ç›®åŠè§£æ³•"></a>é¢˜ç›®åŠè§£æ³•</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å’Œè¯¾ç¨‹ä¸­è®²è§£çš„ä¸¤ç§æ¼æ´çš„ç ´è§£æ–¹å¼ç›¸åŒï¼šä»£ç æ³¨å…¥åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºï¼ŒæŠŠéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤è¾“å…¥åˆ°æ ˆä¸­ã€‚é¢å‘è¿”å›ç¼–ç¨‹å°†éœ€è¦çš„æŒ‡ä»¤ç‰‡æ®µè¿”å›åœ°å€è¾“å…¥åˆ°ç¼“å†²åŒºä¸­ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªç¨‹åºè®¡æ•°å™¨ï¼Œé¡ºåºæ‰§è¡Œéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ç”±äºbombå®éªŒå¯¹æ¯ä¸€æ¡æ±‡ç¼–å‘½ä»¤éƒ½è¿›è¡Œäº†è§£é‡Šï¼Œè¿™ä¸ªå®éªŒå°±ä¸é€æ¡è§£é‡Šäº†ï¼ŒæŠŠä¹‹å‰åšè¿‡çš„ç­”æ¡ˆé‡æ–°æ•´ç†ä¸€éã€‚</p>
<h2 id="Phase-1"><a href="#Phase-1" class="headerlink" title="Phase 1"></a>Phase 1</h2><p>æ€è·¯ï¼šç¬¬ä¸€ä¸ªå¾ˆç®€å•è¾“å…¥å‡½æ•°å¼€è¾Ÿäº†0x28çš„ç©ºé—´ç”¨äºä¿å­˜è¾“å…¥,è¿”å›åœ°å€åœ¨rsp+0x28çš„ä½ç½®,æ‰€ä»¥è¾“å…¥ä¸€æ®µ0x28å­—èŠ‚çš„å­—ç¬¦ä¸²åé¢è·Ÿä¸Šè¿”å›touch1çš„åœ°å€,æ³¨æ„åœ°å€æ˜¯å°ç«¯å­˜æ”¾:<code>C0 17 40 00 00 00 00 00</code>, ä»¥ä¸‹ç­”æ¡ˆä¸ºäº†æ–¹ä¾¿è§‚çœ‹æ·»åŠ äº†æ¢è¡Œï¼Œè¿è¡Œç¨‹åºæ—¶éœ€è¦å»æ‰æ¢è¡Œã€‚</p>
<ol>
<li><p>gdbè¿›å…¥ç¨‹åºï¼Œå¯¹testå‡½æ•°åæ±‡ç¼–ï¼š</p>
<img src="/2023/03/18/15-54-47/WX20230609-103056@2x.png" class>
</li>
<li><p>è°ƒç”¨äº†getbufå‡½æ•°ï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æ±‡ç¼–ä»£ç ï¼Œæ‰¾å‡ºç¼“å†²åŒºçš„å¤§å°</p>
<img src="/2023/03/18/15-54-47/WX20230609-103332@2x.png" class>
</li>
<li><p>ç¼“å†²åŒºå¤§å°ä¸º<code>0x28</code>ï¼Œ40ä¸ªå­—èŠ‚ï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²ä¿å­˜åœ¨å½“å‰<code>rsp</code>å¤„ã€‚ç„¶åè¾“å…¥40ä¸ªå­—èŠ‚æ— ç”¨æ•°æ®ï¼Œå……æ»¡ç¼“å†²åŒºï¼Œç»§ç»­è¾“å…¥8ä¸ªå­—èŠ‚çš„touch1åœ°å€ï¼Œè¦†ç›–æ‰åŸåœ°å€ã€‚</p>
</li>
<li><p>å¯¹è¦è·³è½¬çš„touch1å‡½æ•°åæ±‡ç¼–ï¼Œæ‰¾ä¸€ä¸‹å‡½æ•°å…¥å£åœ°å€ï¼š</p>
<img src="/2023/03/18/15-54-47/WX20230609-102814@2x.png" class>
</li>
<li><p>æ‰€ä»¥éœ€è¦è¿”å›çš„åœ°å€ä¸º<code>0x00000000004017c0</code>ï¼Œè¾“å…¥å°ç«¯å­˜æ”¾ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">c0 <span class="number">17</span> <span class="number">40</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br></pre></td></tr></table></figure>
<h2 id="Phase-2"><a href="#Phase-2" class="headerlink" title="Phase 2"></a>Phase 2</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬äºŒä¸ªéœ€è¦æ³¨å…¥å¯æ‰§è¡Œä»£ç , éœ€è¦æŠŠtouch2çš„å‚æ•°å¯„å­˜å™¨<code>rdi</code>å†…å®¹è®¾ç½®ä¸ºcookie, è¿™æ ·é‡ç½®retåˆ°touch2æ‰èƒ½æ­£ç¡®æ‰§è¡Œ, æ‰€æœ‰ç¬¬ä¸€æ¬¡åœ¨getbufä¸­æŠŠè¿”å›å€¼é‡ç½®ä¸ºä¸€ä¸ªæ ˆåœ°å€, ç„¶ååœ¨è¿™ä¸ªåœ°å€å†…å†™å…¥ä¸€ç³»åˆ—æ“ä½œ, æ¯æ¬¡retåè¿”å›åœ°å€ä¼šè‡ªåŠ¨é€€æ ˆ, æ‰€ä»¥å…ˆæŠŠ<code>rsp</code>-8, ç„¶ååœ¨<code>rdi</code>å†™å…¥touch2çš„åœ°å€,ç„¶åå°†<code>rdi</code>å†™å…¥<code>rsp</code>æŒ‡å‘çš„æ ˆåœ°å€ä¸­,ç„¶åæŠŠcookieå€¼å†™å…¥<code>rdi</code>ä¸­,æœ€åretã€‚</p>
<ol>
<li><p>å…ˆæŸ¥çœ‹ä¸€ä¸‹touch2å‡½æ•°çš„å…¥å£åœ¨å“ªé‡Œï¼š</p>
<img src="/2023/03/18/15-54-47/WX20230609-104729@2x.png" class>
</li>
<li><p>å¯ä»¥çœ‹åˆ°éœ€è¦è¿”å›åœ°å€ä¸º<code>0x00000000004017ec</code>ï¼Œ å‚æ•°å¯ä»¥è¿›å…¥touch2å‡½æ•°æ‰“å°ä¸€ä¸‹é‚£ä¸ªå±€éƒ¨å˜é‡çš„å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸Šä¸€ä¸ªé¢˜ç›®è¾“å‡ºä¿¡æ¯é‚£é‡Œçœ‹åˆ°ï¼Œæˆ‘çš„cookieå€¼ä¸º<code>0x59b997fa</code>ã€‚</p>
</li>
<li><p>è¿™æ¬¡éœ€è¦è®©æŒ‡ä»¤åœ¨æ ˆä¸­æ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦çŸ¥é“getbufæ—¶<code>%rsp</code>çš„å€¼ï¼Œå¯ä»¥åœ¨testå¤„æ‰“æ–­ç‚¹ï¼Œ<code>display $rsp</code>ï¼Œå€¼ä¸º<code>$rsp = (void *) 0x5561dcb0</code>ã€‚testå‡½æ•°ä¸­åˆ†é…8ä¸ªå­—èŠ‚ï¼Œcall getbuf æ—¶ä½¿ç”¨äº†8ä¸ªå­—èŠ‚ï¼Œgetbufåˆ†é…40ä¸ªå­—èŠ‚ï¼Œä¸€å…±åˆ†é…äº†56ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬è¾“å…¥å­—ç¬¦ä¸²æ—¶ï¼Œ<code>rsp</code>æŒ‡å‘çš„åœ°å€å€¼åº”è¯¥æ˜¯<code>0x5561dc78</code></p>
</li>
<li><p>æ¥ä¸‹æ¥å°±æ˜¯æ³¨å…¥ä¸€æ®µéœ€è¦è¿è¡Œçš„ä»£ç ï¼Œå¯ä»¥å…ˆå†™æ±‡ç¼–ä»£ç ï¼Œé€šè¿‡æŒ‡ä»¤<code>gcc -c foo.s</code>ï¼Œç”ŸæˆäºŒè¿›åˆ¶ä»£ç <code>foo.o</code>ï¼Œ åœ¨é€šè¿‡<code>objdump -d foo.o</code>åæ±‡ç¼–ï¼Œç”Ÿæˆå¯è¯»çš„æœºå™¨æŒ‡ä»¤ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="number">48</span> <span class="number">83</span> ec <span class="number">08</span>           <span class="comment">/*  sub    $0x8,%rsp */</span></span><br><span class="line"><span class="number">48</span> c7 c7 ec <span class="number">17</span> <span class="number">40</span> <span class="number">00</span>  <span class="comment">/*  mov    $0x4017ec,%rdi */</span></span><br><span class="line"><span class="number">48</span> <span class="number">89</span> <span class="number">3</span>c <span class="number">24</span>           <span class="comment">/*  mov    %rdi,(%rsp) */</span></span><br><span class="line"><span class="number">48</span> c7 c7 fa <span class="number">97</span> b9 <span class="number">59</span>  <span class="comment">/*  mov    $0x59b997fa,%rdi   -   set cookie */</span></span><br><span class="line">c3                    <span class="comment">/*  retq  */</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span></span><br><span class="line"><span class="number">78</span> dc <span class="number">61</span> <span class="number">55</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span><span class="comment">/* return adress, execute exploit code */</span></span><br></pre></td></tr></table></figure>
<h2 id="Phase-3"><a href="#Phase-3" class="headerlink" title="Phase 3"></a>Phase 3</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬ä¸‰é¢˜å’Œç¬¬äºŒé¢˜åŸºæœ¬ç›¸åŒreturnåˆ°touch3åè¦è¿›è¡Œä¸€æ¬¡cookieå¯¹æ¯”,ç¬¬äºŒé¢˜æ˜¯åå…­è¿›åˆ¶çš„æ•°å­—å¯¹æ¯”,å¯ä»¥æå‰æŠŠcookieå†™å…¥<code>rdi</code>å¯„å­˜å™¨é‡Œ,ä½†æ˜¯ç¬¬ä¸‰é¢˜çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡é’ˆ,æ‰€ä»¥è¦æŠŠå­—ç¬¦ä¸²åœ°å€å†™å…¥<code>rsi</code>ç¬¬äºŒä¸ªå‚æ•°å¯„å­˜å™¨é‡Œ,ä¸èƒ½ç”¨åœ¨æ ˆä¸­å†™,å› ä¸ºåé¢è¿˜æœ‰ä¸¤æ¬¡å‡½æ•°è°ƒç”¨,æ ˆç©ºé—´å¾ˆå®¹æ˜“è¢«è¦†ç›–,æ‰¾äº†ä¸€ä¸‹å˜é‡cookieçš„åœ°å€,è¿™ä¸ªåœ°å€<code>0x6044e4</code>çš„åé¢æœ‰å¾ˆé•¿ä¸€æ®µåœ°å€æ²¡æœ‰ä½¿ç”¨è¿‡,æ‰€ä»¥å¯ä»¥æŠŠå­—ç¬¦ä¸²å†™å…¥<code>0x6044ec</code>,<code>rsi</code>çš„å‚æ•°ä¼ é€’åœ¨<code>0x6044ec</code>,è¿˜æœ‰ä¸€ä¸ªåœ°æ–¹æ˜¯å­—ç¬¦ä¸²<code>0x59b997fa</code>,æ¯ä¸ªå­—ç¬¦å­˜åœ¨ä¸€ä¸ªå­—èŠ‚é‡Œ,ä¸€å…±éœ€è¦8ä¸ªå­—èŠ‚çš„ç©ºé—´,å¯ä»¥ç”¨<code>mov</code>,å†™å…¥åå…­è¿›åˆ¶æ•°,ä½†æ˜¯è¦æ³¨æ„å­—ç¬¦ä¸²å¤§ç«¯å­˜æ”¾,æ•°å­—æ˜¯å°ç«¯å­˜æ”¾,ç¿»è½¬ä¸€ä¸‹å°±å¯ä»¥äº†.</p>
<ol>
<li><p>æ ¹æ®å®éªŒæŒ‡å—ä¸­æç¤ºçš„å‡½æ•°<code>hexmatch</code>, åšäº†ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹æ¯”ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²åœ°å€ï¼Œè€Œä¸”åœ¨å‡½æ•°ä¸­å°†ä¼ å…¥çš„cookieå€¼è½¬æ¢æˆäº†ä¸€ä¸ªéšæœºåœ°å€çš„å­—ç¬¦ä¸²ï¼Œç„¶åè¿›è¡Œå­—ç¬¦ä¸²å¯¹æ¯”ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æå‰æŠŠå­—ç¬¦ä¸²å†™å…¥åˆ°å›ºå®šçš„åœ°å€ï¼Œç„¶å‚æ•°ä¼ è¿›å»ã€‚</p>
</li>
<li><p><code>disas touch3</code></p>
<img src="/2023/03/18/15-54-47/WX20230609-123834@2x.png" class>
</li>
<li><p>å¯ä»¥çœ‹å‡ºcookieå€¼å­˜åœ¨å†…å­˜çš„<code>0x6044e4</code>å¤„ï¼Œæ‰“å°ä¸€ä¸‹å‘¨å›´çš„å†…å­˜å€¼ï¼Œ<code>x/6xg</code></p>
<img src="/2023/03/18/15-54-47/WX20230609-130233@2x.png" class>
</li>
<li><p>ä¸Šé¢å¯ä»¥çœ‹åˆ°åé¢æœ‰ä¸€éƒ¨åˆ†æ˜¯æ²¡æœ‰ä½¿ç”¨çš„å†…å­˜ï¼Œé€‰ä¸€ä¸ª<code>0x6044ec</code>ï¼ŒæŠŠæˆ‘ä»¬çš„å­—ç¬¦ä¸²å†™å…¥è¿™é‡Œï¼Œæ³¨æ„å¤§ç«¯å­˜æ”¾ã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥æ³¨å…¥è¦è¿è¡Œçš„æŒ‡ä»¤ï¼Œå’Œä¸Šä¸€é¢˜ç›¸åŒï¼Œä½†æ˜¯è¦æŠŠå­—ç¬¦ä¸²å†™å…¥åˆ°é€‰å®šçš„åœ°å€é‡Œï¼Œå­—ç¬¦ä¸²<code>59b997fa</code>è½¬æ¢ä¸º16è¿›åˆ¶ä¸º<code>0x35 0x39 0x62 0x39 0x39 0x37 0x66 0x61</code>ï¼Œä½†æ˜¯è¦æ³¨æ„å°ç«¯å­˜æ”¾çš„å€¼ä¸º<code>0x6166373939623935</code>ï¼Œæ‰€ä»¥å†™å…¥è¿™ä¸ªå€¼ï¼Œå½“åšå­—ç¬¦ä¸²è¯»å‡ºæ—¶åˆšå¥½æ˜¯cookieå€¼ã€‚<code>movabs</code>ï¼šç”¨äº64ä½ç«‹å³æ•°èµ‹å€¼ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="number">48</span> <span class="number">83</span> ec <span class="number">08</span>           <span class="comment">/*  sub    $0x8,%rsp */</span></span><br><span class="line">bf fa <span class="number">18</span> <span class="number">40</span> <span class="number">00</span>        <span class="comment">/*  mov    $0x4018fa,%edi */</span></span><br><span class="line"><span class="number">48</span> <span class="number">89</span> <span class="number">3</span>c <span class="number">24</span>           <span class="comment">/*  mov    %rdi,(%rsp) */</span></span><br><span class="line">bf ec <span class="number">44</span> <span class="number">60</span> <span class="number">00</span>        <span class="comment">/*  mov    $0x6044ec,%edi  */</span></span><br><span class="line"><span class="number">48</span> be <span class="number">35</span> <span class="number">39</span> <span class="number">62</span> <span class="number">39</span> <span class="number">39</span>  </span><br><span class="line"><span class="number">37</span> <span class="number">66</span> <span class="number">61</span>              <span class="comment">/*  movabs $0x6166373939623935,%rsi */</span></span><br><span class="line"><span class="number">48</span> <span class="number">89</span> <span class="number">37</span>              <span class="comment">/*  mov    %rsi,(%rdi)    */</span></span><br><span class="line">c3                    <span class="comment">/*  retq  */</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span></span><br><span class="line"><span class="number">78</span> dc <span class="number">61</span> <span class="number">55</span> <span class="comment">/* return adress, execute exploit code */</span></span><br></pre></td></tr></table></figure>
<h2 id="Phase-4"><a href="#Phase-4" class="headerlink" title="Phase 4"></a>Phase 4</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬å››é¢˜,å’Œç¬¬äºŒé¢˜ç›¸åŒ,éœ€è¦æŠŠä»£ç è¿”å›åˆ°touch2é‡Œé¢,ä½†æ˜¯ä¸èƒ½åƒphase2ä¸­ä»£ç æ³¨å…¥è¿è¡Œä»£ç ,å› ä¸ºæ ˆå†…æ ‡è®°ä¸ºä¸å¯æ‰§è¡Œäº†,æ‰€ä»¥è¦ä½¿ç”¨ROPçš„æ–¹æ³•æ¥æ“ä½œ,åœ¨ç»™å‡ºçš„gadgetä¸­é€‰æ‹©ä¸¤ä¸ªè¿ç»­çš„48 89 c7 c3, mov %rax,%rdi,   è¿˜æœ‰ä¸€ä¸ª58 c3, popq %rax,å°†è¿™ä¸¤æ¡æŒ‡ä»¤çš„åœ°å€ç”¨æ ˆæº¢å‡ºçš„æ–¹æ³•å†™åˆ°è¿”å›é‡Œ,åœ¨è¿”å›åœ°å€ä¸­é—´åŠ ä¸Šcookieç ã€‚</p>
<ol>
<li><p><strong><em><code>gcc -c farm.c</code>ï¼šç”Ÿæˆç›®æ ‡æ–‡ä»¶<br><code>objdump -d farm.o &gt; farm.s</code>ï¼šåæ±‡ç¼–ç”Ÿæˆå¯è¯»æŒ‡ä»¤<br><code>è¿™é‡Œéœ€è¦æ³¨æ„ä¼˜åŒ–çº§åˆ«ä¸º -Ogï¼Œä¸å®éªŒçš„ä¼˜åŒ–çº§åˆ«ç›¸åŒ</code></em></strong><br><code>objdump -d rtarget.o &gt; rtarget.s</code>ï¼šç›´æ¥å¯¹å¯æ‰§è¡Œæ–‡ä»¶åæ±‡ç¼–ç”Ÿæˆçš„æŒ‡ä»¤å¸¦åœ°å€ï¼Œæ›´æ–¹ä¾¿çœ‹ä¸€äº›ã€‚</p>
</li>
<li><p>åœ¨<code>rtarget.s</code>ä¸­æ‰¾æˆ‘ä»¬éœ€è¦çš„æŒ‡ä»¤ï¼Œ</p>
</li>
<li><p><code>setval_426</code>å‡½æ•°ä¸­æœ‰ï¼šåœ°å€ä¸º<code>4019c5</code></p>
<img src="/2023/03/18/15-54-47/WX20230609-140230@2x.png" class>
</li>
<li><p>æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„<code>48 89 c7</code>ï¼Œåç»­çš„<code>90</code>æ˜¯ä¸€ä¸ªnopï¼Œä»€ä¹ˆä¹Ÿä¸åšï¼Œè®¡æ•°å™¨åŠ 1ï¼Œæœ€åè·Ÿç€<code>c3</code>retã€‚</p>
</li>
<li><p>ä¸Šé¢æŠŠ<code>rax</code>çš„å€¼å­˜åˆ°<code>rdi</code>ä¸­äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯æ‰¾ä¸€ä¸ªpopæŒ‡ä»¤<code>58 90 c3</code>ï¼Œé€€æ ˆåˆ°<code>rax</code>ä¸­ï¼Œæ‰¾åˆ°<code>getval_280</code>ï¼šåœ°å€ä¸º<code>4019cc</code></p>
<img src="/2023/03/18/15-54-47/WX20230609-140336@2x.png" class>
</li>
<li><p>æ‰€ä»¥æº¢å‡ºçš„è¾“å…¥ä¸ºé€€æ ˆåˆ°<code>rax</code>ï¼Œæ ˆé¡¶æ˜¯cookieå€¼ï¼Œç„¶åæ‰§è¡Œ<code>0x4019c5</code>çš„movæŒ‡ä»¤ï¼Œæœ€åè¿”å›touch2ã€‚æ³¨æ„æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯8å­—èŠ‚ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> Â Â <span class="comment">/*40ä¸ªå­—èŠ‚æº¢å‡º  */</span></span><br><span class="line">cc <span class="number">19</span> <span class="number">40</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">fa <span class="number">97</span> b9 <span class="number">59</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">c5 <span class="number">19</span> <span class="number">40</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">ec <span class="number">17</span> <span class="number">40</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span></span><br></pre></td></tr></table></figure>
<h2 id="Phase-5"><a href="#Phase-5" class="headerlink" title="Phase 5"></a>Phase 5</h2><p>æ€è·¯ï¼š</p>
<p>å’ŒPhase 3ç›¸åŒï¼Œä½†æ˜¯è¦æŠŠä»£ç æ³¨å…¥æ”¹ä¸ºtargetåºåˆ—æ‰§è¡ŒæŒ‡ä»¤ï¼Œå¯èƒ½éœ€è¦å¯¹å¯„å­˜å™¨çš„ä½å­—èŠ‚è¿›è¡Œæ“ä½œï¼Œè¿˜æ²¡æƒ³å‡ºæ€ä¹ˆåšè¿™ä¸ªé¢˜ç›®ï¼Œåé¢æœ‰æ—¶é—´äº†å†æ¥åšã€‚</p>
<p>ç­”æ¡ˆï¼š</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
        <tag>shell</tag>
        <tag>gdb</tag>
        <tag>objdump</tag>
      </tags>
  </entry>
  <entry>
    <title>csapp ç¬”è®°æ±‡æ€»</title>
    <url>/2023/03/15/10-59-10/</url>
    <content><![CDATA[<h1 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« "></a>ç³»åˆ—æ–‡ç« </h1><h2 id="CMU-15-213ç¬”è®°"><a href="#CMU-15-213ç¬”è®°" class="headerlink" title="CMU 15-213ç¬”è®°"></a>CMU 15-213ç¬”è®°</h2><ul>
<li><a href="/2023/05/24/13-04-09/" title="CSAPP ç¬”è®°ä¸‰ ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º">ç¬¬ä¸‰ç«  - ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º</a></li>
<li><a href="/2023/07/06/14-25-42/" title="CSAPP ç¬”è®°äº” ä¼˜åŒ–ç¨‹åºæ€§èƒ½">ç¬¬äº”ç«  - ä¼˜åŒ–ç¨‹åºæ€§èƒ½</a></li>
<li><a href="/2023/07/23/09-27-18/" title="CSAPP ç¬”è®°å…­ å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„">ç¬¬å…­ç«  - å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</a>
</li>
</ul>
<h2 id="ä»£ç ä»“åº“"><a href="#ä»£ç ä»“åº“" class="headerlink" title="ä»£ç ä»“åº“"></a>ä»£ç ä»“åº“</h2><p><a href="https://github.com/PKunicor/CsappLab">PKunicor/Csapp lab</a></p>
<h2 id="å®éªŒç¬”è®°"><a href="#å®éªŒç¬”è®°" class="headerlink" title="å®éªŒç¬”è®°"></a>å®éªŒç¬”è®°</h2><ul>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a></li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a></li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a></li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a></li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="å®éªŒæŒ‡å—"><a href="#å®éªŒæŒ‡å—" class="headerlink" title="å®éªŒæŒ‡å—"></a>å®éªŒæŒ‡å—</h1><ul>
<li><p><a href="https://www.bilibili.com/video/BV1iW411d7hd/?spm_id_from=333.788.top_right_bar_window_custom_collection.content.click&amp;vd_source=d5a3522259c17126f1b623c977d04c3e">Bç«™CS15-213ç¿»è¯‘è¯¾ç¨‹</a> </p>
</li>
<li><p><a href="https://scs.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#folderID=%22b96d90ae-9871-4fae-91e2-b1627b43e25e%22">å®éªŒè¯¾ç¨‹æŒ‡å¯¼</a> <code>labé‡ç‚¹</code> </p>
</li>
</ul>
<blockquote>
<p>åšLabéå¸¸æ¨èçœ‹ä¸€ä¸‹å®˜æ–¹ç»™çš„LabæŒ‡å¯¼è¯¾ç¨‹ï¼Œè¯¾ç¨‹é‡Œè¯¦ç»†ä»‹ç»äº†å®éªŒä¸Šæ‰‹æ–¹å¼ä»¥åŠéœ€è¦ç”¨åˆ°çš„å‘½ä»¤ã€‚ </p>
</blockquote>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒII Bomb Lab</title>
    <url>/2023/03/14/09-43-26/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²ï¼š</p>
<ul>
<li>23.03.14ï¼šåˆç¨¿</li>
<li>23.03.18ï¼šæ–°å¢secret_phase</li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a>
</li>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a>
</li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a>
</li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a>
</li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a>
</li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>Bomb Labå®éªŒï¼Œä½¿ç”¨GDBå·¥å…·æ‹†é™¤å…­ä¸ªé˜¶æ®µçš„ç‚¸å¼¹ï¼Œéœ€è¦ä»”ç»†è¾“å…¥ï¼Œçˆ†ç‚¸æ¬¡æ•°è¿‡å¤šå®éªŒä¼šå¤±è´¥ã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ol>
<li><p>ä¸‹è½½è‡ªå·±çš„ç‚¸å¼¹ï¼Œä¸èƒ½ä¿®æ”¹bomb.cä»£ç ã€‚</p>
</li>
<li><p>æ¯çˆ†ç‚¸ä¸€æ¬¡å¤±å»ä¸€åŠçš„åˆ†æ•°ã€‚</p>
</li>
<li><p>æµ‹è¯•å‘½ä»¤</p>
<blockquote>
<p><code>./bomb</code>ï¼šè¿è¡Œç‚¸å¼¹ç¨‹åºï¼Œ <code>psol.txt</code>ï¼šæ–‡ä»¶è¾“å…¥ç­”æ¡ˆ</p>
</blockquote>
</li>
<li><p>GDBå‘½ä»¤</p>
<blockquote>
<p><code>gdb boom</code>ï¼šè°ƒè¯•å‘½ä»¤ã€‚å‚æ•°ï¼š<code>-e</code>ï¼šç½®é¡¶å¯æ‰§è¡Œæ–‡ä»¶å<br><code>quit</code>ï¼šé€€å‡ºè°ƒè¯•<br><code>run [å‚æ•°]</code>ï¼šè¿è¡Œç¨‹åºï¼›<code>&lt; psol.txt</code>ï¼šæ–‡ä»¶è¾“å…¥<br><code>continue</code>ï¼šæ–­ç‚¹ç»§ç»­<br><code>print expr</code>ï¼šæ‰“å°è¡¨è¾¾å¼å€¼ï¼ŒåŒºåˆ«ï¼šxæ‰“å°çš„å†…å­˜çš„å€¼<br><code>nexti</code>ï¼šå•æ­¥æ‰§è¡Œï¼Œä¸è¿›å…¥å‡½æ•°è°ƒç”¨<br><code>stepi</code>ï¼šå•æ­¥æ‰§è¡Œè¿›å…¥å‡½æ•°è°ƒç”¨<br><code>break function</code>ï¼šå‡½æ•°å¤„æ–­ç‚¹<br><code>break *address</code>ï¼šå†…å­˜åœ°å€å¤„æ–­ç‚¹<br><code>delete n</code>ï¼šåˆ é™¤nå·æ–­ç‚¹<br><code>delete</code>ï¼šåˆ é™¤æ‰€æœ‰æ–­ç‚¹<br><code>finish</code>ï¼šè¿è¡Œçš„å½“å‰å‡½æ•°è¿”å›åœæ­¢<br><code>x/5cb str</code> ï¼šæ˜¾ç¤º5ä¸ªå•å­—èŠ‚ï¼›<code>h</code>ï¼šä¸¤ä¸ªï¼›<code>w</code>ï¼šå››ä¸ªï¼›<code>g</code>ï¼šå…«ä¸ª<br><code>x/1sb str</code> ï¼šæ˜¾ç¤ºå­—ç¬¦ä¸²str<br><code>x/4dw arr</code> ï¼šå–4ä¸ªæ•´å‹æ•°å­—ä»¥åè¿›åˆ¶æ ¼å¼æ˜¾ç¤º<br><code>display arr</code>ï¼šæ¯æ¬¡æ–­ç‚¹éƒ½æ‰“å°æ•°æ®ï¼Œå‚æ•°<code>/x /s /u /c</code>ã€‚<br><code>disas</code>ï¼šåæ±‡ç¼–å½“å‰å‡½æ•°<br><code>info registers</code>ï¼šæ˜¾ç¤ºå¯„å­˜å™¨å†…å®¹</p>
</blockquote>
</li>
<li><p>objdumpå‘½ä»¤ <code>åæ±‡ç¼–</code></p>
<blockquote>
<p><code>objdump -t</code>ï¼šæ‰“å°å˜é‡å†…å®¹çš„å­˜å‚¨ä½ç½®<br><code>objdump -d bomb &gt; bomb.s</code>ï¼šåæ±‡ç¼–ç”Ÿæˆbomb.sæ–‡ä»¶ã€‚<code>éœ€è¦ä½¿ç”¨gdbæŸ¥çœ‹å‡½æ•°</code></p>
</blockquote>
</li>
<li><p>screen å‘½ä»¤ <code>åˆ†å±çœ‹æ±‡ç¼–æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä¸åˆ†å±åœ¨GDBä¸­ä½¿ç”¨disaså‘½ä»¤</code></p>
<blockquote>
<p><code>screen -ls</code>ï¼šæŸ¥çœ‹æ‰€æœ‰screenç»ˆç«¯<br><code>screen -S name</code> ï¼šåˆ›å»ºç»ˆç«¯<br><code>screen -r name or id</code> ï¼šè¿æ¥ç»ˆç«¯ã€‚è¿æ¥å¤±è´¥ç”¨<code>screen -d **</code>ï¼šè¿æ¥<br><code>exit</code>ï¼šé€€å‡ºç»ˆç«¯<br><code>Ctrl + aï¼Œd</code>ï¼šæš‚ç¦»ï¼›<code>c</code>ï¼šåˆ›å»ºå­ä¼šè¯ï¼›<code>w</code>ï¼šå­ä¼šè¯åˆ—è¡¨ï¼›<code>p</code>ï¼šä¸Šä¸€ä¸ªï¼›<code>n</code>ï¼šä¸‹ä¸€ä¸ªï¼›<code>0-9</code>ï¼šåˆ‡æ¢ï¼›<code>ï¼š</code>ï¼šå‘½ä»¤è¡Œæ¨¡å¼(<code>resize 80</code>)è°ƒæ•´çª—å£å¤§å°ã€‚<br><code>screen -S id -X quit</code>ï¼šå…³é—­è§†çª—</p>
</blockquote>
</li>
<li><p>å‡½æ•°å‚æ•°ä¼ é€’ç›¸å…³å¯„å­˜å™¨</p>
<blockquote>
<p><code>%rax</code>ï¼šè¿”å›å€¼<br><code>%rdi</code>ï¼šç¬¬ä¸€ä¸ªå‚æ•°<br><code>%rsi</code>ï¼šç¬¬äºŒä¸ªå‚æ•°<br><code>%rdx</code>ï¼šç¬¬ä¸‰ä¸ªå‚æ•°<br><code>%rcx</code>ï¼šç¬¬å››ä¸ªå‚æ•°<br><code>%d8</code>ï¼Œ<code>%d9</code>ï¼Œ<code>%d10</code>ä¾æ¬¡æ˜¯åé¢çš„å‚æ•°</p>
</blockquote>
</li>
</ol>
<h1 id="é¢˜ç›®åŠè§£æ³•"><a href="#é¢˜ç›®åŠè§£æ³•" class="headerlink" title="é¢˜ç›®åŠè§£æ³•"></a>é¢˜ç›®åŠè§£æ³•</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å…ˆä»æºç <code>bomb.c</code>å¯ä»¥çœ‹å‡ºè°ƒç”¨é¡ºåºï¼Œé€šè¿‡å‡½æ•°<code>explode_bomb</code>è®©ç‚¸å¼¹çˆ†ç‚¸ï¼Œæ‰€æœ‰æˆ‘ä»¬åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œåœ¨è¿™ä¸ªå‡½æ•°å¤„æ‰“æ–­ç‚¹ï¼Œæ¯æ¬¡åªè¦è¾“å…¥é”™è¯¯å¯†ç ï¼Œç‚¸å¼¹çˆ†ç‚¸çš„æ—¶å€™ç¨‹åºéƒ½ä¼šè¿›å…¥æ–­ç‚¹ï¼Œè¿™æ ·å°±ä¸ä¼šæ‰£åˆ†äº†ã€‚ä»æºç é‡Œè¿˜èƒ½çœ‹å‡ºæ¯ä¸€ä¸ªå…³å¡çš„å‡½æ•°éƒ½æ˜¯<code>phase_x</code>ï¼Œæ‰€ä»¥æ¯æ¬¡è°ƒè¯•ä¹‹å‰ï¼Œåœ¨çˆ†ç‚¸å¤„æ‰“æ–­ç‚¹ï¼Œåœ¨<code>phase_x</code>å¤„æ‰“æ–­ç‚¹ï¼Œè¿›å…¥è¿™å…³ä¹‹åï¼Œç”¨åæ±‡ç¼–å‘½ä»¤<code>disas</code>ï¼Œæ˜¾ç¤ºå‡½æ•°çš„æ±‡ç¼–ä»£ç ï¼Œç„¶åè¿›è¡Œè§£é¢˜ã€‚</p>
<h2 id="phase-1"><a href="#phase-1" class="headerlink" title="phase_1"></a>phase_1</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬ä¸€ä¸ªæ¯”è¾ƒç®€å•ï¼Œæ‰¾åˆ°å­—ç¬¦ä¸²å¯¹æ¯”å‡½æ•°ï¼Œå‚æ•°1æ”¾åœ¨å¯„å­˜å™¨rdié‡Œï¼Œå‚æ•°2æ”¾åœ¨å¯„å­˜å™¨rsié‡Œã€‚<br>åœ¨å­—ç¬¦ä¸²å¯¹æ¯”å‡½æ•°å†…æ‰“æ–­ç‚¹ï¼Œå‘½ä»¤<code>x/1sb $rsi</code>,æ‰“å°å‡ºå¯„å­˜å™¨é‡Œçš„å­—ç¬¦ä¸²å†…å®¹ã€‚<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_1</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230315-120145@2x.png" class>
</li>
<li><p><code>break explode_bomb</code> ï¼šåœ¨çˆ†ç‚¸å‡½æ•°æ‰“æ–­ç‚¹ï¼Œé˜²æ­¢è¿›å…¥è¿™é‡Œå¼•çˆ†ç‚¸å¼¹  </p>
</li>
<li><p>æ ¹æ®æ±‡ç¼–è¯­è¨€å¯ä»¥çœ‹å‡ºï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²åœ¨è°ƒç”¨å­—ç¬¦ä¸²å¯¹æ¯”å‡½æ•°ä¸­è¿›è¡Œå¯¹æ¯”ï¼Œæ ¹æ®è¿”å›å€¼è¿›è¡Œé€‰æ‹©æ˜¯å¦çˆ†ç‚¸ã€‚<br><code>break strings_not_equal</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>x/1sb $rsi</code>ï¼šæ‰“å°<code>$rsi</code>å†…å®¹ï¼Œæ ¹æ®phase_1å‡½æ•°çš„æ±‡ç¼–æŒ‡ä»¤ä¸­ï¼Œæ”¹å˜äº†rsiå†…å®¹ï¼Œè¯´æ˜æˆ‘ä»¬è¾“å…¥çš„å¯†ç åœ¨<code>$rdi</code>ä¸­ï¼Œè§£å¯†çš„å¯†ç åœ¨<code>$rsi</code>ä¸­ã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230315-122703@2x.png" class>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>Border relations with Canada have never been better.</code></p>
<h2 id="phase-2"><a href="#phase-2" class="headerlink" title="phase_2"></a>phase_2</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬äºŒä¸ªä¸»è¦æ˜¯æ˜¯åœ¨å‡½æ•°åˆ†é…çš„æ ˆé‡Œé¢è¿›è¡Œæ“ä½œ,é€šè¿‡sscanfå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°,format,â€%d %d %d %d %d %dâ€ï¼Œå¯ä»¥çœ‹å‡ºå¯†ç åº”è¯¥æ˜¯å…­ä¸ªæ•°,é€šè¿‡è®°å½•çš„<code>%rsi</code>æ˜¯phase2å‡½æ•°çš„<code>%rsp</code>ï¼Œå¯ä»¥çŸ¥é“æœ€ç»ˆå¯†ç åº”è¯¥æ˜¯ä¿å­˜åœ¨ä¸»å‡½æ•°çš„æ ˆåŒºï¼Œç¬¬ä¸€æ¬¡å’Œ1æ¯”è¾ƒ,ç›¸åŒæ‰èƒ½ç»§ç»­ï¼Œç¬¬ä¸€ä¸ªæ•°å­—æ˜¯1ï¼Œ åé¢æ¯ä¸€ä¸ªæ•°å­—éƒ½æ˜¯å’Œå‰ä¸€ä¸ªæ•°å­—*2ç›¸æ¯”è¾ƒï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªç­‰æ¯”æ•°åˆ—ï¼Œå…¬æ¯”2ã€‚<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_2</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230315-164003@2x.png" class>
<p>å‘ç°å‡½æ•°è°ƒç”¨äº†read_six_numberså‡½æ•°ï¼Œæ‰€ä»¥ç»§ç»­åœ¨è¿™é‡Œæ‰“æ–­ç‚¹ï¼Œçœ‹å…·ä½“è¾“å…¥äº†ä»€ä¹ˆã€‚</p>
</li>
<li><p><code>break read_six_numbers</code>ï¼ŒæŸ¥çœ‹è¿™ä¸ªå‡½æ•°çš„æ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230315-164335@2x.png" class>
<p>ä»è°ƒç”¨sscanfå‡½æ•°ä¹‹å‰å¯ä»¥çœ‹å‡ºè¾“å…¥æ ¼å¼åœ¨ç¬¬äºŒä¸ªå‚æ•°é‡Œ ï¼Œä»¥åœ¨è°ƒç”¨ä¹‹å‰æ‰“æ–­ç‚¹ï¼Œæ‰“å°<code>rsi</code>çš„å†…å®¹ã€‚ä»è°ƒç”¨çˆ†ç‚¸å‡½æ•°çš„æ¡ä»¶ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œsscanfè¿”å›å€¼å¤§äºç­‰äº6çš„æ—¶å€™æ‰ä¼šæ­£å¸¸è·³è½¬ï¼Œè¾“å…¥çš„æ•°å¤ªå°‘ä¼šç›´æ¥çˆ†ç‚¸ã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230315-164848@2x.png" class>
<p>è¿™é“é¢˜çš„å¯†ç åº”è¯¥æ˜¯6ä½æ•°å­—ï¼Œè¾“å…¥çš„å†…å®¹ä¿å­˜åœ¨åé¢çš„ä¼ å‚é‡Œï¼Œåœ°å€åœ¨<code>rsi</code>å¯„å­˜å™¨é‡Œï¼Œæ ¹æ®phase_2çš„è°ƒç”¨ä¹‹å‰ï¼Œ<code>rsi</code>å¯„å­˜å™¨é‡Œå­˜çš„æ˜¯<code>rsp</code>çš„åœ°å€ï¼Œæ‰€ä»¥å¯ä»¥åˆ¤æ–­å‡ºï¼Œè¯»å–å‡½æ•°æŠŠè¾“å…¥çš„æ•°å­—å­˜åˆ°äº†<code>rsp</code>å†…çš„åœ°å€é‡Œã€‚</p>
</li>
<li><p>æ ¹æ®è¿”å›åˆ°phase_2å‡½æ•°çš„ä¸‹ä¸€æ¡æŒ‡ä»¤<code>cmpl   $0x1,(%rsp)</code><br><code>cmpl</code>ï¼šä»£è¡¨åŒå­—ï¼Œå››ä¸ªå­—èŠ‚ï¼Œç”¨<code>x/6dw $rsp</code>ï¼šæ‰“å°è¾“å…¥çš„å†…å®¹çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯è‡ªå·±è¾“å…¥çš„ï¼›æ ¹æ®è·³è½¬æ¡ä»¶å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€ä¸ªå¯†ç æ˜¯1ï¼Œ</p>
</li>
<li><p>ç¬¬ä¸€ä¸ªå¯†ç æ­£ç¡®åï¼Œä¾æ¬¡çœ‹åé¢çš„æŒ‡ä»¤:<br><code>lea    0x4(%rsp),%rbx</code>ï¼šä¸‹å››ä¸ªå­—èŠ‚ï¼Œç¬¬äºŒä¸ªå¯†ç åœ°å€æ”¾åˆ°<code>rbx</code>é‡Œã€‚<br><code>lea    0x18(%rsp),%rbp</code>ï¼šç¬¬24å­—èŠ‚åœ°å€æ”¾åˆ°<code>rbx</code>é‡Œã€‚<code>ç›¸å½“äºforå¾ªç¯ç»“æŸæ¡ä»¶</code><br><code>mov    -0x4(%rbx),%eax</code>ï¼šç¬¬ä¸€ä¸ªå¯†ç 1å­˜åˆ°<code>eax</code>ã€‚<br><code>add    %eax,%eax</code>ï¼š<code>eax</code>+<code>eax</code>ã€‚<code>ä¹˜2</code><br><code>cmp    %eax,(%rbx)</code>ï¼šå¯¹æ¯”ç¬¬äºŒä¸ªå¯†ç æ˜¯ä¸æ˜¯2ã€‚<br><code>add    $0x4,%rbx</code>ï¼š<code>rbx</code>æŒ‡å‘ä¸‹å››ä¸ªå­—èŠ‚ï¼Œç¬¬ä¸‰ä¸ªå¯†ç ã€‚<br><code>cmp    %rbp,%rbx</code>ï¼šå¯¹æ¯”æ˜¯ä¸æ˜¯åˆ°äº†ç»“æŸæœ«å°¾ï¼Œå¦åˆ™ç»§ç»­è¿›è¡Œå¾ªç¯ã€‚<br>æ‰€ä»¥è¿™å…­ä¸ªæ•°å­—å¯†ç æ˜¯ä¸€ä¸ª1å¼€å¤´çš„ç­‰æ¯”æ•°åˆ—ï¼Œå…¬æ¯”ä¸º2ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>1 2 4 8 16 32</code></p>
<h2 id="phase-3"><a href="#phase-3" class="headerlink" title="phase_3"></a>phase_3</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬ä¸‰ä¸ªå’Œç¬¬äºŒä¸ªç›¸åŒ,æŸ¥çœ‹è¾“å…¥çš„æ˜¯ä¸¤ä¸ª%d,å­˜åœ¨phase3çš„æ ˆé‡Œé¢,ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯,è¿™é“é¢˜ç›®çš„ç­”æ¡ˆæœ‰7ç§,å› ä¸ºç¬¬ä¸€ä¸ªå¯†ç å°äº7,æ‰€æœ‰ä¸€å…±æœ‰8ç»„ç­”æ¡ˆ,åˆ†åˆ«æ˜¯0,207,   1-0x137,2-0x2c3,3-0x100,4-0x185,5-0xce, 6-0x2aa, 7-0x147.<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_3</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230316-103622@2x.png" class>
<p>æ‰¾åˆ°<code>sscanf</code>å‡½æ•°ï¼Œå’Œä¹‹å‰ä¸€æ ·æ‰“æ–­ç‚¹æŸ¥çœ‹è¾“å…¥æ ¼å¼ã€‚</p>
</li>
<li><p><code>x/1sb $rsi</code>ï¼šè¿™é“é¢˜çš„å¯†ç åº”è¯¥æ˜¯ä¸¤ä¸ªæ•°</p>
<img src="/2023/03/14/09-43-26/WX20230316-103921@2x.png" class>
</li>
<li><p>åŸºæœ¬æ­¥éª¤å’Œä¸Šé¢ä¸€æ ·ï¼Œçœ‹ä¸€ä¸‹å¯†ç å¯¹æ¯”çš„å¾ªç¯æŒ‡ä»¤ï¼š<br><code>cmpl   $0x7,0x8(%rsp)</code>ï¼šå¯¹æ¯”ç¬¬ä¸€ä¸ªæ•°å­—å’Œ7çš„å¤§å°<br><code>ja     0x400fad &lt;phase_3+106&gt;</code>ï¼šæ— ç¬¦å·å¤§äºå°±è·³è½¬ï¼Œè·³è½¬ä¹‹åè°ƒç”¨äº†çˆ†ç‚¸å‡½æ•°ï¼Œè¯´æ˜ç¬¬ä¸€ä¸ªæ•°å­—å°äºç­‰äº7å¹¶ä¸”å¤§äºç­‰äº0<code>è´Ÿæ•°å½“æ— ç¬¦å·æ•°æ—¶ç¬¬ä¸€ä½æ€»æ˜¯1ï¼Œä¸€å®šæ¯”8å¤§</code>ã€‚<br><code>mov    0x8(%rsp),%eax</code>ï¼šæŠŠç¬¬ä¸€ä¸ªæ•°å­—æ”¾åˆ°<code>eax</code>é‡Œã€‚<br><code>jmpq   *0x402470(,%rax,8)</code>ï¼šè·³è½¬åˆ°<code>*(0x402470 + (%rax * 8))</code><br>æ‰“å°ä¸€ä¸‹ä»<code>0x402470</code>è¿™é‡Œå¼€å§‹å­˜çš„æ˜¯ä»€ä¹ˆï¼š<code>x/8xg 0x402470</code>æˆ–è€…<code>x/64xb 0x402470</code>ï¼šè¿™é‡Œè¦æ³¨æ„æ•°æ®æ˜¯æŒ‰ç…§å¤§ç«¯æ³•å­˜å‚¨çš„ã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230316-110646@2x.png" class>
<p>å¯ä»¥çœ‹å‡ºå¯¹åº”è·³è½¬å…³ç³»ï¼Œè·³è½¬åæ‰§è¡Œçš„æŒ‡ä»¤ä¸ºï¼š<code>mov    $0xcf,%eax</code>ï¼Œæ ¹æ®ä¸åŒçš„ç¬¬ä¸€ä½æ•°å­—å¾—åˆ°çš„ä¸ºï¼š<code>0--0xcf</code> <code>1--0x137</code> <code>2--0x2c3</code> <code>3--0x100</code> <code>4--0x185</code> <code>5--0xce</code> <code>6--0x2aa</code> <code>7--0x147</code></p>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>0 207</code></p>
<h2 id="phase-4"><a href="#phase-4" class="headerlink" title="phase_4"></a>phase_4</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬å››ä¸ªä¸»è¦éš¾ç‚¹åœ¨func4å‡½æ•°é‡Œæœ‰ä¸€ä¸ªå•æ“ä½œæ•°çš„saræŒ‡ä»¤ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºç§»ä½çš„æ•°å­˜åœ¨å¯„å­˜å™¨clé‡Œï¼Œåæ¥æ‰å‘ç°è¿™æ˜¯é»˜è®¤ç§»ä½1ï¼Œæ‰€æœ‰è¿™ä¸ªé¢˜çš„å¯†ç ç¬¬ä¸€ä½æ˜¯åœ¨ç”¨äºŒåˆ†æ³•åœ¨(0-14)ä¸­æ‰¾å€¼ï¼Œä½†æ˜¯ç”±äºå‡½æ•°è¿”å›å€¼æ˜¯0æ‰ä¸ä¼šçˆ†ç‚¸ï¼Œå¾€å³åŠéƒ¨åˆ†æŸ¥æ‰¾æ—¶ï¼Œè¿”å›å€¼ä¸ä¸º0,æ‰€ä»¥å¯†ç åªèƒ½åœ¨å·¦åŠéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯7ï¼Œ3ï¼Œ1ï¼Œ0ï¼Œå››ç§ç­”æ¡ˆï¼Œç¬¬äºŒä¸ªå¯†ç æ˜¯åœ¨phase_4å‡½æ•°é‡Œï¼Œå¯¹æ¯”çš„æ•°å­—æ˜¯0ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå¯†ç æ˜¯0ã€‚<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_4</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230316-112833@2x.png" class>
<p>æ‰¾åˆ°<code>sscanf</code>å‡½æ•°ï¼Œå’Œä¹‹å‰ä¸€æ ·æ‰“æ–­ç‚¹æŸ¥çœ‹è¾“å…¥æ ¼å¼ã€‚è¿™é“é¢˜å’Œä¸Šä¸€é“çš„<code>rsi</code>å†…å®¹ä¸€æ ·ï¼Œè¯´æ˜éƒ½æ˜¯ä¸¤ä¸ªæ•°ã€‚</p>
</li>
<li><p><code>cmpl   $0xe,0x8(%rsp)</code>ï¼š<br><code>jbe    0x40103a &lt;phase_4+46&gt;</code>ï¼šå°äºç­‰äºè·³è½¬ï¼Œè¯´æ˜ç¬¬ä¸€ä¸ªå¯†ç å°äºç­‰äº14ã€‚<br><code>mov    $0xe,%edx</code>ï¼š14å­˜åˆ°<code>rdx</code>ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚<br><code>mov    $0x0,%esi</code>ï¼š0å­˜åˆ°<code>rsi</code>ç¬¬äºŒä¸ªå‚æ•°ã€‚<br><code>mov    0x8(%rsp),%edi</code>ï¼šç¬¬ä¸€ä¸ªå¯†ç å­˜åˆ°<code>rdi</code>ç¬¬ä¸€ä¸ªå‚æ•°ã€‚<br><code>callq  0x400fce &lt;func4&gt;</code>ï¼šè°ƒç”¨func4å‡½æ•°ã€‚</p>
</li>
<li><p><code>disas</code>ï¼šæ‰“æ–­ç‚¹åæ±‡ç¼–ï¼ŒåŒºé—´(a,b)</p>
<img src="/2023/03/14/09-43-26/WX20230316-113725@2x.png" class>
<p><code>mov    %edx,%eax</code>ï¼šç¬¬ä¸‰ä¸ªå‚æ•°14å­˜åˆ°<code>rax</code><br><code>sub    %esi,%eax</code>ï¼š<code>rax</code>-<code>rsi</code><br><code>mov    %eax,%ecx</code>ï¼šæŠŠä¸¤ä¸ªå‚æ•°çš„å·®å­˜åˆ°<code>rcx</code> è®°ä¸ºm<br><code>shr    $0x1f,%ecx</code>ï¼š<code>ecx</code>é€»è¾‘å³ç§»31ä½ï¼Œ<code>ecx</code>æ˜¯32ä½çš„ï¼Œç§»åŠ¨31ä½ï¼Œåªå‰©ä¸‹äº†ç¬¦å·ä½ã€‚<br><code>add    %ecx,%eax</code>ï¼š<code>eax</code>ç­‰äº0+å·®ã€‚<code>å¦‚æœb-a=-1ï¼Œecx=1ï¼Œeax+1=0</code><br><code>sar    %eax</code>ï¼š<code>eax</code>å³ç§»ä¸€ä½ï¼Œç®—æœ¯å³ç§»ï¼Œç­‰äº7ï¼Œm<br><code>lea    (%rax,%rsi,1),%ecx</code>ï¼šåŠ è½½æœ‰æ•ˆåœ°å€ï¼Œæ•ˆæœæ˜¯<code>rcx</code>é‡Œå­˜å…¥äº†a+m<br><code>cmp    %edi,%ecx</code>æ¯”è¾ƒä¸­é—´å€¼æ˜¯å¦ç­‰äºç¬¬ä¸€ä¸ªæ•°å­—ã€‚<br>å¦‚æœå¤§äºï¼š<code>lea    -0x1(%rcx),%edx</code>bç­‰äºm-1ã€‚é€’å½’å‡½æ•°ï¼Œå·¦è¾¹åŒºé—´æŸ¥æ‰¾æ˜¯ç»“æŸé€’å½’å<code>rax</code>ä¹˜2ã€‚<br>å°äºç­‰äºï¼š<br><code>mov    $0x0,%eax</code>ï¼š<code>eax</code>ç­‰äº0<br><code>cmp    %edi,%ecx</code>ï¼šå¯¹æ¯”ä¸­é—´å€¼å’Œç¬¬ä¸€ä¸ªæ•°å­—<br><code>jge    0x401007 &lt;func4+57&gt;</code>ï¼šå¤§äºç­‰äºè·³è½¬ï¼Œæœ¬æ¥æ˜¯å°äºç­‰äºï¼Œç›¸ç­‰äºç­‰äºè·³è½¬ï¼Œæ‰€ä»¥ç»“æŸæ ‡å¿—æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ç­‰äºä¸­é—´å€¼mã€‚è¿”å›å€¼<code>rax</code>ä¸º0ã€‚<br><code>0x1(%rcx),%esi</code>ï¼šå°äºæ—¶ï¼Œa = m+ 1ï¼Œç»§ç»­é€’å½’ï¼Œå°äºæ—¶ç»“æŸé€’å½’åæ‰§è¡Œçš„æ˜¯<code>0x1(%rax,%rax,1),%eax</code>ï¼Œä¸ä¸º0ã€‚</p>
</li>
<li><p>æ ¹æ®<code>func4</code>è¿”å›å<code>test   %eax,%eax</code>ï¼Œå¦‚æœä¸ç›¸ç­‰å°±çˆ†ç‚¸ï¼Œæ‰€ä»¥eaxåªèƒ½ç­‰äº0ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªæ•°å­—ä¸€å®šæ˜¯åœ¨äºŒåˆ†æŸ¥æ‰¾çš„å·¦è¾¹åŒºé—´ï¼Œæ‰€ä»¥å¯èƒ½å€¼ä¸º7ï¼Œ3ï¼Œ1ï¼Œ0ã€‚</p>
</li>
<li><p><code>cmpl   $0x0,0xc(%rsp)</code>ï¼šç›¸ç­‰æ—¶å‡½æ•°ç»“æŸï¼Œè¯´æ˜ç¬¬äºŒä¸ªå¯†ç æ˜¯å›ºå®šå€¼0ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>0 0</code></p>
<h2 id="phase-5"><a href="#phase-5" class="headerlink" title="phase_5"></a>phase_5</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬äº”ä¸ªæ¯”è¾ƒæœ‰è¶£,è¿˜æ˜¯å’Œ12ä¸€æ ·è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦,çŸ¥é“å¯†ç åº”è¯¥æ˜¯ä¸€ä¸ª6ä½é•¿åº¦å­—ç¬¦ä¸²ï¼Œè®¡ç®—å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯ç›¸ç­‰å‡½æ•°çš„å‚æ•°æ˜¾ç¤ºå¾…åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯â€flyersâ€ï¼Œç¼–è¯‘çš„æ—¶å€™ç”¨äº†canaryï¼Œæ ˆæŒ‡é’ˆæ¯æ¬¡éƒ½ä¸åŒï¼Œè¿™ä¸ªå¯¹è§£å¯†åº”è¯¥æ˜¯æ²¡å½±å“ï¼Œä¸»è¦æ˜¯è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸€ä¸ªå­—èŠ‚åªä¿ç•™äº†ä½å››ä½,ç„¶ååŠ ä¸Šä¸€ä¸ªåœ°å€ï¼Œå°†å†…å­˜ä¸­çš„å€¼é€åˆ°äº†rspé‡Œï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰“å°ä¸€ä¸‹è¿™ä¸ªåœ°å€å¼€å§‹çš„15ä¸ªå­—èŠ‚ï¼Œæ˜¯ä¸€ä¸²å­—ç¬¦maduiersnfotvbylï¼Œéœ€è¦æˆ‘ä»¬ä»é‡Œé¢æ‰¾å‡ºå¯†ç ï¼Œä½ç½®åˆ†åˆ«æ˜¯9ï¼Œ15ï¼Œ14ï¼Œ5ï¼Œ6ï¼Œ7ã€‚æ‰€ä»¥è¾“å…¥çš„å­—ç¬¦ä¸²çš„ASCIIç¼–ç åå››ä½åº”è¯¥å°±æ˜¯è¿™ä¸ªå€¼ï¼Œç­”æ¡ˆæ¯”è¾ƒå¤šï¼Œæ‰¾<br>äº†ä¸€ä¸ªâ€™aâ€™-â€˜zâ€™ä¸­çš„ç­”æ¡ˆã€‚<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_5</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230316-132301@2x.png" class>
<p>æ ¹æ®å­—ç¬¦ä¸²å¯¹æ¯”å‡½æ•°çš„ä¸‹ä¸€æ¡<code>cmp    $0x6,%eax</code>ï¼Œå¯ä»¥çœ‹å‡ºè¿™é“é¢˜å¯†ç é•¿åº¦ä¸º6ã€‚</p>
</li>
<li><p>åˆ†æè·³è½¬åçš„ä»£ç </p>
<img src="/2023/03/14/09-43-26/WX20230316-160027@2x.png" class>
<p><code>movzbl (%rbx,%rax,1),%ecx</code>ï¼š<code>ecx</code>å†…å­˜çš„æ˜¯<code>rbx</code>çš„ç¬¬<code>rax</code>ä¸ªå­—èŠ‚åšé›¶æ‰©å±•åˆ°åŒå­—ï¼Œå¦‚å›¾æ˜¯<code>0x69</code>ï¼›<code>rax</code>ç›¸å½“äºæ˜¯forå¾ªç¯é‡Œçš„iã€‚<br><code>mov    %cl,(%rsp)</code>ï¼šæŠŠ<code>rcx</code>çš„ä½å…«ä½é€å…¥æ ˆé¡¶æŒ‡é’ˆæŒ‡å‘çš„åœ°å€ã€‚<br><code>mov    (%rsp),%rdx</code>ï¼šæŠŠå€¼ç»§ç»­é€åˆ°<code>rdx</code>ã€‚<br><code>and    $0xf,%edx</code>ï¼šåªä¿ç•™<code>rdx</code>çš„ä½å››ä½ã€‚<br><code>movzbl 0x4024b0(%rdx),%edx</code>ï¼šæŠŠ<code>rdx</code>çš„å€¼åŠ ä¸Š<code>0x4024b0</code>ï¼Œæ–°åœ°å€çš„å†…å®¹å­˜åˆ°<code>edx</code>é‡Œã€‚<br><code>mov    %dl,0x10(%rsp,%rax,1)</code>ï¼šæŠŠ<code>rdx</code>çš„ä½å…«ä½å­˜å…¥<code>rax+rsp+0x10</code>çš„ä½ç½®ã€‚<br><code>add    $0x1,%rax</code>ï¼šiè‡ªåŠ <br><code>cmp    $0x6,%rax</code>ï¼šå¾ªç¯ç»“æŸåˆ¤æ–­</p>
</li>
<li><p>åç»­æŒ‡ä»¤æŠŠæ‰€æœ‰çš„è¾“å…¥å­—ç¬¦æ”¹å˜ä¹‹åä¿å­˜åœ¨äº†<code>rsp + 0x10</code>æŒ‡å‘çš„åœ°å€é‡Œï¼Œç„¶åè°ƒç”¨<code>strings_not_equal</code>ï¼šæˆ‘ä»¬å¯ä»¥æ ¹æ®æŸ¥çœ‹ä¼ å‚ï¼Œçœ‹ä¸€ä¸‹æ ‡å‡†ç­”æ¡ˆæ˜¯ä»€ä¹ˆã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230316-161808@2x.png" class>
<p>å¯ä»¥çœ‹åˆ°å¯†ç æ˜¯å­—ç¬¦ä¸²<code>flyers</code>ï¼Œå¯¹åº”çš„å­—èŠ‚æ˜¯<code>0x66 0x6c 0x79 0x65 0x72 0x73</code>ã€‚</p>
</li>
<li><p>æˆ‘ä»¬åœ¨æ‰“å°ä¸€ä¸‹forå¾ªç¯é‡Œè·³è½¬çš„åœ°å€<code>0x4024b0</code>ä¿å­˜çš„æ˜¯ä»€ä¹ˆ?</p>
<img src="/2023/03/14/09-43-26/WX20230316-162400@2x.png" class>
<p>ç”±äºåç§»é‡æ€»æ˜¯ä½å››ä½ï¼ŒèŒƒå›´æ˜¯0-15ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²åªéœ€è¦å…³æ³¨<br><code>maduiersnfotvbyl</code>å‰é¢è¿™äº›ï¼Œéœ€è¦æˆ‘ä»¬ä»é‡Œé¢æ‰¾å‡ºå¯†ç ï¼Œä½ç½®åˆ†åˆ«æ˜¯9ï¼Œ15ï¼Œ14ï¼Œ5ï¼Œ6ï¼Œ7ã€‚æ‰€ä»¥è¾“å…¥çš„å­—ç¬¦ä¸²çš„ASCIIç¼–ç åå››ä½åº”è¯¥å°±æ˜¯è¿™ä¸ªå€¼ï¼Œç­”æ¡ˆæ¯”è¾ƒå¤šï¼Œæ‰¾äº†ä¸€ä¸ªâ€™aâ€™-â€˜zâ€™ä¸­çš„ç­”æ¡ˆã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>ionefg</code></p>
<h2 id="phase-6"><a href="#phase-6" class="headerlink" title="phase_6"></a>phase_6</h2><p>æ€è·¯ï¼š</p>
<p>ç¬¬å…­ä¸ªæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼ŒèŠ‚ç‚¹çš„å‰å…«ä¸ªå­—èŠ‚ä¸­ä½ä½æ˜¯æ•°æ®ï¼Œé«˜ä½æ˜¯è¾“å…¥çš„å¯†ç ï¼Œé«˜ä½çš„8ä¸ªå­—èŠ‚æ˜¯ä¸‹ä¸€è·³åœ°å€ï¼Œæ ¹æ®è¾“å…¥çš„6ä¸ªæ•°å¿…é¡»æ˜¯1-6ï¼Œåˆ‡ä¸¤ä¸¤ä¸ç›¸åŒï¼Œè¿˜è¿›è¡Œäº†ä¸€æ¬¡å¤„ç†ï¼Œæ¯ä¸€ä½å¯†ç xï¼Œå˜æˆäº†y = 7-xã€‚</p>
<p>ç„¶åæ˜¯é“¾è¡¨çš„æ“ä½œï¼Œæ¯ä¸€ä¸ªå¯†ç çš„èŠ‚ç‚¹å¯¹åº”çš„æ˜¯(y - 1) * 8 + ç»“ç‚¹é¦–åœ°å€ï¼Œ åˆ†é…å¥½ç»“ç‚¹åè¿›è¡Œç»“ç‚¹è¿æ¥ã€‚<br>æ¯ä¸€ä½å¯†ç çš„ä¸‹ä¸€è·³å°±æ˜¯ä¸‹ä¸€ä½å¯†ç å¯¹åº”çš„ç»“ç‚¹åœ°å€ï¼Œæœ€åä¸€ä½ç»“ç‚¹çš„ä¸‹ä¸€è·³æ˜¯0ï¼›è¦æ±‚æ˜¯å¿…è¦è®©ç»“ç‚¹ä¸­çš„æ•°æ®ï¼Œæ»¡è¶³å‰ä¸€ä¸ªç»“ç‚¹å¤§äºç­‰äºåä¸€ä¸ªç»“ç‚¹ï¼Œ<br>è€Œæ‰€æœ‰ç»“ç‚¹çš„æ•°æ®åˆ†åˆ«æ˜¯ï¼š<br>(1):332<br>(2):168<br>(3):924<br>(4):691<br>(5):477<br>(6):443<br>æ‰€ä»¥æ•°æ®æœ€å¤§çš„ç»“ç‚¹åº”è¯¥åœ¨æœ€å‰é¢ï¼Œåºå·åº”è¯¥æ˜¯3 4 5 6 1 2ã€‚<br>è€Œè¾“å…¥çš„å¯†ç åº”è¯¥æ˜¯7 - yï¼š   4 3 2 1 6 5<br>åšæ³•ï¼š</p>
<ol>
<li><p><code>break phase_6</code> ï¼šæ‰“æ–­ç‚¹</p>
</li>
<li><p><code>disas</code>ï¼šæ˜¾ç¤ºæ±‡ç¼–æŒ‡ä»¤</p>
<img src="/2023/03/14/09-43-26/WX20230316-163103@2x.png" class>
<img src="/2023/03/14/09-43-26/WX20230316-163118@2x.png" class>
<img src="/2023/03/14/09-43-26/WX20230316-163134@2x.png" class>
</li>
<li><p>æ ¹æ®æŒ‡ä»¤ï¼Œè¿™é“é¢˜æ˜¯è¯»å–äº†å…­ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹åé¢çš„å¤„ç†ã€‚è¾“å…¥çš„æ•°å­—ä¿å­˜åœ¨<code>rsp</code>æŒ‡å‘çš„åœ°å€é‡Œã€‚æ¯ä¸ªæ•°å­—å­˜å‚¨åœ¨å››ä¸ªå­—èŠ‚é‡Œ<br><code>mov    %rsp,%r14</code>ï¼šæŠŠè¾“å…¥çš„æ•°ç»„èµ·å§‹åœ°å€é€åˆ°<code>r14</code><br><code>mov    $0x0,%r12d</code>ï¼š<code>r12d</code>èµ‹å€¼0ï¼Œè®°ä¸º<code>i</code><br><code>mov    %r13,%rbp</code>ï¼š<code>rbp</code>ä¿å­˜æ ˆé¡¶æŒ‡é’ˆï¼Œæ•°ç»„èµ·å§‹åœ°å€<br><code>mov    0x0(%r13),%eax</code>ï¼š<code>rax</code>ç­‰äºè¾“å…¥çš„ç¬¬ä¸€ä¸ªå€¼<br><code>sub    $0x1,%eax</code>ï¼šè‡ªå‡1<br><code>cmp    $0x5,%eax</code>ï¼šåˆ¤æ–­<code>rax</code>æ˜¯ä¸æ˜¯ç­‰äº5<br><code>jbe    0x401128 &lt;phase_6+52&gt;</code>ï¼šæ— ç¬¦å·å°äºç­‰äºæ‰ä¸ä¼šçˆ†ç‚¸ï¼Œæ‰€ä»¥è¾“å…¥çš„æ•°å­—è‡ªå‡å‰å¿…é¡»æ˜¯<code>1-6</code>ã€‚<br><code>add    $0x1,%r12d</code>ï¼š<code>i</code>+1<br><code>cmp    $0x6,%r12d</code>ï¼šå¾ªç¯ç»“æŸæ ‡å¿—ï¼Œç›¸ç­‰è·³è½¬<br>ä¸ç›¸ç­‰ï¼š<br><code>mov    %r12d,%ebx</code>ï¼šæŠŠ<code>i</code>é€åˆ°<code>rbx</code>ï¼Œ è®°ä¸º<code>j = i + 1</code>ã€‚<br><code>movslq %ebx,%rax</code>ï¼šç¬¦å·æ‰©å±•é€åˆ°<code>rax</code>ï¼Œç­‰äº<code>j</code><br><code>mov    (%rsp,%rax,4),%eax</code>ï¼šè¾“å…¥çš„ç¬¬<code>j</code>ä¸ªæ•° é€åˆ° <code>rax</code><br><code>cmp    %eax,0x0(%rbp)</code>ï¼šå¯¹æ¯”<code>rax</code>å’Œæ ˆé¡¶æŒ‡é’ˆæŒ‡å‘çš„æ•°æ˜¯å¦ç›¸åŒï¼Œç›¸ç­‰å°±çˆ†ç‚¸ï¼Œæ•°å­—ä¸èƒ½é‡å¤ã€‚<br><code>add    $0x1,%ebx</code>ï¼š<code>j++</code><br><code>cmp    $0x5,%ebx</code>ï¼šå¾ªç¯è·³å‡ºæ¡ä»¶ï¼Œåé¢çš„æ¯ä¸€ä¸ªæ•°ä¸èƒ½å’Œç¬¬ä¸€ä¸ªæ•°ç›¸ç­‰ã€‚<br><code>add    $0x4,%r13</code>ï¼šå¾ªç¯é‡å¤ï¼Œ<code>i</code>æŒ‡å‘ä¸‹ä¸€ä¸ªæ•°<br>æ‰€æœ‰çš„æ•°èŒƒå›´æ˜¯<code>1-6</code>ï¼Œä¸”ä¸é‡å¤æ—¶ã€‚</p>
</li>
<li><p><code>lea    0x18(%rsp),%rsi</code>ï¼šæŠŠæœ€åä¸€ä¸ªæ•°çš„åœ°å€é€åˆ°<code>rsi</code><br><code>mov    %r14,%rax</code>ï¼šæ•°ç»„çš„ç¬¬ä¸€ä¸ªåœ°å€é€åˆ°<code>rax</code><br><code>mov    $0x7,%ecx</code>ï¼š<code>rcx</code>ç­‰äº7<br><code>mov    %ecx,%edx</code>ï¼š<code>rdx</code> = 7<br><code>sub    (%rax),%edx</code>ï¼š<code>rdx</code> = 7 - <code>*rax</code>ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°<br><code>mov    %edx,(%rax)</code>ï¼šè¦†ç›–è¿™ä¸ªæ•°<br><code>add    $0x4,%rax</code>ï¼šæ•°ç»„ä¸‹ä¸€ä¸ª<br><code>cmp    %rsi,%rax</code>ï¼šè·³å‡ºæ¡ä»¶<br>è¿™æ®µä»£ç æŠŠæ‰€æœ‰æ•°ç»„çš„æ•°ï¼Œå…¨éƒ¨ç”¨7å‡ï¼Œä¿å­˜å·®</p>
</li>
<li><p><code>mov    $0x0,%esi</code>ï¼š<code>rsi</code> = 0ï¼Œè®°ä¸º<code>i</code><br><code>mov    (%rsp,%rsi,1),%ecx</code>ï¼š<code>rcx</code>ä¿å­˜<code>rsp</code>çš„ç¬¬<code>i</code>ä¸ªå­—èŠ‚åœ°å€çš„æ•°å­—ï¼Œè®°ä¸º<code>x</code>ï¼Œæ³¨æ„æ•°å­—åœ¨4çš„å€æ•°å­—èŠ‚å¤„<br><code>cmp    $0x1,%ecx</code>ï¼š<code>x</code> == 1ï¼Œ1è¿›è¡Œè¿™ä¸ªifåˆ¤æ–­<br>å¦‚æœx==1ï¼š<br><code>mov    $0x6032d0,%edx</code>ï¼š<code>rdx</code>èµ‹å€¼ï¼Œè¿™é‡Œè¦æ³¨æ„åº”è¯¥å°±æ˜¯å¯†ç æ‰€åœ¨åœ°<br>å¦‚æœx&gt;1ï¼š<br><code>mov    $0x1,%eax</code>ï¼š<code>rax</code> = 1<br><code>mov    $0x6032d0,%edx</code>:<br><code>mov    0x8(%rdx),%rdx</code>ï¼š<code>rdx</code> =  ï¼ˆ<code>rdx</code> + 8åœ°å€ä¿å­˜çš„æ•°æ®ï¼‰ï¼Œå°±æ˜¯<code>rdx</code>åœ°å€æŒ‡å‘çš„èŠ‚ç‚¹çš„nextã€‚<br><code>add    $0x1,%eax</code>ï¼š<code>rax</code> + 1<br><code>cmp    %ecx,%eax</code>ï¼šå¯¹æ¯”<code>x</code>å’Œ<code>rax</code><br>ä¸ç›¸ç­‰æ—¶<code>rax</code>ä¸€ç›´åŠ 1ï¼Œæœ€ç»ˆ<code>rdx</code>æŒ‡å‘ç¬¬xä¸ªèŠ‚ç‚¹åœ°å€<br>ifåˆ¤æ–­ç»“æŸï¼š<br><code>mov    %rdx,0x20(%rsp,%rsi,2)</code>ï¼šæŠŠ<code>rdx</code>æ•°é€å…¥<code>rsp</code> + 2 <em> i + 0x20ï¼Œè¿™ä¸ªåœ°å€ï¼Œç›¸å½“äºæŠŠæ•°ç»„æ•´ä½“æ¢ä½ç½®ï¼Œåé¢æ˜¯åç§»é‡ã€‚<br><code>add    $0x4,%rsi</code>ï¼š<code>i</code> = <code>i</code> + 4<br><code>cmp    $0x18,%rsi</code>ï¼šç»“æŸæ¡ä»¶<br>è¿™æ®µå¾ªç¯æŠŠæ•°ç»„é‡Œçš„æ•°ï¼Œå…¨éƒ¨å‘ååç§»ä¿å­˜äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä¸­0ï¼Œ1å¯¹åº”çš„æ˜¯å›ºå®šå€¼<code>$0x6032d0</code>ï¼Œå¤§äº1çš„å€¼éƒ½æ˜¯`$0x6032d0 + 8 </em> (x - 1)`ã€‚æ–°æ•°ç»„çš„æ¯ä¸€ä¸ªæ•°é•¿åº¦æ˜¯8å­—èŠ‚ï¼Œæ•°æ®æ˜¯ä¸€ä¸²åœ°å€ã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230317-124521@2x.png" class>
<p>å¯ä»¥çœ‹å‡ºåœ¨<code>rsp</code>å0x20åœ°å€å¤„ï¼Œæ˜¯å…­ä¸ªåœ°å€ã€‚</p>
</li>
<li><p><code>mov    0x20(%rsp),%rbx</code>ï¼š<code>rbx</code>ç­‰äºæ–°å»ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œè®°ä¸º<code>i</code><br><code>lea    0x28(%rsp),%rax</code>ï¼š<code>rax</code>æ˜¯æ–°æ•°ç»„ç¬¬äºŒä¸ªæ•°çš„åœ°å€ï¼Œè®°ä¸º<code>&amp;j</code><br><code>lea    0x50(%rsp),%rsi</code>ï¼š<code>rsi</code>æ•°ç»„æœ€å¤§åœ°å€<br><code>mov    %rbx,%rcx</code>ï¼š<code>rcx</code>å­˜ç¬¬ä¸€ä¸ªæ•°ï¼Œè®°ä¸º<code>i</code><br>å¾ªç¯ï¼š<br><code>mov    (%rax),%rdx</code>ï¼š<code>rdx</code>ï¼šå­˜ä¸‹ä¸ªæ•°ï¼Œè®°ä¸º<code>j</code><br><code>mov    %rdx,0x8(%rcx)</code>ï¼šæŠŠ<code>j</code>æ”¾åˆ°<code>i</code>å8ä¸ªå­—èŠ‚å¤„<br><code>add    $0x8,%rax</code>ï¼š<code>&amp;j = &amp;j + 8</code>ï¼Œåç§»å…«ä¸ªå­—èŠ‚<br><code>cmp    %rsi,%rax</code>ï¼šå¯¹æ¯”æœ‰æ²¡æœ‰åˆ°äº†æ•°ç»„æœ«å°¾<br>æ²¡æœ‰åˆ°æœ€åä¸€ä¸ªåœ°å€ï¼š<br><code>mov    %rdx,%rcx</code>ï¼š<code>rcx</code> = <code>rdx</code>ï¼Œ<code>i</code>åç§»8ä¸ªå­—èŠ‚<br>ç»§ç»­ä¸Šé¢çš„å¾ªç¯<br>å¦‚æœåˆ°äº†æœ€åä¸€ä¸ªåœ°å€ï¼š<br><code>movq   $0x0,0x8(%rdx)</code>ï¼šæŠŠ0å­˜åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å8å­—èŠ‚å¤„ï¼Œå°¾ç»“ç‚¹çš„next=0ã€‚<br>ä¸Šé¢æŠŠæ‰€æœ‰é“¾è¡¨è¿æ¥èµ·æ¥äº†ã€‚é“¾æ¥æ–¹å¼æ˜¯æŒ‰ç…§è¾“å…¥çš„å…­ä¸ªæ•°å­—è¿›è¡Œè¿æ¥ï¼ŒæŒ‰ç…§1-6çš„é¡ºåºï¼Œæ•°å­—è¶Šå¤§ï¼Œåœ°å€è¶Šå¤§ã€‚æ¯ä¸ªæ•°å­—ä»£è¡¨ä¸€ä¸ªåœ°å€ï¼Œä»1-6é“¾æ¥èµ·æ¥ã€‚</p>
</li>
<li><p>ä¸‹é¢è¿›è¡Œçš„æ˜¯çˆ†ç‚¸åˆ¤æ–­ï¼š<br><code>mov    $0x5,%ebp</code>ï¼š<code>rbp</code> = 5<br>å¾ªç¯ï¼š<br><code>mov    0x8(%rbx),%rax</code>ï¼š<code>rax</code>=ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„next<br><code>mov    (%rax),%eax</code>ï¼š<code>rax</code>=åœ°å€ä¿å­˜çš„æ•°<br><code>cmp    %eax,(%rbx)</code>ï¼š<em>nextå¯¹æ¯”*</em>this<br>å°äºå°±çˆ†ç‚¸ï¼š<br>å¤§äºç­‰äºï¼š<br><code>mov    0x8(%rbx),%rbx</code>ï¼šthiså‘åç§»åŠ¨8ä½<br><code>sub    $0x1,%ebp</code>ï¼š<code>rbp</code>å‡1<br>ä¸ç­‰äº0æ—¶ï¼Œå¾ªç¯ç»§ç»­<br>ä¸Šé¢è¿™æ®µå¾ªç¯å¦‚æœé“¾è¡¨çš„æ•°æ®è¡¨ç¤ºçš„åœ°å€å†…å­˜çš„æ•°æ˜¯é€’å¢çš„å°±çˆ†ç‚¸äº†ã€‚æ‰€ä»¥å°±æ˜¯è¦æŠŠé“¾è¡¨è°ƒæ•´ä¸ºé€’å‡çš„é“¾è¡¨ï¼Œé€šè¿‡è¾“å…¥çš„1-6ã€‚</p>
</li>
<li><p>æ‰“å°çœ‹ä¸€ä¸‹è¿™ä¸ª<code>$0x6032d0</code>åœ°å€å¤„ä¿å­˜çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿ<br>é“¾æ¥ä¹‹å‰çš„é“¾è¡¨ï¼š</p>

<p>é‡æ–°é“¾æ¥ä¹‹åçš„é“¾è¡¨ï¼š</p>

<p>æ ¹æ®çˆ†ç‚¸åˆ¤æ–­ï¼Œè¿™é“é¢˜å°±æ˜¯è®©é“¾è¡¨æ’åºæˆé€’å‡ã€‚</p>
</li>
</ol>
<p>ç­”æ¡ˆ:</p>
<p><code>4 3 2 1 6 5</code></p>
<h2 id="secret-phase"><a href="#secret-phase" class="headerlink" title="secret_phase"></a>secret_phase</h2><p>é‡æ–°å¼€å§‹å†™è§£é¢˜ç¬”è®°çš„æ—¶å€™ï¼ŒæŒ‰ç…§å°åœŸåˆ€çš„åšå®¢æ­å»ºäº†hexoåšå®¢ï¼Œæ ¹æ®ä»–çš„æ–‡ç« æ ¼å¼å†™å‡ºäº†è¿™ç¯‡è§£é¢˜ç¬”è®°ï¼Œåœ¨ä»–çš„æ–‡ç« é‡Œå‘ç°è¿˜æœ‰ä¸€é“å½©è›‹é¢˜ç›®ï¼Œè—åœ¨äº†<code>phase_defused</code>å‡½æ•°é‡Œã€‚è¿™ä¸ªä¸ä»”ç»†è¯»æ±‡ç¼–ä»£ç å¾ˆéš¾å‘ç°ï¼Œå› ä¸ºä¸€èˆ¬ä¸ä¼šçœ‹æ‹†å¼¹æˆåŠŸçš„å‡½æ•°ã€‚ç°åœ¨è‡ªå·±æŠŠè¿™ä¸ªå½©è›‹ä¹Ÿåšä¸€ä¸‹ã€‚</p>
<p>æ€è·¯ï¼š</p>
<p>åšæ³•ï¼š</p>
<ol>
<li><p>åœ¨å‡½æ•°<code>phase_defused</code>å¤„æ‰“æ–­ç‚¹ã€‚</p>
<img src="/2023/03/14/09-43-26/WX20230317-143025@2x.png" class>
<p>å‘ç°è¿™é‡Œæœ‰ä¸€ä¸ª<code>secret_phase</code>å‡½æ•°ï¼Œå¯¹è¿™ä¸ªå‡½æ•°æ‰“æ–­ç‚¹å‘ç°ä¸ä¼šè¿›å…¥ã€‚<br>åœ¨æ±‡ç¼–ä»£ç é‡Œæ‰¾ä¸€ä¸‹å‡½æ•°å…¥å£ã€‚</p>
</li>
<li><p><code>cmpl   $0x6,0x202181(%rip)        # 0x603760 &lt;num_input_strings&gt;</code>ï¼šå¯¹æ¯”å½“å‰çš„å…³å¡æ•°ï¼Œä¸ç­‰äº6æ—¶è·³è½¬ï¼Œç­‰äº6æ—¶ï¼Œå¯èƒ½ä¼šè¿›å…¥å½©è›‹ã€‚</p>
</li>
<li><p><code>mov    $0x402619,%esi</code>å’Œ<code>mov    $0x603870,%edi</code>ï¼Œæ ¹æ®è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåº”è¯¥æ˜¯è°ƒç”¨çš„sscanfå‡½æ•°ï¼Œçœ‹ä¸€ä¸‹è¾“å…¥å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<img src="/2023/03/14/09-43-26/WX20230317-145028@2x.png" class>
<p>å¯ä»¥çœ‹å‡ºå¯†ç æ˜¯ä¸¤ä¸ªæ•°å­—ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p><code>mov    $0x402622,%esi</code>ï¼šæ‰“å°çœ‹ä¸€ä¸‹è¿™é‡Œå­˜çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<img src="/2023/03/14/09-43-26/WX20230317-150241@2x.png" class>
<p>å¯ä»¥ç¡®å®šç¬¬ä¸‰ä¸ªå¯†ç æ˜¯<code>DrEvil</code></p>
</li>
<li><p><code>mov    $0x4024f8,%edi</code>ï¼š<br><code>mov    $0x402520,%edi</code>ï¼šæ‰“å°çœ‹ä¸€ä¸‹è¿™é‡Œæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<img src="/2023/03/14/09-43-26/WX20230317-150454@2x.png" class>
</li>
<li><p>ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„<code>psol.txt</code>ï¼Œæœ€åä¸€è¡ŒåŠ ä¸Š<code>0 0 DrEvil</code>ï¼Œé‡æ–°è°ƒè¯•è¿›å…¥<code>secret_phase</code>çœ‹ä¸€ä¸‹æ±‡ç¼–ä»£ç ï¼Œä»£ç æ²¡æœ‰è¿›å…¥ï¼Œè¯´æ˜è¾“å…¥ä¸åœ¨æœ€åï¼Œç»§ç»­çœ‹ä¸€ä¸‹æ±‡ç¼–ä»£ç ã€‚</p>
</li>
<li><p>æ ¹æ®sscanfçš„ç¬¬ä¸€ä¸ªå‚æ•°åœ°å€åœ¨<code>0x603870</code>ï¼Œæˆ‘ä»¬å°±æ‰¾ä¸€ä¸‹ä¹‹å‰è¾“å…¥çš„æ•°æ®å“ªä¸€ä¸ªå­˜æ”¾åœ¨è¿™å‘¨å›´ï¼Œåœ¨<code>bomb.s</code>æ–‡ä»¶é‡Œæœä¸€ä¸‹æœ€è¿‘çš„æ˜¯<code>read_line</code>å‡½æ•°é‡Œçš„<code>0x603780</code>ã€‚<br>çœ‹ä¸€ä¸‹é™„ä»¶çš„ä»£ç ï¼š<br><code>lea    (%rax,%rax,4),%rsi</code>ï¼š<br><code>shl    $0x4,%rsi</code>ï¼š<br><code>add    $0x603780,%rsi</code>ï¼š<br><code>rax</code>æ”¾çš„æ˜¯é¢˜ç›®åºå·ï¼Œä¹˜5ï¼Œå·¦ç§»4ä½ï¼ŒåŠ ä¸Š<code>0x603780</code>åç­‰äºæˆ‘è¦çš„å€¼ï¼Œ<code>rax</code>åº”è¯¥ç­‰äº3ã€‚ä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸‰é“é¢˜ç›®è§£å‡ºæ¥ä¹‹åï¼Œç¬¬å››é“é¢˜ç›®çš„è¾“å…¥ç¼“å†²åŒºåœ¨<code>0x603870</code>ã€‚æŠŠè¾“å…¥æ–‡ä»¶æ”¹ä¸€ä¸‹ã€‚</p>
</li>
<li><p>æˆåŠŸè¿›å…¥å½©è›‹å‡½æ•°ï¼Œç°åœ¨å¼€å§‹è§£è¿™ä¸ªå½©è›‹ã€‚<br>è¿™é‡Œè¦æŠŠå½©è›‹çš„è¾“å…¥æ”¾åœ¨ç¬¬å…­é“é¢˜çš„ä¸‹ä¸€è¡Œï¼Œå½©è›‹çš„å…¥å£åœ¨ç¬¬å››é“é¢˜çš„è¾“å…¥åé¢ã€‚<br><code>disas</code>ï¼šå…ˆçœ‹ä¸€ä¸‹æ±‡ç¼–ä»£ç </p>
<img src="/2023/03/14/09-43-26/WX20230317-163059@2x.png" class>
<p><code>mov    $0xa,%edx</code>ï¼š<code>rdx</code>=10<br><code>mov    $0x0,%esi</code>ï¼š<code>rsi</code>=0<br><code>mov    %rax,%rdi</code>ï¼š<code>rdi</code> = read_lineçš„è¿”å›å€¼ã€‚å°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„å­—ç¬¦ä¸²åœ°å€ã€‚<br><code>callq  0x400bd0 &lt;strtol@plt&gt;</code>ï¼šè°ƒç”¨å‡½æ•°ï¼Œæ‰¾å¼€å¤´çš„åè¿›åˆ¶æ•°è½¬æ¢ä¸ºlong intï¼Œå­˜åœ¨<code>rax</code>é‡Œï¼Œç»“å°¾çš„ä¸‹ä¸€ä¸ªåœ°å€æ”¾åœ¨<code>rsi</code>é‡Œã€‚<br><code>mov    %rax,%rbx</code>ï¼š<code>rbx</code>=æ•°å­—<br><code>lea    -0x1(%rax),%eax</code>ï¼š<code>rax</code>-1å­˜åˆ°<code>rax</code>é‡Œ<br><code>cmp    $0x3e8,%eax</code>ï¼šå¯¹æ¯”å¦‚æœï¼Œ0x3e8æ˜¯1000<br>å¦‚æœå¤§äºï¼Œçˆ†ç‚¸ï¼š<br>å¦‚æœå°äºç­‰äºï¼š<br><code>mov    %ebx,%esi</code>ï¼š<code>rsi</code>=<code>rbx</code><br><code>mov    $0x6030f0,%edi</code>ï¼š<code>rdi</code>èµ‹å€¼ï¼Œè¿™é‡Œåº”è¯¥æ˜¯å¯†ç æ‰€åœ¨åœ°<br><code>callq  0x401204 &lt;fun7&gt;</code>ï¼šè·³è½¬åˆ°fun7å‡½æ•°</p>
</li>
<li><p>åœ¨fun7å‡½æ•°é‡Œæ‰“æ–­ç‚¹ï¼Œçœ‹ä¸‹æ±‡ç¼–ä»£ç </p>
<img src="/2023/03/14/09-43-26/WX20230317-174533@2x.png" class>
<p><code>test   %rdi,%rdi</code>ï¼štest<code>rdi</code><br>å¦‚æœç­‰äº0å°±è·³è½¬ï¼š<br><code>mov    $0xffffffff,%eax</code>ï¼šèµ‹å€¼32ä½å…¨1ï¼Œè¿”å›<br>ä¸ç­‰äº0ï¼š<br><code>mov    (%rdi),%edx</code>ï¼šæŠŠ<code>rdi</code>åœ°å€ä¿å­˜çš„æ•°æ®<code>$</code>ç»™<code>rdx</code><br><code>cmp    %esi,%edx</code>ï¼šå¯¹æ¯”<code>rdx</code>å’Œæˆ‘ä»¬è¾“å…¥çš„å¯†ç <br><code>jle    0x401220 &lt;fun7+28&gt;</code>ï¼š<br>å¦‚æœ<code>rdx</code>&lt;=<code>rsi</code>ï¼š<br><code>mov    $0x0,%eax</code>ï¼šèµ‹å€¼0<br><code>cmp    %esi,%edx</code>ï¼šç»§ç»­å¯¹æ¯”<br>å¦‚æœ<code>rdx</code>==<code>rsi</code>ï¼šè¿”å›0ã€‚æ ¹æ®å½©è›‹çš„æ±‡ç¼–ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºè¿”å›å€¼ç­‰äº2æ‰å¯ä»¥æ‹†å¼¹æˆåŠŸã€‚<br>å¦‚æœ<code>rdx</code>&lt;<code>rsi</code>ï¼š<br><code>mov    0x10(%rdi),%rdi</code>ï¼šæŠŠ<code>rdi</code>æŒ‡å‘çš„åœ°å€+0x10ï¼Œå–æ•°æ®é€åˆ°<code>rdi</code><br>é€’å½’fun7ã€‚<br><code>lea    0x1(%rax,%rax,1),%eax</code>ï¼š<code>rax</code>å·¦ç§»ä¸€ä½å†åŠ 1ã€‚<br>å¦‚æœ<code>rdx</code> &gt; <code>rsi</code>ï¼š<br><code>mov    0x8(%rdi),%rdi</code>ï¼šæŠŠ<code>rdi</code>æŒ‡å‘çš„åœ°å€+0x8ï¼Œå–æ•°æ®é€åˆ°<code>rdi</code><br>é€’å½’fun7ã€‚<br><code>add    %eax,%eax</code>ï¼š<code>rax</code>å·¦ç§»ä¸€ä½</p>
</li>
<li><p>æ ¹æ®ä¸Šé¢çš„åˆ†æã€‚é€’å½’çš„è¿”å›å€¼ä¸€å…±å››ç§<br>ï¼ˆ1ï¼‰ï¼šè¿”å›32ä½1<br>ï¼ˆ2ï¼‰ï¼šå·¦ç§»ä¸€ä½<br>ï¼ˆ3ï¼‰ï¼š0<br>ï¼ˆ4ï¼‰ï¼šå·¦ç§»ä¸€ä½åŠ 1<br>è¦æƒ³æ‹†æ‰ç‚¸å¼¹ï¼Œéœ€è¦è¿”å›çš„æ˜¯2ã€‚<br>è¿”å›å€¼é¡ºåºæ˜¯ï¼šå·¦ç§»ä¸€ä½&lt;å·¦ç§»ä¸€ä½åŠ 1&lt;è¿”å›0<br>å…ˆä»å†…å±‚é€’å½’æ‰¾æ¡ä»¶ï¼šfun(xï¼Œy)<br>è¿”å›0ï¼š<code>rdi</code>æŒ‡å‘çš„æ•° == y<br>å·¦ç§»ä¸€ä½åŠ 1ï¼š<code>rdi</code>æŒ‡å‘çš„æ•° &lt; yï¼Œè¿™é‡Œx+16å­—èŠ‚<br>å·¦ç§»ä¸€ä½ï¼š<code>rdi</code>æŒ‡å‘çš„æ•° &gt; yï¼Œè¿™é‡Œx+8å­—èŠ‚<br>é€’å½’é¡ºåºä¸ºï¼š<br>fun(xï¼Œy) -&gt; fun(x + 8ï¼Œy) -&gt; fun(x+16ï¼Œy)</p>
</li>
<li><p>æ‰“å°ä¸€ä¸‹é“¾è¡¨å­˜çš„æ•°æ®æ˜¯å“ªäº›ï¼Ÿ</p>
<img src="/2023/03/14/09-43-26/WX20230317-174533@2x.png" class>
<img src="/2023/03/14/09-43-26/WX20230317-174534@2x.png" class>
<p>æ ¹æ®æœç´¢è·¯å¾„å¯ä»¥çœ‹å‡ºï¼Œéœ€è¦è¾“å…¥çš„å¯†ç åº”è¯¥æ˜¯22ã€‚</p>
</li>
<li><p>æµ‹è¯•ä¸€ä¸‹</p>
<img src="/2023/03/14/09-43-26/WX20230317-174535@2x.png" class>
<p>å½©è›‹æ‹†é™¤æˆåŠŸï¼ï¼</p>
</li>
</ol>
<p>ç­”æ¡ˆï¼š<code>22</code>+ä»»æ„å­—ç¬¦ä¸²</p>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
        <tag>shell</tag>
        <tag>gdb</tag>
        <tag>objdump</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxå’ŒSSHç›¸å…³å‘½ä»¤</title>
    <url>/2023/03/11/15-22-24/</url>
    <content><![CDATA[<h1 id="linuxå‘½ä»¤"><a href="#linuxå‘½ä»¤" class="headerlink" title="linuxå‘½ä»¤"></a>linuxå‘½ä»¤</h1><h2 id="lné“¾æ¥æ–‡ä»¶"><a href="#lné“¾æ¥æ–‡ä»¶" class="headerlink" title="lné“¾æ¥æ–‡ä»¶"></a>lné“¾æ¥æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ln -s æºæ–‡ä»¶  ç›®çš„æ–‡ä»¶  Â Â #å»ºç«‹è½¯é“¾æ¥</span><br><span class="line">ln    æºæ–‡ä»¶Â Â ç›®çš„æ–‡ä»¶Â Â Â Â #ç¡¬é“¾æ¥</span><br></pre></td></tr></table></figure>
<h2 id="pwdå‘½ä»¤"><a href="#pwdå‘½ä»¤" class="headerlink" title="pwdå‘½ä»¤"></a>pwdå‘½ä»¤</h2><p>æ˜¾ç¤ºå½“å‰åœ°å€</p>
<h2 id="wget-ä¸‹è½½å‘½ä»¤"><a href="#wget-ä¸‹è½½å‘½ä»¤" class="headerlink" title="wget ä¸‹è½½å‘½ä»¤"></a>wget ä¸‹è½½å‘½ä»¤</h2><p>æŒ‡å®šä»£ç†<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget -e use_proxy=yes -e http_proxy=http://127.0.0.1:7897 -c https:</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h2 id="ä½¿ç”¨aria2c-ä¸‹è½½"><a href="#ä½¿ç”¨aria2c-ä¸‹è½½" class="headerlink" title="ä½¿ç”¨aria2c ä¸‹è½½"></a>ä½¿ç”¨aria2c ä¸‹è½½</h2><p>wgetå’ŒcurlæŒ‚ä»£ç†æ¯”è¾ƒæ…¢ï¼Œ<br><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">aria2c --all-proxy=&quot;http://127.0.0.1:7897&quot; https:</span><br></pre></td></tr></table></figure></p>
<h1 id="SSHå‘½ä»¤"><a href="#SSHå‘½ä»¤" class="headerlink" title="SSHå‘½ä»¤"></a>SSHå‘½ä»¤</h1><h2 id="scpä¼ è¾“æ–‡ä»¶"><a href="#scpä¼ è¾“æ–‡ä»¶" class="headerlink" title="scpä¼ è¾“æ–‡ä»¶"></a>scpä¼ è¾“æ–‡ä»¶</h2><p><code>æ³¨æ„è¦åœ¨æœ¬åœ°ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œsshç™»å½•åä½¿ç”¨ï¼Œæ–‡ä»¶ä»æœåŠ¡å™¨ä¸‹è½½åˆ°æœåŠ¡å™¨äº†</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp username@ip_address:/home/username/filename ~/   #ä»æœåŠ¡å™¨ä¸‹è½½åˆ°æœ¬åœ°</span><br><span class="line"># å‚æ•° -P ç«¯å£å·   è¦å¤§å†™</span><br><span class="line"># å‚æ•° -r æ–‡ä»¶å¤¹</span><br><span class="line">scp -P2222 -r</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ssh</tag>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title>CSAPP å®éªŒI Data Lab</title>
    <url>/2023/03/09/11-54-50/</url>
    <content><![CDATA[<p>æ›´æ–°å†å²</p>
<ul>
<li>23.03.10ï¼šåˆç¨¿</li>
<li></li>
</ul>
<h1 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h1><ul>
<li><a href="/2023/03/15/10-59-10/" title="csapp ç¬”è®°æ±‡æ€»">CSAPP - ç¬”è®°æ±‡æ€»</a></li>
<li><a href="/2023/03/09/11-54-50/" title="CSAPP å®éªŒI Data Lab">I Data Lab - ä½æ“ä½œï¼Œæ•°æ®è¡¨ç¤º</a></li>
<li><a href="/2023/03/14/09-43-26/" title="CSAPP å®éªŒII Bomb Lab">II Bomb Lab - æ±‡ç¼–ï¼Œæ ˆå¸§ä¸ gdb</a></li>
<li><a href="/2023/03/18/15-54-47/" title="CSAPP å®éªŒIII Attack Lab">III Attack Lab - æ¼æ´æ˜¯å¦‚ä½•è¢«æ”»å‡»çš„</a></li>
<li><a href="/2024/03/09/16-34-34/" title="CSAPP å®éªŒIV CacheLab">IV Cache Lab - å®ç°ä¸€ä¸ªç¼“å­˜ç³»ç»Ÿ</a></li>
<li><a href="/2024/03/14/12-34-42/" title="CSAPP å®éªŒV ShellLab">V Shell Lab - å®ç°ä¸€ä¸ªShell</a>
</li>
</ul>
<h1 id="ä»»åŠ¡ç›®æ ‡"><a href="#ä»»åŠ¡ç›®æ ‡" class="headerlink" title="ä»»åŠ¡ç›®æ ‡"></a>ä»»åŠ¡ç›®æ ‡</h1><p>DataLabå®éªŒï¼Œéœ€è¦æˆ‘ä»¬å®Œå–„å‡½æ•°ï¼Œæ¡ä»¶æ˜¯ä½¿ç”¨é™å®šçš„æ“ä½œç¬¦ï¼Œå¹¶ä¸”æ“ä½œç¬¦çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œâ€œ=â€ä¸åšæ•°é‡é™åˆ¶ã€‚</p>
<h1 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h1><ol>
<li><p>è‡ªå·±å®šä¹‰çš„intæ•´å‹çš„èµ‹å€¼èŒƒå›´æ˜¯0åˆ°0xFFï¼Œ8bits</p>
</li>
<li><p>æœºå™¨æ˜¯32ä½</p>
</li>
<li><p>åªèƒ½ä½¿ç”¨ä¸€å…ƒæ“ä½œç¬¦<code>!</code> <code>~</code>ï¼ŒäºŒå…ƒæ“ä½œç¬¦<code>&amp;</code> <code>|</code> <code>+</code> <code>&lt;&lt;</code> <code>&gt;&gt;</code> </p>
</li>
<li><p>ä¸å¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°</p>
</li>
<li><p>æµ‹è¯•å‘½ä»¤</p>
<blockquote>
<p><code>make clean</code>ï¼šæ¸…é™¤ç”Ÿæˆï¼Œæ¯æ¬¡ä¿®æ”¹<code>bits.c</code>æ–‡ä»¶éƒ½è¦æ¸…é™¤é‡æ–°ç”Ÿæˆ<code>make</code>ï¼šç”Ÿæˆæ–‡ä»¶<br><code>./btest -f funname -1 v</code>ï¼šæµ‹è¯•å•ç‹¬çš„å‡½æ•°ï¼Œå¸¦å‚æ•° <code>-T 100</code>ï¼šä¿®æ”¹é™åˆ¶æ—¶é—´<br><code>./dlc bits.c</code> ï¼šæµ‹è¯•ç¼–ç æ˜¯å¦ç¬¦åˆè§„åˆ™,ç¬¦åˆè§„åˆ™æ— è¾“å‡ºï¼Œå‚æ•°<code>-e</code>ï¼Œè¾“å‡ºæ‰€æœ‰ä¿¡æ¯<br><code>./ishow 22</code>ï¼šè¾“å‡ºintå€¼çš„äºŒè¿›åˆ¶ï¼Œæ•°å€¼<br><code>./fshow 22</code>ï¼šè¾“å‡ºfloatçš„äºŒè¿›åˆ¶ï¼Œæ•°å€¼ï¼Œå·²ç»éè§„èŒƒå€¼</p>
</blockquote>
</li>
</ol>
<h1 id="é¢˜ç›®åŠè§£æ³•"><a href="#é¢˜ç›®åŠè§£æ³•" class="headerlink" title="é¢˜ç›®åŠè§£æ³•"></a>é¢˜ç›®åŠè§£æ³•</h1><h2 id="bitXor"><a href="#bitXor" class="headerlink" title="bitXor"></a>bitXor</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šè¿”å›ä¸¤ä¸ªintçš„å¼‚æˆ–å€¼</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>~ &amp;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š14</p>
</li>
<li><p>åˆ†å€¼ï¼š1</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">bitXor</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> ~(~(~x &amp; y) &amp; ~(x &amp; ~y));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="tmin"><a href="#tmin" class="headerlink" title="tmin"></a>tmin</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šæ±‚è¡¥ç çš„æœ€å°å€¼</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š4</p>
</li>
<li><p>åˆ†å€¼ï¼š1</p>
</li>
</ul>
<p>32ä½æœºå™¨ç çš„è¡¥ç æœ€å°å€¼æ˜¯æœ€é«˜ä½ä¸º1ï¼Œå…¶ä»–ä½0ï¼Œæ‰€ä»¥ç”¨1å·¦ç§»31ä½å½¢æˆã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">tmin</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line">  x = x &lt;&lt; <span class="number">31</span>;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="isTmax"><a href="#isTmax" class="headerlink" title="isTmax"></a>isTmax</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šå¦‚æœxæ˜¯è¡¥ç æœ€å¤§å€¼è¿”å›1ï¼Œå¦åˆ™è¿”å›0</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | +</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š10</p>
</li>
<li><p>åˆ†å€¼ï¼š1</p>
</li>
</ul>
<p>è¡¥ç çš„æœ€å¤§å€¼æ˜¯æœ€é«˜ä½0ï¼Œå…¶ä»–ä½1ã€‚åŠ 1åæ˜¯æœ€å°å€¼ï¼ŒTminå’ŒTmaxæ¯ä½éƒ½ç›¸åï¼ŒTmin^Tmaxæ˜¯å…¨1ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼è¿›è¡Œè¿”å›ã€‚éœ€è¦æ³¨æ„è¡¥ç çš„ç‰¹æ®Šå€¼Tminï¼ŒTmaxï¼Œè¿˜éœ€è¦æ³¨æ„-1ï¼Œ32ä½å…¨1 <code>1111</code>ï¼Œå› ä¸º-1 ^ 0 = 1ï¼Œéœ€è¦æ’é™¤è¿™ç§æƒ…å†µ</p>
<ul>
<li><p>flag_2 è¡¨ç¤ºxæ˜¯å¦ç­‰äº -1 </p>
<ol>
<li><p>å¦‚æœx==-1ï¼Œ y=0ï¼Œy^0 == 0   flag_2ä¸º0</p>
</li>
<li><p>å¦‚æœx!=-1ï¼Œy!=0ï¼Œ y^0 != 0ï¼Œflag_2ä¸ä¸º0ï¼Œflagçš„å€¼æ˜¯0æˆ–1ï¼Œæ‰€ä»¥éœ€è¦å–éä¸¤æ¬¡ï¼ŒæŠŠéé›¶å€¼è½¬æ¢ä¸º1</p>
</li>
</ol>
</li>
<li><p>flag_1 è¡¨ç¤º(x+1)^xï¼Œæœ‰ä¸¤ç§æƒ…å†µç»“æœä¸ºå…¨1ï¼Œxæ˜¯<code>Tmax</code>å’Œ<code>-1</code>ï¼Œæˆ‘ä»¬åªéœ€è¦å…¨ä¸º1çš„æƒ…å†µï¼Œæ‰€ä»¥å…ˆå–å~ï¼Œæ¢æˆå…¨0ï¼Œå†å–é!ï¼Œ è½¬ä¸º1ã€‚</p>
</li>
<li><p>è¿”å›å€¼ä¸ºä¸¤ä¸ªæ ‡å¿—ç›¸ä¸ï¼Œç”¨flag_2æ’é™¤æ‰flag_1ä¸­-1çš„è¿™ç§æƒ…å†µï¼Œå‰©ä¸‹çš„å°±æ˜¯Tmax</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">isTmax</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> y = x + <span class="number">1</span>;  <span class="comment">//Tmin</span></span><br><span class="line">  <span class="type">int</span> flag_1 = !(~(x ^ y)); </span><br><span class="line">  <span class="type">int</span> flag_2= !!(y ^ <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> flag_1 &amp; flag_2; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="allOddBits"><a href="#allOddBits" class="headerlink" title="allOddBits"></a>allOddBits</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šå¦‚æœæ¯ä¸€ä¸ªå¶æ•°ä½éƒ½æ˜¯1è¿”å›1ï¼Œå¦åˆ™è¿”å›0</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š12</p>
</li>
<li><p>åˆ†å€¼ï¼š2</p>
</li>
</ul>
<p>å…ˆä»32æ¯”ç‰¹ä¸­åªä¿ç•™æ‰€æœ‰å¶æ•°ä½çš„å€¼ï¼Œå…¶ä»–ä½èµ‹å€¼0ï¼Œå†å’Œ<code>0xAAAAAAAA</code>ä½œå¯¹æ¯”ç›¸ç­‰è¿”å›1ï¼Œå› ä¸ºä¸èƒ½ç”¨ç­‰å·ï¼Œæ‰€ä»¥ç”¨å¼‚æˆ–^ä»£æ›¿åˆ¤æ–­ï¼Œå¦‚æœç›¸ç­‰å…¨ä¸º0ï¼Œå–é!å€¼ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p>
<ul>
<li><p>ç§»ä½å’ŒåŠ æ³•è®©å˜é‡yç­‰äº0xAAAAAAAAã€‚</p>
</li>
<li><p>xä¸yç›¸ä¸ï¼Œåªç•™ä¸‹xçš„å¶æ•°ä½çš„å€¼</p>
</li>
<li><p>ç”¨å¼‚æˆ–åˆ¤æ–­xä¸yæ˜¯ä¸æ˜¯ç›¸ç­‰</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">allOddBits</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> y = <span class="number">0xAA</span>; </span><br><span class="line">  <span class="comment">//+ä¼˜å…ˆçº§å¤§äº &lt;&lt; </span></span><br><span class="line">  y  = y + (y &lt;&lt; <span class="number">8</span>);</span><br><span class="line">  y = y + (y &lt;&lt; <span class="number">16</span>);</span><br><span class="line">  <span class="comment">//åªç•™ä¸‹xçš„å¶æ•°ä½å€¼</span></span><br><span class="line">  x = x &amp; y;</span><br><span class="line">  <span class="keyword">return</span> !(y ^ x) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="negate"><a href="#negate" class="headerlink" title="negate"></a>negate</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šè¿”å›-x</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š5</p>
</li>
<li><p>åˆ†å€¼ï¼š2</p>
</li>
</ul>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œæ ¹æ®äºŒè¿›åˆ¶è¡¥ç xä¸-xå°±æ˜¯æŒ‰ä½å–åå†åŠ 1ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">negate</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> ~x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="isAsciiDigit"><a href="#isAsciiDigit" class="headerlink" title="isAsciiDigit"></a>isAsciiDigit</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šåˆ¤æ–­xæ˜¯ä¸æ˜¯ASCIIç çš„0-9ï¼Œ ç›¸å½“äºåˆ¤æ–­xçš„å€¼æ˜¯ä¸æ˜¯0x30åˆ°0x39ã€‚</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š15</p>
</li>
<li><p>åˆ†å€¼ï¼š3</p>
</li>
</ul>
<p>å…ˆè§‚å¯Ÿ0-9çš„è¡¥ç å½¢å¼</p>
<p>0x30 <code>110000</code>  </p>
<p>0x37 <code>110111</code>  </p>
<p>0x38 <code>111000</code>  </p>
<p>0x39 <code>111001</code></p>
<p>é¦–å…ˆéœ€è¦æ»¡è¶³é™¤å6ä½å¤–ï¼Œé«˜ä½å…¨ä¸º0ï¼Œæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶å0-7æ»¡è¶³å‰ä¸‰ä½ä¸º<code>110</code>ï¼Œå‰©ä¸‹çš„ç›´æ¥å¯¹æ¯”æ˜¯ä¸æ˜¯ç­‰äº8æˆ–9ã€‚<code>ä¸èƒ½ä½¿ç”¨ç­‰å·æ‰€ä»¥ç”¨å¼‚æˆ–åˆ¤æ–­ç›¸ç­‰</code></p>
<ul>
<li><p>flag_1 å³ç§»6ä½åï¼Œå¦‚æœé«˜ä½å…¨ä¸º0ï¼Œå°±æ˜¯0ï¼Œå–é!ä¸º1ï¼Œä¸ç„¶å°±æ˜¯0</p>
</li>
<li><p>flag_2 å³ç§»3ä½åï¼Œæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶çš„é™¤äº†ä½3ä½å…¶ä»–å…¨ä¸º0ï¼Œä¸<code>110</code>æ¯”è¾ƒç›¸ç­‰å°±æ˜¯0åˆ°7ä¸­çš„å€¼</p>
</li>
<li><p>flag_3ï¼Œ flag_4ï¼Œç›´æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ç­‰äº8ï¼Œ9ã€‚</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">isAsciiDigit</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> y = x &amp; <span class="number">0x3f</span>; <span class="comment">//æˆªå–xçš„å6ä½</span></span><br><span class="line">  <span class="type">int</span> flag_1 = !(x &gt;&gt; <span class="number">6</span>); <span class="comment">//å³ç§»å…­ä½å,å–éä¸º1   xçš„é«˜ä½å…¨æ˜¯0  ç¬¦åˆæ¡ä»¶</span></span><br><span class="line">  <span class="type">int</span> flag_2 = !((x &gt;&gt; <span class="number">3</span>) ^ <span class="number">0x6</span>);  <span class="comment">//æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶å,å³ç§»3ä½   å¼‚æˆ–110   å¦‚æœä¸º0  å°±æ˜¯å±äº&#x27;0&#x27; åˆ°&#x27;7&#x27;</span></span><br><span class="line">  <span class="type">int</span> flag_3 = !(y ^ <span class="number">0x38</span>);  <span class="comment">//æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶å   æ˜¯&#x27;8&#x27;</span></span><br><span class="line">  <span class="type">int</span> flag_4 = !(y ^ <span class="number">0x39</span>);   <span class="comment">//æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶å   æ˜¯&#x27;9&#x27;</span></span><br><span class="line">  <span class="keyword">return</span> flag_1 &amp; (flag_2 | flag_3 | flag_4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="conditional"><a href="#conditional" class="headerlink" title="conditional"></a>conditional</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šxä¸ä¸º0ï¼Œè¿”å›yï¼Œ xç­‰äº0ï¼Œè¿”å›zã€‚</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š16</p>
</li>
<li><p>åˆ†å€¼ï¼š3</p>
</li>
</ul>
<p>å…ˆæ‰¾è¿”å›å€¼ï¼Œxç­‰äº0ï¼Œreturn (x &amp; y) ^ (~x &amp; z)ï¼Œxä¸ç­‰äº0çš„æ—¶å€™ï¼Œç»“æœå¾ˆå¤šï¼Œè¿™æ—¶å€™æŠŠxå¤„ç†ä¸€ä¸‹å˜ä¸ºå…¨1ï¼Œè¿”å›å€¼å°±ç›¸ç­‰äº†ã€‚</p>
<ul>
<li><p>å¯¹äºxä¸ç­‰äº0çš„æƒ…å†µï¼Œæ¢å…¨1æ¯”è¾ƒéº»çƒ¦ï¼Œå¯¹xå–é!ï¼ŒæŠŠxç®€åŒ–æˆ0æˆ–1ã€‚</p>
</li>
<li><p>æŠŠxæ‰©å±•åˆ°å…¨1å’Œå…¨0ï¼Œç”¨ç§»ä½åŠ ä¹Ÿèƒ½åšå‡ºæ¥è€Œä¸”æ»¡è¶³æ“ä½œæ•°é‡çš„é™åˆ¶ï¼Œç»§ç»­åšåé¢çš„é¢˜ç›®<code>logicalNeg</code>æƒ³åˆ°äº†ä¸€ä¸ªå¿«é€Ÿæ‰©å±•çš„æ–¹æ³•ï¼Œ0æˆ–1ï¼Œå–ååŠ 1ï¼Œå°±æ˜¯å…¨0æˆ–è€…å…¨1ã€‚</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">conditional</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">  x = !x;   <span class="comment">//å–é æŠŠxå˜ä¸º 0 1ä¸¤ç§    æŠŠä»–ä»¬æ‰©å±•åˆ°32ä½</span></span><br><span class="line">  x = ~x + <span class="number">1</span>;  <span class="comment">//01å¿«é€Ÿæ‰©å±•åˆ°å…¨0å…¨1 </span></span><br><span class="line"> <span class="comment">// x = (x &lt;&lt; 1) + x;</span></span><br><span class="line"> <span class="comment">// x = (x &lt;&lt; 2) + x;</span></span><br><span class="line"> <span class="comment">// x = (x &lt;&lt; 4) + x;</span></span><br><span class="line"> <span class="comment">// x = (x &lt;&lt; 8) + x;</span></span><br><span class="line"> <span class="comment">// x = (x &lt;&lt; 16) + x;</span></span><br><span class="line">  <span class="keyword">return</span> ((~x) &amp; y) ^ (x &amp; z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="isLessOrEqual"><a href="#isLessOrEqual" class="headerlink" title="isLessOrEqual"></a>isLessOrEqual</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šx&lt;=yï¼Œè¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š24</p>
</li>
<li><p>åˆ†å€¼ï¼š3</p>
</li>
</ul>
<p>æ‰¾å‡ºæ‰€ä»¥è¿”å›1çš„æƒ…å†µï¼Œä¸€å…±ä¸¤ç§æƒ…å†µï¼Œç›¸ç­‰ï¼Œå°äºã€‚ç›¸ç­‰çš„æ—¶å€™æ¯”è¾ƒå¥½åšï¼Œç”¨å¼‚æˆ–åˆ¤æ–­ç›¸ç­‰ï¼Œå°äºçš„æƒ…å†µæ¯”è¾ƒå¤æ‚ã€‚</p>
<ul>
<li><p>ç­‰äºï¼šflag_3è¡¨ç¤ºç›¸ç­‰çš„æƒ…å†µ  å¼‚æˆ–åˆ¤æ–­</p>
</li>
<li><p>å°äºï¼šæœ‰ä¸¤ç§æƒ…å†µ <code>éœ€è¦æ³¨æ„å‡æ³•åŒå·ä¸€ç‚¹ä¸ä¼šæº¢å‡º</code></p>
<ol>
<li><p>flag_5ï¼šxè´Ÿæ•°ï¼Œyæ­£æ•°ã€‚</p>
</li>
<li><p>flag_4ï¼šxï¼ŒyåŒå·ï¼Œx &lt; yï¼Œè½¬æ¢ä¸º y-x&gt;0ã€‚</p>
</li>
</ol>
</li>
<li><p>ç”¨flag_5 è¡¨ç¤ºxè´Ÿæ•°ï¼Œyæ­£æ•°ã€‚   <code>ç”¨å³ç§»31ä½çœ‹ç¬¦å·çœ‹åˆ¤æ–­æ­£è´Ÿ</code></p>
</li>
<li><p>ç”¨flag_6 è¡¨ç¤ºxæ­£æ•°ï¼Œyè´Ÿæ•°ã€‚</p>
</li>
<li><p>ç”¨sum=y - xï¼Œflag_4 è¡¨ç¤ºç¬¦å·ã€‚</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">isLessOrEqual</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">  <span class="type">int</span> nagete_x = ~x + <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> sum = y + nagete_x; </span><br><span class="line">  <span class="type">int</span> flag_3 = !(x ^ y);</span><br><span class="line">  <span class="type">int</span> flag_5 = (x &gt;&gt; <span class="number">31</span>) &amp; !(y &gt;&gt; <span class="number">31</span>);   </span><br><span class="line">  <span class="type">int</span> flag_6 = !(x &gt;&gt; <span class="number">31</span>) &amp; (y &gt;&gt; <span class="number">31</span>);   </span><br><span class="line">  <span class="type">int</span> flag_4 = !(sum &gt;&gt; <span class="number">31</span>) &amp; !flag_5 &amp; !flag_6;   <span class="comment">//xyåŒå·  å‡æ³•ä¸ä¼šæº¢å‡º  å‡æ³•æœ‰æ•ˆ</span></span><br><span class="line">  <span class="keyword">return</span> flag_3 | flag_4 | flag_5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="logicalNeg"><a href="#logicalNeg" class="headerlink" title="logicalNeg"></a>logicalNeg</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šå®ç°å–é!çš„åŠŸèƒ½</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š12</p>
</li>
<li><p>åˆ†å€¼ï¼š4</p>
</li>
</ul>
<p>æ€è·¯ï¼šå–éç»“æœåªæœ‰0å’Œ1ï¼ŒæŠŠå…¨0æˆ–å…¨1åŠ 1ï¼Œå°±æ˜¯1æˆ–0ï¼Œæ‰€ä»¥å°±éœ€è¦æŠŠ0è½¬æ¢ä¸ºå…¨1ï¼Œé0è½¬æ¢ä¸ºå…¨0ï¼Œç„¶ååŠ 1ï¼Œå°±æ˜¯è¿”å›å€¼ã€‚é»˜è®¤è¿”å›0ï¼Œæ‰¾å‡ºè¿”å›1çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å…¨1ã€‚<code>åªæœ‰0å’ŒTminçš„è´Ÿå€¼å’Œè‡ªå·±ç¬¦å·ç›¸åŒï¼Œå…¶ä»–çš„ç¬¦å·éƒ½ç›¸å</code></p>
<ul>
<li><p>å–è´Ÿå€¼ï¼Œå¯¹ç¬¦å·ä½æ‰©å±•ï¼Œç„¶åè‡ªå·±çš„ç¬¦å·ä½å’Œè´Ÿå€¼ç¬¦å·ä½ç›¸åŠ ï¼Œ</p>
<ol>
<li><p>0å’ŒTminï¼Œç»“æœä¸º0ã€‚</p>
</li>
<li><p>å…¶ä»–ç»“æœä¸ºå…¨1ã€‚</p>
</li>
</ol>
</li>
<li><p>flag_1ï¼š~sumï¼Œ0å’ŒTminç»“æœä¸ºå…¨1ï¼Œ å…¶ä»–ä¸ºå…¨0ã€‚</p>
</li>
<li><p>flag_2ï¼š~Tmin 01111 ~0å…¨1</p>
</li>
<li><p>flag_3ï¼šflag_1 ä¸­æ’é™¤åˆ°flag_2çš„Tminæƒ…å†µ</p>
<ol>
<li><p>Tmin <code>0111</code>  0ä¸º<code>1111</code>  å…¶ä½™ä¸º<code>0000</code></p>
</li>
<li><p>å–åï¼Œåªä¿ç•™ç¬¦å·ä½ï¼Œ Tmin <code>1111</code> 0ä¸º<code>0000</code> å…¶ä½™ä¸º<code>1111</code></p>
</li>
<li><p>åŠ 1åï¼Œ0ä¸º<code>0001</code>ï¼Œ å…¶ä½™éƒ½ç»Ÿä¸€ä¸º<code>0000</code></p>
</li>
</ol>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">logicalNeg</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> neg_x = ~x;</span><br><span class="line">  <span class="type">int</span> y = neg_x + <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> hight_x = x &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="type">int</span> hight_y = y &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="type">int</span> flag_1 = ~(hight_x + hight_y);</span><br><span class="line">  <span class="type">int</span> flag_2 = neg_x;</span><br><span class="line">  <span class="type">int</span> flag_3 = (~(flag_1 &amp; flag_2) &gt;&gt; <span class="number">31</span>) + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> flag_3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="howManyBits"><a href="#howManyBits" class="headerlink" title="howManyBits"></a>howManyBits</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šè¿”å›è¡¨ç¤ºxçš„è¡¥ç æœ€çŸ­é•¿åº¦ <code>æ³¨æ„-1ï¼Œç”¨ä¸€ä½</code></p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>! ~ &amp; ^ | + &lt;&lt; &gt;&gt;</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š90</p>
</li>
<li><p>åˆ†å€¼ï¼š4</p>
</li>
</ul>
<p>æ€è·¯ï¼šç”¨ä¸Šé¢åšçš„å‡½æ•° conditional åšä¸¤ä¸ªifåŠŸèƒ½ï¼Œ ä¸€æ¬¡è¿”å›åˆ†åŠæŸ¥æ‰¾çš„å‰©ä½™ä¸€åŠå‡½æ•° ï¼Œä¸€æ¬¡è®¡ç®—åˆ†åŠå¦‚æœé€‰æ‹©å‰ä¸€åŠï¼Œbitæ•°è¦åŠ ä¸Šä¸€åŠçš„é•¿åº¦ï¼Œé€‰æ‹©åé¢é•¿åº¦åŠ 0ä¸åšå¤„ç†ã€‚</p>
<blockquote>
<p>ç”¨0xffff0000 ç•™ä¸‹xçš„å‰16ä½,å¦‚æœä¸ç­‰äº0 è¯´æ˜ä½æ•°å¤§äº16 ç­‰äº0 è¯´æ˜ä½æ•°å°äº16 åœ¨å16ä½å†…å†è¿›è¡Œåˆ†åŠæŸ¥æ‰¾</p>
</blockquote>
<p>æ­£è´Ÿæ•°çš„å¤„ç†<code>é‡ç‚¹</code><br>éƒ½å¤„ç†æˆæ­£æ•°ï¼Œæ–¹ä¾¿å³ç§»æ·»0ã€‚åŠ ä¸Šç¬¦å·ä½å°±æ˜¯æœ‰æ•ˆä½æ•°ã€‚</p>
<ul>
<li><p>æ­£æ•°ï¼šæ‰¾å‡ºæœ€é«˜ä½çš„1ã€‚</p>
</li>
<li><p>è´Ÿæ•°ï¼šæ‰¾å‡ºæœ€é«˜ä½çš„0ï¼Œ<code>Tminä¹Ÿç¬¦åˆ</code></p>
<blockquote>
<p>è´Ÿæ•°é«˜ä½è¿ç»­çš„1éƒ½æ˜¯æ— ç”¨æ•°æ®ï¼Œåªéœ€è¦æ‰¾åˆ°é«˜ä½è¿ç»­çš„1åçš„ç¬¬ä¸€ä¸ª0åœ¨å“ªé‡Œï¼Œåšæ³•æ˜¯å–åï¼Œå¦‚<code>1110010</code>ï¼Œæœ‰ç”¨çš„æ•°æ®æ˜¯<code>10010</code>ï¼Œå…¨éƒ¨å–åå<code>0001101</code>ï¼Œ æœ‰æ•ˆä½æ•°æ˜¯4ä½ï¼ŒåŠ ä¸Šç¬¦å·ä½ã€‚</p>
</blockquote>
</li>
<li><p>flag_nageï¼š xæ˜¯è´Ÿæ•° å€¼ä¸º1</p>
</li>
<li><p>é‡ç‚¹ä»£ç ï¼Œ</p>
<ol>
<li><p>ifå‡½æ•°åŠŸèƒ½</p>
<blockquote>
<p><code>x = (extend_f_n &amp; (~x)) ^ ((~extend_f_n) &amp; x);</code> ï¼šå¦‚æœæ ‡è®°ä¸ºå…¨1ï¼Œé€‰æ‹©çš„~xï¼Œ å¦‚æœä¸ºå…¨0ï¼Œé€‰æ‹©çš„xã€‚å¼‚æˆ–çš„ä¸¤è¾¹æœ‰ä¸€ä¸ªä¸€ç›´ä¸ºå…¨0ï¼Œç»“æœä¸€å®šæ˜¯å¦ä¸€ä¸ªã€‚</p>
</blockquote>
</li>
<li><p>ä¸€ä¸ªäºŒåˆ†æ³•</p>
<blockquote>
<p><code>x_32 = x &amp; bit_32;</code> ï¼šå–xçš„å‰16ä½<br><code>x_32 = !x_32;</code>ï¼šå–éï¼Œå¦‚æœå‰16ä½å…¨0ï¼Œå€¼å°±æ˜¯1ï¼Œå¦åˆ™æ˜¯0<br><code>x_32 = ~x_32 + 1;</code> å‰16ä½å…¨0ï¼Œæ‰©å……åˆ°å…¨1ï¼Œå¦åˆ™æ‰©å……åˆ°å…¨0<br><code>flag_32 = ~x_32;</code> è¿™é‡Œæ˜¯ä¸ºäº†å‡å°‘ä¸€ä¸ªopå€¼ï¼Œé‡å¤ä½¿ç”¨ä»£ç <br><code>x_16 = (flag_32 &amp; (x &gt;&gt; 16)) ^ ((x_32 &amp; (x &amp; (~bit_32))));</code><br>x_32å¦‚æœå…¨0ï¼Œè¯´æ˜å‰16ä½ï¼Œæœ‰1ï¼Œé‚£å°±æŠŠxå³ç§»16ä½ï¼Œè¦†ç›–æ‰åé¢ï¼Œç»§ç»­å¯¹è¿™16ä½è¿›è¡ŒäºŒåˆ†æ³•ã€‚<code>è¿™é‡Œä¸ç”¨è€ƒè™‘å³ç§»è¡¥1ï¼Œå› ä¸ºéƒ½æ˜¯æ­£æ•°æœ€é«˜ä½éƒ½æ˜¯0</code>ã€‚å¹¶ä¸”æ€»æ•°åŠ 16ã€‚<br>å¦‚æœå…¨1ï¼Œè¯´æ˜å‰16ä½éƒ½æ˜¯0ï¼Œè¦ä»å16ä½å¼€å§‹äºŒåˆ†æ³•ï¼Œä¸ç”¨ç§»ä½ï¼Œx_16è¦ç­‰äºxçš„å16ä½ã€‚æ€»æ•°åŠ 0ã€‚<br><code>sum = sum + (flag_32 &amp; 16);</code>ï¼š</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">howManyBits</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x_32, x_16, x_8, x_4, x_2;  <span class="comment">//åˆ†åˆ«è¡¨ç¤ºxçš„ä¸åŒæ¯”ç‰¹</span></span><br><span class="line">  <span class="type">int</span> bit_8 = <span class="number">0xff</span> &lt;&lt; <span class="number">8</span>;</span><br><span class="line">  <span class="type">int</span> bit_32 = (bit_8 + <span class="number">0xff</span>) &lt;&lt; <span class="number">16</span>;   </span><br><span class="line">  <span class="type">int</span> bit_16 = bit_8;</span><br><span class="line">  <span class="type">int</span> flag_32,flag_16,flag_8,flag_4,flag_2;  <span class="comment">//è¡¨ç¤º ~x_32  é‡ä½¿ç”¨ä¸€æ¬¡ å‡å°‘ opsæ•°é‡</span></span><br><span class="line">  <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> flag_nage = !!(x &gt;&gt; <span class="number">31</span>);     <span class="comment">//  xæ˜¯è´Ÿæ•°   å€¼ä¸º1</span></span><br><span class="line">  <span class="comment">//é€šè¿‡è´Ÿ0å’ŒTmin éƒ½æ˜¯è‡ªå·±   ^ä¹‹åä¸º0  æ’é™¤xæ˜¯0çš„æƒ…å†µ    å½“xæ˜¯Tmin æ˜¯å€¼ä¸º1</span></span><br><span class="line">  <span class="comment">//int flag_Tmin = !(x ^ (~x + 1)) &amp; x; </span></span><br><span class="line">  <span class="type">int</span> flag_Tmin = !(x &lt;&lt; <span class="number">1</span>) &amp; x;   <span class="comment">//Tmin å·¦ç§»ä¸€ä½ å»æ‰ç¬¦å·ä½åæ˜¯å…¨0   æ¯”ä¸Šé¢çš„æ–¹æ³•å‡å°‘op</span></span><br><span class="line">  <span class="type">int</span> extend_f_T = ~flag_Tmin + <span class="number">1</span>;      <span class="comment">//æ‰©å±•flag_Tmin</span></span><br><span class="line">  <span class="type">int</span> extend_f_n = ~flag_nage + <span class="number">1</span>;      <span class="comment">//æ‰©å±•flag_nage</span></span><br><span class="line">  sum = sum + (flag_Tmin &amp; <span class="number">32</span>);</span><br><span class="line">  x = (extend_f_T &amp; <span class="number">0</span>) ^ ((~extend_f_T) &amp; x);  <span class="comment">// flag_Tmin æ˜¯1æ—¶  xèµ‹å€¼0   æ˜¯0æ˜¯  xä¸å˜</span></span><br><span class="line"></span><br><span class="line">  x = (extend_f_n &amp; (~x)) ^ ((~extend_f_n) &amp; x);  <span class="comment">// flag_nage æ˜¯1æ—¶  xèµ‹å€¼~x   æ˜¯0æ˜¯  xä¸å˜</span></span><br><span class="line"></span><br><span class="line">  bit_8 = <span class="number">0xf0</span>; </span><br><span class="line">  x_32 = x &amp; bit_32;</span><br><span class="line">  x_32 = !x_32;</span><br><span class="line">  x_32 = ~x_32 + <span class="number">1</span>;</span><br><span class="line">  flag_32 = ~x_32;</span><br><span class="line">  x_16 = (flag_32 &amp; (x &gt;&gt; <span class="number">16</span>)) ^ ((x_32 &amp; (x &amp; (~bit_32))));</span><br><span class="line">  sum = sum + (flag_32 &amp; <span class="number">16</span>);</span><br><span class="line"></span><br><span class="line">  x = x_16;   <span class="comment">//æ”¹å˜x</span></span><br><span class="line">  x_16 = x &amp; bit_16;</span><br><span class="line">  x_16 = !x_16;</span><br><span class="line">  x_16 = ~x_16 + <span class="number">1</span>;</span><br><span class="line">  flag_16 = ~x_16;</span><br><span class="line">  x_8 = (flag_16 &amp; (x &gt;&gt; <span class="number">8</span>)) ^ ((x_16 &amp; (x &amp; <span class="number">0xff</span>)));</span><br><span class="line">  sum = sum + (flag_16 &amp; <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">  x = x_8;   <span class="comment">//æ”¹å˜x</span></span><br><span class="line">  x_8 = x &amp; bit_8;</span><br><span class="line">  x_8 = !x_8;</span><br><span class="line">  x_8 = ~x_8 + <span class="number">1</span>;</span><br><span class="line">  flag_8 = ~x_8;</span><br><span class="line">  x_4 = (flag_8 &amp; (x &gt;&gt; <span class="number">4</span>)) ^ ((x_8 &amp; (x &amp; (<span class="number">0xf</span>))));   <span class="comment">//~bit_8  æ”¹ä¸º0xf  çœä¸€ä¸ªop</span></span><br><span class="line">  sum = sum + (flag_8 &amp; <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">  x = x_4;   <span class="comment">//æ”¹å˜x</span></span><br><span class="line">  x_4 = x &amp; <span class="number">12</span>;</span><br><span class="line">  x_4 = !x_4;</span><br><span class="line">  x_4 = ~x_4 + <span class="number">1</span>;</span><br><span class="line">  flag_4 = ~x_4;</span><br><span class="line">  x_2 = (flag_4 &amp; (x &gt;&gt; <span class="number">2</span>)) ^ ((x_4 &amp; (x &amp; <span class="number">3</span>)));</span><br><span class="line">  sum = sum + (flag_4 &amp; <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  x = x_2;</span><br><span class="line">  x_2 = x_2 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">  x_2 = !x_2;</span><br><span class="line">  x_2 = ~x_2 + <span class="number">1</span>;</span><br><span class="line">  flag_2 = ~x_2;</span><br><span class="line">  x = (flag_2 &amp; (x &gt;&gt; <span class="number">1</span>)) ^ ((x_2 &amp; (x &amp; <span class="number">1</span>)));</span><br><span class="line">  sum = sum + (flag_2 &amp; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  sum = sum + (x &amp; <span class="number">1</span>);  <span class="comment">//å¦‚æœxæ˜¯0  æˆ–è€…å¤„ç†ä¹‹åçš„Tmin  å‰©ä½™ä½å…¨æ˜¯0    ä¸åŠ æœ€åä¸€ä¸ªæ¯”ç‰¹ä½   å…¶ä»–æƒ…å†µåŠ ä¸Š1</span></span><br><span class="line"></span><br><span class="line">  sum = sum + (!flag_Tmin &amp; <span class="number">1</span>);   <span class="comment">//éTmin  åŠ ä¸Šç¬¦å·ä½    0ç¬¦å·ä½å°±æ˜¯0  ä¸€ä¸ªbitè¡¨ç¤º</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="floatScale2"><a href="#floatScale2" class="headerlink" title="floatScale2"></a>floatScale2</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šæ— ç¬¦å·æ•°ä¿å­˜çš„floatå€¼ï¼Œè¿”å›ä¹˜2</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>æ‰€æœ‰çš„intï¼Œæ— ç¬¦å·æ“ä½œç¬¦ï¼Œifï¼Œwhile</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š30</p>
</li>
<li><p>åˆ†å€¼ï¼š4</p>
</li>
</ul>
<p>æ€è·¯ï¼š</p>
<ol>
<li><p>0è¿”å›0</p>
</li>
<li><p>expå…¨1ï¼š ä¸ºæ— ç©· ç›´æ¥è¿”å›</p>
</li>
<li><p>expå…¨0ï¼š <code>éè§„æ ¼åŒ–å€¼ï¼šå°æ•°éƒ¨åˆ†æ²¡æœ‰éšè—ä½</code></p>
<blockquote>
<p>fä¸æ˜¯å…¨0 ç›´æ¥åŠ å·¦ç§»ä¸€ä½ æœ€åè¡¥ä¸Šç¬¦å·ã€‚<code>éè§„æ ¼åŒ–åˆ°è§„æ ¼åŒ–çš„è¿‡æ¸¡</code><br>fæ˜¯å…¨0 ä¸åšå¤„ç† è¿”å›åŸå€¼ ï¼Œå°±æ˜¯ç¬¬ä¸€ç§æƒ…å†µ</p>
</blockquote>
</li>
<li><p>exp ä¸å…¨1å…¨0 ç›´æ¥åŠ 1 ç›¸å½“äºä¹˜2</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="title function_">floatScale2</span><span class="params">(<span class="type">unsigned</span> uf)</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> bit_exp;</span><br><span class="line">  <span class="type">unsigned</span> bit_f;  <span class="comment">//å°æ•°éƒ¨åˆ†</span></span><br><span class="line">  <span class="type">unsigned</span> flag_s;  <span class="comment">//ç¬¦å·ä½</span></span><br><span class="line">  <span class="keyword">if</span>(uf == <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  bit_f = uf &amp; (<span class="number">0x007fffff</span>);</span><br><span class="line">  bit_exp = uf &amp; (<span class="number">0x7f800000</span>);   <span class="comment">//å–å‡ºæŒ‡æ•°éƒ¨åˆ†</span></span><br><span class="line">  flag_s = uf &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="keyword">if</span>(bit_exp == <span class="number">0x7f800000</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> uf;</span><br><span class="line">  &#125;</span><br><span class="line">  bit_exp = bit_exp &gt;&gt; <span class="number">23</span>;       <span class="comment">//expçš„å€¼</span></span><br><span class="line">  <span class="keyword">if</span>(bit_exp != <span class="number">0</span>)&#123;</span><br><span class="line">    bit_exp = bit_exp + <span class="number">1</span>;</span><br><span class="line">    bit_exp = bit_exp &lt;&lt; <span class="number">23</span>;</span><br><span class="line">    uf = uf &amp; ~(<span class="number">0x7f800000</span>);</span><br><span class="line">    uf = uf ^ bit_exp;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(bit_exp == <span class="number">0</span> &amp;&amp; bit_f != <span class="number">0</span>)&#123;</span><br><span class="line">      uf = uf &lt;&lt; <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span>(flag_s == <span class="number">1</span>)&#123;</span><br><span class="line">        uf = uf | (flag_s &lt;&lt; <span class="number">31</span>);  <span class="comment">//è¡¥ä¸Šç¬¦å·ä½</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> uf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="floatFloat2Int"><a href="#floatFloat2Int" class="headerlink" title="floatFloat2Int"></a>floatFloat2Int</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šfloatè½¬intå€¼</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>æ‰€æœ‰çš„intï¼Œæ— ç¬¦å·æ“ä½œç¬¦ï¼Œifï¼Œwhile</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š30</p>
</li>
<li><p>åˆ†å€¼ï¼š4</p>
</li>
</ul>
<p>æ€è·¯ï¼š<code>ç¡®å®šæŒ‡æ•°çš„èŒƒå›´</code></p>
<ol>
<li><p>exp &lt; 127 æŒ‡æ•°å°äº0æ—¶ï¼Œæ˜¯å°æ•°ï¼Œè¿”å›0ã€‚</p>
</li>
<li><p>exp &gt; 158 æŒ‡æ•°å¤§äº31 è¶Šç•Œ</p>
</li>
<li><p>exp å…¨0 è¿”å›0</p>
</li>
<li><p>exp å…¨1 è¿”å›0x80000000u</p>
</li>
<li><p>exp å…¶ä»–æƒ…å†µä¸‹ å¯¹féƒ¨åˆ†è¡¥ä¸Šéšè—ä½1 å†å³ç§»exp-127ä½ï¼Œæœ€åè¡¥ä¸Šç¬¦å·ä½</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">floatFloat2Int</span><span class="params">(<span class="type">unsigned</span> uf)</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> bit_exp;</span><br><span class="line">  <span class="type">unsigned</span> bit_f;  <span class="comment">//å°æ•°éƒ¨åˆ†</span></span><br><span class="line">  <span class="type">unsigned</span> flag_s;  <span class="comment">//ç¬¦å·ä½</span></span><br><span class="line">  <span class="type">unsigned</span> E;      <span class="comment">//æŒ‡æ•°</span></span><br><span class="line">  <span class="type">int</span> F2Int;</span><br><span class="line">  bit_f = uf &amp; (<span class="number">0x007fffff</span>);   <span class="comment">//å–å‡ºå°æ•°éƒ¨åˆ†</span></span><br><span class="line">  bit_f = bit_f | (<span class="number">0x00800000</span>);  <span class="comment">//è¡¥ä¸Šå‰é¢éšè—1</span></span><br><span class="line">  bit_exp = uf &amp; (<span class="number">0x7f800000</span>);   <span class="comment">//å–å‡ºæŒ‡æ•°éƒ¨åˆ†</span></span><br><span class="line">  bit_exp = bit_exp &gt;&gt; <span class="number">23</span>;</span><br><span class="line">  flag_s = uf &gt;&gt; <span class="number">31</span>;</span><br><span class="line">  <span class="comment">//printf(&quot;s %u %x  exp  %u %x   f  %u  %x\n&quot;, flag_s, flag_s, bit_exp, bit_exp, bit_f, bit_f);</span></span><br><span class="line">  <span class="keyword">if</span>(bit_exp == <span class="number">0xff</span> || bit_exp &gt; <span class="number">158</span>)&#123;  <span class="comment">//æ— ç©·   æˆ–è€…NaN   æŒ‡æ•°è¶Šç•Œ  </span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0x80000000</span>u;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(bit_exp &lt; <span class="number">127</span> || bit_exp  == <span class="number">0</span>)&#123;  <span class="comment">//æŒ‡æ•°æ˜¯è´Ÿæ•°   éè§„æ ¼æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;   </span><br><span class="line">  E = bit_exp - <span class="number">127</span>;</span><br><span class="line">  bit_f = bit_f &gt;&gt; (<span class="number">23</span> - E);  <span class="comment">//å³ç§»</span></span><br><span class="line">  <span class="comment">//printf(&quot;E %u %x  bit_f   %u %x \n&quot;, E, E, bit_f, bit_f);</span></span><br><span class="line">  F2Int = bit_f;   </span><br><span class="line">  <span class="keyword">if</span>(flag_s == <span class="number">1</span>)&#123;</span><br><span class="line">    F2Int = -F2Int;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> F2Int;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="floatPower2"><a href="#floatPower2" class="headerlink" title="floatPower2"></a>floatPower2</h2><ul>
<li><p>é¢˜ç›®è¦æ±‚ï¼šè¿”å›floatå€¼ 2çš„xæ¬¡æ–¹ï¼Œxä¸º32ä½int</p>
</li>
<li><p>å…è®¸æ“ä½œï¼š<code>æ‰€æœ‰çš„intï¼Œæ— ç¬¦å·æ“ä½œç¬¦ï¼Œifï¼Œwhile</code></p>
</li>
<li><p>æ“ä½œæ•°é‡ï¼š30</p>
</li>
<li><p>åˆ†å€¼ï¼š4</p>
</li>
</ul>
<p>æ€è·¯ï¼š<code>ç¡®å®šæŒ‡æ•°çš„èŒƒå›´</code> xä¸º-127åˆ°128ä¹‹é—´ã€‚</p>
<p>æ—¶é—´è¶…æ—¶ 10så†…è·‘ä¸å®Œæ‰€æœ‰æµ‹è¯•æ•°æ® å¯èƒ½æ˜¯ç”µè„‘é—®é¢˜</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="title function_">floatPower2</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> bit_exp;</span><br><span class="line">  <span class="type">unsigned</span> bit_float;  <span class="comment">//floatå€¼çš„bitä½</span></span><br><span class="line">  <span class="type">unsigned</span> INF = <span class="number">0x7f800000</span>;</span><br><span class="line">  <span class="keyword">if</span>(x &lt; <span class="number">-127</span>)&#123;  <span class="comment">//å€¼å¤ªå°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;   </span><br><span class="line">  <span class="keyword">if</span>(x &gt; <span class="number">128</span>)&#123;  <span class="comment">//å¤ªå¤§  è¿”å›+INF</span></span><br><span class="line">    <span class="keyword">return</span> INF;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//printf(&quot;x    %d\n&quot;, x);</span></span><br><span class="line">  bit_exp = x + <span class="number">127</span>;</span><br><span class="line">  bit_exp = bit_exp &lt;&lt; <span class="number">23</span>;</span><br><span class="line">  <span class="comment">//printf(&quot;bit_float  %u  %x\n&quot;, bit_float, bit_float);</span></span><br><span class="line">  <span class="keyword">return</span> bit_exp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>csapp</category>
      </categories>
      <tags>
        <tag>csapp</tag>
      </tags>
  </entry>
  <entry>
    <title>gitç¬”è®°</title>
    <url>/2023/03/08/14-59-55/</url>
    <content><![CDATA[<h1 id="å…‹éš†é¡¹ç›®åˆ°å½“å‰æ–‡ä»¶å¤¹"><a href="#å…‹éš†é¡¹ç›®åˆ°å½“å‰æ–‡ä»¶å¤¹" class="headerlink" title="å…‹éš†é¡¹ç›®åˆ°å½“å‰æ–‡ä»¶å¤¹"></a>å…‹éš†é¡¹ç›®åˆ°å½“å‰æ–‡ä»¶å¤¹</h1><ul>
<li><p>git clone https:// .</p>
</li>
<li><p>æ³¨æ„ .</p>
</li>
</ul>
<h1 id="æ–‡ä»¶å¤¹åˆå§‹åŒ–ä¸ºä»“åº“ä¸Šä¼ "><a href="#æ–‡ä»¶å¤¹åˆå§‹åŒ–ä¸ºä»“åº“ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶å¤¹åˆå§‹åŒ–ä¸ºä»“åº“ä¸Šä¼ "></a>æ–‡ä»¶å¤¹åˆå§‹åŒ–ä¸ºä»“åº“ä¸Šä¼ </h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># 1. åœ¨å½“å‰ç›®å½•åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Gitä»“åº“</span><br><span class="line">git init</span><br><span class="line"> </span><br><span class="line"># 2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git add .</span><br><span class="line"> </span><br><span class="line"># 3. æäº¤æš‚å­˜åŒºçš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br><span class="line"></span><br><span class="line"># 4. æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€ï¼ˆä»¥GitHubä¸ºä¾‹ï¼Œæ›¿æ¢æˆä½ çš„è¿œç¨‹ä»“åº“URLï¼‰</span><br><span class="line">git remote add origin https://github.com/username/repository.git</span><br><span class="line"> </span><br><span class="line"># 5. æ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“ï¼ŒåŒæ—¶è®¾ç½®è¿œç¨‹ä»“åº“çš„ä¸»åˆ†æ”¯</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ä¸´æ—¶ä»£ç†git clone</span><br><span class="line">git -c http.proxy=&#x27;http://127.0.0.1:7897&#x27; clone https://github.com/user/repo.git</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨httpsé“¾æ¥ä¸Šä¼ ï¼Œéœ€è¦ä»¤ç‰Œå¯†ç ï¼Œä½¿ç”¨sshè¿æ¥ä¸Šä¼ ï¼Œåªéœ€è¦æœ¬åœ°çš„sshå¯†ç </p>
</blockquote>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¨¡æ¿</title>
    <url>/2023/03/08/14-45-11/</url>
    <content><![CDATA[<h1 id="ç‰¹æ®Šå‡½æ•°"><a href="#ç‰¹æ®Šå‡½æ•°" class="headerlink" title="ç‰¹æ®Šå‡½æ•°"></a>ç‰¹æ®Šå‡½æ•°</h1><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸‡èƒ½å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span> </span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="built_in">sort</span>(a,a+n,<span class="built_in">less</span>&lt;<span class="type">int</span>&gt;());<span class="comment">//å†…ç½®ç±»å‹çš„ç”±å°åˆ°å¤§æ’åº</span></span><br><span class="line"><span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line"><span class="comment">//ä½œç”¨ç›¸å½“äº bool cmd();</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line">  string s;</span><br><span class="line">  s = <span class="built_in">bitset</span>&lt;<span class="number">8</span>&gt;(a[i]).<span class="built_in">to_string</span>();     <span class="comment">//  è½¬æ¢å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="built_in">to_ulong</span>()    <span class="comment">// è½¬æ¢ä¸ºunsigned longç±»å‹</span></span><br><span class="line">  <span class="built_in">to_ullong</span>();ã€€<span class="comment">// è½¬æ¢æˆunsigned long longç±»å‹</span></span><br><span class="line">  <span class="built_in">set</span>(x, v);    <span class="comment">// æ²¡æœ‰å‚æ•°æ—¶ å°†å…¨éƒ¨ä½è®¾ä¸º1</span></span><br><span class="line">                <span class="comment">// æœ‰ä¸€ä¸ªxï¼Œ å°†xä¸‹æ ‡å¤„è®¾ä¸º1</span></span><br><span class="line">                <span class="comment">// ä¸¤ä¸ªå‚æ•°ï¼Œå°†xå¤„è®¾ä¸ºvå€¼</span></span><br><span class="line">  <span class="built_in">reset</span>(x);    <span class="comment">// ç½®0   æ— å‚å…¨éƒ¨ç½®ï¼Œæœ‰å‚ç½®ä¸‹æ ‡</span></span><br><span class="line">  <span class="built_in">flip</span>(x);     <span class="comment">// å–åï¼Œæ— å‚å…¨éƒ¨å–ï¼Œæœ‰å‚å–ä¸‹æ ‡å¤„</span></span><br><span class="line">  <span class="built_in">text</span>(x);     <span class="comment">// æ£€æµ‹ä¸‹æ ‡å¤„æ˜¯ä¸æ˜¯1 è¿”å›true 0è¿”å›false</span></span><br><span class="line">  <span class="built_in">any</span>();       <span class="comment">// æ£€æŸ¥æ˜¯å¦æœ‰1</span></span><br><span class="line">  <span class="built_in">none</span>();      <span class="comment">// æ£€æŸ¥æ˜¯å¦æ²¡æœ‰1</span></span><br><span class="line">  <span class="built_in">all</span>();       <span class="comment">// æ£€æŸ¥æ˜¯å¦å…¨ä¸º1</span></span><br><span class="line">  <span class="built_in">count</span>();     <span class="comment">// æ±‚1çš„ä¸ªæ•°</span></span><br><span class="line">  <span class="built_in">size</span>();      <span class="comment">// æ±‚ä½æ•°</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="built_in">typeid</span>(x).<span class="built_in">name</span>();   <span class="comment">// è·å–xçš„ç±»å‹</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡ºé‡å®šå‘</span></span><br><span class="line"><span class="built_in">freopen</span>(<span class="string">&quot;input.txt&quot;</span>, <span class="string">&quot;r&quot;</span>, stdin);</span><br><span class="line"><span class="built_in">freopen</span>(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line"><span class="comment">//æ§åˆ¶å°è¾“å…¥æ•°æ®ï¼Œå¦‚ä½•è¾“å…¥æ–‡ä»¶ç»“æŸæ ‡å¿—</span></span><br><span class="line"><span class="comment">//**åœ¨Windowsä¸‹ï¼Œè¾“å…¥å®Œæ¯•åå…ˆæŒ‰Enteré”®ï¼Œå†æŒ‰Ctrlï¼‹Zé”®ï¼Œæœ€åå†æŒ‰Enteré”®</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŠ å¿«è¾“å…¥é€Ÿåº¦çš„ä¸¤ç§æ–¹æ³•</span></span><br><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);   cin &gt;&gt; x;</span><br><span class="line"><span class="built_in">scanf</span>()ï¼›</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line">ss.<span class="built_in">clear</span>();  <span class="comment">// æ¸…ç©º</span></span><br><span class="line">ss &lt;&lt; s;</span><br><span class="line">ss &gt;&gt; a;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="built_in">isdigit</span>(s[i]);  <span class="comment">// è‹¥å‚æ•°cä¸ºé˜¿æ‹‰ä¼¯æ•°å­—0~9 å­—ç¬¦ï¼Œåˆ™è¿”å›é0å€¼ï¼Œå¦åˆ™è¿”å›0ã€‚</span></span><br><span class="line"><span class="type">int</span> n = <span class="built_in">stoi</span>(s);   <span class="comment">//  æŠŠsè½¬åŒ–ä¸ºintå‹ </span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>);   <span class="comment">// è®¾ç½®ä½æ•°</span></span><br><span class="line"><span class="built_in">setprecision</span>(n)     <span class="comment">//è®¾ç½®æ˜¾ç¤ºå°æ•°ç²¾åº¦ä¸ºnä½</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">stefill</span>(c);  <span class="comment">// è®¾ç½®å¡«å……å­—ç¬¦</span></span><br><span class="line"><span class="built_in">setiosflags</span>(ios::scientific)   <span class="comment">//æŒ‡æ•°è¡¨ç¤º</span></span><br><span class="line"><span class="built_in">setiosflags</span>(ios::left)     <span class="comment">//å·¦å¯¹é½</span></span><br><span class="line"><span class="built_in">setiosflags</span>(ios::right)    <span class="comment">//å³å¯¹é½</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">include &lt;string&gt;</span><br><span class="line"><span class="built_in">substr</span>(<span class="type">int</span> index, <span class="type">int</span> mum); <span class="comment">// è¿”å›ä¸€ä¸ªå­å­—ç¬¦ä¸² </span></span><br><span class="line"><span class="comment">//std::string::nposæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå®ƒç­‰äºsize_typeç±»å‹å¯ä»¥è¡¨ç¤ºçš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment">//ç”¨åœ¨ s.find()  è¿”å›å€¼</span></span><br></pre></td></tr></table></figure>
<h1 id="ç®—æ³•æ¨¡æ¿"><a href="#ç®—æ³•æ¨¡æ¿" class="headerlink" title="ç®—æ³•æ¨¡æ¿"></a>ç®—æ³•æ¨¡æ¿</h1><h2 id><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•æ¯”èµ›</tag>
        <tag>c++</tag>
        <tag>ç®—æ³•æ¨¡æ¿</tag>
      </tags>
  </entry>
  <entry>
    <title>macOSä½¿ç”¨sshç™»é™†WSL2çš„ubuntu</title>
    <url>/2023/03/07/14-58-00/</url>
    <content><![CDATA[<h1 id="ssh-ç™»å½•wsl-ubuntu"><a href="#ssh-ç™»å½•wsl-ubuntu" class="headerlink" title="ssh ç™»å½•wsl ubuntu"></a>ssh ç™»å½•wsl ubuntu</h1><h2 id="å›ºå®šwsl2çš„ipåœ°å€"><a href="#å›ºå®šwsl2çš„ipåœ°å€" class="headerlink" title="å›ºå®šwsl2çš„ipåœ°å€"></a>å›ºå®šwsl2çš„ipåœ°å€</h2><p>wsl2çš„ipåœ°å€æ¯æ¬¡éƒ½ä¼šæ”¹å˜ï¼Œæ‰€ä»¥ä¸€ç›´è¦é‡æ–°è®¾ç½®é˜²ç«å¢™ç«¯å£ï¼Œé€šè¿‡è„šæœ¬ï¼Œæ¯æ¬¡ç®¡ç†å‘˜è¿è¡Œè„šæœ¬å›ºå®šipï¼Œå°±ä¸éœ€è¦é‡å¤è®¾ç½®é˜²ç«å¢™ç«¯å£ã€‚</p>
<ul>
<li>ä¼˜åŒ–ä¹‹åå›ºå®šwsl2 IP:192.168.120.181,è¿è¡Œè„šæœ¬,è½¬å‘ç«¯å£,è®¾ç½®é˜²ç«å¢™,è‡ªåŠ¨å‘½ä»¤</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line"></span><br><span class="line">::å…ˆåœæ‰wslå®ä¾‹</span><br><span class="line">wsl --shutdown</span><br><span class="line">::é‡æ–°æ‹‰èµ·ï¼Œå¯åŠ¨sshæœåŠ¡</span><br><span class="line">wsl -u root -d Ubuntu-20.04 service ssh start</span><br><span class="line">:: å›ºå®šIP</span><br><span class="line">wsl -u root ip addr | findstr &quot;192.168.120.181&quot; &gt; nul</span><br><span class="line">if !errorlevel! equ 0 (</span><br><span class="line">   echo wsl ip has set</span><br><span class="line">) else (</span><br><span class="line">   wsl -u root ip addr add 192.168.120.181/24 broadcast 192.168.120.0 dev eth0 label eth0:1</span><br><span class="line">   echo set wsl ip success: 192.168.120.181</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">::windowsä½œä¸ºwslçš„å®¿ä¸»ï¼Œåœ¨wslçš„å›ºå®šIPçš„åŒä¸€ç½‘æ®µä¹Ÿç»™å®‰æ’å¦å¤–ä¸€ä¸ªIP</span><br><span class="line">ipconfig | findstr &quot;192.168.120.100&quot; &gt; nul</span><br><span class="line">if !errorlevel! equ 0 (</span><br><span class="line">    echo windows ip has set</span><br><span class="line">) else (</span><br><span class="line">    netsh interface ip add address &quot;vEthernet (WSL)&quot; 192.168.120.100 255.255.255.0</span><br><span class="line">    echo set windows ip success: 192.168.120.100</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">::windowsçš„2222ç«¯å£è½¬å‘åˆ°ubuntu</span><br><span class="line">netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=2222 connectaddress=192.168.120.181 connectport=2222</span><br><span class="line">::é˜²ç«å¢™å¼€å¯å…¥ç«™è§„åˆ™</span><br><span class="line">::netsh advfirewall firewall add rule name=WSL2 dir=in action=allow protocol=TCP localport=2222</span><br><span class="line"></span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œè„šæœ¬åç›´æ¥è¿æ¥</p>
</li>
<li><p>è¿æ¥ ipä¸º<code>windowsçš„åœ°å€</code></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh name@ip -p2222</span><br></pre></td></tr></table></figure>
<h2 id="sshæœåŠ¡å™¨å‘½ä»¤"><a href="#sshæœåŠ¡å™¨å‘½ä»¤" class="headerlink" title="sshæœåŠ¡å™¨å‘½ä»¤"></a>sshæœåŠ¡å™¨å‘½ä»¤</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo service ssh restart</span><br><span class="line">sudo service ssh start</span><br><span class="line">sudo service ssh stop</span><br><span class="line">sudo service ssh status</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="wslå‘½ä»¤"><a href="#wslå‘½ä»¤" class="headerlink" title="wslå‘½ä»¤"></a>wslå‘½ä»¤</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wsl -- hostname -I    #æ˜¾ç¤ºwslçš„ip</span><br><span class="line">wsl -l -vÂ Â Â Â Â Â Â Â Â Â Â Â Â #åˆ—å‡ºå½“å‰linuxç‰ˆæœ¬çŠ¶æ€</span><br><span class="line">wsl --shutdownÂ Â Â Â Â Â Â Â #å…³é—­linux</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>ssh</tag>
        <tag>mac</tag>
        <tag>ubuntu</tag>
        <tag>wsl2</tag>
      </tags>
  </entry>
</search>
